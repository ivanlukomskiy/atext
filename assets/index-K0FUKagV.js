function HR(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in e)){const s=Object.getOwnPropertyDescriptor(r,o);s&&Object.defineProperty(e,o,s.get?s:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();var WR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var YE={exports:{}},ep={},qE={exports:{}},bt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nu=Symbol.for("react.element"),XR=Symbol.for("react.portal"),YR=Symbol.for("react.fragment"),qR=Symbol.for("react.strict_mode"),ZR=Symbol.for("react.profiler"),QR=Symbol.for("react.provider"),KR=Symbol.for("react.context"),JR=Symbol.for("react.forward_ref"),e6=Symbol.for("react.suspense"),t6=Symbol.for("react.memo"),n6=Symbol.for("react.lazy"),Vx=Symbol.iterator;function r6(e){return e===null||typeof e!="object"?null:(e=Vx&&e[Vx]||e["@@iterator"],typeof e=="function"?e:null)}var ZE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},QE=Object.assign,KE={};function Cl(e,t,n){this.props=e,this.context=t,this.refs=KE,this.updater=n||ZE}Cl.prototype.isReactComponent={};Cl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Cl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function JE(){}JE.prototype=Cl.prototype;function dg(e,t,n){this.props=e,this.context=t,this.refs=KE,this.updater=n||ZE}var hg=dg.prototype=new JE;hg.constructor=dg;QE(hg,Cl.prototype);hg.isPureReactComponent=!0;var Ux=Array.isArray,e_=Object.prototype.hasOwnProperty,pg={current:null},t_={key:!0,ref:!0,__self:!0,__source:!0};function n_(e,t,n){var r,o={},s=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(s=""+t.key),t)e_.call(t,r)&&!t_.hasOwnProperty(r)&&(o[r]=t[r]);var a=arguments.length-2;if(a===1)o.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];o.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)o[r]===void 0&&(o[r]=a[r]);return{$$typeof:Nu,type:e,key:s,ref:i,props:o,_owner:pg.current}}function o6(e,t){return{$$typeof:Nu,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function mg(e){return typeof e=="object"&&e!==null&&e.$$typeof===Nu}function s6(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Hx=/\/+/g;function Y1(e,t){return typeof e=="object"&&e!==null&&e.key!=null?s6(""+e.key):t.toString(36)}function Md(e,t,n,r,o){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Nu:case XR:i=!0}}if(i)return i=e,o=o(i),e=r===""?"."+Y1(i,0):r,Ux(o)?(n="",e!=null&&(n=e.replace(Hx,"$&/")+"/"),Md(o,t,n,"",function(c){return c})):o!=null&&(mg(o)&&(o=o6(o,n+(!o.key||i&&i.key===o.key?"":(""+o.key).replace(Hx,"$&/")+"/")+e)),t.push(o)),1;if(i=0,r=r===""?".":r+":",Ux(e))for(var a=0;a<e.length;a++){s=e[a];var l=r+Y1(s,a);i+=Md(s,t,n,l,o)}else if(l=r6(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=r+Y1(s,a++),i+=Md(s,t,n,l,o);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Bf(e,t,n){if(e==null)return e;var r=[],o=0;return Md(e,r,"","",function(s){return t.call(n,s,o++)}),r}function i6(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var rr={current:null},Fd={transition:null},a6={ReactCurrentDispatcher:rr,ReactCurrentBatchConfig:Fd,ReactCurrentOwner:pg};function r_(){throw Error("act(...) is not supported in production builds of React.")}bt.Children={map:Bf,forEach:function(e,t,n){Bf(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Bf(e,function(){t++}),t},toArray:function(e){return Bf(e,function(t){return t})||[]},only:function(e){if(!mg(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};bt.Component=Cl;bt.Fragment=YR;bt.Profiler=ZR;bt.PureComponent=dg;bt.StrictMode=qR;bt.Suspense=e6;bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=a6;bt.act=r_;bt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=QE({},e.props),o=e.key,s=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,i=pg.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)e_.call(t,l)&&!t_.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Nu,type:e.type,key:o,ref:s,props:r,_owner:i}};bt.createContext=function(e){return e={$$typeof:KR,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:QR,_context:e},e.Consumer=e};bt.createElement=n_;bt.createFactory=function(e){var t=n_.bind(null,e);return t.type=e,t};bt.createRef=function(){return{current:null}};bt.forwardRef=function(e){return{$$typeof:JR,render:e}};bt.isValidElement=mg;bt.lazy=function(e){return{$$typeof:n6,_payload:{_status:-1,_result:e},_init:i6}};bt.memo=function(e,t){return{$$typeof:t6,type:e,compare:t===void 0?null:t}};bt.startTransition=function(e){var t=Fd.transition;Fd.transition={};try{e()}finally{Fd.transition=t}};bt.unstable_act=r_;bt.useCallback=function(e,t){return rr.current.useCallback(e,t)};bt.useContext=function(e){return rr.current.useContext(e)};bt.useDebugValue=function(){};bt.useDeferredValue=function(e){return rr.current.useDeferredValue(e)};bt.useEffect=function(e,t){return rr.current.useEffect(e,t)};bt.useId=function(){return rr.current.useId()};bt.useImperativeHandle=function(e,t,n){return rr.current.useImperativeHandle(e,t,n)};bt.useInsertionEffect=function(e,t){return rr.current.useInsertionEffect(e,t)};bt.useLayoutEffect=function(e,t){return rr.current.useLayoutEffect(e,t)};bt.useMemo=function(e,t){return rr.current.useMemo(e,t)};bt.useReducer=function(e,t,n){return rr.current.useReducer(e,t,n)};bt.useRef=function(e){return rr.current.useRef(e)};bt.useState=function(e){return rr.current.useState(e)};bt.useSyncExternalStore=function(e,t,n){return rr.current.useSyncExternalStore(e,t,n)};bt.useTransition=function(){return rr.current.useTransition()};bt.version="18.3.1";qE.exports=bt;var M=qE.exports;const o_=fg(M),l6=HR({__proto__:null,default:o_},[M]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c6=M,u6=Symbol.for("react.element"),f6=Symbol.for("react.fragment"),d6=Object.prototype.hasOwnProperty,h6=c6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p6={key:!0,ref:!0,__self:!0,__source:!0};function s_(e,t,n){var r,o={},s=null,i=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)d6.call(t,r)&&!p6.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:u6,type:e,key:s,ref:i,props:o,_owner:h6.current}}ep.Fragment=f6;ep.jsx=s_;ep.jsxs=s_;YE.exports=ep;var G=YE.exports,Gm={},i_={exports:{}},Nr={},a_={exports:{}},l_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(oe,$e){var Ne=oe.length;oe.push($e);e:for(;0<Ne;){var qe=Ne-1>>>1,nt=oe[qe];if(0<o(nt,$e))oe[qe]=$e,oe[Ne]=nt,Ne=qe;else break e}}function n(oe){return oe.length===0?null:oe[0]}function r(oe){if(oe.length===0)return null;var $e=oe[0],Ne=oe.pop();if(Ne!==$e){oe[0]=Ne;e:for(var qe=0,nt=oe.length,kt=nt>>>1;qe<kt;){var At=2*(qe+1)-1,Ct=oe[At],en=At+1,sn=oe[en];if(0>o(Ct,Ne))en<nt&&0>o(sn,Ct)?(oe[qe]=sn,oe[en]=Ne,qe=en):(oe[qe]=Ct,oe[At]=Ne,qe=At);else if(en<nt&&0>o(sn,Ne))oe[qe]=sn,oe[en]=Ne,qe=en;else break e}}return $e}function o(oe,$e){var Ne=oe.sortIndex-$e.sortIndex;return Ne!==0?Ne:oe.id-$e.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var i=Date,a=i.now();e.unstable_now=function(){return i.now()-a}}var l=[],c=[],u=1,f=null,d=3,h=!1,v=!1,p=!1,g=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(oe){for(var $e=n(c);$e!==null;){if($e.callback===null)r(c);else if($e.startTime<=oe)r(c),$e.sortIndex=$e.expirationTime,t(l,$e);else break;$e=n(c)}}function b(oe){if(p=!1,y(oe),!v)if(n(l)!==null)v=!0,ee(S);else{var $e=n(c);$e!==null&&xe(b,$e.startTime-oe)}}function S(oe,$e){v=!1,p&&(p=!1,m(A),A=-1),h=!0;var Ne=d;try{for(y($e),f=n(l);f!==null&&(!(f.expirationTime>$e)||oe&&!W());){var qe=f.callback;if(typeof qe=="function"){f.callback=null,d=f.priorityLevel;var nt=qe(f.expirationTime<=$e);$e=e.unstable_now(),typeof nt=="function"?f.callback=nt:f===n(l)&&r(l),y($e)}else r(l);f=n(l)}if(f!==null)var kt=!0;else{var At=n(c);At!==null&&xe(b,At.startTime-$e),kt=!1}return kt}finally{f=null,d=Ne,h=!1}}var E=!1,$=null,A=-1,B=5,D=-1;function W(){return!(e.unstable_now()-D<B)}function te(){if($!==null){var oe=e.unstable_now();D=oe;var $e=!0;try{$e=$(!0,oe)}finally{$e?pe():(E=!1,$=null)}}else E=!1}var pe;if(typeof w=="function")pe=function(){w(te)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,me=V.port2;V.port1.onmessage=te,pe=function(){me.postMessage(null)}}else pe=function(){g(te,0)};function ee(oe){$=oe,E||(E=!0,pe())}function xe(oe,$e){A=g(function(){oe(e.unstable_now())},$e)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(oe){oe.callback=null},e.unstable_continueExecution=function(){v||h||(v=!0,ee(S))},e.unstable_forceFrameRate=function(oe){0>oe||125<oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<oe?Math.floor(1e3/oe):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(oe){switch(d){case 1:case 2:case 3:var $e=3;break;default:$e=d}var Ne=d;d=$e;try{return oe()}finally{d=Ne}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(oe,$e){switch(oe){case 1:case 2:case 3:case 4:case 5:break;default:oe=3}var Ne=d;d=oe;try{return $e()}finally{d=Ne}},e.unstable_scheduleCallback=function(oe,$e,Ne){var qe=e.unstable_now();switch(typeof Ne=="object"&&Ne!==null?(Ne=Ne.delay,Ne=typeof Ne=="number"&&0<Ne?qe+Ne:qe):Ne=qe,oe){case 1:var nt=-1;break;case 2:nt=250;break;case 5:nt=1073741823;break;case 4:nt=1e4;break;default:nt=5e3}return nt=Ne+nt,oe={id:u++,callback:$e,priorityLevel:oe,startTime:Ne,expirationTime:nt,sortIndex:-1},Ne>qe?(oe.sortIndex=Ne,t(c,oe),n(l)===null&&oe===n(c)&&(p?(m(A),A=-1):p=!0,xe(b,Ne-qe))):(oe.sortIndex=nt,t(l,oe),v||h||(v=!0,ee(S))),oe},e.unstable_shouldYield=W,e.unstable_wrapCallback=function(oe){var $e=d;return function(){var Ne=d;d=$e;try{return oe.apply(this,arguments)}finally{d=Ne}}}})(l_);a_.exports=l_;var m6=a_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v6=M,Rr=m6;function Me(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var c_=new Set,ru={};function ta(e,t){ul(e,t),ul(e+"Capture",t)}function ul(e,t){for(ru[e]=t,e=0;e<t.length;e++)c_.add(t[e])}var is=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jm=Object.prototype.hasOwnProperty,g6=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Wx={},Xx={};function y6(e){return jm.call(Xx,e)?!0:jm.call(Wx,e)?!1:g6.test(e)?Xx[e]=!0:(Wx[e]=!0,!1)}function w6(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function x6(e,t,n,r){if(t===null||typeof t>"u"||w6(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function or(e,t,n,r,o,s,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var zn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){zn[e]=new or(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];zn[t]=new or(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){zn[e]=new or(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){zn[e]=new or(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){zn[e]=new or(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){zn[e]=new or(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){zn[e]=new or(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){zn[e]=new or(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){zn[e]=new or(e,5,!1,e.toLowerCase(),null,!1,!1)});var vg=/[\-:]([a-z])/g;function gg(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(vg,gg);zn[t]=new or(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(vg,gg);zn[t]=new or(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(vg,gg);zn[t]=new or(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){zn[e]=new or(e,1,!1,e.toLowerCase(),null,!1,!1)});zn.xlinkHref=new or("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){zn[e]=new or(e,1,!1,e.toLowerCase(),null,!0,!0)});function yg(e,t,n,r){var o=zn.hasOwnProperty(t)?zn[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(x6(t,n,o,r)&&(n=null),r||o===null?y6(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var hs=v6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Gf=Symbol.for("react.element"),Ga=Symbol.for("react.portal"),ja=Symbol.for("react.fragment"),wg=Symbol.for("react.strict_mode"),Vm=Symbol.for("react.profiler"),u_=Symbol.for("react.provider"),f_=Symbol.for("react.context"),xg=Symbol.for("react.forward_ref"),Um=Symbol.for("react.suspense"),Hm=Symbol.for("react.suspense_list"),bg=Symbol.for("react.memo"),Is=Symbol.for("react.lazy"),d_=Symbol.for("react.offscreen"),Yx=Symbol.iterator;function vc(e){return e===null||typeof e!="object"?null:(e=Yx&&e[Yx]||e["@@iterator"],typeof e=="function"?e:null)}var Jt=Object.assign,q1;function zc(e){if(q1===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);q1=t&&t[1]||""}return`
`+q1+e}var Z1=!1;function Q1(e,t){if(!e||Z1)return"";Z1=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var o=c.stack.split(`
`),s=r.stack.split(`
`),i=o.length-1,a=s.length-1;1<=i&&0<=a&&o[i]!==s[a];)a--;for(;1<=i&&0<=a;i--,a--)if(o[i]!==s[a]){if(i!==1||a!==1)do if(i--,a--,0>a||o[i]!==s[a]){var l=`
`+o[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=i&&0<=a);break}}}finally{Z1=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?zc(e):""}function b6(e){switch(e.tag){case 5:return zc(e.type);case 16:return zc("Lazy");case 13:return zc("Suspense");case 19:return zc("SuspenseList");case 0:case 2:case 15:return e=Q1(e.type,!1),e;case 11:return e=Q1(e.type.render,!1),e;case 1:return e=Q1(e.type,!0),e;default:return""}}function Wm(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ja:return"Fragment";case Ga:return"Portal";case Vm:return"Profiler";case wg:return"StrictMode";case Um:return"Suspense";case Hm:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case f_:return(e.displayName||"Context")+".Consumer";case u_:return(e._context.displayName||"Context")+".Provider";case xg:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case bg:return t=e.displayName||null,t!==null?t:Wm(e.type)||"Memo";case Is:t=e._payload,e=e._init;try{return Wm(e(t))}catch{}}return null}function S6(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Wm(t);case 8:return t===wg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ti(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function h_(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function E6(e){var t=h_(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(i){r=""+i,s.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function jf(e){e._valueTracker||(e._valueTracker=E6(e))}function p_(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=h_(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function oh(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Xm(e,t){var n=t.checked;return Jt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function qx(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ti(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function m_(e,t){t=t.checked,t!=null&&yg(e,"checked",t,!1)}function Ym(e,t){m_(e,t);var n=ti(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?qm(e,t.type,n):t.hasOwnProperty("defaultValue")&&qm(e,t.type,ti(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Zx(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function qm(e,t,n){(t!=="number"||oh(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Bc=Array.isArray;function el(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ti(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Zm(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Me(91));return Jt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Qx(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Me(92));if(Bc(n)){if(1<n.length)throw Error(Me(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ti(n)}}function v_(e,t){var n=ti(t.value),r=ti(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Kx(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function g_(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qm(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?g_(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Vf,y_=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Vf=Vf||document.createElement("div"),Vf.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Vf.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ou(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Yc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_6=["Webkit","ms","Moz","O"];Object.keys(Yc).forEach(function(e){_6.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Yc[t]=Yc[e]})});function w_(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Yc.hasOwnProperty(e)&&Yc[e]?(""+t).trim():t+"px"}function x_(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=w_(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var $6=Jt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Km(e,t){if(t){if($6[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Me(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Me(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Me(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Me(62))}}function Jm(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ev=null;function Sg(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var tv=null,tl=null,nl=null;function Jx(e){if(e=Mu(e)){if(typeof tv!="function")throw Error(Me(280));var t=e.stateNode;t&&(t=sp(t),tv(e.stateNode,e.type,t))}}function b_(e){tl?nl?nl.push(e):nl=[e]:tl=e}function S_(){if(tl){var e=tl,t=nl;if(nl=tl=null,Jx(e),t)for(e=0;e<t.length;e++)Jx(t[e])}}function E_(e,t){return e(t)}function __(){}var K1=!1;function $_(e,t,n){if(K1)return e(t,n);K1=!0;try{return E_(e,t,n)}finally{K1=!1,(tl!==null||nl!==null)&&(__(),S_())}}function su(e,t){var n=e.stateNode;if(n===null)return null;var r=sp(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Me(231,t,typeof n));return n}var nv=!1;if(is)try{var gc={};Object.defineProperty(gc,"passive",{get:function(){nv=!0}}),window.addEventListener("test",gc,gc),window.removeEventListener("test",gc,gc)}catch{nv=!1}function A6(e,t,n,r,o,s,i,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var qc=!1,sh=null,ih=!1,rv=null,T6={onError:function(e){qc=!0,sh=e}};function C6(e,t,n,r,o,s,i,a,l){qc=!1,sh=null,A6.apply(T6,arguments)}function P6(e,t,n,r,o,s,i,a,l){if(C6.apply(this,arguments),qc){if(qc){var c=sh;qc=!1,sh=null}else throw Error(Me(198));ih||(ih=!0,rv=c)}}function na(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function A_(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function e5(e){if(na(e)!==e)throw Error(Me(188))}function k6(e){var t=e.alternate;if(!t){if(t=na(e),t===null)throw Error(Me(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var s=o.alternate;if(s===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===n)return e5(o),e;if(s===r)return e5(o),t;s=s.sibling}throw Error(Me(188))}if(n.return!==r.return)n=o,r=s;else{for(var i=!1,a=o.child;a;){if(a===n){i=!0,n=o,r=s;break}if(a===r){i=!0,r=o,n=s;break}a=a.sibling}if(!i){for(a=s.child;a;){if(a===n){i=!0,n=s,r=o;break}if(a===r){i=!0,r=s,n=o;break}a=a.sibling}if(!i)throw Error(Me(189))}}if(n.alternate!==r)throw Error(Me(190))}if(n.tag!==3)throw Error(Me(188));return n.stateNode.current===n?e:t}function T_(e){return e=k6(e),e!==null?C_(e):null}function C_(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=C_(e);if(t!==null)return t;e=e.sibling}return null}var P_=Rr.unstable_scheduleCallback,t5=Rr.unstable_cancelCallback,R6=Rr.unstable_shouldYield,N6=Rr.unstable_requestPaint,dn=Rr.unstable_now,O6=Rr.unstable_getCurrentPriorityLevel,Eg=Rr.unstable_ImmediatePriority,k_=Rr.unstable_UserBlockingPriority,ah=Rr.unstable_NormalPriority,L6=Rr.unstable_LowPriority,R_=Rr.unstable_IdlePriority,tp=null,Do=null;function M6(e){if(Do&&typeof Do.onCommitFiberRoot=="function")try{Do.onCommitFiberRoot(tp,e,void 0,(e.current.flags&128)===128)}catch{}}var po=Math.clz32?Math.clz32:I6,F6=Math.log,D6=Math.LN2;function I6(e){return e>>>=0,e===0?32:31-(F6(e)/D6|0)|0}var Uf=64,Hf=4194304;function Gc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function lh(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,s=e.pingedLanes,i=n&268435455;if(i!==0){var a=i&~o;a!==0?r=Gc(a):(s&=i,s!==0&&(r=Gc(s)))}else i=n&~o,i!==0?r=Gc(i):s!==0&&(r=Gc(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,s=t&-t,o>=s||o===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-po(t),o=1<<n,r|=e[n],t&=~o;return r}function z6(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function B6(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-po(s),a=1<<i,l=o[i];l===-1?(!(a&n)||a&r)&&(o[i]=z6(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function ov(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function N_(){var e=Uf;return Uf<<=1,!(Uf&4194240)&&(Uf=64),e}function J1(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ou(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-po(t),e[t]=n}function G6(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-po(n),s=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~s}}function _g(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-po(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var Rt=0;function O_(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var L_,$g,M_,F_,D_,sv=!1,Wf=[],Hs=null,Ws=null,Xs=null,iu=new Map,au=new Map,Bs=[],j6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function n5(e,t){switch(e){case"focusin":case"focusout":Hs=null;break;case"dragenter":case"dragleave":Ws=null;break;case"mouseover":case"mouseout":Xs=null;break;case"pointerover":case"pointerout":iu.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":au.delete(t.pointerId)}}function yc(e,t,n,r,o,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[o]},t!==null&&(t=Mu(t),t!==null&&$g(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function V6(e,t,n,r,o){switch(t){case"focusin":return Hs=yc(Hs,e,t,n,r,o),!0;case"dragenter":return Ws=yc(Ws,e,t,n,r,o),!0;case"mouseover":return Xs=yc(Xs,e,t,n,r,o),!0;case"pointerover":var s=o.pointerId;return iu.set(s,yc(iu.get(s)||null,e,t,n,r,o)),!0;case"gotpointercapture":return s=o.pointerId,au.set(s,yc(au.get(s)||null,e,t,n,r,o)),!0}return!1}function I_(e){var t=zi(e.target);if(t!==null){var n=na(t);if(n!==null){if(t=n.tag,t===13){if(t=A_(n),t!==null){e.blockedOn=t,D_(e.priority,function(){M_(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Dd(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=iv(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);ev=r,n.target.dispatchEvent(r),ev=null}else return t=Mu(n),t!==null&&$g(t),e.blockedOn=n,!1;t.shift()}return!0}function r5(e,t,n){Dd(e)&&n.delete(t)}function U6(){sv=!1,Hs!==null&&Dd(Hs)&&(Hs=null),Ws!==null&&Dd(Ws)&&(Ws=null),Xs!==null&&Dd(Xs)&&(Xs=null),iu.forEach(r5),au.forEach(r5)}function wc(e,t){e.blockedOn===t&&(e.blockedOn=null,sv||(sv=!0,Rr.unstable_scheduleCallback(Rr.unstable_NormalPriority,U6)))}function lu(e){function t(o){return wc(o,e)}if(0<Wf.length){wc(Wf[0],e);for(var n=1;n<Wf.length;n++){var r=Wf[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Hs!==null&&wc(Hs,e),Ws!==null&&wc(Ws,e),Xs!==null&&wc(Xs,e),iu.forEach(t),au.forEach(t),n=0;n<Bs.length;n++)r=Bs[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Bs.length&&(n=Bs[0],n.blockedOn===null);)I_(n),n.blockedOn===null&&Bs.shift()}var rl=hs.ReactCurrentBatchConfig,ch=!0;function H6(e,t,n,r){var o=Rt,s=rl.transition;rl.transition=null;try{Rt=1,Ag(e,t,n,r)}finally{Rt=o,rl.transition=s}}function W6(e,t,n,r){var o=Rt,s=rl.transition;rl.transition=null;try{Rt=4,Ag(e,t,n,r)}finally{Rt=o,rl.transition=s}}function Ag(e,t,n,r){if(ch){var o=iv(e,t,n,r);if(o===null)c0(e,t,r,uh,n),n5(e,r);else if(V6(o,e,t,n,r))r.stopPropagation();else if(n5(e,r),t&4&&-1<j6.indexOf(e)){for(;o!==null;){var s=Mu(o);if(s!==null&&L_(s),s=iv(e,t,n,r),s===null&&c0(e,t,r,uh,n),s===o)break;o=s}o!==null&&r.stopPropagation()}else c0(e,t,r,null,n)}}var uh=null;function iv(e,t,n,r){if(uh=null,e=Sg(r),e=zi(e),e!==null)if(t=na(e),t===null)e=null;else if(n=t.tag,n===13){if(e=A_(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return uh=e,null}function z_(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(O6()){case Eg:return 1;case k_:return 4;case ah:case L6:return 16;case R_:return 536870912;default:return 16}default:return 16}}var Vs=null,Tg=null,Id=null;function B_(){if(Id)return Id;var e,t=Tg,n=t.length,r,o="value"in Vs?Vs.value:Vs.textContent,s=o.length;for(e=0;e<n&&t[e]===o[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===o[s-r];r++);return Id=o.slice(e,1<r?1-r:void 0)}function zd(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Xf(){return!0}function o5(){return!1}function Or(e){function t(n,r,o,s,i){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=s,this.target=i,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Xf:o5,this.isPropagationStopped=o5,this}return Jt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Xf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Xf)},persist:function(){},isPersistent:Xf}),t}var Pl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cg=Or(Pl),Lu=Jt({},Pl,{view:0,detail:0}),X6=Or(Lu),e0,t0,xc,np=Jt({},Lu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pg,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xc&&(xc&&e.type==="mousemove"?(e0=e.screenX-xc.screenX,t0=e.screenY-xc.screenY):t0=e0=0,xc=e),e0)},movementY:function(e){return"movementY"in e?e.movementY:t0}}),s5=Or(np),Y6=Jt({},np,{dataTransfer:0}),q6=Or(Y6),Z6=Jt({},Lu,{relatedTarget:0}),n0=Or(Z6),Q6=Jt({},Pl,{animationName:0,elapsedTime:0,pseudoElement:0}),K6=Or(Q6),J6=Jt({},Pl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),eN=Or(J6),tN=Jt({},Pl,{data:0}),i5=Or(tN),nN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sN(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=oN[e])?!!t[e]:!1}function Pg(){return sN}var iN=Jt({},Lu,{key:function(e){if(e.key){var t=nN[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=zd(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?rN[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pg,charCode:function(e){return e.type==="keypress"?zd(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?zd(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),aN=Or(iN),lN=Jt({},np,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),a5=Or(lN),cN=Jt({},Lu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pg}),uN=Or(cN),fN=Jt({},Pl,{propertyName:0,elapsedTime:0,pseudoElement:0}),dN=Or(fN),hN=Jt({},np,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),pN=Or(hN),mN=[9,13,27,32],kg=is&&"CompositionEvent"in window,Zc=null;is&&"documentMode"in document&&(Zc=document.documentMode);var vN=is&&"TextEvent"in window&&!Zc,G_=is&&(!kg||Zc&&8<Zc&&11>=Zc),l5=" ",c5=!1;function j_(e,t){switch(e){case"keyup":return mN.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function V_(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Va=!1;function gN(e,t){switch(e){case"compositionend":return V_(t);case"keypress":return t.which!==32?null:(c5=!0,l5);case"textInput":return e=t.data,e===l5&&c5?null:e;default:return null}}function yN(e,t){if(Va)return e==="compositionend"||!kg&&j_(e,t)?(e=B_(),Id=Tg=Vs=null,Va=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return G_&&t.locale!=="ko"?null:t.data;default:return null}}var wN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function u5(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!wN[e.type]:t==="textarea"}function U_(e,t,n,r){b_(r),t=fh(t,"onChange"),0<t.length&&(n=new Cg("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Qc=null,cu=null;function xN(e){t$(e,0)}function rp(e){var t=Wa(e);if(p_(t))return e}function bN(e,t){if(e==="change")return t}var H_=!1;if(is){var r0;if(is){var o0="oninput"in document;if(!o0){var f5=document.createElement("div");f5.setAttribute("oninput","return;"),o0=typeof f5.oninput=="function"}r0=o0}else r0=!1;H_=r0&&(!document.documentMode||9<document.documentMode)}function d5(){Qc&&(Qc.detachEvent("onpropertychange",W_),cu=Qc=null)}function W_(e){if(e.propertyName==="value"&&rp(cu)){var t=[];U_(t,cu,e,Sg(e)),$_(xN,t)}}function SN(e,t,n){e==="focusin"?(d5(),Qc=t,cu=n,Qc.attachEvent("onpropertychange",W_)):e==="focusout"&&d5()}function EN(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return rp(cu)}function _N(e,t){if(e==="click")return rp(t)}function $N(e,t){if(e==="input"||e==="change")return rp(t)}function AN(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var go=typeof Object.is=="function"?Object.is:AN;function uu(e,t){if(go(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!jm.call(t,o)||!go(e[o],t[o]))return!1}return!0}function h5(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function p5(e,t){var n=h5(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=h5(n)}}function X_(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?X_(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Y_(){for(var e=window,t=oh();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=oh(e.document)}return t}function Rg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function TN(e){var t=Y_(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&X_(n.ownerDocument.documentElement,n)){if(r!==null&&Rg(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,s=Math.min(r.start,o);r=r.end===void 0?s:Math.min(r.end,o),!e.extend&&s>r&&(o=r,r=s,s=o),o=p5(n,s);var i=p5(n,r);o&&i&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var CN=is&&"documentMode"in document&&11>=document.documentMode,Ua=null,av=null,Kc=null,lv=!1;function m5(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;lv||Ua==null||Ua!==oh(r)||(r=Ua,"selectionStart"in r&&Rg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Kc&&uu(Kc,r)||(Kc=r,r=fh(av,"onSelect"),0<r.length&&(t=new Cg("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ua)))}function Yf(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ha={animationend:Yf("Animation","AnimationEnd"),animationiteration:Yf("Animation","AnimationIteration"),animationstart:Yf("Animation","AnimationStart"),transitionend:Yf("Transition","TransitionEnd")},s0={},q_={};is&&(q_=document.createElement("div").style,"AnimationEvent"in window||(delete Ha.animationend.animation,delete Ha.animationiteration.animation,delete Ha.animationstart.animation),"TransitionEvent"in window||delete Ha.transitionend.transition);function op(e){if(s0[e])return s0[e];if(!Ha[e])return e;var t=Ha[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in q_)return s0[e]=t[n];return e}var Z_=op("animationend"),Q_=op("animationiteration"),K_=op("animationstart"),J_=op("transitionend"),e$=new Map,v5="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ii(e,t){e$.set(e,t),ta(t,[e])}for(var i0=0;i0<v5.length;i0++){var a0=v5[i0],PN=a0.toLowerCase(),kN=a0[0].toUpperCase()+a0.slice(1);ii(PN,"on"+kN)}ii(Z_,"onAnimationEnd");ii(Q_,"onAnimationIteration");ii(K_,"onAnimationStart");ii("dblclick","onDoubleClick");ii("focusin","onFocus");ii("focusout","onBlur");ii(J_,"onTransitionEnd");ul("onMouseEnter",["mouseout","mouseover"]);ul("onMouseLeave",["mouseout","mouseover"]);ul("onPointerEnter",["pointerout","pointerover"]);ul("onPointerLeave",["pointerout","pointerover"]);ta("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ta("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ta("onBeforeInput",["compositionend","keypress","textInput","paste"]);ta("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ta("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ta("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RN=new Set("cancel close invalid load scroll toggle".split(" ").concat(jc));function g5(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,P6(r,t,void 0,e),e.currentTarget=null}function t$(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var i=r.length-1;0<=i;i--){var a=r[i],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&o.isPropagationStopped())break e;g5(o,a,c),s=l}else for(i=0;i<r.length;i++){if(a=r[i],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&o.isPropagationStopped())break e;g5(o,a,c),s=l}}}if(ih)throw e=rv,ih=!1,rv=null,e}function Vt(e,t){var n=t[hv];n===void 0&&(n=t[hv]=new Set);var r=e+"__bubble";n.has(r)||(n$(t,e,2,!1),n.add(r))}function l0(e,t,n){var r=0;t&&(r|=4),n$(n,e,r,t)}var qf="_reactListening"+Math.random().toString(36).slice(2);function fu(e){if(!e[qf]){e[qf]=!0,c_.forEach(function(n){n!=="selectionchange"&&(RN.has(n)||l0(n,!1,e),l0(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[qf]||(t[qf]=!0,l0("selectionchange",!1,t))}}function n$(e,t,n,r){switch(z_(t)){case 1:var o=H6;break;case 4:o=W6;break;default:o=Ag}n=o.bind(null,t,n,e),o=void 0,!nv||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function c0(e,t,n,r,o){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var a=r.stateNode.containerInfo;if(a===o||a.nodeType===8&&a.parentNode===o)break;if(i===4)for(i=r.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===o||l.nodeType===8&&l.parentNode===o))return;i=i.return}for(;a!==null;){if(i=zi(a),i===null)return;if(l=i.tag,l===5||l===6){r=s=i;continue e}a=a.parentNode}}r=r.return}$_(function(){var c=s,u=Sg(n),f=[];e:{var d=e$.get(e);if(d!==void 0){var h=Cg,v=e;switch(e){case"keypress":if(zd(n)===0)break e;case"keydown":case"keyup":h=aN;break;case"focusin":v="focus",h=n0;break;case"focusout":v="blur",h=n0;break;case"beforeblur":case"afterblur":h=n0;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=s5;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=q6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=uN;break;case Z_:case Q_:case K_:h=K6;break;case J_:h=dN;break;case"scroll":h=X6;break;case"wheel":h=pN;break;case"copy":case"cut":case"paste":h=eN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=a5}var p=(t&4)!==0,g=!p&&e==="scroll",m=p?d!==null?d+"Capture":null:d;p=[];for(var w=c,y;w!==null;){y=w;var b=y.stateNode;if(y.tag===5&&b!==null&&(y=b,m!==null&&(b=su(w,m),b!=null&&p.push(du(w,b,y)))),g)break;w=w.return}0<p.length&&(d=new h(d,v,null,n,u),f.push({event:d,listeners:p}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",d&&n!==ev&&(v=n.relatedTarget||n.fromElement)&&(zi(v)||v[as]))break e;if((h||d)&&(d=u.window===u?u:(d=u.ownerDocument)?d.defaultView||d.parentWindow:window,h?(v=n.relatedTarget||n.toElement,h=c,v=v?zi(v):null,v!==null&&(g=na(v),v!==g||v.tag!==5&&v.tag!==6)&&(v=null)):(h=null,v=c),h!==v)){if(p=s5,b="onMouseLeave",m="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(p=a5,b="onPointerLeave",m="onPointerEnter",w="pointer"),g=h==null?d:Wa(h),y=v==null?d:Wa(v),d=new p(b,w+"leave",h,n,u),d.target=g,d.relatedTarget=y,b=null,zi(u)===c&&(p=new p(m,w+"enter",v,n,u),p.target=y,p.relatedTarget=g,b=p),g=b,h&&v)t:{for(p=h,m=v,w=0,y=p;y;y=Sa(y))w++;for(y=0,b=m;b;b=Sa(b))y++;for(;0<w-y;)p=Sa(p),w--;for(;0<y-w;)m=Sa(m),y--;for(;w--;){if(p===m||m!==null&&p===m.alternate)break t;p=Sa(p),m=Sa(m)}p=null}else p=null;h!==null&&y5(f,d,h,p,!1),v!==null&&g!==null&&y5(f,g,v,p,!0)}}e:{if(d=c?Wa(c):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var S=bN;else if(u5(d))if(H_)S=$N;else{S=EN;var E=SN}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(S=_N);if(S&&(S=S(e,c))){U_(f,S,n,u);break e}E&&E(e,d,c),e==="focusout"&&(E=d._wrapperState)&&E.controlled&&d.type==="number"&&qm(d,"number",d.value)}switch(E=c?Wa(c):window,e){case"focusin":(u5(E)||E.contentEditable==="true")&&(Ua=E,av=c,Kc=null);break;case"focusout":Kc=av=Ua=null;break;case"mousedown":lv=!0;break;case"contextmenu":case"mouseup":case"dragend":lv=!1,m5(f,n,u);break;case"selectionchange":if(CN)break;case"keydown":case"keyup":m5(f,n,u)}var $;if(kg)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Va?j_(e,n)&&(A="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(G_&&n.locale!=="ko"&&(Va||A!=="onCompositionStart"?A==="onCompositionEnd"&&Va&&($=B_()):(Vs=u,Tg="value"in Vs?Vs.value:Vs.textContent,Va=!0)),E=fh(c,A),0<E.length&&(A=new i5(A,e,null,n,u),f.push({event:A,listeners:E}),$?A.data=$:($=V_(n),$!==null&&(A.data=$)))),($=vN?gN(e,n):yN(e,n))&&(c=fh(c,"onBeforeInput"),0<c.length&&(u=new i5("onBeforeInput","beforeinput",null,n,u),f.push({event:u,listeners:c}),u.data=$))}t$(f,t)})}function du(e,t,n){return{instance:e,listener:t,currentTarget:n}}function fh(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,s=o.stateNode;o.tag===5&&s!==null&&(o=s,s=su(e,n),s!=null&&r.unshift(du(e,s,o)),s=su(e,t),s!=null&&r.push(du(e,s,o))),e=e.return}return r}function Sa(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function y5(e,t,n,r,o){for(var s=t._reactName,i=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,o?(l=su(n,s),l!=null&&i.unshift(du(n,l,a))):o||(l=su(n,s),l!=null&&i.push(du(n,l,a)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var NN=/\r\n?/g,ON=/\u0000|\uFFFD/g;function w5(e){return(typeof e=="string"?e:""+e).replace(NN,`
`).replace(ON,"")}function Zf(e,t,n){if(t=w5(t),w5(e)!==t&&n)throw Error(Me(425))}function dh(){}var cv=null,uv=null;function fv(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var dv=typeof setTimeout=="function"?setTimeout:void 0,LN=typeof clearTimeout=="function"?clearTimeout:void 0,x5=typeof Promise=="function"?Promise:void 0,MN=typeof queueMicrotask=="function"?queueMicrotask:typeof x5<"u"?function(e){return x5.resolve(null).then(e).catch(FN)}:dv;function FN(e){setTimeout(function(){throw e})}function u0(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),lu(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);lu(t)}function Ys(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function b5(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var kl=Math.random().toString(36).slice(2),Lo="__reactFiber$"+kl,hu="__reactProps$"+kl,as="__reactContainer$"+kl,hv="__reactEvents$"+kl,DN="__reactListeners$"+kl,IN="__reactHandles$"+kl;function zi(e){var t=e[Lo];if(t)return t;for(var n=e.parentNode;n;){if(t=n[as]||n[Lo]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=b5(e);e!==null;){if(n=e[Lo])return n;e=b5(e)}return t}e=n,n=e.parentNode}return null}function Mu(e){return e=e[Lo]||e[as],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Wa(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Me(33))}function sp(e){return e[hu]||null}var pv=[],Xa=-1;function ai(e){return{current:e}}function Ht(e){0>Xa||(e.current=pv[Xa],pv[Xa]=null,Xa--)}function Bt(e,t){Xa++,pv[Xa]=e.current,e.current=t}var ni={},Xn=ai(ni),dr=ai(!1),Xi=ni;function fl(e,t){var n=e.type.contextTypes;if(!n)return ni;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},s;for(s in n)o[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function hr(e){return e=e.childContextTypes,e!=null}function hh(){Ht(dr),Ht(Xn)}function S5(e,t,n){if(Xn.current!==ni)throw Error(Me(168));Bt(Xn,t),Bt(dr,n)}function r$(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(Me(108,S6(e)||"Unknown",o));return Jt({},n,r)}function ph(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ni,Xi=Xn.current,Bt(Xn,e),Bt(dr,dr.current),!0}function E5(e,t,n){var r=e.stateNode;if(!r)throw Error(Me(169));n?(e=r$(e,t,Xi),r.__reactInternalMemoizedMergedChildContext=e,Ht(dr),Ht(Xn),Bt(Xn,e)):Ht(dr),Bt(dr,n)}var ts=null,ip=!1,f0=!1;function o$(e){ts===null?ts=[e]:ts.push(e)}function zN(e){ip=!0,o$(e)}function li(){if(!f0&&ts!==null){f0=!0;var e=0,t=Rt;try{var n=ts;for(Rt=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ts=null,ip=!1}catch(o){throw ts!==null&&(ts=ts.slice(e+1)),P_(Eg,li),o}finally{Rt=t,f0=!1}}return null}var Ya=[],qa=0,mh=null,vh=0,Gr=[],jr=0,Yi=null,ns=1,rs="";function Li(e,t){Ya[qa++]=vh,Ya[qa++]=mh,mh=e,vh=t}function s$(e,t,n){Gr[jr++]=ns,Gr[jr++]=rs,Gr[jr++]=Yi,Yi=e;var r=ns;e=rs;var o=32-po(r)-1;r&=~(1<<o),n+=1;var s=32-po(t)+o;if(30<s){var i=o-o%5;s=(r&(1<<i)-1).toString(32),r>>=i,o-=i,ns=1<<32-po(t)+o|n<<o|r,rs=s+e}else ns=1<<s|n<<o|r,rs=e}function Ng(e){e.return!==null&&(Li(e,1),s$(e,1,0))}function Og(e){for(;e===mh;)mh=Ya[--qa],Ya[qa]=null,vh=Ya[--qa],Ya[qa]=null;for(;e===Yi;)Yi=Gr[--jr],Gr[jr]=null,rs=Gr[--jr],Gr[jr]=null,ns=Gr[--jr],Gr[jr]=null}var Pr=null,Tr=null,Xt=!1,fo=null;function i$(e,t){var n=Vr(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function _5(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Pr=e,Tr=Ys(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Pr=e,Tr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Yi!==null?{id:ns,overflow:rs}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Vr(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Pr=e,Tr=null,!0):!1;default:return!1}}function mv(e){return(e.mode&1)!==0&&(e.flags&128)===0}function vv(e){if(Xt){var t=Tr;if(t){var n=t;if(!_5(e,t)){if(mv(e))throw Error(Me(418));t=Ys(n.nextSibling);var r=Pr;t&&_5(e,t)?i$(r,n):(e.flags=e.flags&-4097|2,Xt=!1,Pr=e)}}else{if(mv(e))throw Error(Me(418));e.flags=e.flags&-4097|2,Xt=!1,Pr=e}}}function $5(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Pr=e}function Qf(e){if(e!==Pr)return!1;if(!Xt)return $5(e),Xt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!fv(e.type,e.memoizedProps)),t&&(t=Tr)){if(mv(e))throw a$(),Error(Me(418));for(;t;)i$(e,t),t=Ys(t.nextSibling)}if($5(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Me(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Tr=Ys(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Tr=null}}else Tr=Pr?Ys(e.stateNode.nextSibling):null;return!0}function a$(){for(var e=Tr;e;)e=Ys(e.nextSibling)}function dl(){Tr=Pr=null,Xt=!1}function Lg(e){fo===null?fo=[e]:fo.push(e)}var BN=hs.ReactCurrentBatchConfig;function bc(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Me(309));var r=n.stateNode}if(!r)throw Error(Me(147,e));var o=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(i){var a=o.refs;i===null?delete a[s]:a[s]=i},t._stringRef=s,t)}if(typeof e!="string")throw Error(Me(284));if(!n._owner)throw Error(Me(290,e))}return e}function Kf(e,t){throw e=Object.prototype.toString.call(t),Error(Me(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function A5(e){var t=e._init;return t(e._payload)}function l$(e){function t(m,w){if(e){var y=m.deletions;y===null?(m.deletions=[w],m.flags|=16):y.push(w)}}function n(m,w){if(!e)return null;for(;w!==null;)t(m,w),w=w.sibling;return null}function r(m,w){for(m=new Map;w!==null;)w.key!==null?m.set(w.key,w):m.set(w.index,w),w=w.sibling;return m}function o(m,w){return m=Ks(m,w),m.index=0,m.sibling=null,m}function s(m,w,y){return m.index=y,e?(y=m.alternate,y!==null?(y=y.index,y<w?(m.flags|=2,w):y):(m.flags|=2,w)):(m.flags|=1048576,w)}function i(m){return e&&m.alternate===null&&(m.flags|=2),m}function a(m,w,y,b){return w===null||w.tag!==6?(w=y0(y,m.mode,b),w.return=m,w):(w=o(w,y),w.return=m,w)}function l(m,w,y,b){var S=y.type;return S===ja?u(m,w,y.props.children,b,y.key):w!==null&&(w.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Is&&A5(S)===w.type)?(b=o(w,y.props),b.ref=bc(m,w,y),b.return=m,b):(b=Wd(y.type,y.key,y.props,null,m.mode,b),b.ref=bc(m,w,y),b.return=m,b)}function c(m,w,y,b){return w===null||w.tag!==4||w.stateNode.containerInfo!==y.containerInfo||w.stateNode.implementation!==y.implementation?(w=w0(y,m.mode,b),w.return=m,w):(w=o(w,y.children||[]),w.return=m,w)}function u(m,w,y,b,S){return w===null||w.tag!==7?(w=Ui(y,m.mode,b,S),w.return=m,w):(w=o(w,y),w.return=m,w)}function f(m,w,y){if(typeof w=="string"&&w!==""||typeof w=="number")return w=y0(""+w,m.mode,y),w.return=m,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Gf:return y=Wd(w.type,w.key,w.props,null,m.mode,y),y.ref=bc(m,null,w),y.return=m,y;case Ga:return w=w0(w,m.mode,y),w.return=m,w;case Is:var b=w._init;return f(m,b(w._payload),y)}if(Bc(w)||vc(w))return w=Ui(w,m.mode,y,null),w.return=m,w;Kf(m,w)}return null}function d(m,w,y,b){var S=w!==null?w.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return S!==null?null:a(m,w,""+y,b);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Gf:return y.key===S?l(m,w,y,b):null;case Ga:return y.key===S?c(m,w,y,b):null;case Is:return S=y._init,d(m,w,S(y._payload),b)}if(Bc(y)||vc(y))return S!==null?null:u(m,w,y,b,null);Kf(m,y)}return null}function h(m,w,y,b,S){if(typeof b=="string"&&b!==""||typeof b=="number")return m=m.get(y)||null,a(w,m,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Gf:return m=m.get(b.key===null?y:b.key)||null,l(w,m,b,S);case Ga:return m=m.get(b.key===null?y:b.key)||null,c(w,m,b,S);case Is:var E=b._init;return h(m,w,y,E(b._payload),S)}if(Bc(b)||vc(b))return m=m.get(y)||null,u(w,m,b,S,null);Kf(w,b)}return null}function v(m,w,y,b){for(var S=null,E=null,$=w,A=w=0,B=null;$!==null&&A<y.length;A++){$.index>A?(B=$,$=null):B=$.sibling;var D=d(m,$,y[A],b);if(D===null){$===null&&($=B);break}e&&$&&D.alternate===null&&t(m,$),w=s(D,w,A),E===null?S=D:E.sibling=D,E=D,$=B}if(A===y.length)return n(m,$),Xt&&Li(m,A),S;if($===null){for(;A<y.length;A++)$=f(m,y[A],b),$!==null&&(w=s($,w,A),E===null?S=$:E.sibling=$,E=$);return Xt&&Li(m,A),S}for($=r(m,$);A<y.length;A++)B=h($,m,A,y[A],b),B!==null&&(e&&B.alternate!==null&&$.delete(B.key===null?A:B.key),w=s(B,w,A),E===null?S=B:E.sibling=B,E=B);return e&&$.forEach(function(W){return t(m,W)}),Xt&&Li(m,A),S}function p(m,w,y,b){var S=vc(y);if(typeof S!="function")throw Error(Me(150));if(y=S.call(y),y==null)throw Error(Me(151));for(var E=S=null,$=w,A=w=0,B=null,D=y.next();$!==null&&!D.done;A++,D=y.next()){$.index>A?(B=$,$=null):B=$.sibling;var W=d(m,$,D.value,b);if(W===null){$===null&&($=B);break}e&&$&&W.alternate===null&&t(m,$),w=s(W,w,A),E===null?S=W:E.sibling=W,E=W,$=B}if(D.done)return n(m,$),Xt&&Li(m,A),S;if($===null){for(;!D.done;A++,D=y.next())D=f(m,D.value,b),D!==null&&(w=s(D,w,A),E===null?S=D:E.sibling=D,E=D);return Xt&&Li(m,A),S}for($=r(m,$);!D.done;A++,D=y.next())D=h($,m,A,D.value,b),D!==null&&(e&&D.alternate!==null&&$.delete(D.key===null?A:D.key),w=s(D,w,A),E===null?S=D:E.sibling=D,E=D);return e&&$.forEach(function(te){return t(m,te)}),Xt&&Li(m,A),S}function g(m,w,y,b){if(typeof y=="object"&&y!==null&&y.type===ja&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Gf:e:{for(var S=y.key,E=w;E!==null;){if(E.key===S){if(S=y.type,S===ja){if(E.tag===7){n(m,E.sibling),w=o(E,y.props.children),w.return=m,m=w;break e}}else if(E.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Is&&A5(S)===E.type){n(m,E.sibling),w=o(E,y.props),w.ref=bc(m,E,y),w.return=m,m=w;break e}n(m,E);break}else t(m,E);E=E.sibling}y.type===ja?(w=Ui(y.props.children,m.mode,b,y.key),w.return=m,m=w):(b=Wd(y.type,y.key,y.props,null,m.mode,b),b.ref=bc(m,w,y),b.return=m,m=b)}return i(m);case Ga:e:{for(E=y.key;w!==null;){if(w.key===E)if(w.tag===4&&w.stateNode.containerInfo===y.containerInfo&&w.stateNode.implementation===y.implementation){n(m,w.sibling),w=o(w,y.children||[]),w.return=m,m=w;break e}else{n(m,w);break}else t(m,w);w=w.sibling}w=w0(y,m.mode,b),w.return=m,m=w}return i(m);case Is:return E=y._init,g(m,w,E(y._payload),b)}if(Bc(y))return v(m,w,y,b);if(vc(y))return p(m,w,y,b);Kf(m,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,w!==null&&w.tag===6?(n(m,w.sibling),w=o(w,y),w.return=m,m=w):(n(m,w),w=y0(y,m.mode,b),w.return=m,m=w),i(m)):n(m,w)}return g}var hl=l$(!0),c$=l$(!1),gh=ai(null),yh=null,Za=null,Mg=null;function Fg(){Mg=Za=yh=null}function Dg(e){var t=gh.current;Ht(gh),e._currentValue=t}function gv(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ol(e,t){yh=e,Mg=Za=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(fr=!0),e.firstContext=null)}function Yr(e){var t=e._currentValue;if(Mg!==e)if(e={context:e,memoizedValue:t,next:null},Za===null){if(yh===null)throw Error(Me(308));Za=e,yh.dependencies={lanes:0,firstContext:e}}else Za=Za.next=e;return t}var Bi=null;function Ig(e){Bi===null?Bi=[e]:Bi.push(e)}function u$(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,Ig(t)):(n.next=o.next,o.next=n),t.interleaved=n,ls(e,r)}function ls(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var zs=!1;function zg(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function f$(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ss(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function qs(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Tt&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,ls(e,n)}return o=r.interleaved,o===null?(t.next=t,Ig(r)):(t.next=o.next,o.next=t),r.interleaved=t,ls(e,n)}function Bd(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,_g(e,n)}}function T5(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?o=s=i:s=s.next=i,n=n.next}while(n!==null);s===null?o=s=t:s=s.next=t}else o=s=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function wh(e,t,n,r){var o=e.updateQueue;zs=!1;var s=o.firstBaseUpdate,i=o.lastBaseUpdate,a=o.shared.pending;if(a!==null){o.shared.pending=null;var l=a,c=l.next;l.next=null,i===null?s=c:i.next=c,i=l;var u=e.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==i&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var f=o.baseState;i=0,u=c=l=null,a=s;do{var d=a.lane,h=a.eventTime;if((r&d)===d){u!==null&&(u=u.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=e,p=a;switch(d=t,h=n,p.tag){case 1:if(v=p.payload,typeof v=="function"){f=v.call(h,f,d);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=p.payload,d=typeof v=="function"?v.call(h,f,d):v,d==null)break e;f=Jt({},f,d);break e;case 2:zs=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,d=o.effects,d===null?o.effects=[a]:d.push(a))}else h={eventTime:h,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=h,l=f):u=u.next=h,i|=d;if(a=a.next,a===null){if(a=o.shared.pending,a===null)break;d=a,a=d.next,d.next=null,o.lastBaseUpdate=d,o.shared.pending=null}}while(!0);if(u===null&&(l=f),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=u,t=o.shared.interleaved,t!==null){o=t;do i|=o.lane,o=o.next;while(o!==t)}else s===null&&(o.shared.lanes=0);Zi|=i,e.lanes=i,e.memoizedState=f}}function C5(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(Me(191,o));o.call(r)}}}var Fu={},Io=ai(Fu),pu=ai(Fu),mu=ai(Fu);function Gi(e){if(e===Fu)throw Error(Me(174));return e}function Bg(e,t){switch(Bt(mu,t),Bt(pu,e),Bt(Io,Fu),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Qm(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Qm(t,e)}Ht(Io),Bt(Io,t)}function pl(){Ht(Io),Ht(pu),Ht(mu)}function d$(e){Gi(mu.current);var t=Gi(Io.current),n=Qm(t,e.type);t!==n&&(Bt(pu,e),Bt(Io,n))}function Gg(e){pu.current===e&&(Ht(Io),Ht(pu))}var Qt=ai(0);function xh(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var d0=[];function jg(){for(var e=0;e<d0.length;e++)d0[e]._workInProgressVersionPrimary=null;d0.length=0}var Gd=hs.ReactCurrentDispatcher,h0=hs.ReactCurrentBatchConfig,qi=0,Kt=null,Sn=null,kn=null,bh=!1,Jc=!1,vu=0,GN=0;function jn(){throw Error(Me(321))}function Vg(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!go(e[n],t[n]))return!1;return!0}function Ug(e,t,n,r,o,s){if(qi=s,Kt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Gd.current=e===null||e.memoizedState===null?HN:WN,e=n(r,o),Jc){s=0;do{if(Jc=!1,vu=0,25<=s)throw Error(Me(301));s+=1,kn=Sn=null,t.updateQueue=null,Gd.current=XN,e=n(r,o)}while(Jc)}if(Gd.current=Sh,t=Sn!==null&&Sn.next!==null,qi=0,kn=Sn=Kt=null,bh=!1,t)throw Error(Me(300));return e}function Hg(){var e=vu!==0;return vu=0,e}function Oo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kn===null?Kt.memoizedState=kn=e:kn=kn.next=e,kn}function qr(){if(Sn===null){var e=Kt.alternate;e=e!==null?e.memoizedState:null}else e=Sn.next;var t=kn===null?Kt.memoizedState:kn.next;if(t!==null)kn=t,Sn=e;else{if(e===null)throw Error(Me(310));Sn=e,e={memoizedState:Sn.memoizedState,baseState:Sn.baseState,baseQueue:Sn.baseQueue,queue:Sn.queue,next:null},kn===null?Kt.memoizedState=kn=e:kn=kn.next=e}return kn}function gu(e,t){return typeof t=="function"?t(e):t}function p0(e){var t=qr(),n=t.queue;if(n===null)throw Error(Me(311));n.lastRenderedReducer=e;var r=Sn,o=r.baseQueue,s=n.pending;if(s!==null){if(o!==null){var i=o.next;o.next=s.next,s.next=i}r.baseQueue=o=s,n.pending=null}if(o!==null){s=o.next,r=r.baseState;var a=i=null,l=null,c=s;do{var u=c.lane;if((qi&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,i=r):l=l.next=f,Kt.lanes|=u,Zi|=u}c=c.next}while(c!==null&&c!==s);l===null?i=r:l.next=a,go(r,t.memoizedState)||(fr=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do s=o.lane,Kt.lanes|=s,Zi|=s,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function m0(e){var t=qr(),n=t.queue;if(n===null)throw Error(Me(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,s=t.memoizedState;if(o!==null){n.pending=null;var i=o=o.next;do s=e(s,i.action),i=i.next;while(i!==o);go(s,t.memoizedState)||(fr=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function h$(){}function p$(e,t){var n=Kt,r=qr(),o=t(),s=!go(r.memoizedState,o);if(s&&(r.memoizedState=o,fr=!0),r=r.queue,Wg(g$.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||kn!==null&&kn.memoizedState.tag&1){if(n.flags|=2048,yu(9,v$.bind(null,n,r,o,t),void 0,null),Rn===null)throw Error(Me(349));qi&30||m$(n,t,o)}return o}function m$(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Kt.updateQueue,t===null?(t={lastEffect:null,stores:null},Kt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function v$(e,t,n,r){t.value=n,t.getSnapshot=r,y$(t)&&w$(e)}function g$(e,t,n){return n(function(){y$(t)&&w$(e)})}function y$(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!go(e,n)}catch{return!0}}function w$(e){var t=ls(e,1);t!==null&&mo(t,e,1,-1)}function P5(e){var t=Oo();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gu,lastRenderedState:e},t.queue=e,e=e.dispatch=UN.bind(null,Kt,e),[t.memoizedState,e]}function yu(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Kt.updateQueue,t===null?(t={lastEffect:null,stores:null},Kt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function x$(){return qr().memoizedState}function jd(e,t,n,r){var o=Oo();Kt.flags|=e,o.memoizedState=yu(1|t,n,void 0,r===void 0?null:r)}function ap(e,t,n,r){var o=qr();r=r===void 0?null:r;var s=void 0;if(Sn!==null){var i=Sn.memoizedState;if(s=i.destroy,r!==null&&Vg(r,i.deps)){o.memoizedState=yu(t,n,s,r);return}}Kt.flags|=e,o.memoizedState=yu(1|t,n,s,r)}function k5(e,t){return jd(8390656,8,e,t)}function Wg(e,t){return ap(2048,8,e,t)}function b$(e,t){return ap(4,2,e,t)}function S$(e,t){return ap(4,4,e,t)}function E$(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function _$(e,t,n){return n=n!=null?n.concat([e]):null,ap(4,4,E$.bind(null,t,e),n)}function Xg(){}function $$(e,t){var n=qr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Vg(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function A$(e,t){var n=qr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Vg(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function T$(e,t,n){return qi&21?(go(n,t)||(n=N_(),Kt.lanes|=n,Zi|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,fr=!0),e.memoizedState=n)}function jN(e,t){var n=Rt;Rt=n!==0&&4>n?n:4,e(!0);var r=h0.transition;h0.transition={};try{e(!1),t()}finally{Rt=n,h0.transition=r}}function C$(){return qr().memoizedState}function VN(e,t,n){var r=Qs(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},P$(e))k$(t,n);else if(n=u$(e,t,n,r),n!==null){var o=nr();mo(n,e,r,o),R$(n,t,r)}}function UN(e,t,n){var r=Qs(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(P$(e))k$(t,o);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var i=t.lastRenderedState,a=s(i,n);if(o.hasEagerState=!0,o.eagerState=a,go(a,i)){var l=t.interleaved;l===null?(o.next=o,Ig(t)):(o.next=l.next,l.next=o),t.interleaved=o;return}}catch{}finally{}n=u$(e,t,o,r),n!==null&&(o=nr(),mo(n,e,r,o),R$(n,t,r))}}function P$(e){var t=e.alternate;return e===Kt||t!==null&&t===Kt}function k$(e,t){Jc=bh=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function R$(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,_g(e,n)}}var Sh={readContext:Yr,useCallback:jn,useContext:jn,useEffect:jn,useImperativeHandle:jn,useInsertionEffect:jn,useLayoutEffect:jn,useMemo:jn,useReducer:jn,useRef:jn,useState:jn,useDebugValue:jn,useDeferredValue:jn,useTransition:jn,useMutableSource:jn,useSyncExternalStore:jn,useId:jn,unstable_isNewReconciler:!1},HN={readContext:Yr,useCallback:function(e,t){return Oo().memoizedState=[e,t===void 0?null:t],e},useContext:Yr,useEffect:k5,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,jd(4194308,4,E$.bind(null,t,e),n)},useLayoutEffect:function(e,t){return jd(4194308,4,e,t)},useInsertionEffect:function(e,t){return jd(4,2,e,t)},useMemo:function(e,t){var n=Oo();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Oo();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=VN.bind(null,Kt,e),[r.memoizedState,e]},useRef:function(e){var t=Oo();return e={current:e},t.memoizedState=e},useState:P5,useDebugValue:Xg,useDeferredValue:function(e){return Oo().memoizedState=e},useTransition:function(){var e=P5(!1),t=e[0];return e=jN.bind(null,e[1]),Oo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Kt,o=Oo();if(Xt){if(n===void 0)throw Error(Me(407));n=n()}else{if(n=t(),Rn===null)throw Error(Me(349));qi&30||m$(r,t,n)}o.memoizedState=n;var s={value:n,getSnapshot:t};return o.queue=s,k5(g$.bind(null,r,s,e),[e]),r.flags|=2048,yu(9,v$.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Oo(),t=Rn.identifierPrefix;if(Xt){var n=rs,r=ns;n=(r&~(1<<32-po(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=vu++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=GN++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},WN={readContext:Yr,useCallback:$$,useContext:Yr,useEffect:Wg,useImperativeHandle:_$,useInsertionEffect:b$,useLayoutEffect:S$,useMemo:A$,useReducer:p0,useRef:x$,useState:function(){return p0(gu)},useDebugValue:Xg,useDeferredValue:function(e){var t=qr();return T$(t,Sn.memoizedState,e)},useTransition:function(){var e=p0(gu)[0],t=qr().memoizedState;return[e,t]},useMutableSource:h$,useSyncExternalStore:p$,useId:C$,unstable_isNewReconciler:!1},XN={readContext:Yr,useCallback:$$,useContext:Yr,useEffect:Wg,useImperativeHandle:_$,useInsertionEffect:b$,useLayoutEffect:S$,useMemo:A$,useReducer:m0,useRef:x$,useState:function(){return m0(gu)},useDebugValue:Xg,useDeferredValue:function(e){var t=qr();return Sn===null?t.memoizedState=e:T$(t,Sn.memoizedState,e)},useTransition:function(){var e=m0(gu)[0],t=qr().memoizedState;return[e,t]},useMutableSource:h$,useSyncExternalStore:p$,useId:C$,unstable_isNewReconciler:!1};function co(e,t){if(e&&e.defaultProps){t=Jt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function yv(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Jt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var lp={isMounted:function(e){return(e=e._reactInternals)?na(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=nr(),o=Qs(e),s=ss(r,o);s.payload=t,n!=null&&(s.callback=n),t=qs(e,s,o),t!==null&&(mo(t,e,o,r),Bd(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=nr(),o=Qs(e),s=ss(r,o);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=qs(e,s,o),t!==null&&(mo(t,e,o,r),Bd(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=nr(),r=Qs(e),o=ss(n,r);o.tag=2,t!=null&&(o.callback=t),t=qs(e,o,r),t!==null&&(mo(t,e,r,n),Bd(t,e,r))}};function R5(e,t,n,r,o,s,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,i):t.prototype&&t.prototype.isPureReactComponent?!uu(n,r)||!uu(o,s):!0}function N$(e,t,n){var r=!1,o=ni,s=t.contextType;return typeof s=="object"&&s!==null?s=Yr(s):(o=hr(t)?Xi:Xn.current,r=t.contextTypes,s=(r=r!=null)?fl(e,o):ni),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=lp,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=s),t}function N5(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&lp.enqueueReplaceState(t,t.state,null)}function wv(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},zg(e);var s=t.contextType;typeof s=="object"&&s!==null?o.context=Yr(s):(s=hr(t)?Xi:Xn.current,o.context=fl(e,s)),o.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(yv(e,t,s,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&lp.enqueueReplaceState(o,o.state,null),wh(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function ml(e,t){try{var n="",r=t;do n+=b6(r),r=r.return;while(r);var o=n}catch(s){o=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:o,digest:null}}function v0(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function xv(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var YN=typeof WeakMap=="function"?WeakMap:Map;function O$(e,t,n){n=ss(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){_h||(_h=!0,kv=r),xv(e,t)},n}function L$(e,t,n){n=ss(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){xv(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){xv(e,t),typeof r!="function"&&(Zs===null?Zs=new Set([this]):Zs.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function O5(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new YN;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=lO.bind(null,e,t,n),t.then(e,e))}function L5(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function M5(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ss(-1,1),t.tag=2,qs(n,t,1))),n.lanes|=1),e)}var qN=hs.ReactCurrentOwner,fr=!1;function Qn(e,t,n,r){t.child=e===null?c$(t,null,n,r):hl(t,e.child,n,r)}function F5(e,t,n,r,o){n=n.render;var s=t.ref;return ol(t,o),r=Ug(e,t,n,r,s,o),n=Hg(),e!==null&&!fr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,cs(e,t,o)):(Xt&&n&&Ng(t),t.flags|=1,Qn(e,t,r,o),t.child)}function D5(e,t,n,r,o){if(e===null){var s=n.type;return typeof s=="function"&&!ty(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,M$(e,t,s,r,o)):(e=Wd(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&o)){var i=s.memoizedProps;if(n=n.compare,n=n!==null?n:uu,n(i,r)&&e.ref===t.ref)return cs(e,t,o)}return t.flags|=1,e=Ks(s,r),e.ref=t.ref,e.return=t,t.child=e}function M$(e,t,n,r,o){if(e!==null){var s=e.memoizedProps;if(uu(s,r)&&e.ref===t.ref)if(fr=!1,t.pendingProps=r=s,(e.lanes&o)!==0)e.flags&131072&&(fr=!0);else return t.lanes=e.lanes,cs(e,t,o)}return bv(e,t,n,r,o)}function F$(e,t,n){var r=t.pendingProps,o=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Bt(Ka,Ar),Ar|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Bt(Ka,Ar),Ar|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Bt(Ka,Ar),Ar|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Bt(Ka,Ar),Ar|=r;return Qn(e,t,o,n),t.child}function D$(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function bv(e,t,n,r,o){var s=hr(n)?Xi:Xn.current;return s=fl(t,s),ol(t,o),n=Ug(e,t,n,r,s,o),r=Hg(),e!==null&&!fr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,cs(e,t,o)):(Xt&&r&&Ng(t),t.flags|=1,Qn(e,t,n,o),t.child)}function I5(e,t,n,r,o){if(hr(n)){var s=!0;ph(t)}else s=!1;if(ol(t,o),t.stateNode===null)Vd(e,t),N$(t,n,r),wv(t,n,r,o),r=!0;else if(e===null){var i=t.stateNode,a=t.memoizedProps;i.props=a;var l=i.context,c=n.contextType;typeof c=="object"&&c!==null?c=Yr(c):(c=hr(n)?Xi:Xn.current,c=fl(t,c));var u=n.getDerivedStateFromProps,f=typeof u=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==r||l!==c)&&N5(t,i,r,c),zs=!1;var d=t.memoizedState;i.state=d,wh(t,r,i,o),l=t.memoizedState,a!==r||d!==l||dr.current||zs?(typeof u=="function"&&(yv(t,n,u,r),l=t.memoizedState),(a=zs||R5(t,n,a,r,d,l,c))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),i.props=r,i.state=l,i.context=c,r=a):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,f$(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:co(t.type,a),i.props=c,f=t.pendingProps,d=i.context,l=n.contextType,typeof l=="object"&&l!==null?l=Yr(l):(l=hr(n)?Xi:Xn.current,l=fl(t,l));var h=n.getDerivedStateFromProps;(u=typeof h=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==f||d!==l)&&N5(t,i,r,l),zs=!1,d=t.memoizedState,i.state=d,wh(t,r,i,o);var v=t.memoizedState;a!==f||d!==v||dr.current||zs?(typeof h=="function"&&(yv(t,n,h,r),v=t.memoizedState),(c=zs||R5(t,n,c,r,d,v,l)||!1)?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,v,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,v,l)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),i.props=r,i.state=v,i.context=l,r=c):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Sv(e,t,n,r,s,o)}function Sv(e,t,n,r,o,s){D$(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return o&&E5(t,n,!1),cs(e,t,s);r=t.stateNode,qN.current=t;var a=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=hl(t,e.child,null,s),t.child=hl(t,null,a,s)):Qn(e,t,a,s),t.memoizedState=r.state,o&&E5(t,n,!0),t.child}function I$(e){var t=e.stateNode;t.pendingContext?S5(e,t.pendingContext,t.pendingContext!==t.context):t.context&&S5(e,t.context,!1),Bg(e,t.containerInfo)}function z5(e,t,n,r,o){return dl(),Lg(o),t.flags|=256,Qn(e,t,n,r),t.child}var Ev={dehydrated:null,treeContext:null,retryLane:0};function _v(e){return{baseLanes:e,cachePool:null,transitions:null}}function z$(e,t,n){var r=t.pendingProps,o=Qt.current,s=!1,i=(t.flags&128)!==0,a;if((a=i)||(a=e!==null&&e.memoizedState===null?!1:(o&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),Bt(Qt,o&1),e===null)return vv(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,s?(r=t.mode,s=t.child,i={mode:"hidden",children:i},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=i):s=fp(i,r,0,null),e=Ui(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=_v(n),t.memoizedState=Ev,e):Yg(t,i));if(o=e.memoizedState,o!==null&&(a=o.dehydrated,a!==null))return ZN(e,t,i,r,a,o,n);if(s){s=r.fallback,i=t.mode,o=e.child,a=o.sibling;var l={mode:"hidden",children:r.children};return!(i&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Ks(o,l),r.subtreeFlags=o.subtreeFlags&14680064),a!==null?s=Ks(a,s):(s=Ui(s,i,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,i=e.child.memoizedState,i=i===null?_v(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},s.memoizedState=i,s.childLanes=e.childLanes&~n,t.memoizedState=Ev,r}return s=e.child,e=s.sibling,r=Ks(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Yg(e,t){return t=fp({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Jf(e,t,n,r){return r!==null&&Lg(r),hl(t,e.child,null,n),e=Yg(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ZN(e,t,n,r,o,s,i){if(n)return t.flags&256?(t.flags&=-257,r=v0(Error(Me(422))),Jf(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,o=t.mode,r=fp({mode:"visible",children:r.children},o,0,null),s=Ui(s,o,i,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&hl(t,e.child,null,i),t.child.memoizedState=_v(i),t.memoizedState=Ev,s);if(!(t.mode&1))return Jf(e,t,i,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Me(419)),r=v0(s,r,void 0),Jf(e,t,i,r)}if(a=(i&e.childLanes)!==0,fr||a){if(r=Rn,r!==null){switch(i&-i){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|i)?0:o,o!==0&&o!==s.retryLane&&(s.retryLane=o,ls(e,o),mo(r,e,o,-1))}return ey(),r=v0(Error(Me(421))),Jf(e,t,i,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=cO.bind(null,e),o._reactRetry=t,null):(e=s.treeContext,Tr=Ys(o.nextSibling),Pr=t,Xt=!0,fo=null,e!==null&&(Gr[jr++]=ns,Gr[jr++]=rs,Gr[jr++]=Yi,ns=e.id,rs=e.overflow,Yi=t),t=Yg(t,r.children),t.flags|=4096,t)}function B5(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),gv(e.return,t,n)}function g0(e,t,n,r,o){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=o)}function B$(e,t,n){var r=t.pendingProps,o=r.revealOrder,s=r.tail;if(Qn(e,t,r.children,n),r=Qt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&B5(e,n,t);else if(e.tag===19)B5(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Bt(Qt,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&xh(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),g0(t,!1,o,n,s);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&xh(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}g0(t,!0,n,null,s);break;case"together":g0(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vd(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function cs(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Zi|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Me(153));if(t.child!==null){for(e=t.child,n=Ks(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ks(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function QN(e,t,n){switch(t.tag){case 3:I$(t),dl();break;case 5:d$(t);break;case 1:hr(t.type)&&ph(t);break;case 4:Bg(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;Bt(gh,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Bt(Qt,Qt.current&1),t.flags|=128,null):n&t.child.childLanes?z$(e,t,n):(Bt(Qt,Qt.current&1),e=cs(e,t,n),e!==null?e.sibling:null);Bt(Qt,Qt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return B$(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Bt(Qt,Qt.current),r)break;return null;case 22:case 23:return t.lanes=0,F$(e,t,n)}return cs(e,t,n)}var G$,$v,j$,V$;G$=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};$v=function(){};j$=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Gi(Io.current);var s=null;switch(n){case"input":o=Xm(e,o),r=Xm(e,r),s=[];break;case"select":o=Jt({},o,{value:void 0}),r=Jt({},r,{value:void 0}),s=[];break;case"textarea":o=Zm(e,o),r=Zm(e,r),s=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=dh)}Km(n,r);var i;n=null;for(c in o)if(!r.hasOwnProperty(c)&&o.hasOwnProperty(c)&&o[c]!=null)if(c==="style"){var a=o[c];for(i in a)a.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ru.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=o!=null?o[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(i in a)!a.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in l)l.hasOwnProperty(i)&&a[i]!==l[i]&&(n||(n={}),n[i]=l[i])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ru.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Vt("scroll",e),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}};V$=function(e,t,n,r){n!==r&&(t.flags|=4)};function Sc(e,t){if(!Xt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Vn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function KN(e,t,n){var r=t.pendingProps;switch(Og(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vn(t),null;case 1:return hr(t.type)&&hh(),Vn(t),null;case 3:return r=t.stateNode,pl(),Ht(dr),Ht(Xn),jg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Qf(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,fo!==null&&(Ov(fo),fo=null))),$v(e,t),Vn(t),null;case 5:Gg(t);var o=Gi(mu.current);if(n=t.type,e!==null&&t.stateNode!=null)j$(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Me(166));return Vn(t),null}if(e=Gi(Io.current),Qf(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Lo]=t,r[hu]=s,e=(t.mode&1)!==0,n){case"dialog":Vt("cancel",r),Vt("close",r);break;case"iframe":case"object":case"embed":Vt("load",r);break;case"video":case"audio":for(o=0;o<jc.length;o++)Vt(jc[o],r);break;case"source":Vt("error",r);break;case"img":case"image":case"link":Vt("error",r),Vt("load",r);break;case"details":Vt("toggle",r);break;case"input":qx(r,s),Vt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Vt("invalid",r);break;case"textarea":Qx(r,s),Vt("invalid",r)}Km(n,s),o=null;for(var i in s)if(s.hasOwnProperty(i)){var a=s[i];i==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Zf(r.textContent,a,e),o=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Zf(r.textContent,a,e),o=["children",""+a]):ru.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&Vt("scroll",r)}switch(n){case"input":jf(r),Zx(r,s,!0);break;case"textarea":jf(r),Kx(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=dh)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=g_(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[Lo]=t,e[hu]=r,G$(e,t,!1,!1),t.stateNode=e;e:{switch(i=Jm(n,r),n){case"dialog":Vt("cancel",e),Vt("close",e),o=r;break;case"iframe":case"object":case"embed":Vt("load",e),o=r;break;case"video":case"audio":for(o=0;o<jc.length;o++)Vt(jc[o],e);o=r;break;case"source":Vt("error",e),o=r;break;case"img":case"image":case"link":Vt("error",e),Vt("load",e),o=r;break;case"details":Vt("toggle",e),o=r;break;case"input":qx(e,r),o=Xm(e,r),Vt("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=Jt({},r,{value:void 0}),Vt("invalid",e);break;case"textarea":Qx(e,r),o=Zm(e,r),Vt("invalid",e);break;default:o=r}Km(n,o),a=o;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?x_(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&y_(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ou(e,l):typeof l=="number"&&ou(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ru.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Vt("scroll",e):l!=null&&yg(e,s,l,i))}switch(n){case"input":jf(e),Zx(e,r,!1);break;case"textarea":jf(e),Kx(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ti(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?el(e,!!r.multiple,s,!1):r.defaultValue!=null&&el(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=dh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Vn(t),null;case 6:if(e&&t.stateNode!=null)V$(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Me(166));if(n=Gi(mu.current),Gi(Io.current),Qf(t)){if(r=t.stateNode,n=t.memoizedProps,r[Lo]=t,(s=r.nodeValue!==n)&&(e=Pr,e!==null))switch(e.tag){case 3:Zf(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Zf(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Lo]=t,t.stateNode=r}return Vn(t),null;case 13:if(Ht(Qt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Xt&&Tr!==null&&t.mode&1&&!(t.flags&128))a$(),dl(),t.flags|=98560,s=!1;else if(s=Qf(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(Me(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Me(317));s[Lo]=t}else dl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Vn(t),s=!1}else fo!==null&&(Ov(fo),fo=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Qt.current&1?En===0&&(En=3):ey())),t.updateQueue!==null&&(t.flags|=4),Vn(t),null);case 4:return pl(),$v(e,t),e===null&&fu(t.stateNode.containerInfo),Vn(t),null;case 10:return Dg(t.type._context),Vn(t),null;case 17:return hr(t.type)&&hh(),Vn(t),null;case 19:if(Ht(Qt),s=t.memoizedState,s===null)return Vn(t),null;if(r=(t.flags&128)!==0,i=s.rendering,i===null)if(r)Sc(s,!1);else{if(En!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=xh(e),i!==null){for(t.flags|=128,Sc(s,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,i=s.alternate,i===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,s.type=i.type,e=i.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Bt(Qt,Qt.current&1|2),t.child}e=e.sibling}s.tail!==null&&dn()>vl&&(t.flags|=128,r=!0,Sc(s,!1),t.lanes=4194304)}else{if(!r)if(e=xh(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Sc(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!Xt)return Vn(t),null}else 2*dn()-s.renderingStartTime>vl&&n!==1073741824&&(t.flags|=128,r=!0,Sc(s,!1),t.lanes=4194304);s.isBackwards?(i.sibling=t.child,t.child=i):(n=s.last,n!==null?n.sibling=i:t.child=i,s.last=i)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=dn(),t.sibling=null,n=Qt.current,Bt(Qt,r?n&1|2:n&1),t):(Vn(t),null);case 22:case 23:return Jg(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ar&1073741824&&(Vn(t),t.subtreeFlags&6&&(t.flags|=8192)):Vn(t),null;case 24:return null;case 25:return null}throw Error(Me(156,t.tag))}function JN(e,t){switch(Og(t),t.tag){case 1:return hr(t.type)&&hh(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return pl(),Ht(dr),Ht(Xn),jg(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Gg(t),null;case 13:if(Ht(Qt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Me(340));dl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ht(Qt),null;case 4:return pl(),null;case 10:return Dg(t.type._context),null;case 22:case 23:return Jg(),null;case 24:return null;default:return null}}var ed=!1,Un=!1,eO=typeof WeakSet=="function"?WeakSet:Set,Xe=null;function Qa(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){on(e,t,r)}else n.current=null}function Av(e,t,n){try{n()}catch(r){on(e,t,r)}}var G5=!1;function tO(e,t){if(cv=ch,e=Y_(),Rg(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var i=0,a=-1,l=-1,c=0,u=0,f=e,d=null;t:for(;;){for(var h;f!==n||o!==0&&f.nodeType!==3||(a=i+o),f!==s||r!==0&&f.nodeType!==3||(l=i+r),f.nodeType===3&&(i+=f.nodeValue.length),(h=f.firstChild)!==null;)d=f,f=h;for(;;){if(f===e)break t;if(d===n&&++c===o&&(a=i),d===s&&++u===r&&(l=i),(h=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(uv={focusedElem:e,selectionRange:n},ch=!1,Xe=t;Xe!==null;)if(t=Xe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Xe=e;else for(;Xe!==null;){t=Xe;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var p=v.memoizedProps,g=v.memoizedState,m=t.stateNode,w=m.getSnapshotBeforeUpdate(t.elementType===t.type?p:co(t.type,p),g);m.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Me(163))}}catch(b){on(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,Xe=e;break}Xe=t.return}return v=G5,G5=!1,v}function eu(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var s=o.destroy;o.destroy=void 0,s!==void 0&&Av(t,n,s)}o=o.next}while(o!==r)}}function cp(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Tv(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function U$(e){var t=e.alternate;t!==null&&(e.alternate=null,U$(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Lo],delete t[hu],delete t[hv],delete t[DN],delete t[IN])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function H$(e){return e.tag===5||e.tag===3||e.tag===4}function j5(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||H$(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Cv(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=dh));else if(r!==4&&(e=e.child,e!==null))for(Cv(e,t,n),e=e.sibling;e!==null;)Cv(e,t,n),e=e.sibling}function Pv(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Pv(e,t,n),e=e.sibling;e!==null;)Pv(e,t,n),e=e.sibling}var Fn=null,uo=!1;function As(e,t,n){for(n=n.child;n!==null;)W$(e,t,n),n=n.sibling}function W$(e,t,n){if(Do&&typeof Do.onCommitFiberUnmount=="function")try{Do.onCommitFiberUnmount(tp,n)}catch{}switch(n.tag){case 5:Un||Qa(n,t);case 6:var r=Fn,o=uo;Fn=null,As(e,t,n),Fn=r,uo=o,Fn!==null&&(uo?(e=Fn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Fn.removeChild(n.stateNode));break;case 18:Fn!==null&&(uo?(e=Fn,n=n.stateNode,e.nodeType===8?u0(e.parentNode,n):e.nodeType===1&&u0(e,n),lu(e)):u0(Fn,n.stateNode));break;case 4:r=Fn,o=uo,Fn=n.stateNode.containerInfo,uo=!0,As(e,t,n),Fn=r,uo=o;break;case 0:case 11:case 14:case 15:if(!Un&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var s=o,i=s.destroy;s=s.tag,i!==void 0&&(s&2||s&4)&&Av(n,t,i),o=o.next}while(o!==r)}As(e,t,n);break;case 1:if(!Un&&(Qa(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){on(n,t,a)}As(e,t,n);break;case 21:As(e,t,n);break;case 22:n.mode&1?(Un=(r=Un)||n.memoizedState!==null,As(e,t,n),Un=r):As(e,t,n);break;default:As(e,t,n)}}function V5(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new eO),t.forEach(function(r){var o=uO.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function ao(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var s=e,i=t,a=i;e:for(;a!==null;){switch(a.tag){case 5:Fn=a.stateNode,uo=!1;break e;case 3:Fn=a.stateNode.containerInfo,uo=!0;break e;case 4:Fn=a.stateNode.containerInfo,uo=!0;break e}a=a.return}if(Fn===null)throw Error(Me(160));W$(s,i,o),Fn=null,uo=!1;var l=o.alternate;l!==null&&(l.return=null),o.return=null}catch(c){on(o,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)X$(t,e),t=t.sibling}function X$(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ao(t,e),To(e),r&4){try{eu(3,e,e.return),cp(3,e)}catch(p){on(e,e.return,p)}try{eu(5,e,e.return)}catch(p){on(e,e.return,p)}}break;case 1:ao(t,e),To(e),r&512&&n!==null&&Qa(n,n.return);break;case 5:if(ao(t,e),To(e),r&512&&n!==null&&Qa(n,n.return),e.flags&32){var o=e.stateNode;try{ou(o,"")}catch(p){on(e,e.return,p)}}if(r&4&&(o=e.stateNode,o!=null)){var s=e.memoizedProps,i=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&m_(o,s),Jm(a,i);var c=Jm(a,s);for(i=0;i<l.length;i+=2){var u=l[i],f=l[i+1];u==="style"?x_(o,f):u==="dangerouslySetInnerHTML"?y_(o,f):u==="children"?ou(o,f):yg(o,u,f,c)}switch(a){case"input":Ym(o,s);break;case"textarea":v_(o,s);break;case"select":var d=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?el(o,!!s.multiple,h,!1):d!==!!s.multiple&&(s.defaultValue!=null?el(o,!!s.multiple,s.defaultValue,!0):el(o,!!s.multiple,s.multiple?[]:"",!1))}o[hu]=s}catch(p){on(e,e.return,p)}}break;case 6:if(ao(t,e),To(e),r&4){if(e.stateNode===null)throw Error(Me(162));o=e.stateNode,s=e.memoizedProps;try{o.nodeValue=s}catch(p){on(e,e.return,p)}}break;case 3:if(ao(t,e),To(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{lu(t.containerInfo)}catch(p){on(e,e.return,p)}break;case 4:ao(t,e),To(e);break;case 13:ao(t,e),To(e),o=e.child,o.flags&8192&&(s=o.memoizedState!==null,o.stateNode.isHidden=s,!s||o.alternate!==null&&o.alternate.memoizedState!==null||(Qg=dn())),r&4&&V5(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(Un=(c=Un)||u,ao(t,e),Un=c):ao(t,e),To(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(Xe=e,u=e.child;u!==null;){for(f=Xe=u;Xe!==null;){switch(d=Xe,h=d.child,d.tag){case 0:case 11:case 14:case 15:eu(4,d,d.return);break;case 1:Qa(d,d.return);var v=d.stateNode;if(typeof v.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(p){on(r,n,p)}}break;case 5:Qa(d,d.return);break;case 22:if(d.memoizedState!==null){H5(f);continue}}h!==null?(h.return=d,Xe=h):H5(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{o=f.stateNode,c?(s=o.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=w_("display",i))}catch(p){on(e,e.return,p)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(p){on(e,e.return,p)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ao(t,e),To(e),r&4&&V5(e);break;case 21:break;default:ao(t,e),To(e)}}function To(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(H$(n)){var r=n;break e}n=n.return}throw Error(Me(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(ou(o,""),r.flags&=-33);var s=j5(e);Pv(e,s,o);break;case 3:case 4:var i=r.stateNode.containerInfo,a=j5(e);Cv(e,a,i);break;default:throw Error(Me(161))}}catch(l){on(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function nO(e,t,n){Xe=e,Y$(e)}function Y$(e,t,n){for(var r=(e.mode&1)!==0;Xe!==null;){var o=Xe,s=o.child;if(o.tag===22&&r){var i=o.memoizedState!==null||ed;if(!i){var a=o.alternate,l=a!==null&&a.memoizedState!==null||Un;a=ed;var c=Un;if(ed=i,(Un=l)&&!c)for(Xe=o;Xe!==null;)i=Xe,l=i.child,i.tag===22&&i.memoizedState!==null?W5(o):l!==null?(l.return=i,Xe=l):W5(o);for(;s!==null;)Xe=s,Y$(s),s=s.sibling;Xe=o,ed=a,Un=c}U5(e)}else o.subtreeFlags&8772&&s!==null?(s.return=o,Xe=s):U5(e)}}function U5(e){for(;Xe!==null;){var t=Xe;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Un||cp(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Un)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:co(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&C5(t,s,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}C5(t,i,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&lu(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Me(163))}Un||t.flags&512&&Tv(t)}catch(d){on(t,t.return,d)}}if(t===e){Xe=null;break}if(n=t.sibling,n!==null){n.return=t.return,Xe=n;break}Xe=t.return}}function H5(e){for(;Xe!==null;){var t=Xe;if(t===e){Xe=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Xe=n;break}Xe=t.return}}function W5(e){for(;Xe!==null;){var t=Xe;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{cp(4,t)}catch(l){on(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(l){on(t,o,l)}}var s=t.return;try{Tv(t)}catch(l){on(t,s,l)}break;case 5:var i=t.return;try{Tv(t)}catch(l){on(t,i,l)}}}catch(l){on(t,t.return,l)}if(t===e){Xe=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Xe=a;break}Xe=t.return}}var rO=Math.ceil,Eh=hs.ReactCurrentDispatcher,qg=hs.ReactCurrentOwner,Ur=hs.ReactCurrentBatchConfig,Tt=0,Rn=null,wn=null,Dn=0,Ar=0,Ka=ai(0),En=0,wu=null,Zi=0,up=0,Zg=0,tu=null,lr=null,Qg=0,vl=1/0,es=null,_h=!1,kv=null,Zs=null,td=!1,Us=null,$h=0,nu=0,Rv=null,Ud=-1,Hd=0;function nr(){return Tt&6?dn():Ud!==-1?Ud:Ud=dn()}function Qs(e){return e.mode&1?Tt&2&&Dn!==0?Dn&-Dn:BN.transition!==null?(Hd===0&&(Hd=N_()),Hd):(e=Rt,e!==0||(e=window.event,e=e===void 0?16:z_(e.type)),e):1}function mo(e,t,n,r){if(50<nu)throw nu=0,Rv=null,Error(Me(185));Ou(e,n,r),(!(Tt&2)||e!==Rn)&&(e===Rn&&(!(Tt&2)&&(up|=n),En===4&&Gs(e,Dn)),pr(e,r),n===1&&Tt===0&&!(t.mode&1)&&(vl=dn()+500,ip&&li()))}function pr(e,t){var n=e.callbackNode;B6(e,t);var r=lh(e,e===Rn?Dn:0);if(r===0)n!==null&&t5(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&t5(n),t===1)e.tag===0?zN(X5.bind(null,e)):o$(X5.bind(null,e)),MN(function(){!(Tt&6)&&li()}),n=null;else{switch(O_(r)){case 1:n=Eg;break;case 4:n=k_;break;case 16:n=ah;break;case 536870912:n=R_;break;default:n=ah}n=nA(n,q$.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function q$(e,t){if(Ud=-1,Hd=0,Tt&6)throw Error(Me(327));var n=e.callbackNode;if(sl()&&e.callbackNode!==n)return null;var r=lh(e,e===Rn?Dn:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ah(e,r);else{t=r;var o=Tt;Tt|=2;var s=Q$();(Rn!==e||Dn!==t)&&(es=null,vl=dn()+500,Vi(e,t));do try{iO();break}catch(a){Z$(e,a)}while(!0);Fg(),Eh.current=s,Tt=o,wn!==null?t=0:(Rn=null,Dn=0,t=En)}if(t!==0){if(t===2&&(o=ov(e),o!==0&&(r=o,t=Nv(e,o))),t===1)throw n=wu,Vi(e,0),Gs(e,r),pr(e,dn()),n;if(t===6)Gs(e,r);else{if(o=e.current.alternate,!(r&30)&&!oO(o)&&(t=Ah(e,r),t===2&&(s=ov(e),s!==0&&(r=s,t=Nv(e,s))),t===1))throw n=wu,Vi(e,0),Gs(e,r),pr(e,dn()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(Me(345));case 2:Mi(e,lr,es);break;case 3:if(Gs(e,r),(r&130023424)===r&&(t=Qg+500-dn(),10<t)){if(lh(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){nr(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=dv(Mi.bind(null,e,lr,es),t);break}Mi(e,lr,es);break;case 4:if(Gs(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var i=31-po(r);s=1<<i,i=t[i],i>o&&(o=i),r&=~s}if(r=o,r=dn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*rO(r/1960))-r,10<r){e.timeoutHandle=dv(Mi.bind(null,e,lr,es),r);break}Mi(e,lr,es);break;case 5:Mi(e,lr,es);break;default:throw Error(Me(329))}}}return pr(e,dn()),e.callbackNode===n?q$.bind(null,e):null}function Nv(e,t){var n=tu;return e.current.memoizedState.isDehydrated&&(Vi(e,t).flags|=256),e=Ah(e,t),e!==2&&(t=lr,lr=n,t!==null&&Ov(t)),e}function Ov(e){lr===null?lr=e:lr.push.apply(lr,e)}function oO(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],s=o.getSnapshot;o=o.value;try{if(!go(s(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Gs(e,t){for(t&=~Zg,t&=~up,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-po(t),r=1<<n;e[n]=-1,t&=~r}}function X5(e){if(Tt&6)throw Error(Me(327));sl();var t=lh(e,0);if(!(t&1))return pr(e,dn()),null;var n=Ah(e,t);if(e.tag!==0&&n===2){var r=ov(e);r!==0&&(t=r,n=Nv(e,r))}if(n===1)throw n=wu,Vi(e,0),Gs(e,t),pr(e,dn()),n;if(n===6)throw Error(Me(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Mi(e,lr,es),pr(e,dn()),null}function Kg(e,t){var n=Tt;Tt|=1;try{return e(t)}finally{Tt=n,Tt===0&&(vl=dn()+500,ip&&li())}}function Qi(e){Us!==null&&Us.tag===0&&!(Tt&6)&&sl();var t=Tt;Tt|=1;var n=Ur.transition,r=Rt;try{if(Ur.transition=null,Rt=1,e)return e()}finally{Rt=r,Ur.transition=n,Tt=t,!(Tt&6)&&li()}}function Jg(){Ar=Ka.current,Ht(Ka)}function Vi(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,LN(n)),wn!==null)for(n=wn.return;n!==null;){var r=n;switch(Og(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&hh();break;case 3:pl(),Ht(dr),Ht(Xn),jg();break;case 5:Gg(r);break;case 4:pl();break;case 13:Ht(Qt);break;case 19:Ht(Qt);break;case 10:Dg(r.type._context);break;case 22:case 23:Jg()}n=n.return}if(Rn=e,wn=e=Ks(e.current,null),Dn=Ar=t,En=0,wu=null,Zg=up=Zi=0,lr=tu=null,Bi!==null){for(t=0;t<Bi.length;t++)if(n=Bi[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,s=n.pending;if(s!==null){var i=s.next;s.next=o,r.next=i}n.pending=r}Bi=null}return e}function Z$(e,t){do{var n=wn;try{if(Fg(),Gd.current=Sh,bh){for(var r=Kt.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}bh=!1}if(qi=0,kn=Sn=Kt=null,Jc=!1,vu=0,qg.current=null,n===null||n.return===null){En=1,wu=t,wn=null;break}e:{var s=e,i=n.return,a=n,l=t;if(t=Dn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=L5(i);if(h!==null){h.flags&=-257,M5(h,i,a,s,t),h.mode&1&&O5(s,c,t),t=h,l=c;var v=t.updateQueue;if(v===null){var p=new Set;p.add(l),t.updateQueue=p}else v.add(l);break e}else{if(!(t&1)){O5(s,c,t),ey();break e}l=Error(Me(426))}}else if(Xt&&a.mode&1){var g=L5(i);if(g!==null){!(g.flags&65536)&&(g.flags|=256),M5(g,i,a,s,t),Lg(ml(l,a));break e}}s=l=ml(l,a),En!==4&&(En=2),tu===null?tu=[s]:tu.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var m=O$(s,l,t);T5(s,m);break e;case 1:a=l;var w=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Zs===null||!Zs.has(y)))){s.flags|=65536,t&=-t,s.lanes|=t;var b=L$(s,a,t);T5(s,b);break e}}s=s.return}while(s!==null)}J$(n)}catch(S){t=S,wn===n&&n!==null&&(wn=n=n.return);continue}break}while(!0)}function Q$(){var e=Eh.current;return Eh.current=Sh,e===null?Sh:e}function ey(){(En===0||En===3||En===2)&&(En=4),Rn===null||!(Zi&268435455)&&!(up&268435455)||Gs(Rn,Dn)}function Ah(e,t){var n=Tt;Tt|=2;var r=Q$();(Rn!==e||Dn!==t)&&(es=null,Vi(e,t));do try{sO();break}catch(o){Z$(e,o)}while(!0);if(Fg(),Tt=n,Eh.current=r,wn!==null)throw Error(Me(261));return Rn=null,Dn=0,En}function sO(){for(;wn!==null;)K$(wn)}function iO(){for(;wn!==null&&!R6();)K$(wn)}function K$(e){var t=tA(e.alternate,e,Ar);e.memoizedProps=e.pendingProps,t===null?J$(e):wn=t,qg.current=null}function J$(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=JN(n,t),n!==null){n.flags&=32767,wn=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{En=6,wn=null;return}}else if(n=KN(n,t,Ar),n!==null){wn=n;return}if(t=t.sibling,t!==null){wn=t;return}wn=t=e}while(t!==null);En===0&&(En=5)}function Mi(e,t,n){var r=Rt,o=Ur.transition;try{Ur.transition=null,Rt=1,aO(e,t,n,r)}finally{Ur.transition=o,Rt=r}return null}function aO(e,t,n,r){do sl();while(Us!==null);if(Tt&6)throw Error(Me(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Me(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(G6(e,s),e===Rn&&(wn=Rn=null,Dn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||td||(td=!0,nA(ah,function(){return sl(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Ur.transition,Ur.transition=null;var i=Rt;Rt=1;var a=Tt;Tt|=4,qg.current=null,tO(e,n),X$(n,e),TN(uv),ch=!!cv,uv=cv=null,e.current=n,nO(n),N6(),Tt=a,Rt=i,Ur.transition=s}else e.current=n;if(td&&(td=!1,Us=e,$h=o),s=e.pendingLanes,s===0&&(Zs=null),M6(n.stateNode),pr(e,dn()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(_h)throw _h=!1,e=kv,kv=null,e;return $h&1&&e.tag!==0&&sl(),s=e.pendingLanes,s&1?e===Rv?nu++:(nu=0,Rv=e):nu=0,li(),null}function sl(){if(Us!==null){var e=O_($h),t=Ur.transition,n=Rt;try{if(Ur.transition=null,Rt=16>e?16:e,Us===null)var r=!1;else{if(e=Us,Us=null,$h=0,Tt&6)throw Error(Me(331));var o=Tt;for(Tt|=4,Xe=e.current;Xe!==null;){var s=Xe,i=s.child;if(Xe.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Xe=c;Xe!==null;){var u=Xe;switch(u.tag){case 0:case 11:case 15:eu(8,u,s)}var f=u.child;if(f!==null)f.return=u,Xe=f;else for(;Xe!==null;){u=Xe;var d=u.sibling,h=u.return;if(U$(u),u===c){Xe=null;break}if(d!==null){d.return=h,Xe=d;break}Xe=h}}}var v=s.alternate;if(v!==null){var p=v.child;if(p!==null){v.child=null;do{var g=p.sibling;p.sibling=null,p=g}while(p!==null)}}Xe=s}}if(s.subtreeFlags&2064&&i!==null)i.return=s,Xe=i;else e:for(;Xe!==null;){if(s=Xe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:eu(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,Xe=m;break e}Xe=s.return}}var w=e.current;for(Xe=w;Xe!==null;){i=Xe;var y=i.child;if(i.subtreeFlags&2064&&y!==null)y.return=i,Xe=y;else e:for(i=w;Xe!==null;){if(a=Xe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:cp(9,a)}}catch(S){on(a,a.return,S)}if(a===i){Xe=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,Xe=b;break e}Xe=a.return}}if(Tt=o,li(),Do&&typeof Do.onPostCommitFiberRoot=="function")try{Do.onPostCommitFiberRoot(tp,e)}catch{}r=!0}return r}finally{Rt=n,Ur.transition=t}}return!1}function Y5(e,t,n){t=ml(n,t),t=O$(e,t,1),e=qs(e,t,1),t=nr(),e!==null&&(Ou(e,1,t),pr(e,t))}function on(e,t,n){if(e.tag===3)Y5(e,e,n);else for(;t!==null;){if(t.tag===3){Y5(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Zs===null||!Zs.has(r))){e=ml(n,e),e=L$(t,e,1),t=qs(t,e,1),e=nr(),t!==null&&(Ou(t,1,e),pr(t,e));break}}t=t.return}}function lO(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=nr(),e.pingedLanes|=e.suspendedLanes&n,Rn===e&&(Dn&n)===n&&(En===4||En===3&&(Dn&130023424)===Dn&&500>dn()-Qg?Vi(e,0):Zg|=n),pr(e,t)}function eA(e,t){t===0&&(e.mode&1?(t=Hf,Hf<<=1,!(Hf&130023424)&&(Hf=4194304)):t=1);var n=nr();e=ls(e,t),e!==null&&(Ou(e,t,n),pr(e,n))}function cO(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),eA(e,n)}function uO(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Me(314))}r!==null&&r.delete(t),eA(e,n)}var tA;tA=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||dr.current)fr=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return fr=!1,QN(e,t,n);fr=!!(e.flags&131072)}else fr=!1,Xt&&t.flags&1048576&&s$(t,vh,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Vd(e,t),e=t.pendingProps;var o=fl(t,Xn.current);ol(t,n),o=Ug(null,t,r,e,o,n);var s=Hg();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,hr(r)?(s=!0,ph(t)):s=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,zg(t),o.updater=lp,t.stateNode=o,o._reactInternals=t,wv(t,r,e,n),t=Sv(null,t,r,!0,s,n)):(t.tag=0,Xt&&s&&Ng(t),Qn(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Vd(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=dO(r),e=co(r,e),o){case 0:t=bv(null,t,r,e,n);break e;case 1:t=I5(null,t,r,e,n);break e;case 11:t=F5(null,t,r,e,n);break e;case 14:t=D5(null,t,r,co(r.type,e),n);break e}throw Error(Me(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:co(r,o),bv(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:co(r,o),I5(e,t,r,o,n);case 3:e:{if(I$(t),e===null)throw Error(Me(387));r=t.pendingProps,s=t.memoizedState,o=s.element,f$(e,t),wh(t,r,null,n);var i=t.memoizedState;if(r=i.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){o=ml(Error(Me(423)),t),t=z5(e,t,r,n,o);break e}else if(r!==o){o=ml(Error(Me(424)),t),t=z5(e,t,r,n,o);break e}else for(Tr=Ys(t.stateNode.containerInfo.firstChild),Pr=t,Xt=!0,fo=null,n=c$(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(dl(),r===o){t=cs(e,t,n);break e}Qn(e,t,r,n)}t=t.child}return t;case 5:return d$(t),e===null&&vv(t),r=t.type,o=t.pendingProps,s=e!==null?e.memoizedProps:null,i=o.children,fv(r,o)?i=null:s!==null&&fv(r,s)&&(t.flags|=32),D$(e,t),Qn(e,t,i,n),t.child;case 6:return e===null&&vv(t),null;case 13:return z$(e,t,n);case 4:return Bg(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=hl(t,null,r,n):Qn(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:co(r,o),F5(e,t,r,o,n);case 7:return Qn(e,t,t.pendingProps,n),t.child;case 8:return Qn(e,t,t.pendingProps.children,n),t.child;case 12:return Qn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,s=t.memoizedProps,i=o.value,Bt(gh,r._currentValue),r._currentValue=i,s!==null)if(go(s.value,i)){if(s.children===o.children&&!dr.current){t=cs(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){i=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=ss(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),gv(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)i=s.type===t.type?null:s.child;else if(s.tag===18){if(i=s.return,i===null)throw Error(Me(341));i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),gv(i,n,t),i=s.sibling}else i=s.child;if(i!==null)i.return=s;else for(i=s;i!==null;){if(i===t){i=null;break}if(s=i.sibling,s!==null){s.return=i.return,i=s;break}i=i.return}s=i}Qn(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,ol(t,n),o=Yr(o),r=r(o),t.flags|=1,Qn(e,t,r,n),t.child;case 14:return r=t.type,o=co(r,t.pendingProps),o=co(r.type,o),D5(e,t,r,o,n);case 15:return M$(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:co(r,o),Vd(e,t),t.tag=1,hr(r)?(e=!0,ph(t)):e=!1,ol(t,n),N$(t,r,o),wv(t,r,o,n),Sv(null,t,r,!0,e,n);case 19:return B$(e,t,n);case 22:return F$(e,t,n)}throw Error(Me(156,t.tag))};function nA(e,t){return P_(e,t)}function fO(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vr(e,t,n,r){return new fO(e,t,n,r)}function ty(e){return e=e.prototype,!(!e||!e.isReactComponent)}function dO(e){if(typeof e=="function")return ty(e)?1:0;if(e!=null){if(e=e.$$typeof,e===xg)return 11;if(e===bg)return 14}return 2}function Ks(e,t){var n=e.alternate;return n===null?(n=Vr(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Wd(e,t,n,r,o,s){var i=2;if(r=e,typeof e=="function")ty(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case ja:return Ui(n.children,o,s,t);case wg:i=8,o|=8;break;case Vm:return e=Vr(12,n,t,o|2),e.elementType=Vm,e.lanes=s,e;case Um:return e=Vr(13,n,t,o),e.elementType=Um,e.lanes=s,e;case Hm:return e=Vr(19,n,t,o),e.elementType=Hm,e.lanes=s,e;case d_:return fp(n,o,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case u_:i=10;break e;case f_:i=9;break e;case xg:i=11;break e;case bg:i=14;break e;case Is:i=16,r=null;break e}throw Error(Me(130,e==null?e:typeof e,""))}return t=Vr(i,n,t,o),t.elementType=e,t.type=r,t.lanes=s,t}function Ui(e,t,n,r){return e=Vr(7,e,r,t),e.lanes=n,e}function fp(e,t,n,r){return e=Vr(22,e,r,t),e.elementType=d_,e.lanes=n,e.stateNode={isHidden:!1},e}function y0(e,t,n){return e=Vr(6,e,null,t),e.lanes=n,e}function w0(e,t,n){return t=Vr(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function hO(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=J1(0),this.expirationTimes=J1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=J1(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function ny(e,t,n,r,o,s,i,a,l){return e=new hO(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Vr(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},zg(s),e}function pO(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ga,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function rA(e){if(!e)return ni;e=e._reactInternals;e:{if(na(e)!==e||e.tag!==1)throw Error(Me(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(hr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Me(171))}if(e.tag===1){var n=e.type;if(hr(n))return r$(e,n,t)}return t}function oA(e,t,n,r,o,s,i,a,l){return e=ny(n,r,!0,e,o,s,i,a,l),e.context=rA(null),n=e.current,r=nr(),o=Qs(n),s=ss(r,o),s.callback=t??null,qs(n,s,o),e.current.lanes=o,Ou(e,o,r),pr(e,r),e}function dp(e,t,n,r){var o=t.current,s=nr(),i=Qs(o);return n=rA(n),t.context===null?t.context=n:t.pendingContext=n,t=ss(s,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=qs(o,t,i),e!==null&&(mo(e,o,i,s),Bd(e,o,i)),i}function Th(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function q5(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ry(e,t){q5(e,t),(e=e.alternate)&&q5(e,t)}function mO(){return null}var sA=typeof reportError=="function"?reportError:function(e){console.error(e)};function oy(e){this._internalRoot=e}hp.prototype.render=oy.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Me(409));dp(e,t,null,null)};hp.prototype.unmount=oy.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Qi(function(){dp(null,e,null,null)}),t[as]=null}};function hp(e){this._internalRoot=e}hp.prototype.unstable_scheduleHydration=function(e){if(e){var t=F_();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Bs.length&&t!==0&&t<Bs[n].priority;n++);Bs.splice(n,0,e),n===0&&I_(e)}};function sy(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function pp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Z5(){}function vO(e,t,n,r,o){if(o){if(typeof r=="function"){var s=r;r=function(){var c=Th(i);s.call(c)}}var i=oA(t,r,e,0,null,!1,!1,"",Z5);return e._reactRootContainer=i,e[as]=i.current,fu(e.nodeType===8?e.parentNode:e),Qi(),i}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var a=r;r=function(){var c=Th(l);a.call(c)}}var l=ny(e,0,!1,null,null,!1,!1,"",Z5);return e._reactRootContainer=l,e[as]=l.current,fu(e.nodeType===8?e.parentNode:e),Qi(function(){dp(t,l,n,r)}),l}function mp(e,t,n,r,o){var s=n._reactRootContainer;if(s){var i=s;if(typeof o=="function"){var a=o;o=function(){var l=Th(i);a.call(l)}}dp(t,i,e,o)}else i=vO(n,t,e,o,r);return Th(i)}L_=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Gc(t.pendingLanes);n!==0&&(_g(t,n|1),pr(t,dn()),!(Tt&6)&&(vl=dn()+500,li()))}break;case 13:Qi(function(){var r=ls(e,1);if(r!==null){var o=nr();mo(r,e,1,o)}}),ry(e,1)}};$g=function(e){if(e.tag===13){var t=ls(e,134217728);if(t!==null){var n=nr();mo(t,e,134217728,n)}ry(e,134217728)}};M_=function(e){if(e.tag===13){var t=Qs(e),n=ls(e,t);if(n!==null){var r=nr();mo(n,e,t,r)}ry(e,t)}};F_=function(){return Rt};D_=function(e,t){var n=Rt;try{return Rt=e,t()}finally{Rt=n}};tv=function(e,t,n){switch(t){case"input":if(Ym(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=sp(r);if(!o)throw Error(Me(90));p_(r),Ym(r,o)}}}break;case"textarea":v_(e,n);break;case"select":t=n.value,t!=null&&el(e,!!n.multiple,t,!1)}};E_=Kg;__=Qi;var gO={usingClientEntryPoint:!1,Events:[Mu,Wa,sp,b_,S_,Kg]},Ec={findFiberByHostInstance:zi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},yO={bundleType:Ec.bundleType,version:Ec.version,rendererPackageName:Ec.rendererPackageName,rendererConfig:Ec.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:hs.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=T_(e),e===null?null:e.stateNode},findFiberByHostInstance:Ec.findFiberByHostInstance||mO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nd.isDisabled&&nd.supportsFiber)try{tp=nd.inject(yO),Do=nd}catch{}}Nr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gO;Nr.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!sy(t))throw Error(Me(200));return pO(e,t,null,n)};Nr.createRoot=function(e,t){if(!sy(e))throw Error(Me(299));var n=!1,r="",o=sA;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=ny(e,1,!1,null,null,n,!1,r,o),e[as]=t.current,fu(e.nodeType===8?e.parentNode:e),new oy(t)};Nr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Me(188)):(e=Object.keys(e).join(","),Error(Me(268,e)));return e=T_(t),e=e===null?null:e.stateNode,e};Nr.flushSync=function(e){return Qi(e)};Nr.hydrate=function(e,t,n){if(!pp(t))throw Error(Me(200));return mp(null,e,t,!0,n)};Nr.hydrateRoot=function(e,t,n){if(!sy(e))throw Error(Me(405));var r=n!=null&&n.hydratedSources||null,o=!1,s="",i=sA;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=oA(t,null,e,1,n??null,o,!1,s,i),e[as]=t.current,fu(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new hp(t)};Nr.render=function(e,t,n){if(!pp(t))throw Error(Me(200));return mp(null,e,t,!1,n)};Nr.unmountComponentAtNode=function(e){if(!pp(e))throw Error(Me(40));return e._reactRootContainer?(Qi(function(){mp(null,null,e,!1,function(){e._reactRootContainer=null,e[as]=null})}),!0):!1};Nr.unstable_batchedUpdates=Kg;Nr.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!pp(n))throw Error(Me(200));if(e==null||e._reactInternals===void 0)throw Error(Me(38));return mp(e,t,n,!1,r)};Nr.version="18.3.1-next-f1338f8080-20240426";function iA(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(iA)}catch(e){console.error(e)}}iA(),i_.exports=Nr;var vp=i_.exports;const wO=fg(vp);var Q5=vp;Gm.createRoot=Q5.createRoot,Gm.hydrateRoot=Q5.hydrateRoot;var Mo=function(){return Mo=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Mo.apply(this,arguments)};function aA(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function xO(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,s;r<o;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}var Xd="right-scroll-bar-position",Yd="width-before-scroll-bar",bO="with-scroll-bars-hidden",SO="--removed-body-scroll-bar-size";function x0(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function EO(e,t){var n=M.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=t,n.facade}var _O=typeof window<"u"?M.useLayoutEffect:M.useEffect,K5=new WeakMap;function $O(e,t){var n=EO(null,function(r){return e.forEach(function(o){return x0(o,r)})});return _O(function(){var r=K5.get(n);if(r){var o=new Set(r),s=new Set(e),i=n.current;o.forEach(function(a){s.has(a)||x0(a,null)}),s.forEach(function(a){o.has(a)||x0(a,i)})}K5.set(n,e)},[e]),n}function AO(e){return e}function TO(e,t){t===void 0&&(t=AO);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(s){var i=t(s,r);return n.push(i),function(){n=n.filter(function(a){return a!==i})}},assignSyncMedium:function(s){for(r=!0;n.length;){var i=n;n=[],i.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var i=[];if(n.length){var a=n;n=[],a.forEach(s),i=n}var l=function(){var u=i;i=[],u.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){i.push(u),c()},filter:function(u){return i=i.filter(u),n}}}};return o}function CO(e){e===void 0&&(e={});var t=TO(null);return t.options=Mo({async:!0,ssr:!1},e),t}var lA=function(e){var t=e.sideCar,n=aA(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return M.createElement(r,Mo({},n))};lA.isSideCarExport=!0;function PO(e,t){return e.useMedium(t),lA}var cA=CO(),b0=function(){},gp=M.forwardRef(function(e,t){var n=M.useRef(null),r=M.useState({onScrollCapture:b0,onWheelCapture:b0,onTouchMoveCapture:b0}),o=r[0],s=r[1],i=e.forwardProps,a=e.children,l=e.className,c=e.removeScrollBar,u=e.enabled,f=e.shards,d=e.sideCar,h=e.noIsolation,v=e.inert,p=e.allowPinchZoom,g=e.as,m=g===void 0?"div":g,w=e.gapMode,y=aA(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),b=d,S=$O([n,t]),E=Mo(Mo({},y),o);return M.createElement(M.Fragment,null,u&&M.createElement(b,{sideCar:cA,removeScrollBar:c,shards:f,noIsolation:h,inert:v,setCallbacks:s,allowPinchZoom:!!p,lockRef:n,gapMode:w}),i?M.cloneElement(M.Children.only(a),Mo(Mo({},E),{ref:S})):M.createElement(m,Mo({},E,{className:l,ref:S}),a))});gp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};gp.classNames={fullWidth:Yd,zeroRight:Xd};var kO=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function RO(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=kO();return t&&e.setAttribute("nonce",t),e}function NO(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function OO(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var LO=function(){var e=0,t=null;return{add:function(n){e==0&&(t=RO())&&(NO(t,n),OO(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},MO=function(){var e=LO();return function(t,n){M.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},uA=function(){var e=MO(),t=function(n){var r=n.styles,o=n.dynamic;return e(r,o),null};return t},FO={left:0,top:0,right:0,gap:0},S0=function(e){return parseInt(e||"",10)||0},DO=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[S0(n),S0(r),S0(o)]},IO=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return FO;var t=DO(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},zO=uA(),il="data-scroll-locked",BO=function(e,t,n,r){var o=e.left,s=e.top,i=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(bO,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(il,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Xd,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Yd,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Xd," .").concat(Xd,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Yd," .").concat(Yd,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(il,`] {
    `).concat(SO,": ").concat(a,`px;
  }
`)},J5=function(){var e=parseInt(document.body.getAttribute(il)||"0",10);return isFinite(e)?e:0},GO=function(){M.useEffect(function(){return document.body.setAttribute(il,(J5()+1).toString()),function(){var e=J5()-1;e<=0?document.body.removeAttribute(il):document.body.setAttribute(il,e.toString())}},[])},jO=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,o=r===void 0?"margin":r;GO();var s=M.useMemo(function(){return IO(o)},[o]);return M.createElement(zO,{styles:BO(s,!t,o,n?"":"!important")})},Lv=!1;if(typeof window<"u")try{var rd=Object.defineProperty({},"passive",{get:function(){return Lv=!0,!0}});window.addEventListener("test",rd,rd),window.removeEventListener("test",rd,rd)}catch{Lv=!1}var Ea=Lv?{passive:!1}:!1,VO=function(e){return e.tagName==="TEXTAREA"},fA=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!VO(e)&&n[t]==="visible")},UO=function(e){return fA(e,"overflowY")},HO=function(e){return fA(e,"overflowX")},eb=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var o=dA(e,r);if(o){var s=hA(e,r),i=s[1],a=s[2];if(i>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},WO=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},XO=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},dA=function(e,t){return e==="v"?UO(t):HO(t)},hA=function(e,t){return e==="v"?WO(t):XO(t)},YO=function(e,t){return e==="h"&&t==="rtl"?-1:1},qO=function(e,t,n,r,o){var s=YO(e,window.getComputedStyle(t).direction),i=s*r,a=n.target,l=t.contains(a),c=!1,u=i>0,f=0,d=0;do{var h=hA(e,a),v=h[0],p=h[1],g=h[2],m=p-g-s*v;(v||m)&&dA(e,a)&&(f+=m,d+=v),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(u&&(Math.abs(f)<1||!o)||!u&&(Math.abs(d)<1||!o))&&(c=!0),c},od=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},tb=function(e){return[e.deltaX,e.deltaY]},nb=function(e){return e&&"current"in e?e.current:e},ZO=function(e,t){return e[0]===t[0]&&e[1]===t[1]},QO=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},KO=0,_a=[];function JO(e){var t=M.useRef([]),n=M.useRef([0,0]),r=M.useRef(),o=M.useState(KO++)[0],s=M.useState(uA)[0],i=M.useRef(e);M.useEffect(function(){i.current=e},[e]),M.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var p=xO([e.lockRef.current],(e.shards||[]).map(nb),!0).filter(Boolean);return p.forEach(function(g){return g.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),p.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var a=M.useCallback(function(p,g){if("touches"in p&&p.touches.length===2)return!i.current.allowPinchZoom;var m=od(p),w=n.current,y="deltaX"in p?p.deltaX:w[0]-m[0],b="deltaY"in p?p.deltaY:w[1]-m[1],S,E=p.target,$=Math.abs(y)>Math.abs(b)?"h":"v";if("touches"in p&&$==="h"&&E.type==="range")return!1;var A=eb($,E);if(!A)return!0;if(A?S=$:(S=$==="v"?"h":"v",A=eb($,E)),!A)return!1;if(!r.current&&"changedTouches"in p&&(y||b)&&(r.current=S),!S)return!0;var B=r.current||S;return qO(B,g,p,B==="h"?y:b,!0)},[]),l=M.useCallback(function(p){var g=p;if(!(!_a.length||_a[_a.length-1]!==s)){var m="deltaY"in g?tb(g):od(g),w=t.current.filter(function(S){return S.name===g.type&&(S.target===g.target||g.target===S.shadowParent)&&ZO(S.delta,m)})[0];if(w&&w.should){g.cancelable&&g.preventDefault();return}if(!w){var y=(i.current.shards||[]).map(nb).filter(Boolean).filter(function(S){return S.contains(g.target)}),b=y.length>0?a(g,y[0]):!i.current.noIsolation;b&&g.cancelable&&g.preventDefault()}}},[]),c=M.useCallback(function(p,g,m,w){var y={name:p,delta:g,target:m,should:w,shadowParent:eL(m)};t.current.push(y),setTimeout(function(){t.current=t.current.filter(function(b){return b!==y})},1)},[]),u=M.useCallback(function(p){n.current=od(p),r.current=void 0},[]),f=M.useCallback(function(p){c(p.type,tb(p),p.target,a(p,e.lockRef.current))},[]),d=M.useCallback(function(p){c(p.type,od(p),p.target,a(p,e.lockRef.current))},[]);M.useEffect(function(){return _a.push(s),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:d}),document.addEventListener("wheel",l,Ea),document.addEventListener("touchmove",l,Ea),document.addEventListener("touchstart",u,Ea),function(){_a=_a.filter(function(p){return p!==s}),document.removeEventListener("wheel",l,Ea),document.removeEventListener("touchmove",l,Ea),document.removeEventListener("touchstart",u,Ea)}},[]);var h=e.removeScrollBar,v=e.inert;return M.createElement(M.Fragment,null,v?M.createElement(s,{styles:QO(o)}):null,h?M.createElement(jO,{gapMode:e.gapMode}):null)}function eL(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const tL=PO(cA,JO);var iy=M.forwardRef(function(e,t){return M.createElement(gp,Mo({},e,{ref:t,sideCar:tL}))});iy.classNames=gp.classNames;function In(e){return Object.keys(e)}function E0(e){return e&&typeof e=="object"&&!Array.isArray(e)}function ay(e,t){const n={...e},r=t;return E0(e)&&E0(t)&&Object.keys(t).forEach(o=>{E0(r[o])&&o in e?n[o]=ay(n[o],r[o]):n[o]=r[o]}),n}function nL(e){return e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}function rL(e){var t;return typeof e!="string"||!e.includes("var(--mantine-scale)")?e:(t=e.match(/^calc\((.*?)\)$/))==null?void 0:t[1].split("*")[0].trim()}function Mv(e){const t=rL(e);return typeof t=="number"?t:typeof t=="string"?t.includes("calc")||t.includes("var")?t:t.includes("px")?Number(t.replace("px","")):t.includes("rem")?Number(t.replace("rem",""))*16:t.includes("em")?Number(t.replace("em",""))*16:Number(t):NaN}function _0(e){return e==="0rem"?"0rem":`calc(${e} * var(--mantine-scale))`}function pA(e,{shouldScale:t=!1}={}){function n(r){if(r===0||r==="0")return`0${e}`;if(typeof r=="number"){const o=`${r/16}${e}`;return t?_0(o):o}if(typeof r=="string"){if(r===""||r.startsWith("calc(")||r.startsWith("clamp(")||r.includes("rgba("))return r;if(r.includes(","))return r.split(",").map(s=>n(s)).join(",");if(r.includes(" "))return r.split(" ").map(s=>n(s)).join(" ");if(r.includes(e))return t?_0(r):r;const o=r.replace("px","");if(!Number.isNaN(Number(o))){const s=`${Number(o)/16}${e}`;return t?_0(s):s}}return r}return n}const fe=pA("rem",{shouldScale:!0}),Ch=pA("em");function ly(e){return Object.keys(e).reduce((t,n)=>(e[n]!==void 0&&(t[n]=e[n]),t),{})}function mA(e){return typeof e=="number"?!0:typeof e=="string"?e.startsWith("calc(")||e.startsWith("var(")||e.includes(" ")&&e.trim()!==""?!0:/[0-9]/.test(e.trim().replace("-","")[0]):!1}function Du(e){return Array.isArray(e)||e===null?!1:typeof e=="object"?e.type!==M.Fragment:!1}function Iu(e){const t=M.createContext(null);return[({children:o,value:s})=>G.jsx(t.Provider,{value:s,children:o}),()=>{const o=M.useContext(t);if(o===null)throw new Error(e);return o}]}function yp(e=null){const t=M.createContext(e);return[({children:o,value:s})=>G.jsx(t.Provider,{value:s,children:o}),()=>M.useContext(t)]}const oL={app:100,modal:200,popover:300,overlay:400,max:9999};function vA(e){return oL[e]}const sL=()=>{};function iL(e,t={active:!0}){return typeof e!="function"||!t.active?t.onKeyDown||sL:n=>{var r;n.key==="Escape"&&(e(n),(r=t.onTrigger)==null||r.call(t))}}function xn(e,t="size",n=!0){if(e!==void 0)return mA(e)?n?fe(e):e:`var(--${t}-${e})`}function gA(e){return xn(e,"mantine-spacing")}function Go(e){return e===void 0?"var(--mantine-radius-default)":xn(e,"mantine-radius")}function Hr(e){return xn(e,"mantine-font-size")}function aL(e){if(e)return xn(e,"mantine-shadow",!1)}function cy(e,t){return e in t.breakpoints?Mv(t.breakpoints[e]):Mv(e)}function rb(e,t){const n=e.map(r=>({value:r,px:cy(r,t)}));return n.sort((r,o)=>r.px-o.px),n}function yA(){return`mantine-${Math.random().toString(36).slice(2,11)}`}function Fi(e){const t=M.useRef(e);return M.useEffect(()=>{t.current=e}),M.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function wp(e,t){const n=Fi(e),r=M.useRef(0);return M.useEffect(()=>()=>window.clearTimeout(r.current),[]),M.useCallback((...o)=>{window.clearTimeout(r.current),r.current=window.setTimeout(()=>n(...o),t)},[n,t])}const ob=["mousedown","touchstart"];function lL(e,t,n){const r=M.useRef();return M.useEffect(()=>{const o=s=>{const{target:i}=s??{};if(Array.isArray(n)){const a=(i==null?void 0:i.hasAttribute("data-ignore-outside-clicks"))||!document.body.contains(i)&&i.tagName!=="HTML";n.every(c=>!!c&&!s.composedPath().includes(c))&&!a&&e()}else r.current&&!r.current.contains(i)&&e()};return(t||ob).forEach(s=>document.addEventListener(s,o)),()=>{(t||ob).forEach(s=>document.removeEventListener(s,o))}},[r,e,n]),r}function cL(e,t){try{return e.addEventListener("change",t),()=>e.removeEventListener("change",t)}catch{return e.addListener(t),()=>e.removeListener(t)}}function uL(e,t){return typeof window<"u"&&"matchMedia"in window?window.matchMedia(e).matches:!1}function fL(e,t,{getInitialValueInEffect:n}={getInitialValueInEffect:!0}){const[r,o]=M.useState(n?t:uL(e)),s=M.useRef();return M.useEffect(()=>{if("matchMedia"in window)return s.current=window.matchMedia(e),o(s.current.matches),cL(s.current,i=>o(i.matches))},[e]),r}const Rl=typeof document<"u"?M.useLayoutEffect:M.useEffect;function gl(e,t){const n=M.useRef(!1);M.useEffect(()=>()=>{n.current=!1},[]),M.useEffect(()=>{if(n.current)return e();n.current=!0},t)}function dL({opened:e,shouldReturnFocus:t=!0}){const n=M.useRef(),r=()=>{var o;n.current&&"focus"in n.current&&typeof n.current.focus=="function"&&((o=n.current)==null||o.focus({preventScroll:!0}))};return gl(()=>{let o=-1;const s=i=>{i.key==="Tab"&&window.clearTimeout(o)};return document.addEventListener("keydown",s),e?n.current=document.activeElement:t&&(o=window.setTimeout(r,10)),()=>{window.clearTimeout(o),document.removeEventListener("keydown",s)}},[e,t]),r}function hL(e,t="body > :not(script)"){const n=yA(),r=Array.from(document.querySelectorAll(t)).map(o=>{var l;if((l=o==null?void 0:o.shadowRoot)!=null&&l.contains(e)||o.contains(e))return;const s=o.getAttribute("aria-hidden"),i=o.getAttribute("data-hidden"),a=o.getAttribute("data-focus-id");return o.setAttribute("data-focus-id",n),s===null||s==="false"?o.setAttribute("aria-hidden","true"):!i&&!a&&o.setAttribute("data-hidden",s),{node:o,ariaHidden:i||null}});return()=>{r.forEach(o=>{!o||n!==o.node.getAttribute("data-focus-id")||(o.ariaHidden===null?o.node.removeAttribute("aria-hidden"):o.node.setAttribute("aria-hidden",o.ariaHidden),o.node.removeAttribute("data-focus-id"),o.node.removeAttribute("data-hidden"))})}}const pL=/input|select|textarea|button|object/,wA="a, input, select, textarea, button, object, [tabindex]";function mL(e){return e.style.display==="none"}function vL(e){if(e.getAttribute("aria-hidden")||e.getAttribute("hidden")||e.getAttribute("type")==="hidden")return!1;let n=e;for(;n&&!(n===document.body||n.nodeType===11);){if(mL(n))return!1;n=n.parentNode}return!0}function xA(e){let t=e.getAttribute("tabindex");return t===null&&(t=void 0),parseInt(t,10)}function Fv(e){const t=e.nodeName.toLowerCase(),n=!Number.isNaN(xA(e));return(pL.test(t)&&!e.disabled||e instanceof HTMLAnchorElement&&e.href||n)&&vL(e)}function bA(e){const t=xA(e);return(Number.isNaN(t)||t>=0)&&Fv(e)}function gL(e){return Array.from(e.querySelectorAll(wA)).filter(bA)}function yL(e,t){const n=gL(e);if(!n.length){t.preventDefault();return}const r=n[t.shiftKey?0:n.length-1],o=e.getRootNode();let s=r===o.activeElement||e===o.activeElement;const i=o.activeElement;if(i.tagName==="INPUT"&&i.getAttribute("type")==="radio"&&(s=n.filter(u=>u.getAttribute("type")==="radio"&&u.getAttribute("name")===i.getAttribute("name")).includes(r)),!s)return;t.preventDefault();const l=n[t.shiftKey?n.length-1:0];l&&l.focus()}function wL(e=!0){const t=M.useRef(),n=M.useRef(null),r=s=>{let i=s.querySelector("[data-autofocus]");if(!i){const a=Array.from(s.querySelectorAll(wA));i=a.find(bA)||a.find(Fv)||null,!i&&Fv(s)&&(i=s)}i&&i.focus({preventScroll:!0})},o=M.useCallback(s=>{if(e){if(s===null){n.current&&(n.current(),n.current=null);return}n.current=hL(s),t.current!==s&&(s?(setTimeout(()=>{s.getRootNode()&&r(s)}),t.current=s):t.current=null)}},[e]);return M.useEffect(()=>{if(!e)return;t.current&&setTimeout(()=>r(t.current));const s=i=>{i.key==="Tab"&&t.current&&yL(t.current,i)};return document.addEventListener("keydown",s),()=>{document.removeEventListener("keydown",s),n.current&&n.current()}},[e]),o}const xL=o_.useId||(()=>{});function bL(){const e=xL();return e?`mantine-${e.replace(/:/g,"")}`:""}function ra(e){const t=bL(),[n,r]=M.useState(t);return Rl(()=>{r(yA())},[]),typeof e=="string"?e:typeof window>"u"?t:n}function SL(e,t,n){M.useEffect(()=>(window.addEventListener(e,t,n),()=>window.removeEventListener(e,t,n)),[e,t])}function SA(e,t){typeof e=="function"?e(t):typeof e=="object"&&e!==null&&"current"in e&&(e.current=t)}function EL(...e){return t=>{e.forEach(n=>SA(n,t))}}function Qr(...e){return M.useCallback(EL(...e),e)}function yl({value:e,defaultValue:t,finalValue:n,onChange:r=()=>{}}){const[o,s]=M.useState(t!==void 0?t:n),i=(a,...l)=>{s(a),r==null||r(a,...l)};return e!==void 0?[e,r,!0]:[o,i,!1]}function _L(e,t){return fL("(prefers-reduced-motion: reduce)",e,t)}function $L(e){const t=M.useRef();return M.useEffect(()=>{t.current=e},[e]),t.current}function EA(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=EA(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function bo(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=EA(e))&&(r&&(r+=" "),r+=t);return r}const AL={};function TL(e){const t={};return e.forEach(n=>{Object.entries(n).forEach(([r,o])=>{t[r]?t[r]=bo(t[r],o):t[r]=o})}),t}function xp({theme:e,classNames:t,props:n,stylesCtx:r}){const s=(Array.isArray(t)?t:[t]).map(i=>typeof i=="function"?i(e,n,r):i||AL);return TL(s)}function Ph({theme:e,styles:t,props:n,stylesCtx:r}){return(Array.isArray(t)?t:[t]).reduce((s,i)=>typeof i=="function"?{...s,...i(e,n,r)}:{...s,...i},{})}const _A=M.createContext(null);function ci(){const e=M.useContext(_A);if(!e)throw new Error("[@mantine/core] MantineProvider was not found in tree");return e}function CL(){return ci().cssVariablesResolver}function PL(){return ci().classNamesPrefix}function uy(){return ci().getStyleNonce}function kL(){return ci().withStaticClasses}function RL(){return ci().headless}function NL(){var e;return(e=ci().stylesTransform)==null?void 0:e.sx}function OL(){var e;return(e=ci().stylesTransform)==null?void 0:e.styles}function LL(e){return/^#?([0-9A-F]{3}){1,2}([0-9A-F]{2})?$/i.test(e)}function ML(e){let t=e.replace("#","");if(t.length===3){const i=t.split("");t=[i[0],i[0],i[1],i[1],i[2],i[2]].join("")}if(t.length===8){const i=parseInt(t.slice(6,8),16)/255;return{r:parseInt(t.slice(0,2),16),g:parseInt(t.slice(2,4),16),b:parseInt(t.slice(4,6),16),a:i}}const n=parseInt(t,16),r=n>>16&255,o=n>>8&255,s=n&255;return{r,g:o,b:s,a:1}}function FL(e){const[t,n,r,o]=e.replace(/[^0-9,./]/g,"").split(/[/,]/).map(Number);return{r:t,g:n,b:r,a:o||1}}function DL(e){const t=/^hsla?\(\s*(\d+)\s*,\s*(\d+%)\s*,\s*(\d+%)\s*(,\s*(0?\.\d+|\d+(\.\d+)?))?\s*\)$/i,n=e.match(t);if(!n)return{r:0,g:0,b:0,a:1};const r=parseInt(n[1],10),o=parseInt(n[2],10)/100,s=parseInt(n[3],10)/100,i=n[5]?parseFloat(n[5]):void 0,a=(1-Math.abs(2*s-1))*o,l=r/60,c=a*(1-Math.abs(l%2-1)),u=s-a/2;let f,d,h;return l>=0&&l<1?(f=a,d=c,h=0):l>=1&&l<2?(f=c,d=a,h=0):l>=2&&l<3?(f=0,d=a,h=c):l>=3&&l<4?(f=0,d=c,h=a):l>=4&&l<5?(f=c,d=0,h=a):(f=a,d=0,h=c),{r:Math.round((f+u)*255),g:Math.round((d+u)*255),b:Math.round((h+u)*255),a:i||1}}function fy(e){return LL(e)?ML(e):e.startsWith("rgb")?FL(e):e.startsWith("hsl")?DL(e):{r:0,g:0,b:0,a:1}}function sd(e,t){if(e.startsWith("var("))return`color-mix(in srgb, ${e}, black ${t*100}%)`;const{r:n,g:r,b:o,a:s}=fy(e),i=1-t,a=l=>Math.round(l*i);return`rgba(${a(n)}, ${a(r)}, ${a(o)}, ${s})`}function xu(e,t){return typeof e.primaryShade=="number"?e.primaryShade:t==="dark"?e.primaryShade.dark:e.primaryShade.light}function $0(e){return e<=.03928?e/12.92:((e+.055)/1.055)**2.4}function IL(e){const t=e.match(/oklch\((.*?)%\s/);return t?parseFloat(t[1]):null}function zL(e){if(e.startsWith("oklch("))return(IL(e)||0)/100;const{r:t,g:n,b:r}=fy(e),o=t/255,s=n/255,i=r/255,a=$0(o),l=$0(s),c=$0(i);return .2126*a+.7152*l+.0722*c}function _c(e,t=.179){return e.startsWith("var(")?!1:zL(e)>t}function ps({color:e,theme:t,colorScheme:n}){if(typeof e!="string")throw new Error(`[@mantine/core] Failed to parse color. Expected color to be a string, instead got ${typeof e}`);if(e==="bright")return{color:e,value:n==="dark"?t.white:t.black,shade:void 0,isThemeColor:!1,isLight:_c(n==="dark"?t.white:t.black,t.luminanceThreshold),variable:"--mantine-color-bright"};if(e==="dimmed")return{color:e,value:n==="dark"?t.colors.dark[2]:t.colors.gray[7],shade:void 0,isThemeColor:!1,isLight:_c(n==="dark"?t.colors.dark[2]:t.colors.gray[6],t.luminanceThreshold),variable:"--mantine-color-dimmed"};if(e==="white"||e==="black")return{color:e,value:e==="white"?t.white:t.black,shade:void 0,isThemeColor:!1,isLight:_c(e==="white"?t.white:t.black,t.luminanceThreshold),variable:`--mantine-color-${e}`};const[r,o]=e.split("."),s=o?Number(o):void 0,i=r in t.colors;if(i){const a=s!==void 0?t.colors[r][s]:t.colors[r][xu(t,n||"light")];return{color:r,value:a,shade:s,isThemeColor:i,isLight:_c(a,t.luminanceThreshold),variable:o?`--mantine-color-${r}-${s}`:`--mantine-color-${r}-filled`}}return{color:e,value:e,isThemeColor:i,isLight:_c(e,t.luminanceThreshold),shade:s,variable:void 0}}function yo(e,t){const n=ps({color:e||t.primaryColor,theme:t});return n.variable?`var(${n.variable})`:e}function sb(e,t){const n={from:(e==null?void 0:e.from)||t.defaultGradient.from,to:(e==null?void 0:e.to)||t.defaultGradient.to,deg:(e==null?void 0:e.deg)||t.defaultGradient.deg||0},r=yo(n.from,t),o=yo(n.to,t);return`linear-gradient(${n.deg}deg, ${r} 0%, ${o} 100%)`}function Jo(e,t){if(typeof e!="string"||t>1||t<0)return"rgba(0, 0, 0, 1)";if(e.startsWith("var(")){const s=(1-t)*100;return`color-mix(in srgb, ${e}, transparent ${s}%)`}if(e.startsWith("oklch"))return e.includes("/")?e.replace(/\/\s*[\d.]+\s*\)/,`/ ${t})`):e.replace(")",` / ${t})`);const{r:n,g:r,b:o}=fy(e);return`rgba(${n}, ${r}, ${o}, ${t})`}const $a=Jo,BL=({color:e,theme:t,variant:n,gradient:r,autoContrast:o})=>{const s=ps({color:e,theme:t}),i=typeof o=="boolean"?o:t.autoContrast;if(n==="filled"){const a=i&&s.isLight?"var(--mantine-color-black)":"var(--mantine-color-white)";return s.isThemeColor?s.shade===void 0?{background:`var(--mantine-color-${e}-filled)`,hover:`var(--mantine-color-${e}-filled-hover)`,color:a,border:`${fe(1)} solid transparent`}:{background:`var(--mantine-color-${s.color}-${s.shade})`,hover:`var(--mantine-color-${s.color}-${s.shade===9?8:s.shade+1})`,color:a,border:`${fe(1)} solid transparent`}:{background:e,hover:sd(e,.1),color:a,border:`${fe(1)} solid transparent`}}if(n==="light"){if(s.isThemeColor){if(s.shade===void 0)return{background:`var(--mantine-color-${e}-light)`,hover:`var(--mantine-color-${e}-light-hover)`,color:`var(--mantine-color-${e}-light-color)`,border:`${fe(1)} solid transparent`};const a=t.colors[s.color][s.shade];return{background:Jo(a,.1),hover:Jo(a,.12),color:`var(--mantine-color-${s.color}-${Math.min(s.shade,6)})`,border:`${fe(1)} solid transparent`}}return{background:Jo(e,.1),hover:Jo(e,.12),color:e,border:`${fe(1)} solid transparent`}}if(n==="outline")return s.isThemeColor?s.shade===void 0?{background:"transparent",hover:`var(--mantine-color-${e}-outline-hover)`,color:`var(--mantine-color-${e}-outline)`,border:`${fe(1)} solid var(--mantine-color-${e}-outline)`}:{background:"transparent",hover:Jo(t.colors[s.color][s.shade],.05),color:`var(--mantine-color-${s.color}-${s.shade})`,border:`${fe(1)} solid var(--mantine-color-${s.color}-${s.shade})`}:{background:"transparent",hover:Jo(e,.05),color:e,border:`${fe(1)} solid ${e}`};if(n==="subtle"){if(s.isThemeColor){if(s.shade===void 0)return{background:"transparent",hover:`var(--mantine-color-${e}-light-hover)`,color:`var(--mantine-color-${e}-light-color)`,border:`${fe(1)} solid transparent`};const a=t.colors[s.color][s.shade];return{background:"transparent",hover:Jo(a,.12),color:`var(--mantine-color-${s.color}-${Math.min(s.shade,6)})`,border:`${fe(1)} solid transparent`}}return{background:"transparent",hover:Jo(e,.12),color:e,border:`${fe(1)} solid transparent`}}return n==="transparent"?s.isThemeColor?s.shade===void 0?{background:"transparent",hover:"transparent",color:`var(--mantine-color-${e}-light-color)`,border:`${fe(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:`var(--mantine-color-${s.color}-${Math.min(s.shade,6)})`,border:`${fe(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:e,border:`${fe(1)} solid transparent`}:n==="white"?s.isThemeColor?s.shade===void 0?{background:"var(--mantine-color-white)",hover:sd(t.white,.01),color:`var(--mantine-color-${e}-filled)`,border:`${fe(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:sd(t.white,.01),color:`var(--mantine-color-${s.color}-${s.shade})`,border:`${fe(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:sd(t.white,.01),color:e,border:`${fe(1)} solid transparent`}:n==="gradient"?{background:sb(r,t),hover:sb(r,t),color:"var(--mantine-color-white)",border:"none"}:n==="default"?{background:"var(--mantine-color-default)",hover:"var(--mantine-color-default-hover)",color:"var(--mantine-color-default-color)",border:`${fe(1)} solid var(--mantine-color-default-border)`}:{}},GL={dark:["#C9C9C9","#b8b8b8","#828282","#696969","#424242","#3b3b3b","#2e2e2e","#242424","#1f1f1f","#141414"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]},ib="-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",dy={scale:1,fontSmoothing:!0,focusRing:"auto",white:"#fff",black:"#000",colors:GL,primaryShade:{light:6,dark:8},primaryColor:"blue",variantColorResolver:BL,autoContrast:!1,luminanceThreshold:.3,fontFamily:ib,fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",respectReducedMotion:!1,cursorType:"default",defaultGradient:{from:"blue",to:"cyan",deg:45},defaultRadius:"sm",activeClassName:"mantine-active",focusClassName:"",headings:{fontFamily:ib,fontWeight:"700",textWrap:"wrap",sizes:{h1:{fontSize:fe(34),lineHeight:"1.3"},h2:{fontSize:fe(26),lineHeight:"1.35"},h3:{fontSize:fe(22),lineHeight:"1.4"},h4:{fontSize:fe(18),lineHeight:"1.45"},h5:{fontSize:fe(16),lineHeight:"1.5"},h6:{fontSize:fe(14),lineHeight:"1.5"}}},fontSizes:{xs:fe(12),sm:fe(14),md:fe(16),lg:fe(18),xl:fe(20)},lineHeights:{xs:"1.4",sm:"1.45",md:"1.55",lg:"1.6",xl:"1.65"},radius:{xs:fe(2),sm:fe(4),md:fe(8),lg:fe(16),xl:fe(32)},spacing:{xs:fe(10),sm:fe(12),md:fe(16),lg:fe(20),xl:fe(32)},breakpoints:{xs:"36em",sm:"48em",md:"62em",lg:"75em",xl:"88em"},shadows:{xs:`0 ${fe(1)} ${fe(3)} rgba(0, 0, 0, 0.05), 0 ${fe(1)} ${fe(2)} rgba(0, 0, 0, 0.1)`,sm:`0 ${fe(1)} ${fe(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${fe(10)} ${fe(15)} ${fe(-5)}, rgba(0, 0, 0, 0.04) 0 ${fe(7)} ${fe(7)} ${fe(-5)}`,md:`0 ${fe(1)} ${fe(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${fe(20)} ${fe(25)} ${fe(-5)}, rgba(0, 0, 0, 0.04) 0 ${fe(10)} ${fe(10)} ${fe(-5)}`,lg:`0 ${fe(1)} ${fe(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${fe(28)} ${fe(23)} ${fe(-7)}, rgba(0, 0, 0, 0.04) 0 ${fe(12)} ${fe(12)} ${fe(-7)}`,xl:`0 ${fe(1)} ${fe(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${fe(36)} ${fe(28)} ${fe(-7)}, rgba(0, 0, 0, 0.04) 0 ${fe(17)} ${fe(17)} ${fe(-7)}`},other:{},components:{}};function ab(e){return e==="auto"||e==="dark"||e==="light"}function jL({key:e="mantine-color-scheme-value"}={}){let t;return{get:n=>{if(typeof window>"u")return n;try{const r=window.localStorage.getItem(e);return ab(r)?r:n}catch{return n}},set:n=>{try{window.localStorage.setItem(e,n)}catch(r){console.warn("[@mantine/core] Local storage color scheme manager was unable to save color scheme.",r)}},subscribe:n=>{t=r=>{r.storageArea===window.localStorage&&r.key===e&&ab(r.newValue)&&n(r.newValue)},window.addEventListener("storage",t)},unsubscribe:()=>{window.removeEventListener("storage",t)},clear:()=>{window.localStorage.removeItem(e)}}}const VL="[@mantine/core] MantineProvider: Invalid theme.primaryColor, it accepts only key of theme.colors, learn more  https://mantine.dev/theming/colors/#primary-color",lb="[@mantine/core] MantineProvider: Invalid theme.primaryShade, it accepts only 0-9 integers or an object { light: 0-9, dark: 0-9 }";function A0(e){return e<0||e>9?!1:parseInt(e.toString(),10)===e}function cb(e){if(!(e.primaryColor in e.colors))throw new Error(VL);if(typeof e.primaryShade=="object"&&(!A0(e.primaryShade.dark)||!A0(e.primaryShade.light)))throw new Error(lb);if(typeof e.primaryShade=="number"&&!A0(e.primaryShade))throw new Error(lb)}function UL(e,t){var r;if(!t)return cb(e),e;const n=ay(e,t);return t.fontFamily&&!((r=t.headings)!=null&&r.fontFamily)&&(n.headings.fontFamily=t.fontFamily),cb(n),n}const hy=M.createContext(null),HL=()=>M.useContext(hy)||dy;function ms(){const e=M.useContext(hy);if(!e)throw new Error("@mantine/core: MantineProvider was not found in component tree, make sure you have it in your app");return e}function $A({theme:e,children:t,inherit:n=!0}){const r=HL(),o=M.useMemo(()=>UL(n?r:dy,e),[e,r,n]);return G.jsx(hy.Provider,{value:o,children:t})}$A.displayName="@mantine/core/MantineThemeProvider";function WL(){const e=ms(),t=uy(),n=In(e.breakpoints).reduce((r,o)=>{const s=e.breakpoints[o].includes("px"),i=Mv(e.breakpoints[o]),a=s?`${i-.1}px`:Ch(i-.1),l=s?`${i}px`:Ch(i);return`${r}@media (max-width: ${a}) {.mantine-visible-from-${o} {display: none !important;}}@media (min-width: ${l}) {.mantine-hidden-from-${o} {display: none !important;}}`},"");return G.jsx("style",{"data-mantine-styles":"classes",nonce:t==null?void 0:t(),dangerouslySetInnerHTML:{__html:n}})}function T0(e){return Object.entries(e).map(([t,n])=>`${t}: ${n};`).join("")}function $c(e,t){return(Array.isArray(e)?e:[e]).reduce((r,o)=>`${o}{${r}}`,t)}function XL(e,t){const n=T0(e.variables),r=n?$c(t,n):"",o=T0(e.dark),s=T0(e.light),i=o?$c(t===":host"?`${t}([data-mantine-color-scheme="dark"])`:`${t}[data-mantine-color-scheme="dark"]`,o):"",a=s?$c(t===":host"?`${t}([data-mantine-color-scheme="light"])`:`${t}[data-mantine-color-scheme="light"]`,s):"";return`${r}${i}${a}`}function zu({color:e,theme:t,autoContrast:n}){return(typeof n=="boolean"?n:t.autoContrast)&&ps({color:e||t.primaryColor,theme:t}).isLight?"var(--mantine-color-black)":"var(--mantine-color-white)"}function ub(e,t){return zu({color:e.colors[e.primaryColor][xu(e,t)],theme:e,autoContrast:null})}function id({theme:e,color:t,colorScheme:n,name:r=t,withColorValues:o=!0}){if(!e.colors[t])return{};if(n==="light"){const a=xu(e,"light"),l={[`--mantine-color-${r}-text`]:`var(--mantine-color-${r}-filled)`,[`--mantine-color-${r}-filled`]:`var(--mantine-color-${r}-${a})`,[`--mantine-color-${r}-filled-hover`]:`var(--mantine-color-${r}-${a===9?8:a+1})`,[`--mantine-color-${r}-light`]:$a(e.colors[t][a],.1),[`--mantine-color-${r}-light-hover`]:$a(e.colors[t][a],.12),[`--mantine-color-${r}-light-color`]:`var(--mantine-color-${r}-${a})`,[`--mantine-color-${r}-outline`]:`var(--mantine-color-${r}-${a})`,[`--mantine-color-${r}-outline-hover`]:$a(e.colors[t][a],.05)};return o?{[`--mantine-color-${r}-0`]:e.colors[t][0],[`--mantine-color-${r}-1`]:e.colors[t][1],[`--mantine-color-${r}-2`]:e.colors[t][2],[`--mantine-color-${r}-3`]:e.colors[t][3],[`--mantine-color-${r}-4`]:e.colors[t][4],[`--mantine-color-${r}-5`]:e.colors[t][5],[`--mantine-color-${r}-6`]:e.colors[t][6],[`--mantine-color-${r}-7`]:e.colors[t][7],[`--mantine-color-${r}-8`]:e.colors[t][8],[`--mantine-color-${r}-9`]:e.colors[t][9],...l}:l}const s=xu(e,"dark"),i={[`--mantine-color-${r}-text`]:`var(--mantine-color-${r}-4)`,[`--mantine-color-${r}-filled`]:`var(--mantine-color-${r}-${s})`,[`--mantine-color-${r}-filled-hover`]:`var(--mantine-color-${r}-${s===9?8:s+1})`,[`--mantine-color-${r}-light`]:$a(e.colors[t][Math.max(0,s-2)],.15),[`--mantine-color-${r}-light-hover`]:$a(e.colors[t][Math.max(0,s-2)],.2),[`--mantine-color-${r}-light-color`]:`var(--mantine-color-${r}-${Math.max(s-5,0)})`,[`--mantine-color-${r}-outline`]:`var(--mantine-color-${r}-${Math.max(s-4,0)})`,[`--mantine-color-${r}-outline-hover`]:$a(e.colors[t][Math.max(s-4,0)],.05)};return o?{[`--mantine-color-${r}-0`]:e.colors[t][0],[`--mantine-color-${r}-1`]:e.colors[t][1],[`--mantine-color-${r}-2`]:e.colors[t][2],[`--mantine-color-${r}-3`]:e.colors[t][3],[`--mantine-color-${r}-4`]:e.colors[t][4],[`--mantine-color-${r}-5`]:e.colors[t][5],[`--mantine-color-${r}-6`]:e.colors[t][6],[`--mantine-color-${r}-7`]:e.colors[t][7],[`--mantine-color-${r}-8`]:e.colors[t][8],[`--mantine-color-${r}-9`]:e.colors[t][9],...i}:i}function YL(e){return!!e&&typeof e=="object"&&"mantine-virtual-color"in e}function Aa(e,t,n){In(t).forEach(r=>Object.assign(e,{[`--mantine-${n}-${r}`]:t[r]}))}const AA=e=>{const t=xu(e,"light"),n=e.defaultRadius in e.radius?e.radius[e.defaultRadius]:fe(e.defaultRadius),r={variables:{"--mantine-scale":e.scale.toString(),"--mantine-cursor-type":e.cursorType,"--mantine-color-scheme":"light dark","--mantine-webkit-font-smoothing":e.fontSmoothing?"antialiased":"unset","--mantine-moz-font-smoothing":e.fontSmoothing?"grayscale":"unset","--mantine-color-white":e.white,"--mantine-color-black":e.black,"--mantine-line-height":e.lineHeights.md,"--mantine-font-family":e.fontFamily,"--mantine-font-family-monospace":e.fontFamilyMonospace,"--mantine-font-family-headings":e.headings.fontFamily,"--mantine-heading-font-weight":e.headings.fontWeight,"--mantine-heading-text-wrap":e.headings.textWrap,"--mantine-radius-default":n,"--mantine-primary-color-filled":`var(--mantine-color-${e.primaryColor}-filled)`,"--mantine-primary-color-filled-hover":`var(--mantine-color-${e.primaryColor}-filled-hover)`,"--mantine-primary-color-light":`var(--mantine-color-${e.primaryColor}-light)`,"--mantine-primary-color-light-hover":`var(--mantine-color-${e.primaryColor}-light-hover)`,"--mantine-primary-color-light-color":`var(--mantine-color-${e.primaryColor}-light-color)`},light:{"--mantine-primary-color-contrast":ub(e,"light"),"--mantine-color-bright":"var(--mantine-color-black)","--mantine-color-text":e.black,"--mantine-color-body":e.white,"--mantine-color-error":"var(--mantine-color-red-6)","--mantine-color-placeholder":"var(--mantine-color-gray-5)","--mantine-color-anchor":`var(--mantine-color-${e.primaryColor}-${t})`,"--mantine-color-default":"var(--mantine-color-white)","--mantine-color-default-hover":"var(--mantine-color-gray-0)","--mantine-color-default-color":"var(--mantine-color-black)","--mantine-color-default-border":"var(--mantine-color-gray-4)","--mantine-color-dimmed":"var(--mantine-color-gray-6)"},dark:{"--mantine-primary-color-contrast":ub(e,"dark"),"--mantine-color-bright":"var(--mantine-color-white)","--mantine-color-text":"var(--mantine-color-dark-0)","--mantine-color-body":"var(--mantine-color-dark-7)","--mantine-color-error":"var(--mantine-color-red-8)","--mantine-color-placeholder":"var(--mantine-color-dark-3)","--mantine-color-anchor":`var(--mantine-color-${e.primaryColor}-4)`,"--mantine-color-default":"var(--mantine-color-dark-6)","--mantine-color-default-hover":"var(--mantine-color-dark-5)","--mantine-color-default-color":"var(--mantine-color-white)","--mantine-color-default-border":"var(--mantine-color-dark-4)","--mantine-color-dimmed":"var(--mantine-color-dark-2)"}};Aa(r.variables,e.breakpoints,"breakpoint"),Aa(r.variables,e.spacing,"spacing"),Aa(r.variables,e.fontSizes,"font-size"),Aa(r.variables,e.lineHeights,"line-height"),Aa(r.variables,e.shadows,"shadow"),Aa(r.variables,e.radius,"radius"),e.colors[e.primaryColor].forEach((s,i)=>{r.variables[`--mantine-primary-color-${i}`]=`var(--mantine-color-${e.primaryColor}-${i})`}),In(e.colors).forEach(s=>{const i=e.colors[s];if(YL(i)){Object.assign(r.light,id({theme:e,name:i.name,color:i.light,colorScheme:"light",withColorValues:!0})),Object.assign(r.dark,id({theme:e,name:i.name,color:i.dark,colorScheme:"dark",withColorValues:!0}));return}i.forEach((a,l)=>{r.variables[`--mantine-color-${s}-${l}`]=a}),Object.assign(r.light,id({theme:e,color:s,colorScheme:"light",withColorValues:!1})),Object.assign(r.dark,id({theme:e,color:s,colorScheme:"dark",withColorValues:!1}))});const o=e.headings.sizes;return In(o).forEach(s=>{r.variables[`--mantine-${s}-font-size`]=o[s].fontSize,r.variables[`--mantine-${s}-line-height`]=o[s].lineHeight,r.variables[`--mantine-${s}-font-weight`]=o[s].fontWeight||e.headings.fontWeight}),r};function qL({theme:e,generator:t}){const n=AA(e),r=t==null?void 0:t(e);return r?ay(n,r):n}const C0=AA(dy);function ZL(e){const t={variables:{},light:{},dark:{}};return In(e.variables).forEach(n=>{C0.variables[n]!==e.variables[n]&&(t.variables[n]=e.variables[n])}),In(e.light).forEach(n=>{C0.light[n]!==e.light[n]&&(t.light[n]=e.light[n])}),In(e.dark).forEach(n=>{C0.dark[n]!==e.dark[n]&&(t.dark[n]=e.dark[n])}),t}function QL(e){return`
  ${e}[data-mantine-color-scheme="dark"] { --mantine-color-scheme: dark; }
  ${e}[data-mantine-color-scheme="light"] { --mantine-color-scheme: light; }
`}function TA({cssVariablesSelector:e,deduplicateCssVariables:t}){const n=ms(),r=uy(),o=CL(),s=qL({theme:n,generator:o}),i=e===":root"&&t,a=i?ZL(s):s,l=XL(a,e);return l?G.jsx("style",{"data-mantine-styles":!0,nonce:r==null?void 0:r(),dangerouslySetInnerHTML:{__html:`${l}${i?"":QL(e)}`}}):null}TA.displayName="@mantine/CssVariables";function KL(){const e=console.error;console.error=(...t)=>{t.length>1&&typeof t[0]=="string"&&t[0].toLowerCase().includes("extra attributes from the server")&&typeof t[1]=="string"&&t[1].toLowerCase().includes("data-mantine-color-scheme")||e(...t)}}function Ta(e,t){var r;const n=e!=="auto"?e:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";(r=t())==null||r.setAttribute("data-mantine-color-scheme",n)}function JL({manager:e,defaultColorScheme:t,getRootElement:n,forceColorScheme:r}){const o=M.useRef(),[s,i]=M.useState(()=>e.get(t)),a=r||s,l=M.useCallback(u=>{r||(Ta(u,n),i(u),e.set(u))},[e.set,a,r]),c=M.useCallback(()=>{i(t),Ta(t,n),e.clear()},[e.clear,t]);return M.useEffect(()=>(e.subscribe(l),e.unsubscribe),[e.subscribe,e.unsubscribe]),Rl(()=>{Ta(e.get(t),n)},[]),M.useEffect(()=>{var f;if(r)return Ta(r,n),()=>{};r===void 0&&Ta(s,n),o.current=window.matchMedia("(prefers-color-scheme: dark)");const u=d=>{s==="auto"&&Ta(d.matches?"dark":"light",n)};return(f=o.current)==null||f.addEventListener("change",u),()=>{var d;return(d=o.current)==null?void 0:d.removeEventListener("change",u)}},[s,r]),{colorScheme:a,setColorScheme:l,clearColorScheme:c}}function eM({respectReducedMotion:e,getRootElement:t}){Rl(()=>{var n;e&&((n=t())==null||n.setAttribute("data-respect-reduced-motion","true"))},[e])}KL();function CA({theme:e,children:t,getStyleNonce:n,withStaticClasses:r=!0,withGlobalClasses:o=!0,deduplicateCssVariables:s=!0,withCssVariables:i=!0,cssVariablesSelector:a=":root",classNamesPrefix:l="mantine",colorSchemeManager:c=jL(),defaultColorScheme:u="light",getRootElement:f=()=>document.documentElement,cssVariablesResolver:d,forceColorScheme:h,stylesTransform:v}){const{colorScheme:p,setColorScheme:g,clearColorScheme:m}=JL({defaultColorScheme:u,forceColorScheme:h,manager:c,getRootElement:f});return eM({respectReducedMotion:(e==null?void 0:e.respectReducedMotion)||!1,getRootElement:f}),G.jsx(_A.Provider,{value:{colorScheme:p,setColorScheme:g,clearColorScheme:m,getRootElement:f,classNamesPrefix:l,getStyleNonce:n,cssVariablesResolver:d,cssVariablesSelector:a,withStaticClasses:r,stylesTransform:v},children:G.jsxs($A,{theme:e,children:[i&&G.jsx(TA,{cssVariablesSelector:a,deduplicateCssVariables:s}),o&&G.jsx(WL,{}),t]})})}CA.displayName="@mantine/core/MantineProvider";function tM({classNames:e,styles:t,props:n,stylesCtx:r}){const o=ms();return{resolvedClassNames:xp({theme:o,classNames:e,props:n,stylesCtx:r||void 0}),resolvedStyles:Ph({theme:o,styles:t,props:n,stylesCtx:r||void 0})}}const nM={always:"mantine-focus-always",auto:"mantine-focus-auto",never:"mantine-focus-never"};function rM({theme:e,options:t,unstyled:n}){return bo((t==null?void 0:t.focusable)&&!n&&(e.focusClassName||nM[e.focusRing]),(t==null?void 0:t.active)&&!n&&e.activeClassName)}function oM({selector:e,stylesCtx:t,options:n,props:r,theme:o}){return xp({theme:o,classNames:n==null?void 0:n.classNames,props:(n==null?void 0:n.props)||r,stylesCtx:t})[e]}function fb({selector:e,stylesCtx:t,theme:n,classNames:r,props:o}){return xp({theme:n,classNames:r,props:o,stylesCtx:t})[e]}function sM({rootSelector:e,selector:t,className:n}){return e===t?n:void 0}function iM({selector:e,classes:t,unstyled:n}){return n?void 0:t[e]}function aM({themeName:e,classNamesPrefix:t,selector:n,withStaticClass:r}){return r===!1?[]:e.map(o=>`${t}-${o}-${n}`)}function lM({themeName:e,theme:t,selector:n,props:r,stylesCtx:o}){return e.map(s=>{var i,a;return(a=xp({theme:t,classNames:(i=t.components[s])==null?void 0:i.classNames,props:r,stylesCtx:o}))==null?void 0:a[n]})}function cM({options:e,classes:t,selector:n,unstyled:r}){return e!=null&&e.variant&&!r?t[`${n}--${e.variant}`]:void 0}function uM({theme:e,options:t,themeName:n,selector:r,classNamesPrefix:o,classNames:s,classes:i,unstyled:a,className:l,rootSelector:c,props:u,stylesCtx:f,withStaticClasses:d,headless:h,transformedStyles:v}){return bo(rM({theme:e,options:t,unstyled:a||h}),lM({theme:e,themeName:n,selector:r,props:u,stylesCtx:f}),cM({options:t,classes:i,selector:r,unstyled:a}),fb({selector:r,stylesCtx:f,theme:e,classNames:s,props:u}),fb({selector:r,stylesCtx:f,theme:e,classNames:v,props:u}),oM({selector:r,stylesCtx:f,options:t,props:u,theme:e}),sM({rootSelector:c,selector:r,className:l}),iM({selector:r,classes:i,unstyled:a||h}),d&&!h&&aM({themeName:n,classNamesPrefix:o,selector:r,withStaticClass:t==null?void 0:t.withStaticClass}),t==null?void 0:t.className)}function fM({theme:e,themeName:t,props:n,stylesCtx:r,selector:o}){return t.map(s=>{var i;return Ph({theme:e,styles:(i=e.components[s])==null?void 0:i.styles,props:n,stylesCtx:r})[o]}).reduce((s,i)=>({...s,...i}),{})}function Dv({style:e,theme:t}){return Array.isArray(e)?[...e].reduce((n,r)=>({...n,...Dv({style:r,theme:t})}),{}):typeof e=="function"?e(t):e??{}}function dM(e){return e.reduce((t,n)=>(n&&Object.keys(n).forEach(r=>{t[r]={...t[r],...ly(n[r])}}),t),{})}function hM({vars:e,varsResolver:t,theme:n,props:r,stylesCtx:o,selector:s,themeName:i,headless:a}){var l;return(l=dM([a?{}:t==null?void 0:t(n,r,o),...i.map(c=>{var u,f,d;return(d=(f=(u=n.components)==null?void 0:u[c])==null?void 0:f.vars)==null?void 0:d.call(f,n,r,o)}),e==null?void 0:e(n,r,o)]))==null?void 0:l[s]}function pM({theme:e,themeName:t,selector:n,options:r,props:o,stylesCtx:s,rootSelector:i,styles:a,style:l,vars:c,varsResolver:u,headless:f,withStylesTransform:d}){return{...!d&&fM({theme:e,themeName:t,props:o,stylesCtx:s,selector:n}),...!d&&Ph({theme:e,styles:a,props:o,stylesCtx:s})[n],...!d&&Ph({theme:e,styles:r==null?void 0:r.styles,props:(r==null?void 0:r.props)||o,stylesCtx:s})[n],...hM({theme:e,props:o,stylesCtx:s,vars:c,varsResolver:u,selector:n,themeName:t,headless:f}),...i===n?Dv({style:l,theme:e}):null,...Dv({style:r==null?void 0:r.style,theme:e})}}function mM({props:e,stylesCtx:t,themeName:n}){var i;const r=ms(),o=(i=OL())==null?void 0:i();return{getTransformedStyles:a=>o?[...a.map(c=>o(c,{props:e,theme:r,ctx:t})),...n.map(c=>{var u;return o((u=r.components[c])==null?void 0:u.styles,{props:e,theme:r,ctx:t})})].filter(Boolean):[],withStylesTransform:!!o}}function Wt({name:e,classes:t,props:n,stylesCtx:r,className:o,style:s,rootSelector:i="root",unstyled:a,classNames:l,styles:c,vars:u,varsResolver:f}){const d=ms(),h=PL(),v=kL(),p=RL(),g=(Array.isArray(e)?e:[e]).filter(y=>y),{withStylesTransform:m,getTransformedStyles:w}=mM({props:n,stylesCtx:r,themeName:g});return(y,b)=>({className:uM({theme:d,options:b,themeName:g,selector:y,classNamesPrefix:h,classNames:l,classes:t,unstyled:a,className:o,rootSelector:i,props:n,stylesCtx:r,withStaticClasses:v,headless:p,transformedStyles:w([b==null?void 0:b.styles,c])}),style:pM({theme:d,themeName:g,selector:y,options:b,props:n,stylesCtx:r,rootSelector:i,styles:c,style:s,vars:u,varsResolver:f,headless:p,withStylesTransform:m})})}function bp(e,t){return typeof e=="boolean"?e:t.autoContrast}function it(e,t,n){var i;const r=ms(),o=(i=r.components[e])==null?void 0:i.defaultProps,s=typeof o=="function"?o(r):o;return{...t,...s,...ly(n)}}function P0(e){return In(e).reduce((t,n)=>e[n]!==void 0?`${t}${nL(n)}:${e[n]};`:t,"").trim()}function vM({selector:e,styles:t,media:n,container:r}){const o=t?P0(t):"",s=Array.isArray(n)?n.map(a=>`@media${a.query}{${e}{${P0(a.styles)}}}`):[],i=Array.isArray(r)?r.map(a=>`@container ${a.query}{${e}{${P0(a.styles)}}}`):[];return`${o?`${e}{${o}}`:""}${s.join("")}${i.join("")}`.trim()}function PA(e){const t=uy();return G.jsx("style",{"data-mantine-styles":"inline",nonce:t==null?void 0:t(),dangerouslySetInnerHTML:{__html:vM(e)}})}function Bu(e){const{m:t,mx:n,my:r,mt:o,mb:s,ml:i,mr:a,me:l,ms:c,p:u,px:f,py:d,pt:h,pb:v,pl:p,pr:g,pe:m,ps:w,bd:y,bg:b,c:S,opacity:E,ff:$,fz:A,fw:B,lts:D,ta:W,lh:te,fs:pe,tt:V,td:me,w:ee,miw:xe,maw:oe,h:$e,mih:Ne,mah:qe,bgsz:nt,bgp:kt,bgr:At,bga:Ct,pos:en,top:sn,left:Gn,bottom:no,right:Lr,inset:So,display:ro,flex:Mr,hiddenFrom:Ft,visibleFrom:Fr,lightHidden:Vo,darkHidden:On,sx:an,...Uo}=e;return{styleProps:ly({m:t,mx:n,my:r,mt:o,mb:s,ml:i,mr:a,me:l,ms:c,p:u,px:f,py:d,pt:h,pb:v,pl:p,pr:g,pe:m,ps:w,bd:y,bg:b,c:S,opacity:E,ff:$,fz:A,fw:B,lts:D,ta:W,lh:te,fs:pe,tt:V,td:me,w:ee,miw:xe,maw:oe,h:$e,mih:Ne,mah:qe,bgsz:nt,bgp:kt,bgr:At,bga:Ct,pos:en,top:sn,left:Gn,bottom:no,right:Lr,inset:So,display:ro,flex:Mr,hiddenFrom:Ft,visibleFrom:Fr,lightHidden:Vo,darkHidden:On,sx:an}),rest:Uo}}const gM={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},ms:{type:"spacing",property:"marginInlineStart"},me:{type:"spacing",property:"marginInlineEnd"},mx:{type:"spacing",property:"marginInline"},my:{type:"spacing",property:"marginBlock"},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},ps:{type:"spacing",property:"paddingInlineStart"},pe:{type:"spacing",property:"paddingInlineEnd"},px:{type:"spacing",property:"paddingInline"},py:{type:"spacing",property:"paddingBlock"},bd:{type:"border",property:"border"},bg:{type:"color",property:"background"},c:{type:"textColor",property:"color"},opacity:{type:"identity",property:"opacity"},ff:{type:"fontFamily",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"identity",property:"fontWeight"},lts:{type:"size",property:"letterSpacing"},ta:{type:"identity",property:"textAlign"},lh:{type:"lineHeight",property:"lineHeight"},fs:{type:"identity",property:"fontStyle"},tt:{type:"identity",property:"textTransform"},td:{type:"identity",property:"textDecoration"},w:{type:"spacing",property:"width"},miw:{type:"spacing",property:"minWidth"},maw:{type:"spacing",property:"maxWidth"},h:{type:"spacing",property:"height"},mih:{type:"spacing",property:"minHeight"},mah:{type:"spacing",property:"maxHeight"},bgsz:{type:"size",property:"backgroundSize"},bgp:{type:"identity",property:"backgroundPosition"},bgr:{type:"identity",property:"backgroundRepeat"},bga:{type:"identity",property:"backgroundAttachment"},pos:{type:"identity",property:"position"},top:{type:"identity",property:"top"},left:{type:"size",property:"left"},bottom:{type:"size",property:"bottom"},right:{type:"size",property:"right"},inset:{type:"size",property:"inset"},display:{type:"identity",property:"display"},flex:{type:"identity",property:"flex"}};function py(e,t){const n=ps({color:e,theme:t});return n.color==="dimmed"?"var(--mantine-color-dimmed)":n.color==="bright"?"var(--mantine-color-bright)":n.variable?`var(${n.variable})`:n.color}function yM(e,t){const n=ps({color:e,theme:t});return n.isThemeColor&&n.shade===void 0?`var(--mantine-color-${n.color}-text)`:py(e,t)}function wM(e,t){if(typeof e=="number")return fe(e);if(typeof e=="string"){const[n,r,...o]=e.split(" ").filter(i=>i.trim()!=="");let s=`${fe(n)}`;return r&&(s+=` ${r}`),o.length>0&&(s+=` ${py(o.join(" "),t)}`),s.trim()}return e}const db={text:"var(--mantine-font-family)",mono:"var(--mantine-font-family-monospace)",monospace:"var(--mantine-font-family-monospace)",heading:"var(--mantine-font-family-headings)",headings:"var(--mantine-font-family-headings)"};function xM(e){return typeof e=="string"&&e in db?db[e]:e}const bM=["h1","h2","h3","h4","h5","h6"];function SM(e,t){return typeof e=="string"&&e in t.fontSizes?`var(--mantine-font-size-${e})`:typeof e=="string"&&bM.includes(e)?`var(--mantine-${e}-font-size)`:typeof e=="number"||typeof e=="string"?fe(e):e}function EM(e){return e}const _M=["h1","h2","h3","h4","h5","h6"];function $M(e,t){return typeof e=="string"&&e in t.lineHeights?`var(--mantine-line-height-${e})`:typeof e=="string"&&_M.includes(e)?`var(--mantine-${e}-line-height)`:e}function AM(e){return typeof e=="number"?fe(e):e}function TM(e,t){if(typeof e=="number")return fe(e);if(typeof e=="string"){const n=e.replace("-","");if(!(n in t.spacing))return fe(e);const r=`--mantine-spacing-${n}`;return e.startsWith("-")?`calc(var(${r}) * -1)`:`var(${r})`}return e}const k0={color:py,textColor:yM,fontSize:SM,spacing:TM,identity:EM,size:AM,lineHeight:$M,fontFamily:xM,border:wM};function hb(e){return e.replace("(min-width: ","").replace("em)","")}function CM({media:e,...t}){const r=Object.keys(e).sort((o,s)=>Number(hb(o))-Number(hb(s))).map(o=>({query:o,styles:e[o]}));return{...t,media:r}}function PM(e){if(typeof e!="object"||e===null)return!1;const t=Object.keys(e);return!(t.length===1&&t[0]==="base")}function kM(e){return typeof e=="object"&&e!==null?"base"in e?e.base:void 0:e}function RM(e){return typeof e=="object"&&e!==null?In(e).filter(t=>t!=="base"):[]}function NM(e,t){return typeof e=="object"&&e!==null&&t in e?e[t]:e}function OM({styleProps:e,data:t,theme:n}){return CM(In(e).reduce((r,o)=>{if(o==="hiddenFrom"||o==="visibleFrom"||o==="sx")return r;const s=t[o],i=Array.isArray(s.property)?s.property:[s.property],a=kM(e[o]);if(!PM(e[o]))return i.forEach(c=>{r.inlineStyles[c]=k0[s.type](a,n)}),r;r.hasResponsiveStyles=!0;const l=RM(e[o]);return i.forEach(c=>{a&&(r.styles[c]=k0[s.type](a,n)),l.forEach(u=>{const f=`(min-width: ${n.breakpoints[u]})`;r.media[f]={...r.media[f],[c]:k0[s.type](NM(e[o],u),n)}})}),r},{hasResponsiveStyles:!1,styles:{},inlineStyles:{},media:{}}))}function LM(){return`__m__-${M.useId().replace(/:/g,"")}`}function kA(e){return e.startsWith("data-")?e:`data-${e}`}function MM(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];return r===void 0||r===""||r===!1||r===null||(t[kA(n)]=e[n]),t},{})}function RA(e){return e?typeof e=="string"?{[kA(e)]:!0}:Array.isArray(e)?[...e].reduce((t,n)=>({...t,...RA(n)}),{}):MM(e):null}function Iv(e,t){return Array.isArray(e)?[...e].reduce((n,r)=>({...n,...Iv(r,t)}),{}):typeof e=="function"?e(t):e??{}}function FM({theme:e,style:t,vars:n,styleProps:r}){const o=Iv(t,e),s=Iv(n,e);return{...o,...s,...r}}const NA=M.forwardRef(({component:e,style:t,__vars:n,className:r,variant:o,mod:s,size:i,hiddenFrom:a,visibleFrom:l,lightHidden:c,darkHidden:u,renderRoot:f,__size:d,...h},v)=>{var A;const p=ms(),g=e||"div",{styleProps:m,rest:w}=Bu(h),y=NL(),b=(A=y==null?void 0:y())==null?void 0:A(m.sx),S=LM(),E=OM({styleProps:m,theme:p,data:gM}),$={ref:v,style:FM({theme:p,style:t,vars:n,styleProps:E.inlineStyles}),className:bo(r,b,{[S]:E.hasResponsiveStyles,"mantine-light-hidden":c,"mantine-dark-hidden":u,[`mantine-hidden-from-${a}`]:a,[`mantine-visible-from-${l}`]:l}),"data-variant":o,"data-size":mA(i)?void 0:i||void 0,size:d,...RA(s),...w};return G.jsxs(G.Fragment,{children:[E.hasResponsiveStyles&&G.jsx(PA,{selector:`.${S}`,styles:E.styles,media:E.media}),typeof f=="function"?f($):G.jsx(g,{...$})]})});NA.displayName="@mantine/core/Box";const ct=NA;function OA(e){return e}function yt(e){const t=M.forwardRef(e);return t.extend=OA,t.withProps=n=>{const r=M.forwardRef((o,s)=>G.jsx(t,{...n,...o,ref:s}));return r.extend=t.extend,r.displayName=`WithProps(${t.displayName})`,r},t}function Nl(e){const t=M.forwardRef(e);return t.withProps=n=>{const r=M.forwardRef((o,s)=>G.jsx(t,{...n,...o,ref:s}));return r.extend=t.extend,r.displayName=`WithProps(${t.displayName})`,r},t.extend=OA,t}const DM=M.createContext({dir:"ltr",toggleDirection:()=>{},setDirection:()=>{}});function Sp(){return M.useContext(DM)}const[IM,Kr]=Iu("ScrollArea.Root component was not found in tree");function wl(e,t){const n=Fi(t);Rl(()=>{let r=0;if(e){const o=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return o.observe(e),()=>{window.cancelAnimationFrame(r),o.unobserve(e)}}},[e,n])}const zM=M.forwardRef((e,t)=>{const{style:n,...r}=e,o=Kr(),[s,i]=M.useState(0),[a,l]=M.useState(0),c=!!(s&&a);return wl(o.scrollbarX,()=>{var f;const u=((f=o.scrollbarX)==null?void 0:f.offsetHeight)||0;o.onCornerHeightChange(u),l(u)}),wl(o.scrollbarY,()=>{var f;const u=((f=o.scrollbarY)==null?void 0:f.offsetWidth)||0;o.onCornerWidthChange(u),i(u)}),c?G.jsx("div",{...r,ref:t,style:{...n,width:s,height:a}}):null}),BM=M.forwardRef((e,t)=>{const n=Kr(),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?G.jsx(zM,{...e,ref:t}):null}),GM={scrollHideDelay:1e3,type:"hover"},LA=M.forwardRef((e,t)=>{const n=it("ScrollAreaRoot",GM,e),{type:r,scrollHideDelay:o,scrollbars:s,...i}=n,[a,l]=M.useState(null),[c,u]=M.useState(null),[f,d]=M.useState(null),[h,v]=M.useState(null),[p,g]=M.useState(null),[m,w]=M.useState(0),[y,b]=M.useState(0),[S,E]=M.useState(!1),[$,A]=M.useState(!1),B=Qr(t,D=>l(D));return G.jsx(IM,{value:{type:r,scrollHideDelay:o,scrollArea:a,viewport:c,onViewportChange:u,content:f,onContentChange:d,scrollbarX:h,onScrollbarXChange:v,scrollbarXEnabled:S,onScrollbarXEnabledChange:E,scrollbarY:p,onScrollbarYChange:g,scrollbarYEnabled:$,onScrollbarYEnabledChange:A,onCornerWidthChange:w,onCornerHeightChange:b},children:G.jsx(ct,{...i,ref:B,__vars:{"--sa-corner-width":s!=="xy"?"0px":`${m}px`,"--sa-corner-height":s!=="xy"?"0px":`${y}px`}})})});LA.displayName="@mantine/core/ScrollAreaRoot";function MA(e,t){const n=e/t;return Number.isNaN(n)?0:n}function Ep(e){const t=MA(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function FA(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function jM(e,[t,n]){return Math.min(n,Math.max(t,e))}function pb(e,t,n="ltr"){const r=Ep(t),o=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-o,i=t.content-t.viewport,a=s-r,l=n==="ltr"?[0,i]:[i*-1,0],c=jM(e,l);return FA([0,i],[0,a])(c)}function VM(e,t,n,r="ltr"){const o=Ep(n),s=o/2,i=t||s,a=o-i,l=n.scrollbar.paddingStart+i,c=n.scrollbar.size-n.scrollbar.paddingEnd-a,u=n.content-n.viewport,f=r==="ltr"?[0,u]:[u*-1,0];return FA([l,c],f)(e)}function DA(e,t){return e>0&&e<t}function kh(e){return e?parseInt(e,10):0}function Hi(e,t,{checkForDefaultPrevented:n=!0}={}){return r=>{e==null||e(r),(n===!1||!r.defaultPrevented)&&(t==null||t(r))}}const[UM,IA]=Iu("ScrollAreaScrollbar was not found in tree"),zA=M.forwardRef((e,t)=>{const{sizes:n,hasThumb:r,onThumbChange:o,onThumbPointerUp:s,onThumbPointerDown:i,onThumbPositionChange:a,onDragScroll:l,onWheelScroll:c,onResize:u,...f}=e,d=Kr(),[h,v]=M.useState(null),p=Qr(t,A=>v(A)),g=M.useRef(null),m=M.useRef(""),{viewport:w}=d,y=n.content-n.viewport,b=Fi(c),S=Fi(a),E=wp(u,10),$=A=>{if(g.current){const B=A.clientX-g.current.left,D=A.clientY-g.current.top;l({x:B,y:D})}};return M.useEffect(()=>{const A=B=>{const D=B.target;(h==null?void 0:h.contains(D))&&b(B,y)};return document.addEventListener("wheel",A,{passive:!1}),()=>document.removeEventListener("wheel",A,{passive:!1})},[w,h,y,b]),M.useEffect(S,[n,S]),wl(h,E),wl(d.content,E),G.jsx(UM,{value:{scrollbar:h,hasThumb:r,onThumbChange:Fi(o),onThumbPointerUp:Fi(s),onThumbPositionChange:S,onThumbPointerDown:Fi(i)},children:G.jsx("div",{...f,ref:p,"data-mantine-scrollbar":!0,style:{position:"absolute",...f.style},onPointerDown:Hi(e.onPointerDown,A=>{A.preventDefault(),A.button===0&&(A.target.setPointerCapture(A.pointerId),g.current=h.getBoundingClientRect(),m.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",document.body.style.pointerEvents="none",$(A))}),onPointerMove:Hi(e.onPointerMove,$),onPointerUp:Hi(e.onPointerUp,A=>{A.preventDefault();const B=A.target;B.hasPointerCapture(A.pointerId)&&B.releasePointerCapture(A.pointerId),document.body.style.webkitUserSelect=m.current,document.body.style.pointerEvents="auto",g.current=null})})})}),HM=M.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,style:o,...s}=e,i=Kr(),[a,l]=M.useState(),c=M.useRef(null),u=Qr(t,c,i.onScrollbarXChange);return M.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),G.jsx(zA,{"data-orientation":"horizontal",...s,ref:u,sizes:n,style:{...o,"--sa-thumb-width":`${Ep(n)}px`},onThumbPointerDown:f=>e.onThumbPointerDown(f.x),onDragScroll:f=>e.onDragScroll(f.x),onWheelScroll:(f,d)=>{if(i.viewport){const h=i.viewport.scrollLeft+f.deltaX;e.onWheelScroll(h),DA(h,d)&&f.preventDefault()}},onResize:()=>{c.current&&i.viewport&&a&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:kh(a.paddingLeft),paddingEnd:kh(a.paddingRight)}})}})}),WM=M.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,style:o,...s}=e,i=Kr(),[a,l]=M.useState(),c=M.useRef(null),u=Qr(t,c,i.onScrollbarYChange);return M.useEffect(()=>{c.current&&l(window.getComputedStyle(c.current))},[]),G.jsx(zA,{...s,"data-orientation":"vertical",ref:u,sizes:n,style:{"--sa-thumb-height":`${Ep(n)}px`,...o},onThumbPointerDown:f=>e.onThumbPointerDown(f.y),onDragScroll:f=>e.onDragScroll(f.y),onWheelScroll:(f,d)=>{if(i.viewport){const h=i.viewport.scrollTop+f.deltaY;e.onWheelScroll(h),DA(h,d)&&f.preventDefault()}},onResize:()=>{c.current&&i.viewport&&a&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:kh(a.paddingTop),paddingEnd:kh(a.paddingBottom)}})}})}),my=M.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,{dir:o}=Sp(),s=Kr(),i=M.useRef(null),a=M.useRef(0),[l,c]=M.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=MA(l.viewport,l.content),f={...r,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>{i.current=h},onThumbPointerUp:()=>{a.current=0},onThumbPointerDown:h=>{a.current=h}},d=(h,v)=>VM(h,a.current,l,v);return n==="horizontal"?G.jsx(HM,{...f,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const h=s.viewport.scrollLeft,v=pb(h,l,o);i.current.style.transform=`translate3d(${v}px, 0, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollLeft=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollLeft=d(h,o))}}):n==="vertical"?G.jsx(WM,{...f,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const h=s.viewport.scrollTop,v=pb(h,l);l.scrollbar.size===0?i.current.style.opacity="0":i.current.style.opacity="1",i.current.style.transform=`translate3d(0, ${v}px, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollTop=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollTop=d(h))}}):null}),BA=M.forwardRef((e,t)=>{const n=Kr(),{forceMount:r,...o}=e,[s,i]=M.useState(!1),a=e.orientation==="horizontal",l=wp(()=>{if(n.viewport){const c=n.viewport.offsetWidth<n.viewport.scrollWidth,u=n.viewport.offsetHeight<n.viewport.scrollHeight;i(a?c:u)}},10);return wl(n.viewport,l),wl(n.content,l),r||s?G.jsx(my,{"data-state":s?"visible":"hidden",...o,ref:t}):null}),XM=M.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=Kr(),[s,i]=M.useState(!1);return M.useEffect(()=>{const{scrollArea:a}=o;let l=0;if(a){const c=()=>{window.clearTimeout(l),i(!0)},u=()=>{l=window.setTimeout(()=>i(!1),o.scrollHideDelay)};return a.addEventListener("pointerenter",c),a.addEventListener("pointerleave",u),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",c),a.removeEventListener("pointerleave",u)}}},[o.scrollArea,o.scrollHideDelay]),n||s?G.jsx(BA,{"data-state":s?"visible":"hidden",...r,ref:t}):null}),YM=M.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=Kr(),s=e.orientation==="horizontal",[i,a]=M.useState("hidden"),l=wp(()=>a("idle"),100);return M.useEffect(()=>{if(i==="idle"){const c=window.setTimeout(()=>a("hidden"),o.scrollHideDelay);return()=>window.clearTimeout(c)}},[i,o.scrollHideDelay]),M.useEffect(()=>{const{viewport:c}=o,u=s?"scrollLeft":"scrollTop";if(c){let f=c[u];const d=()=>{const h=c[u];f!==h&&(a("scrolling"),l()),f=h};return c.addEventListener("scroll",d),()=>c.removeEventListener("scroll",d)}},[o.viewport,s,l]),n||i!=="hidden"?G.jsx(my,{"data-state":i==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:Hi(e.onPointerEnter,()=>a("interacting")),onPointerLeave:Hi(e.onPointerLeave,()=>a("idle"))}):null}),mb=M.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=Kr(),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:i}=o,a=e.orientation==="horizontal";return M.useEffect(()=>(a?s(!0):i(!0),()=>{a?s(!1):i(!1)}),[a,s,i]),o.type==="hover"?G.jsx(XM,{...r,ref:t,forceMount:n}):o.type==="scroll"?G.jsx(YM,{...r,ref:t,forceMount:n}):o.type==="auto"?G.jsx(BA,{...r,ref:t,forceMount:n}):o.type==="always"?G.jsx(my,{...r,ref:t}):null});function qM(e,t=()=>{}){let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function o(){const s={left:e.scrollLeft,top:e.scrollTop},i=n.left!==s.left,a=n.top!==s.top;(i||a)&&t(),n=s,r=window.requestAnimationFrame(o)}(),()=>window.cancelAnimationFrame(r)}const ZM=M.forwardRef((e,t)=>{const{style:n,...r}=e,o=Kr(),s=IA(),{onThumbPositionChange:i}=s,a=Qr(t,u=>s.onThumbChange(u)),l=M.useRef(),c=wp(()=>{l.current&&(l.current(),l.current=void 0)},100);return M.useEffect(()=>{const{viewport:u}=o;if(u){const f=()=>{if(c(),!l.current){const d=qM(u,i);l.current=d,i()}};return i(),u.addEventListener("scroll",f),()=>u.removeEventListener("scroll",f)}},[o.viewport,c,i]),G.jsx("div",{"data-state":s.hasThumb?"visible":"hidden",...r,ref:a,style:{width:"var(--sa-thumb-width)",height:"var(--sa-thumb-height)",...n},onPointerDownCapture:Hi(e.onPointerDownCapture,u=>{const d=u.target.getBoundingClientRect(),h=u.clientX-d.left,v=u.clientY-d.top;s.onThumbPointerDown({x:h,y:v})}),onPointerUp:Hi(e.onPointerUp,s.onThumbPointerUp)})}),vb=M.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=IA();return n||o.hasThumb?G.jsx(ZM,{ref:t,...r}):null}),GA=M.forwardRef(({children:e,style:t,...n},r)=>{const o=Kr(),s=Qr(r,o.onViewportChange);return G.jsx(ct,{...n,ref:s,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t},children:G.jsx("div",{style:{minWidth:"100%",display:"table"},ref:o.onContentChange,children:e})})});GA.displayName="@mantine/core/ScrollAreaViewport";var vy={root:"m_d57069b5",viewport:"m_c0783ff9",viewportInner:"m_f8f631dd",scrollbar:"m_c44ba933",thumb:"m_d8b5e363",corner:"m_21657268"};const jA={scrollHideDelay:1e3,type:"hover",scrollbars:"xy"},QM=(e,{scrollbarSize:t})=>({root:{"--scrollarea-scrollbar-size":fe(t)}}),Ol=yt((e,t)=>{const n=it("ScrollArea",jA,e),{classNames:r,className:o,style:s,styles:i,unstyled:a,scrollbarSize:l,vars:c,type:u,scrollHideDelay:f,viewportProps:d,viewportRef:h,onScrollPositionChange:v,children:p,offsetScrollbars:g,scrollbars:m,...w}=n,[y,b]=M.useState(!1),S=Wt({name:"ScrollArea",props:n,classes:vy,className:o,style:s,classNames:r,styles:i,unstyled:a,vars:c,varsResolver:QM});return G.jsxs(LA,{type:u==="never"?"always":u,scrollHideDelay:f,ref:t,scrollbars:m,...S("root"),...w,children:[G.jsx(GA,{...d,...S("viewport",{style:d==null?void 0:d.style}),ref:h,"data-offset-scrollbars":g===!0?"xy":g||void 0,"data-scrollbars":m||void 0,onScroll:E=>{var $;($=d==null?void 0:d.onScroll)==null||$.call(d,E),v==null||v({x:E.currentTarget.scrollLeft,y:E.currentTarget.scrollTop})},children:p}),(m==="xy"||m==="x")&&G.jsx(mb,{...S("scrollbar"),orientation:"horizontal","data-hidden":u==="never"||void 0,forceMount:!0,onMouseEnter:()=>b(!0),onMouseLeave:()=>b(!1),children:G.jsx(vb,{...S("thumb")})}),(m==="xy"||m==="y")&&G.jsx(mb,{...S("scrollbar"),orientation:"vertical","data-hidden":u==="never"||void 0,forceMount:!0,onMouseEnter:()=>b(!0),onMouseLeave:()=>b(!1),children:G.jsx(vb,{...S("thumb")})}),G.jsx(BM,{...S("corner"),"data-hovered":y||void 0,"data-hidden":u==="never"||void 0})]})});Ol.displayName="@mantine/core/ScrollArea";const gy=yt((e,t)=>{const{children:n,classNames:r,styles:o,scrollbarSize:s,scrollHideDelay:i,type:a,dir:l,offsetScrollbars:c,viewportRef:u,onScrollPositionChange:f,unstyled:d,variant:h,viewportProps:v,scrollbars:p,style:g,vars:m,...w}=it("ScrollAreaAutosize",jA,e);return G.jsx(ct,{...w,ref:t,style:[{display:"flex",overflow:"auto"},g],children:G.jsx(ct,{style:{display:"flex",flexDirection:"column",flex:1},children:G.jsx(Ol,{classNames:r,styles:o,scrollHideDelay:i,scrollbarSize:s,type:a,dir:l,offsetScrollbars:c,viewportRef:u,onScrollPositionChange:f,unstyled:d,variant:h,viewportProps:v,vars:m,scrollbars:p,children:n})})})});Ol.classes=vy;gy.displayName="@mantine/core/ScrollAreaAutosize";gy.classes=vy;Ol.Autosize=gy;var VA={root:"m_87cf2631"};const KM={__staticSelector:"UnstyledButton"},Ll=Nl((e,t)=>{const n=it("UnstyledButton",KM,e),{className:r,component:o="button",__staticSelector:s,unstyled:i,classNames:a,styles:l,style:c,...u}=n,f=Wt({name:s,props:n,classes:VA,className:r,style:c,classNames:a,styles:l,unstyled:i});return G.jsx(ct,{...f("root",{focusable:!0}),component:o,ref:t,type:o==="button"?"button":void 0,...u})});Ll.classes=VA;Ll.displayName="@mantine/core/UnstyledButton";var UA={root:"m_515a97f8"};const JM={},yy=yt((e,t)=>{const n=it("VisuallyHidden",JM,e),{classNames:r,className:o,style:s,styles:i,unstyled:a,vars:l,...c}=n,u=Wt({name:"VisuallyHidden",classes:UA,props:n,className:o,style:s,classNames:r,styles:i,unstyled:a});return G.jsx(ct,{component:"span",ref:t,...u("root"),...c})});yy.classes=UA;yy.displayName="@mantine/core/VisuallyHidden";function Ml(e){return HA(e)?(e.nodeName||"").toLowerCase():"#document"}function kr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function vs(e){var t;return(t=(HA(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function HA(e){return e instanceof Node||e instanceof kr(e).Node}function tr(e){return e instanceof Element||e instanceof kr(e).Element}function zo(e){return e instanceof HTMLElement||e instanceof kr(e).HTMLElement}function gb(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof kr(e).ShadowRoot}function Gu(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=wo(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function eF(e){return["table","td","th"].includes(Ml(e))}function _p(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function wy(e){const t=xy(),n=tr(e)?wo(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function tF(e){let t=ri(e);for(;zo(t)&&!xl(t);){if(wy(t))return t;if(_p(t))return null;t=ri(t)}return null}function xy(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function xl(e){return["html","body","#document"].includes(Ml(e))}function wo(e){return kr(e).getComputedStyle(e)}function $p(e){return tr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ri(e){if(Ml(e)==="html")return e;const t=e.assignedSlot||e.parentNode||gb(e)&&e.host||vs(e);return gb(t)?t.host:t}function WA(e){const t=ri(e);return xl(t)?e.ownerDocument?e.ownerDocument.body:e.body:zo(t)&&Gu(t)?t:WA(t)}function bu(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=WA(e),s=o===((r=e.ownerDocument)==null?void 0:r.body),i=kr(o);return s?t.concat(i,i.visualViewport||[],Gu(o)?o:[],i.frameElement&&n?bu(i.frameElement):[]):t.concat(o,bu(o,[],n))}const Cr=Math.min,Hn=Math.max,Rh=Math.round,ad=Math.floor,oi=e=>({x:e,y:e}),nF={left:"right",right:"left",bottom:"top",top:"bottom"},rF={start:"end",end:"start"};function zv(e,t,n){return Hn(e,Cr(t,n))}function us(e,t){return typeof e=="function"?e(t):e}function xo(e){return e.split("-")[0]}function Fl(e){return e.split("-")[1]}function by(e){return e==="x"?"y":"x"}function Sy(e){return e==="y"?"height":"width"}function fs(e){return["top","bottom"].includes(xo(e))?"y":"x"}function Ey(e){return by(fs(e))}function oF(e,t,n){n===void 0&&(n=!1);const r=Fl(e),o=Ey(e),s=Sy(o);let i=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(i=Nh(i)),[i,Nh(i)]}function sF(e){const t=Nh(e);return[Bv(e),t,Bv(t)]}function Bv(e){return e.replace(/start|end/g,t=>rF[t])}function iF(e,t,n){const r=["left","right"],o=["right","left"],s=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:r:t?r:o;case"left":case"right":return t?s:i;default:return[]}}function aF(e,t,n,r){const o=Fl(e);let s=iF(xo(e),n==="start",r);return o&&(s=s.map(i=>i+"-"+o),t&&(s=s.concat(s.map(Bv)))),s}function Nh(e){return e.replace(/left|right|bottom|top/g,t=>nF[t])}function lF(e){return{top:0,right:0,bottom:0,left:0,...e}}function _y(e){return typeof e!="number"?lF(e):{top:e,right:e,bottom:e,left:e}}function bl(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function yb(e,t,n){let{reference:r,floating:o}=e;const s=fs(t),i=Ey(t),a=Sy(i),l=xo(t),c=s==="y",u=r.x+r.width/2-o.width/2,f=r.y+r.height/2-o.height/2,d=r[a]/2-o[a]/2;let h;switch(l){case"top":h={x:u,y:r.y-o.height};break;case"bottom":h={x:u,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:f};break;case"left":h={x:r.x-o.width,y:f};break;default:h={x:r.x,y:r.y}}switch(Fl(t)){case"start":h[i]-=d*(n&&c?-1:1);break;case"end":h[i]+=d*(n&&c?-1:1);break}return h}const cF=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:s=[],platform:i}=n,a=s.filter(Boolean),l=await(i.isRTL==null?void 0:i.isRTL(t));let c=await i.getElementRects({reference:e,floating:t,strategy:o}),{x:u,y:f}=yb(c,r,l),d=r,h={},v=0;for(let p=0;p<a.length;p++){const{name:g,fn:m}=a[p],{x:w,y,data:b,reset:S}=await m({x:u,y:f,initialPlacement:r,placement:d,strategy:o,middlewareData:h,rects:c,platform:i,elements:{reference:e,floating:t}});u=w??u,f=y??f,h={...h,[g]:{...h[g],...b}},S&&v<=50&&(v++,typeof S=="object"&&(S.placement&&(d=S.placement),S.rects&&(c=S.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:o}):S.rects),{x:u,y:f}=yb(c,d,l)),p=-1)}return{x:u,y:f,placement:d,strategy:o,middlewareData:h}};async function $y(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:s,rects:i,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:d=!1,padding:h=0}=us(t,e),v=_y(h),g=a[d?f==="floating"?"reference":"floating":f],m=bl(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(g)))==null||n?g:g.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),w=f==="floating"?{x:r,y:o,width:i.floating.width,height:i.floating.height}:i.reference,y=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),b=await(s.isElement==null?void 0:s.isElement(y))?await(s.getScale==null?void 0:s.getScale(y))||{x:1,y:1}:{x:1,y:1},S=bl(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:y,strategy:l}):w);return{top:(m.top-S.top+v.top)/b.y,bottom:(S.bottom-m.bottom+v.bottom)/b.y,left:(m.left-S.left+v.left)/b.x,right:(S.right-m.right+v.right)/b.x}}const uF=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:s,platform:i,elements:a,middlewareData:l}=t,{element:c,padding:u=0}=us(e,t)||{};if(c==null)return{};const f=_y(u),d={x:n,y:r},h=Ey(o),v=Sy(h),p=await i.getDimensions(c),g=h==="y",m=g?"top":"left",w=g?"bottom":"right",y=g?"clientHeight":"clientWidth",b=s.reference[v]+s.reference[h]-d[h]-s.floating[v],S=d[h]-s.reference[h],E=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c));let $=E?E[y]:0;(!$||!await(i.isElement==null?void 0:i.isElement(E)))&&($=a.floating[y]||s.floating[v]);const A=b/2-S/2,B=$/2-p[v]/2-1,D=Cr(f[m],B),W=Cr(f[w],B),te=D,pe=$-p[v]-W,V=$/2-p[v]/2+A,me=zv(te,V,pe),ee=!l.arrow&&Fl(o)!=null&&V!==me&&s.reference[v]/2-(V<te?D:W)-p[v]/2<0,xe=ee?V<te?V-te:V-pe:0;return{[h]:d[h]+xe,data:{[h]:me,centerOffset:V-me-xe,...ee&&{alignmentOffset:xe}},reset:ee}}}),fF=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:s,rects:i,initialPlacement:a,platform:l,elements:c}=t,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:d,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:p=!0,...g}=us(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const m=xo(o),w=fs(a),y=xo(a)===a,b=await(l.isRTL==null?void 0:l.isRTL(c.floating)),S=d||(y||!p?[Nh(a)]:sF(a)),E=v!=="none";!d&&E&&S.push(...aF(a,p,v,b));const $=[a,...S],A=await $y(t,g),B=[];let D=((r=s.flip)==null?void 0:r.overflows)||[];if(u&&B.push(A[m]),f){const V=oF(o,i,b);B.push(A[V[0]],A[V[1]])}if(D=[...D,{placement:o,overflows:B}],!B.every(V=>V<=0)){var W,te;const V=(((W=s.flip)==null?void 0:W.index)||0)+1,me=$[V];if(me)return{data:{index:V,overflows:D},reset:{placement:me}};let ee=(te=D.filter(xe=>xe.overflows[0]<=0).sort((xe,oe)=>xe.overflows[1]-oe.overflows[1])[0])==null?void 0:te.placement;if(!ee)switch(h){case"bestFit":{var pe;const xe=(pe=D.filter(oe=>{if(E){const $e=fs(oe.placement);return $e===w||$e==="y"}return!0}).map(oe=>[oe.placement,oe.overflows.filter($e=>$e>0).reduce(($e,Ne)=>$e+Ne,0)]).sort((oe,$e)=>oe[1]-$e[1])[0])==null?void 0:pe[0];xe&&(ee=xe);break}case"initialPlacement":ee=a;break}if(o!==ee)return{reset:{placement:ee}}}return{}}}};function XA(e){const t=Cr(...e.map(s=>s.left)),n=Cr(...e.map(s=>s.top)),r=Hn(...e.map(s=>s.right)),o=Hn(...e.map(s=>s.bottom));return{x:t,y:n,width:r-t,height:o-n}}function dF(e){const t=e.slice().sort((o,s)=>o.y-s.y),n=[];let r=null;for(let o=0;o<t.length;o++){const s=t[o];!r||s.y-r.y>r.height/2?n.push([s]):n[n.length-1].push(s),r=s}return n.map(o=>bl(XA(o)))}const hF=function(e){return e===void 0&&(e={}),{name:"inline",options:e,async fn(t){const{placement:n,elements:r,rects:o,platform:s,strategy:i}=t,{padding:a=2,x:l,y:c}=us(e,t),u=Array.from(await(s.getClientRects==null?void 0:s.getClientRects(r.reference))||[]),f=dF(u),d=bl(XA(u)),h=_y(a);function v(){if(f.length===2&&f[0].left>f[1].right&&l!=null&&c!=null)return f.find(g=>l>g.left-h.left&&l<g.right+h.right&&c>g.top-h.top&&c<g.bottom+h.bottom)||d;if(f.length>=2){if(fs(n)==="y"){const D=f[0],W=f[f.length-1],te=xo(n)==="top",pe=D.top,V=W.bottom,me=te?D.left:W.left,ee=te?D.right:W.right,xe=ee-me,oe=V-pe;return{top:pe,bottom:V,left:me,right:ee,width:xe,height:oe,x:me,y:pe}}const g=xo(n)==="left",m=Hn(...f.map(D=>D.right)),w=Cr(...f.map(D=>D.left)),y=f.filter(D=>g?D.left===w:D.right===m),b=y[0].top,S=y[y.length-1].bottom,E=w,$=m,A=$-E,B=S-b;return{top:b,bottom:S,left:E,right:$,width:A,height:B,x:E,y:b}}return d}const p=await s.getElementRects({reference:{getBoundingClientRect:v},floating:r.floating,strategy:i});return o.reference.x!==p.reference.x||o.reference.y!==p.reference.y||o.reference.width!==p.reference.width||o.reference.height!==p.reference.height?{reset:{rects:p}}:{}}}};async function pF(e,t){const{placement:n,platform:r,elements:o}=e,s=await(r.isRTL==null?void 0:r.isRTL(o.floating)),i=xo(n),a=Fl(n),l=fs(n)==="y",c=["left","top"].includes(i)?-1:1,u=s&&l?-1:1,f=us(t,e);let{mainAxis:d,crossAxis:h,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...f};return a&&typeof v=="number"&&(h=a==="end"?v*-1:v),l?{x:h*u,y:d*c}:{x:d*c,y:h*u}}const mF=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:s,placement:i,middlewareData:a}=t,l=await pF(t,e);return i===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:o+l.x,y:s+l.y,data:{...l,placement:i}}}}},vF=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:s=!0,crossAxis:i=!1,limiter:a={fn:g=>{let{x:m,y:w}=g;return{x:m,y:w}}},...l}=us(e,t),c={x:n,y:r},u=await $y(t,l),f=fs(xo(o)),d=by(f);let h=c[d],v=c[f];if(s){const g=d==="y"?"top":"left",m=d==="y"?"bottom":"right",w=h+u[g],y=h-u[m];h=zv(w,h,y)}if(i){const g=f==="y"?"top":"left",m=f==="y"?"bottom":"right",w=v+u[g],y=v-u[m];v=zv(w,v,y)}const p=a.fn({...t,[d]:h,[f]:v});return{...p,data:{x:p.x-n,y:p.y-r}}}}},gF=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:o,rects:s,middlewareData:i}=t,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=us(e,t),u={x:n,y:r},f=fs(o),d=by(f);let h=u[d],v=u[f];const p=us(a,t),g=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(l){const y=d==="y"?"height":"width",b=s.reference[d]-s.floating[y]+g.mainAxis,S=s.reference[d]+s.reference[y]-g.mainAxis;h<b?h=b:h>S&&(h=S)}if(c){var m,w;const y=d==="y"?"width":"height",b=["top","left"].includes(xo(o)),S=s.reference[f]-s.floating[y]+(b&&((m=i.offset)==null?void 0:m[f])||0)+(b?0:g.crossAxis),E=s.reference[f]+s.reference[y]+(b?0:((w=i.offset)==null?void 0:w[f])||0)-(b?g.crossAxis:0);v<S?v=S:v>E&&(v=E)}return{[d]:h,[f]:v}}}},yF=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:r,platform:o,elements:s}=t,{apply:i=()=>{},...a}=us(e,t),l=await $y(t,a),c=xo(n),u=Fl(n),f=fs(n)==="y",{width:d,height:h}=r.floating;let v,p;c==="top"||c==="bottom"?(v=c,p=u===(await(o.isRTL==null?void 0:o.isRTL(s.floating))?"start":"end")?"left":"right"):(p=c,v=u==="end"?"top":"bottom");const g=h-l.top-l.bottom,m=d-l.left-l.right,w=Cr(h-l[v],g),y=Cr(d-l[p],m),b=!t.middlewareData.shift;let S=w,E=y;if(f?E=u||b?Cr(y,m):m:S=u||b?Cr(w,g):g,b&&!u){const A=Hn(l.left,0),B=Hn(l.right,0),D=Hn(l.top,0),W=Hn(l.bottom,0);f?E=d-2*(A!==0||B!==0?A+B:Hn(l.left,l.right)):S=h-2*(D!==0||W!==0?D+W:Hn(l.top,l.bottom))}await i({...t,availableWidth:E,availableHeight:S});const $=await o.getDimensions(s.floating);return d!==$.width||h!==$.height?{reset:{rects:!0}}:{}}}};function YA(e){const t=wo(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=zo(e),s=o?e.offsetWidth:n,i=o?e.offsetHeight:r,a=Rh(n)!==s||Rh(r)!==i;return a&&(n=s,r=i),{width:n,height:r,$:a}}function Ay(e){return tr(e)?e:e.contextElement}function al(e){const t=Ay(e);if(!zo(t))return oi(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:s}=YA(t);let i=(s?Rh(n.width):n.width)/r,a=(s?Rh(n.height):n.height)/o;return(!i||!Number.isFinite(i))&&(i=1),(!a||!Number.isFinite(a))&&(a=1),{x:i,y:a}}const wF=oi(0);function qA(e){const t=kr(e);return!xy()||!t.visualViewport?wF:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function xF(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==kr(e)?!1:t}function Ki(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),s=Ay(e);let i=oi(1);t&&(r?tr(r)&&(i=al(r)):i=al(e));const a=xF(s,n,r)?qA(s):oi(0);let l=(o.left+a.x)/i.x,c=(o.top+a.y)/i.y,u=o.width/i.x,f=o.height/i.y;if(s){const d=kr(s),h=r&&tr(r)?kr(r):r;let v=d,p=v.frameElement;for(;p&&r&&h!==v;){const g=al(p),m=p.getBoundingClientRect(),w=wo(p),y=m.left+(p.clientLeft+parseFloat(w.paddingLeft))*g.x,b=m.top+(p.clientTop+parseFloat(w.paddingTop))*g.y;l*=g.x,c*=g.y,u*=g.x,f*=g.y,l+=y,c+=b,v=kr(p),p=v.frameElement}}return bl({width:u,height:f,x:l,y:c})}function bF(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const s=o==="fixed",i=vs(r),a=t?_p(t.floating):!1;if(r===i||a&&s)return n;let l={scrollLeft:0,scrollTop:0},c=oi(1);const u=oi(0),f=zo(r);if((f||!f&&!s)&&((Ml(r)!=="body"||Gu(i))&&(l=$p(r)),zo(r))){const d=Ki(r);c=al(r),u.x=d.x+r.clientLeft,u.y=d.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x,y:n.y*c.y-l.scrollTop*c.y+u.y}}function SF(e){return Array.from(e.getClientRects())}function ZA(e){return Ki(vs(e)).left+$p(e).scrollLeft}function EF(e){const t=vs(e),n=$p(e),r=e.ownerDocument.body,o=Hn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=Hn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+ZA(e);const a=-n.scrollTop;return wo(r).direction==="rtl"&&(i+=Hn(t.clientWidth,r.clientWidth)-o),{width:o,height:s,x:i,y:a}}function _F(e,t){const n=kr(e),r=vs(e),o=n.visualViewport;let s=r.clientWidth,i=r.clientHeight,a=0,l=0;if(o){s=o.width,i=o.height;const c=xy();(!c||c&&t==="fixed")&&(a=o.offsetLeft,l=o.offsetTop)}return{width:s,height:i,x:a,y:l}}function $F(e,t){const n=Ki(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,s=zo(e)?al(e):oi(1),i=e.clientWidth*s.x,a=e.clientHeight*s.y,l=o*s.x,c=r*s.y;return{width:i,height:a,x:l,y:c}}function wb(e,t,n){let r;if(t==="viewport")r=_F(e,n);else if(t==="document")r=EF(vs(e));else if(tr(t))r=$F(t,n);else{const o=qA(e);r={...t,x:t.x-o.x,y:t.y-o.y}}return bl(r)}function QA(e,t){const n=ri(e);return n===t||!tr(n)||xl(n)?!1:wo(n).position==="fixed"||QA(n,t)}function AF(e,t){const n=t.get(e);if(n)return n;let r=bu(e,[],!1).filter(a=>tr(a)&&Ml(a)!=="body"),o=null;const s=wo(e).position==="fixed";let i=s?ri(e):e;for(;tr(i)&&!xl(i);){const a=wo(i),l=wy(i);!l&&a.position==="fixed"&&(o=null),(s?!l&&!o:!l&&a.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||Gu(i)&&!l&&QA(e,i))?r=r.filter(u=>u!==i):o=a,i=ri(i)}return t.set(e,r),r}function TF(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const i=[...n==="clippingAncestors"?_p(t)?[]:AF(t,this._c):[].concat(n),r],a=i[0],l=i.reduce((c,u)=>{const f=wb(t,u,o);return c.top=Hn(f.top,c.top),c.right=Cr(f.right,c.right),c.bottom=Cr(f.bottom,c.bottom),c.left=Hn(f.left,c.left),c},wb(t,a,o));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function CF(e){const{width:t,height:n}=YA(e);return{width:t,height:n}}function PF(e,t,n){const r=zo(t),o=vs(t),s=n==="fixed",i=Ki(e,!0,s,t);let a={scrollLeft:0,scrollTop:0};const l=oi(0);if(r||!r&&!s)if((Ml(t)!=="body"||Gu(o))&&(a=$p(t)),r){const f=Ki(t,!0,s,t);l.x=f.x+t.clientLeft,l.y=f.y+t.clientTop}else o&&(l.x=ZA(o));const c=i.left+a.scrollLeft-l.x,u=i.top+a.scrollTop-l.y;return{x:c,y:u,width:i.width,height:i.height}}function R0(e){return wo(e).position==="static"}function xb(e,t){return!zo(e)||wo(e).position==="fixed"?null:t?t(e):e.offsetParent}function KA(e,t){const n=kr(e);if(_p(e))return n;if(!zo(e)){let o=ri(e);for(;o&&!xl(o);){if(tr(o)&&!R0(o))return o;o=ri(o)}return n}let r=xb(e,t);for(;r&&eF(r)&&R0(r);)r=xb(r,t);return r&&xl(r)&&R0(r)&&!wy(r)?n:r||tF(e)||n}const kF=async function(e){const t=this.getOffsetParent||KA,n=this.getDimensions,r=await n(e.floating);return{reference:PF(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function RF(e){return wo(e).direction==="rtl"}const NF={convertOffsetParentRelativeRectToViewportRelativeRect:bF,getDocumentElement:vs,getClippingRect:TF,getOffsetParent:KA,getElementRects:kF,getClientRects:SF,getDimensions:CF,getScale:al,isElement:tr,isRTL:RF};function OF(e,t){let n=null,r;const o=vs(e);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function i(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:c,top:u,width:f,height:d}=e.getBoundingClientRect();if(a||t(),!f||!d)return;const h=ad(u),v=ad(o.clientWidth-(c+f)),p=ad(o.clientHeight-(u+d)),g=ad(c),w={rootMargin:-h+"px "+-v+"px "+-p+"px "+-g+"px",threshold:Hn(0,Cr(1,l))||1};let y=!0;function b(S){const E=S[0].intersectionRatio;if(E!==l){if(!y)return i();E?i(!1,E):r=setTimeout(()=>{i(!1,1e-7)},1e3)}y=!1}try{n=new IntersectionObserver(b,{...w,root:o.ownerDocument})}catch{n=new IntersectionObserver(b,w)}n.observe(e)}return i(!0),s}function LF(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:s=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=Ay(e),u=o||s?[...c?bu(c):[],...bu(t)]:[];u.forEach(m=>{o&&m.addEventListener("scroll",n,{passive:!0}),s&&m.addEventListener("resize",n)});const f=c&&a?OF(c,n):null;let d=-1,h=null;i&&(h=new ResizeObserver(m=>{let[w]=m;w&&w.target===c&&h&&(h.unobserve(t),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var y;(y=h)==null||y.observe(t)})),n()}),c&&!l&&h.observe(c),h.observe(t));let v,p=l?Ki(e):null;l&&g();function g(){const m=Ki(e);p&&(m.x!==p.x||m.y!==p.y||m.width!==p.width||m.height!==p.height)&&n(),p=m,v=requestAnimationFrame(g)}return n(),()=>{var m;u.forEach(w=>{o&&w.removeEventListener("scroll",n),s&&w.removeEventListener("resize",n)}),f==null||f(),(m=h)==null||m.disconnect(),h=null,l&&cancelAnimationFrame(v)}}const MF=mF,FF=vF,DF=fF,IF=yF,bb=uF,zF=hF,BF=gF,GF=(e,t,n)=>{const r=new Map,o={platform:NF,...n},s={...o.platform,_c:r};return cF(e,t,{...o,platform:s})};var qd=typeof document<"u"?M.useLayoutEffect:M.useEffect;function Oh(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Oh(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const s=o[r];if(!(s==="_owner"&&e.$$typeof)&&!Oh(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function JA(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Sb(e,t){const n=JA(e);return Math.round(t*n)/n}function Eb(e){const t=M.useRef(e);return qd(()=>{t.current=e}),t}function jF(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:s,floating:i}={},transform:a=!0,whileElementsMounted:l,open:c}=e,[u,f]=M.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[d,h]=M.useState(r);Oh(d,r)||h(r);const[v,p]=M.useState(null),[g,m]=M.useState(null),w=M.useCallback(xe=>{xe!==E.current&&(E.current=xe,p(xe))},[]),y=M.useCallback(xe=>{xe!==$.current&&($.current=xe,m(xe))},[]),b=s||v,S=i||g,E=M.useRef(null),$=M.useRef(null),A=M.useRef(u),B=l!=null,D=Eb(l),W=Eb(o),te=M.useCallback(()=>{if(!E.current||!$.current)return;const xe={placement:t,strategy:n,middleware:d};W.current&&(xe.platform=W.current),GF(E.current,$.current,xe).then(oe=>{const $e={...oe,isPositioned:!0};pe.current&&!Oh(A.current,$e)&&(A.current=$e,vp.flushSync(()=>{f($e)}))})},[d,t,n,W]);qd(()=>{c===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,f(xe=>({...xe,isPositioned:!1})))},[c]);const pe=M.useRef(!1);qd(()=>(pe.current=!0,()=>{pe.current=!1}),[]),qd(()=>{if(b&&(E.current=b),S&&($.current=S),b&&S){if(D.current)return D.current(b,S,te);te()}},[b,S,te,D,B]);const V=M.useMemo(()=>({reference:E,floating:$,setReference:w,setFloating:y}),[w,y]),me=M.useMemo(()=>({reference:b,floating:S}),[b,S]),ee=M.useMemo(()=>{const xe={position:n,left:0,top:0};if(!me.floating)return xe;const oe=Sb(me.floating,u.x),$e=Sb(me.floating,u.y);return a?{...xe,transform:"translate("+oe+"px, "+$e+"px)",...JA(me.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:oe,top:$e}},[n,a,me.floating,u.x,u.y]);return M.useMemo(()=>({...u,update:te,refs:V,elements:me,floatingStyles:ee}),[u,te,V,me,ee])}const VF=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:o}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?bb({element:r.current,padding:o}).fn(n):{}:r?bb({element:r,padding:o}).fn(n):{}}}},UF=(e,t)=>({...MF(e),options:[e,t]}),HF=(e,t)=>({...FF(e),options:[e,t]}),_b=(e,t)=>({...BF(e),options:[e,t]}),$b=(e,t)=>({...DF(e),options:[e,t]}),WF=(e,t)=>({...IF(e),options:[e,t]}),Ab=(e,t)=>({...zF(e),options:[e,t]}),XF=(e,t)=>({...VF(e),options:[e,t]}),e4={...l6},YF=e4.useInsertionEffect,qF=YF||(e=>e());function ZF(e){const t=M.useRef(()=>{});return qF(()=>{t.current=e}),M.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}var Gv=typeof document<"u"?M.useLayoutEffect:M.useEffect;let Tb=!1,QF=0;const Cb=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+QF++;function KF(){const[e,t]=M.useState(()=>Tb?Cb():void 0);return Gv(()=>{e==null&&t(Cb())},[]),M.useEffect(()=>{Tb=!0},[]),e}const JF=e4.useId,eD=JF||KF;function tD(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(o=>o(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,((r=e.get(t))==null?void 0:r.filter(o=>o!==n))||[])}}}const nD=M.createContext(null),rD=M.createContext(null),oD=()=>{var e;return((e=M.useContext(nD))==null?void 0:e.id)||null},sD=()=>M.useContext(rD);function iD(e){const{open:t=!1,onOpenChange:n,elements:r}=e,o=eD(),s=M.useRef({}),[i]=M.useState(()=>tD()),a=oD()!=null,[l,c]=M.useState(r.reference),u=ZF((h,v,p)=>{s.current.openEvent=h?v:void 0,i.emit("openchange",{open:h,event:v,reason:p,nested:a}),n==null||n(h,v,p)}),f=M.useMemo(()=>({setPositionReference:c}),[]),d=M.useMemo(()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference}),[l,r.reference,r.floating]);return M.useMemo(()=>({dataRef:s,open:t,onOpenChange:u,elements:d,events:i,floatingId:o,refs:f}),[t,u,d,i,o,f])}function aD(e){e===void 0&&(e={});const{nodeId:t}=e,n=iD({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,o=r.elements,[s,i]=M.useState(null),[a,l]=M.useState(null),u=(o==null?void 0:o.reference)||s,f=M.useRef(null),d=sD();Gv(()=>{u&&(f.current=u)},[u]);const h=jF({...e,elements:{...o,...a&&{reference:a}}}),v=M.useCallback(y=>{const b=tr(y)?{getBoundingClientRect:()=>y.getBoundingClientRect(),contextElement:y}:y;l(b),h.refs.setReference(b)},[h.refs]),p=M.useCallback(y=>{(tr(y)||y===null)&&(f.current=y,i(y)),(tr(h.refs.reference.current)||h.refs.reference.current===null||y!==null&&!tr(y))&&h.refs.setReference(y)},[h.refs]),g=M.useMemo(()=>({...h.refs,setReference:p,setPositionReference:v,domReference:f}),[h.refs,p,v]),m=M.useMemo(()=>({...h.elements,domReference:u}),[h.elements,u]),w=M.useMemo(()=>({...h,...r,refs:g,elements:m,nodeId:t}),[h,g,m,t,r]);return Gv(()=>{r.dataRef.current.floatingContext=w;const y=d==null?void 0:d.nodesRef.current.find(b=>b.id===t);y&&(y.context=w)}),M.useMemo(()=>({...h,context:w,refs:g,elements:m}),[h,g,m,w])}function lD(e,t){if(e==="rtl"&&(t.includes("right")||t.includes("left"))){const[n,r]=t.split("-"),o=n==="right"?"left":"right";return r===void 0?o:`${o}-${r}`}return t}function Pb(e,t,n,r){return e==="center"||r==="center"?{top:t}:e==="end"?{bottom:n}:e==="start"?{top:n}:{}}function kb(e,t,n,r,o){return e==="center"||r==="center"?{left:t}:e==="end"?{[o==="ltr"?"right":"left"]:n}:e==="start"?{[o==="ltr"?"left":"right"]:n}:{}}const cD={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function uD({position:e,arrowSize:t,arrowOffset:n,arrowRadius:r,arrowPosition:o,arrowX:s,arrowY:i,dir:a}){const[l,c="center"]=e.split("-"),u={width:t,height:t,transform:"rotate(45deg)",position:"absolute",[cD[l]]:r},f=-t/2;return l==="left"?{...u,...Pb(c,i,n,o),right:f,borderLeftColor:"transparent",borderBottomColor:"transparent"}:l==="right"?{...u,...Pb(c,i,n,o),left:f,borderRightColor:"transparent",borderTopColor:"transparent"}:l==="top"?{...u,...kb(c,s,n,o,a),bottom:f,borderTopColor:"transparent",borderLeftColor:"transparent"}:l==="bottom"?{...u,...kb(c,s,n,o,a),top:f,borderBottomColor:"transparent",borderRightColor:"transparent"}:{}}const t4=M.forwardRef(({position:e,arrowSize:t,arrowOffset:n,arrowRadius:r,arrowPosition:o,visible:s,arrowX:i,arrowY:a,style:l,...c},u)=>{const{dir:f}=Sp();return s?G.jsx("div",{...c,ref:u,style:{...l,...uD({position:e,arrowSize:t,arrowOffset:n,arrowRadius:r,arrowPosition:o,dir:f,arrowX:i,arrowY:a})}}):null});t4.displayName="@mantine/core/FloatingArrow";const[fD,n4]=Iu("Popover component was not found in the tree");function Ty({children:e,active:t=!0,refProp:n="ref",innerRef:r}){const o=wL(t),s=Qr(o,r);return Du(e)?M.cloneElement(e,{[n]:s}):e}function r4(e){return G.jsx(yy,{tabIndex:-1,"data-autofocus":!0,...e})}Ty.displayName="@mantine/core/FocusTrap";r4.displayName="@mantine/core/FocusTrapInitialFocus";Ty.InitialFocus=r4;function dD(e){const t=document.createElement("div");return t.setAttribute("data-portal","true"),typeof e.className=="string"&&t.classList.add(...e.className.split(" ").filter(Boolean)),typeof e.style=="object"&&Object.assign(t.style,e.style),typeof e.id=="string"&&t.setAttribute("id",e.id),t}const hD={},o4=M.forwardRef((e,t)=>{const{children:n,target:r,...o}=it("Portal",hD,e),[s,i]=M.useState(!1),a=M.useRef(null);return Rl(()=>(i(!0),a.current=r?typeof r=="string"?document.querySelector(r):r:dD(o),SA(t,a.current),!r&&a.current&&document.body.appendChild(a.current),()=>{!r&&a.current&&document.body.removeChild(a.current)}),[r]),!s||!a.current?null:vp.createPortal(G.jsx(G.Fragment,{children:n}),a.current)});o4.displayName="@mantine/core/Portal";function s4({withinPortal:e=!0,children:t,...n}){return e?G.jsx(o4,{...n,children:t}):G.jsx(G.Fragment,{children:t})}s4.displayName="@mantine/core/OptionalPortal";const Ac=e=>({in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:`scale(.9) translateY(${fe(e==="bottom"?10:-10)})`},transitionProperty:"transform, opacity"}),ld={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},"fade-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:`translateY(${fe(30)}`},transitionProperty:"opacity, transform"},"fade-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:`translateY(${fe(-30)}`},transitionProperty:"opacity, transform"},"fade-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:`translateX(${fe(30)}`},transitionProperty:"opacity, transform"},"fade-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:`translateX(${fe(-30)}`},transitionProperty:"opacity, transform"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:`translateY(${fe(-20)}) skew(-10deg, -5deg)`},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:`translateY(${fe(20)}) skew(-10deg, -5deg)`},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:`translateY(${fe(20)}) rotate(-5deg)`},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:`translateY(${fe(20)}) rotate(5deg)`},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:{...Ac("bottom"),common:{transformOrigin:"center center"}},"pop-bottom-left":{...Ac("bottom"),common:{transformOrigin:"bottom left"}},"pop-bottom-right":{...Ac("bottom"),common:{transformOrigin:"bottom right"}},"pop-top-left":{...Ac("top"),common:{transformOrigin:"top left"}},"pop-top-right":{...Ac("top"),common:{transformOrigin:"top right"}}},Rb={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function pD({transition:e,state:t,duration:n,timingFunction:r}){const o={transitionDuration:`${n}ms`,transitionTimingFunction:r};return typeof e=="string"?e in ld?{transitionProperty:ld[e].transitionProperty,...o,...ld[e].common,...ld[e][Rb[t]]}:{}:{transitionProperty:e.transitionProperty,...o,...e.common,...e[Rb[t]]}}function mD({duration:e,exitDuration:t,timingFunction:n,mounted:r,onEnter:o,onExit:s,onEntered:i,onExited:a,enterDelay:l,exitDelay:c}){const u=ms(),f=_L(),d=u.respectReducedMotion?f:!1,[h,v]=M.useState(d?0:e),[p,g]=M.useState(r?"entered":"exited"),m=M.useRef(-1),w=M.useRef(-1),y=M.useRef(-1),b=E=>{const $=E?o:s,A=E?i:a;window.clearTimeout(m.current);const B=d?0:E?e:t;v(B),B===0?(typeof $=="function"&&$(),typeof A=="function"&&A(),g(E?"entered":"exited")):y.current=requestAnimationFrame(()=>{wO.flushSync(()=>{g(E?"pre-entering":"pre-exiting")}),y.current=requestAnimationFrame(()=>{typeof $=="function"&&$(),g(E?"entering":"exiting"),m.current=window.setTimeout(()=>{typeof A=="function"&&A(),g(E?"entered":"exited")},B)})})},S=E=>{if(window.clearTimeout(w.current),typeof(E?l:c)!="number"){b(E);return}w.current=window.setTimeout(()=>{b(E)},E?l:c)};return gl(()=>{S(r)},[r]),M.useEffect(()=>()=>{window.clearTimeout(m.current),cancelAnimationFrame(y.current)},[]),{transitionDuration:h,transitionStatus:p,transitionTimingFunction:n||"ease"}}function Cy({keepMounted:e,transition:t="fade",duration:n=250,exitDuration:r=n,mounted:o,children:s,timingFunction:i="ease",onExit:a,onEntered:l,onEnter:c,onExited:u,enterDelay:f,exitDelay:d}){const{transitionDuration:h,transitionStatus:v,transitionTimingFunction:p}=mD({mounted:o,exitDuration:r,duration:n,timingFunction:i,onExit:a,onEntered:l,onEnter:c,onExited:u,enterDelay:f,exitDelay:d});return h===0?o?G.jsx(G.Fragment,{children:s({})}):e?s({display:"none"}):null:v==="exited"?e?s({display:"none"}):null:G.jsx(G.Fragment,{children:s(pD({transition:t,duration:h,state:v,timingFunction:p}))})}Cy.displayName="@mantine/core/Transition";var i4={dropdown:"m_38a85659",arrow:"m_a31dc6c1"};const vD={},Py=yt((e,t)=>{var g,m,w,y;const n=it("PopoverDropdown",vD,e),{className:r,style:o,vars:s,children:i,onKeyDownCapture:a,variant:l,classNames:c,styles:u,...f}=n,d=n4(),h=dL({opened:d.opened,shouldReturnFocus:d.returnFocus}),v=d.withRoles?{"aria-labelledby":d.getTargetId(),id:d.getDropdownId(),role:"dialog",tabIndex:-1}:{},p=Qr(t,d.floating);return d.disabled?null:G.jsx(s4,{...d.portalProps,withinPortal:d.withinPortal,children:G.jsx(Cy,{mounted:d.opened,...d.transitionProps,transition:((g=d.transitionProps)==null?void 0:g.transition)||"fade",duration:((m=d.transitionProps)==null?void 0:m.duration)??150,keepMounted:d.keepMounted,exitDuration:typeof((w=d.transitionProps)==null?void 0:w.exitDuration)=="number"?d.transitionProps.exitDuration:(y=d.transitionProps)==null?void 0:y.duration,children:b=>G.jsx(Ty,{active:d.trapFocus,innerRef:p,children:G.jsxs(ct,{...v,...f,variant:l,onKeyDownCapture:iL(d.onClose,{active:d.closeOnEscape,onTrigger:h,onKeyDown:a}),"data-position":d.placement,"data-fixed":d.floatingStrategy==="fixed"||void 0,...d.getStyles("dropdown",{className:r,props:n,classNames:c,styles:u,style:[{...b,zIndex:d.zIndex,top:d.y??0,left:d.x??0,width:d.width==="target"?void 0:fe(d.width)},o]}),children:[i,G.jsx(t4,{ref:d.arrowRef,arrowX:d.arrowX,arrowY:d.arrowY,visible:d.withArrow,position:d.placement,arrowSize:d.arrowSize,arrowRadius:d.arrowRadius,arrowOffset:d.arrowOffset,arrowPosition:d.arrowPosition,...d.getStyles("arrow",{props:n,classNames:c,styles:u})})]})})})})});Py.classes=i4;Py.displayName="@mantine/core/PopoverDropdown";const gD={refProp:"ref",popupType:"dialog"},a4=yt((e,t)=>{const{children:n,refProp:r,popupType:o,...s}=it("PopoverTarget",gD,e);if(!Du(n))throw new Error("Popover.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const i=s,a=n4(),l=Qr(a.reference,n.ref,t),c=a.withRoles?{"aria-haspopup":o,"aria-expanded":a.opened,"aria-controls":a.getDropdownId(),id:a.getTargetId()}:{};return M.cloneElement(n,{...i,...c,...a.targetProps,className:bo(a.targetProps.className,i.className,n.props.className),[r]:l,...a.controlled?null:{onClick:a.onToggle}})});a4.displayName="@mantine/core/PopoverTarget";function yD({opened:e,floating:t,position:n,positionDependencies:r}){const[o,s]=M.useState(0);M.useEffect(()=>{if(t.refs.reference.current&&t.refs.floating.current)return LF(t.refs.reference.current,t.refs.floating.current,t.update)},[t.refs.reference.current,t.refs.floating.current,e,o,n]),gl(()=>{t.update()},r),gl(()=>{s(i=>i+1)},[e])}function wD(e){if(e===void 0)return{shift:!0,flip:!0};const t={...e};return e.shift===void 0&&(t.shift=!0),e.flip===void 0&&(t.flip=!0),t}function xD(e,t){const n=wD(e.middlewares),r=[UF(e.offset)];return n.shift&&r.push(HF(typeof n.shift=="boolean"?{limiter:_b(),padding:5}:{limiter:_b(),padding:5,...n.shift})),n.flip&&r.push(typeof n.flip=="boolean"?$b():$b(n.flip)),n.inline&&r.push(typeof n.inline=="boolean"?Ab():Ab(n.inline)),r.push(XF({element:e.arrowRef,padding:e.arrowOffset})),(n.size||e.width==="target")&&r.push(WF({...typeof n.size=="boolean"?{}:n.size,apply({rects:o,availableWidth:s,availableHeight:i}){var c;const l=((c=t().refs.floating.current)==null?void 0:c.style)??{};n.size&&Object.assign(l,{maxWidth:`${s}px`,maxHeight:`${i}px`}),e.width==="target"&&Object.assign(l,{width:`${o.reference.width}px`})}})),r}function bD(e){const[t,n]=yl({value:e.opened,defaultValue:e.defaultOpened,finalValue:!1,onChange:e.onChange}),r=()=>{var i;t&&((i=e.onClose)==null||i.call(e),n(!1))},o=()=>{var i,a;t?((i=e.onClose)==null||i.call(e),n(!1)):((a=e.onOpen)==null||a.call(e),n(!0))},s=aD({strategy:e.strategy,placement:e.position,middleware:xD(e,()=>s)});return yD({opened:e.opened,position:e.position,positionDependencies:e.positionDependencies||[],floating:s}),gl(()=>{var i;(i=e.onPositionChange)==null||i.call(e,s.placement)},[s.placement]),gl(()=>{var i,a;e.opened?(a=e.onOpen)==null||a.call(e):(i=e.onClose)==null||i.call(e)},[e.opened]),{floating:s,controlled:typeof e.opened=="boolean",opened:t,onClose:r,onToggle:o}}const SD={position:"bottom",offset:8,positionDependencies:[],transitionProps:{transition:"fade",duration:150},middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,arrowPosition:"side",closeOnClickOutside:!0,withinPortal:!0,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,clickOutsideEvents:["mousedown","touchstart"],zIndex:vA("popover"),__staticSelector:"Popover",width:"max-content"},ED=(e,{radius:t,shadow:n})=>({dropdown:{"--popover-radius":t===void 0?void 0:Go(t),"--popover-shadow":aL(n)}});function ui(e){var On,an,Uo,pn,oo,ys;const t=it("Popover",SD,e),{children:n,position:r,offset:o,onPositionChange:s,positionDependencies:i,opened:a,transitionProps:l,width:c,middlewares:u,withArrow:f,arrowSize:d,arrowOffset:h,arrowRadius:v,arrowPosition:p,unstyled:g,classNames:m,styles:w,closeOnClickOutside:y,withinPortal:b,portalProps:S,closeOnEscape:E,clickOutsideEvents:$,trapFocus:A,onClose:B,onOpen:D,onChange:W,zIndex:te,radius:pe,shadow:V,id:me,defaultOpened:ee,__staticSelector:xe,withRoles:oe,disabled:$e,returnFocus:Ne,variant:qe,keepMounted:nt,vars:kt,floatingStrategy:At,...Ct}=t,en=Wt({name:xe,props:t,classes:i4,classNames:m,styles:w,unstyled:g,rootSelector:"dropdown",vars:kt,varsResolver:ED}),sn=M.useRef(null),[Gn,no]=M.useState(null),[Lr,So]=M.useState(null),{dir:ro}=Sp(),Mr=ra(me),Ft=bD({middlewares:u,width:c,position:lD(ro,r),offset:typeof o=="number"?o+(f?d/2:0):o,arrowRef:sn,arrowOffset:h,onPositionChange:s,positionDependencies:i,opened:a,defaultOpened:ee,onChange:W,onOpen:D,onClose:B,strategy:At});lL(()=>y&&Ft.onClose(),$,[Gn,Lr]);const Fr=M.useCallback(C=>{no(C),Ft.floating.refs.setReference(C)},[Ft.floating.refs.setReference]),Vo=M.useCallback(C=>{So(C),Ft.floating.refs.setFloating(C)},[Ft.floating.refs.setFloating]);return G.jsx(fD,{value:{returnFocus:Ne,disabled:$e,controlled:Ft.controlled,reference:Fr,floating:Vo,x:Ft.floating.x,y:Ft.floating.y,arrowX:(Uo=(an=(On=Ft.floating)==null?void 0:On.middlewareData)==null?void 0:an.arrow)==null?void 0:Uo.x,arrowY:(ys=(oo=(pn=Ft.floating)==null?void 0:pn.middlewareData)==null?void 0:oo.arrow)==null?void 0:ys.y,opened:Ft.opened,arrowRef:sn,transitionProps:l,width:c,withArrow:f,arrowSize:d,arrowOffset:h,arrowRadius:v,arrowPosition:p,placement:Ft.floating.placement,trapFocus:A,withinPortal:b,portalProps:S,zIndex:te,radius:pe,shadow:V,closeOnEscape:E,onClose:Ft.onClose,onToggle:Ft.onToggle,getTargetId:()=>`${Mr}-target`,getDropdownId:()=>`${Mr}-dropdown`,withRoles:oe,targetProps:Ct,__staticSelector:xe,classNames:m,styles:w,unstyled:g,variant:qe,keepMounted:nt,getStyles:en,floatingStrategy:At},children:n})}ui.Target=a4;ui.Dropdown=Py;ui.displayName="@mantine/core/Popover";ui.extend=e=>e;var ho={root:"m_5ae2e3c",barsLoader:"m_7a2bd4cd",bar:"m_870bb79","bars-loader-animation":"m_5d2b3b9d",dotsLoader:"m_4e3f22d7",dot:"m_870c4af","loader-dots-animation":"m_aac34a1",ovalLoader:"m_b34414df","oval-loader-animation":"m_f8e89c4b"};const _D=M.forwardRef(({className:e,...t},n)=>G.jsxs(ct,{component:"span",className:bo(ho.barsLoader,e),...t,ref:n,children:[G.jsx("span",{className:ho.bar}),G.jsx("span",{className:ho.bar}),G.jsx("span",{className:ho.bar})]})),$D=M.forwardRef(({className:e,...t},n)=>G.jsxs(ct,{component:"span",className:bo(ho.dotsLoader,e),...t,ref:n,children:[G.jsx("span",{className:ho.dot}),G.jsx("span",{className:ho.dot}),G.jsx("span",{className:ho.dot})]})),AD=M.forwardRef(({className:e,...t},n)=>G.jsx(ct,{component:"span",className:bo(ho.ovalLoader,e),...t,ref:n})),l4={bars:_D,oval:AD,dots:$D},TD={loaders:l4,type:"oval"},CD=(e,{size:t,color:n})=>({root:{"--loader-size":xn(t,"loader-size"),"--loader-color":n?yo(n,e):void 0}}),Ap=yt((e,t)=>{const n=it("Loader",TD,e),{size:r,color:o,type:s,vars:i,className:a,style:l,classNames:c,styles:u,unstyled:f,loaders:d,variant:h,children:v,...p}=n,g=Wt({name:"Loader",props:n,classes:ho,className:a,style:l,classNames:c,styles:u,unstyled:f,vars:i,varsResolver:CD});return v?G.jsx(ct,{...g("root"),ref:t,...p,children:v}):G.jsx(ct,{...g("root"),ref:t,component:d[s],variant:h,size:r,...p})});Ap.defaultLoaders=l4;Ap.classes=ho;Ap.displayName="@mantine/core/Loader";const c4=M.forwardRef(({size:e="var(--cb-icon-size, 70%)",style:t,...n},r)=>G.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...t,width:e,height:e},ref:r,...n,children:G.jsx("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}));c4.displayName="@mantine/core/CloseIcon";var u4={root:"m_86a44da5","root--subtle":"m_220c80f2"};const PD={variant:"subtle"},kD=(e,{size:t,radius:n,iconSize:r})=>({root:{"--cb-size":xn(t,"cb-size"),"--cb-radius":n===void 0?void 0:Go(n),"--cb-icon-size":fe(r)}}),ky=Nl((e,t)=>{const n=it("CloseButton",PD,e),{iconSize:r,children:o,vars:s,radius:i,className:a,classNames:l,style:c,styles:u,unstyled:f,"data-disabled":d,disabled:h,variant:v,icon:p,mod:g,...m}=n,w=Wt({name:"CloseButton",props:n,className:a,style:c,classes:u4,classNames:l,styles:u,unstyled:f,vars:s,varsResolver:kD});return G.jsxs(Ll,{ref:t,...m,unstyled:f,variant:v,disabled:h,mod:[{disabled:h||d},g],...w("root",{variant:v,active:!h&&!d}),children:[p||G.jsx(c4,{}),o]})});ky.classes=u4;ky.displayName="@mantine/core/CloseButton";const[RD,ju]=yp({offsetBottom:!1,offsetTop:!1,describedBy:void 0,getStyles:null,inputId:void 0,labelId:void 0});var Jr={wrapper:"m_6c018570",input:"m_8fb7ebe7",section:"m_82577fc2",placeholder:"m_88bacfd0",root:"m_46b77525",label:"m_8fdc1311",required:"m_78a94662",error:"m_8f816625",description:"m_fe47ce59"};const Nb={},ND=(e,{size:t})=>({description:{"--input-description-size":t===void 0?void 0:`calc(${Hr(t)} - ${fe(2)})`}}),Tp=yt((e,t)=>{const n=it("InputDescription",Nb,e),{classNames:r,className:o,style:s,styles:i,unstyled:a,vars:l,size:c,__staticSelector:u,__inheritStyles:f=!0,variant:d,...h}=it("InputDescription",Nb,n),v=ju(),p=Wt({name:["InputWrapper",u],props:n,classes:Jr,className:o,style:s,classNames:r,styles:i,unstyled:a,rootSelector:"description",vars:l,varsResolver:ND}),g=f&&(v==null?void 0:v.getStyles)||p;return G.jsx(ct,{component:"p",ref:t,variant:d,size:c,...g("description",v!=null&&v.getStyles?{className:o,style:s}:void 0),...h})});Tp.classes=Jr;Tp.displayName="@mantine/core/InputDescription";const OD={},LD=(e,{size:t})=>({error:{"--input-error-size":t===void 0?void 0:`calc(${Hr(t)} - ${fe(2)})`}}),Cp=yt((e,t)=>{const n=it("InputError",OD,e),{classNames:r,className:o,style:s,styles:i,unstyled:a,vars:l,size:c,__staticSelector:u,__inheritStyles:f=!0,variant:d,...h}=n,v=Wt({name:["InputWrapper",u],props:n,classes:Jr,className:o,style:s,classNames:r,styles:i,unstyled:a,rootSelector:"error",vars:l,varsResolver:LD}),p=ju(),g=f&&(p==null?void 0:p.getStyles)||v;return G.jsx(ct,{component:"p",ref:t,variant:d,size:c,...g("error",p!=null&&p.getStyles?{className:o,style:s}:void 0),...h})});Cp.classes=Jr;Cp.displayName="@mantine/core/InputError";const Ob={labelElement:"label"},MD=(e,{size:t})=>({label:{"--input-label-size":Hr(t),"--input-asterisk-color":void 0}}),Pp=yt((e,t)=>{const n=it("InputLabel",Ob,e),{classNames:r,className:o,style:s,styles:i,unstyled:a,vars:l,labelElement:c,size:u,required:f,htmlFor:d,onMouseDown:h,children:v,__staticSelector:p,variant:g,mod:m,...w}=it("InputLabel",Ob,n),y=Wt({name:["InputWrapper",p],props:n,classes:Jr,className:o,style:s,classNames:r,styles:i,unstyled:a,rootSelector:"label",vars:l,varsResolver:MD}),b=ju(),S=(b==null?void 0:b.getStyles)||y;return G.jsxs(ct,{...S("label",b!=null&&b.getStyles?{className:o,style:s}:void 0),component:c,variant:g,size:u,ref:t,htmlFor:c==="label"?d:void 0,mod:[{required:f},m],onMouseDown:E=>{h==null||h(E),!E.defaultPrevented&&E.detail>1&&E.preventDefault()},...w,children:[v,f&&G.jsx("span",{...S("required"),"aria-hidden":!0,children:" *"})]})});Pp.classes=Jr;Pp.displayName="@mantine/core/InputLabel";const Lb={},Ry=yt((e,t)=>{const n=it("InputPlaceholder",Lb,e),{classNames:r,className:o,style:s,styles:i,unstyled:a,vars:l,__staticSelector:c,variant:u,error:f,mod:d,...h}=it("InputPlaceholder",Lb,n),v=Wt({name:["InputPlaceholder",c],props:n,classes:Jr,className:o,style:s,classNames:r,styles:i,unstyled:a,rootSelector:"placeholder"});return G.jsx(ct,{...v("placeholder"),mod:[{error:!!f},d],component:"span",variant:u,ref:t,...h})});Ry.classes=Jr;Ry.displayName="@mantine/core/InputPlaceholder";function FD(e,{hasDescription:t,hasError:n}){const r=e.findIndex(l=>l==="input"),o=e.slice(0,r),s=e.slice(r+1),i=t&&o.includes("description")||n&&o.includes("error");return{offsetBottom:t&&s.includes("description")||n&&s.includes("error"),offsetTop:i}}const DD={labelElement:"label",inputContainer:e=>e,inputWrapperOrder:["label","description","input","error"]},ID=(e,{size:t})=>({label:{"--input-label-size":Hr(t),"--input-asterisk-color":void 0},error:{"--input-error-size":t===void 0?void 0:`calc(${Hr(t)} - ${fe(2)})`},description:{"--input-description-size":t===void 0?void 0:`calc(${Hr(t)} - ${fe(2)})`}}),Ny=yt((e,t)=>{const n=it("InputWrapper",DD,e),{classNames:r,className:o,style:s,styles:i,unstyled:a,vars:l,size:c,variant:u,__staticSelector:f,inputContainer:d,inputWrapperOrder:h,label:v,error:p,description:g,labelProps:m,descriptionProps:w,errorProps:y,labelElement:b,children:S,withAsterisk:E,id:$,required:A,__stylesApiProps:B,mod:D,...W}=n,te=Wt({name:["InputWrapper",f],props:B||n,classes:Jr,className:o,style:s,classNames:r,styles:i,unstyled:a,vars:l,varsResolver:ID}),pe={size:c,variant:u,__staticSelector:f},V=ra($),me=typeof E=="boolean"?E:A,ee=(y==null?void 0:y.id)||`${V}-error`,xe=(w==null?void 0:w.id)||`${V}-description`,oe=V,$e=!!p&&typeof p!="boolean",Ne=!!g,qe=`${$e?ee:""} ${Ne?xe:""}`,nt=qe.trim().length>0?qe.trim():void 0,kt=(m==null?void 0:m.id)||`${V}-label`,At=v&&G.jsx(Pp,{labelElement:b,id:kt,htmlFor:oe,required:me,...pe,...m,children:v},"label"),Ct=Ne&&G.jsx(Tp,{...w,...pe,size:(w==null?void 0:w.size)||pe.size,id:(w==null?void 0:w.id)||xe,children:g},"description"),en=G.jsx(M.Fragment,{children:d(S)},"input"),sn=$e&&M.createElement(Cp,{...y,...pe,size:(y==null?void 0:y.size)||pe.size,key:"error",id:(y==null?void 0:y.id)||ee},p),Gn=h.map(no=>{switch(no){case"label":return At;case"input":return en;case"description":return Ct;case"error":return sn;default:return null}});return G.jsx(RD,{value:{getStyles:te,describedBy:nt,inputId:oe,labelId:kt,...FD(h,{hasDescription:Ne,hasError:$e})},children:G.jsx(ct,{ref:t,variant:u,size:c,mod:[{error:!!p},D],...te("root"),...W,children:Gn})})});Ny.classes=Jr;Ny.displayName="@mantine/core/InputWrapper";const zD={variant:"default",leftSectionPointerEvents:"none",rightSectionPointerEvents:"none",withAria:!0,withErrorStyles:!0},BD=(e,t,n)=>({wrapper:{"--input-margin-top":n.offsetTop?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-margin-bottom":n.offsetBottom?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-height":xn(t.size,"input-height"),"--input-fz":Hr(t.size),"--input-radius":t.radius===void 0?void 0:Go(t.radius),"--input-left-section-width":t.leftSectionWidth!==void 0?fe(t.leftSectionWidth):void 0,"--input-right-section-width":t.rightSectionWidth!==void 0?fe(t.rightSectionWidth):void 0,"--input-padding-y":t.multiline?xn(t.size,"input-padding-y"):void 0,"--input-left-section-pointer-events":t.leftSectionPointerEvents,"--input-right-section-pointer-events":t.rightSectionPointerEvents}}),Nn=Nl((e,t)=>{const n=it("Input",zD,e),{classNames:r,className:o,style:s,styles:i,unstyled:a,required:l,__staticSelector:c,__stylesApiProps:u,size:f,wrapperProps:d,error:h,disabled:v,leftSection:p,leftSectionProps:g,leftSectionWidth:m,rightSection:w,rightSectionProps:y,rightSectionWidth:b,rightSectionPointerEvents:S,leftSectionPointerEvents:E,variant:$,vars:A,pointer:B,multiline:D,radius:W,id:te,withAria:pe,withErrorStyles:V,mod:me,inputSize:ee,...xe}=n,{styleProps:oe,rest:$e}=Bu(xe),Ne=ju(),qe={offsetBottom:Ne==null?void 0:Ne.offsetBottom,offsetTop:Ne==null?void 0:Ne.offsetTop},nt=Wt({name:["Input",c],props:u||n,classes:Jr,className:o,style:s,classNames:r,styles:i,unstyled:a,stylesCtx:qe,rootSelector:"wrapper",vars:A,varsResolver:BD}),kt=pe?{required:l,disabled:v,"aria-invalid":!!h,"aria-describedby":Ne==null?void 0:Ne.describedBy,id:(Ne==null?void 0:Ne.inputId)||te}:{};return G.jsxs(ct,{...nt("wrapper"),...oe,...d,mod:[{error:!!h&&V,pointer:B,disabled:v,multiline:D,"data-with-right-section":!!w,"data-with-left-section":!!p},me],variant:$,size:f,children:[p&&G.jsx("div",{...g,"data-position":"left",...nt("section",{className:g==null?void 0:g.className,style:g==null?void 0:g.style}),children:p}),G.jsx(ct,{component:"input",...$e,...kt,ref:t,required:l,mod:{disabled:v,error:!!h&&V},variant:$,__size:ee,...nt("input")}),w&&G.jsx("div",{...y,"data-position":"right",...nt("section",{className:y==null?void 0:y.className,style:y==null?void 0:y.style}),children:w})]})});Nn.classes=Jr;Nn.Wrapper=Ny;Nn.Label=Pp;Nn.Error=Cp;Nn.Description=Tp;Nn.Placeholder=Ry;Nn.displayName="@mantine/core/Input";function GD(e,t,n){const r=it(e,t,n),{label:o,description:s,error:i,required:a,classNames:l,styles:c,className:u,unstyled:f,__staticSelector:d,__stylesApiProps:h,errorProps:v,labelProps:p,descriptionProps:g,wrapperProps:m,id:w,size:y,style:b,inputContainer:S,inputWrapperOrder:E,withAsterisk:$,variant:A,vars:B,mod:D,...W}=r,{styleProps:te,rest:pe}=Bu(W),V={label:o,description:s,error:i,required:a,classNames:l,className:u,__staticSelector:d,__stylesApiProps:h||r,errorProps:v,labelProps:p,descriptionProps:g,unstyled:f,styles:c,size:y,style:b,inputContainer:S,inputWrapperOrder:E,withAsterisk:$,variant:A,id:w,mod:D,...m};return{...pe,classNames:l,styles:c,unstyled:f,wrapperProps:{...V,...te},inputProps:{required:a,classNames:l,styles:c,unstyled:f,size:y,__staticSelector:d,__stylesApiProps:h||r,error:i,variant:A,id:w}}}const jD={__staticSelector:"InputBase",withAria:!0},Dl=Nl((e,t)=>{const{inputProps:n,wrapperProps:r,...o}=GD("InputBase",jD,e);return G.jsx(Nn.Wrapper,{...r,children:G.jsx(Nn,{...n,...o,ref:t})})});Dl.classes={...Nn.classes,...Nn.Wrapper.classes};Dl.displayName="@mantine/core/InputBase";const[VD,Il]=Iu("AppShell was not found in tree");var fi={root:"m_89ab340",navbar:"m_45252eee",aside:"m_9cdde9a",header:"m_3b16f56b",main:"m_8983817",footer:"m_3840c879",section:"m_6dcfc7c7"};const UD={},Oy=yt((e,t)=>{const n=it("AppShellAside",UD,e),{classNames:r,className:o,style:s,styles:i,unstyled:a,vars:l,withBorder:c,zIndex:u,mod:f,...d}=n,h=Il();return h.disabled?null:G.jsx(ct,{component:"aside",ref:t,mod:[{"with-border":c??h.withBorder},f],...h.getStyles("aside",{className:o,classNames:r,styles:i,style:s}),...d,__vars:{"--app-shell-aside-z-index":`calc(${u??h.zIndex} + 1)`}})});Oy.classes=fi;Oy.displayName="@mantine/core/AppShellAside";const HD={},Ly=yt((e,t)=>{var v;const n=it("AppShellFooter",HD,e),{classNames:r,className:o,style:s,styles:i,unstyled:a,vars:l,withBorder:c,zIndex:u,mod:f,...d}=n,h=Il();return h.disabled?null:G.jsx(ct,{component:"footer",ref:t,mod:[{"with-border":c??h.withBorder},f],...h.getStyles("footer",{className:bo({[iy.classNames.zeroRight]:h.offsetScrollbars},o),classNames:r,styles:i,style:s}),...d,__vars:{"--app-shell-footer-z-index":(v=u??h.zIndex)==null?void 0:v.toString()}})});Ly.classes=fi;Ly.displayName="@mantine/core/AppShellFooter";const WD={},My=yt((e,t)=>{var v;const n=it("AppShellHeader",WD,e),{classNames:r,className:o,style:s,styles:i,unstyled:a,vars:l,withBorder:c,zIndex:u,mod:f,...d}=n,h=Il();return h.disabled?null:G.jsx(ct,{component:"header",ref:t,mod:[{"with-border":c??h.withBorder},f],...h.getStyles("header",{className:bo({[iy.classNames.zeroRight]:h.offsetScrollbars},o),classNames:r,styles:i,style:s}),...d,__vars:{"--app-shell-header-z-index":(v=u??h.zIndex)==null?void 0:v.toString()}})});My.classes=fi;My.displayName="@mantine/core/AppShellHeader";const XD={},Fy=yt((e,t)=>{const n=it("AppShellMain",XD,e),{classNames:r,className:o,style:s,styles:i,vars:a,...l}=n,c=Il();return G.jsx(ct,{component:"main",ref:t,...c.getStyles("main",{className:o,style:s,classNames:r,styles:i}),...l})});Fy.classes=fi;Fy.displayName="@mantine/core/AppShellMain";function Vu(e){return typeof e=="object"?e.base:e}function Uu(e){const t=typeof e=="object"&&e!==null&&typeof e.base<"u"&&Object.keys(e).length===1;return typeof e=="number"||typeof e=="string"||t}function Hu(e){return!(typeof e!="object"||e===null||Object.keys(e).length===1&&"base"in e)}function YD({baseStyles:e,minMediaStyles:t,maxMediaStyles:n,aside:r,theme:o}){var l,c,u;const s=r==null?void 0:r.width,i="translateX(var(--app-shell-aside-width))",a="translateX(calc(var(--app-shell-aside-width) * -1))";if(r!=null&&r.breakpoint&&!((l=r==null?void 0:r.collapsed)!=null&&l.mobile)&&(n[r==null?void 0:r.breakpoint]=n[r==null?void 0:r.breakpoint]||{},n[r==null?void 0:r.breakpoint]["--app-shell-aside-width"]="100%",n[r==null?void 0:r.breakpoint]["--app-shell-aside-offset"]="0px"),Uu(s)){const f=fe(Vu(s));e["--app-shell-aside-width"]=f,e["--app-shell-aside-offset"]=f}if(Hu(s)&&(typeof s.base<"u"&&(e["--app-shell-aside-width"]=fe(s.base),e["--app-shell-aside-offset"]=fe(s.base)),In(s).forEach(f=>{f!=="base"&&(t[f]=t[f]||{},t[f]["--app-shell-aside-width"]=fe(s[f]),t[f]["--app-shell-aside-offset"]=fe(s[f]))})),(c=r==null?void 0:r.collapsed)!=null&&c.desktop){const f=r.breakpoint;t[f]=t[f]||{},t[f]["--app-shell-aside-transform"]=i,t[f]["--app-shell-aside-transform-rtl"]=a,t[f]["--app-shell-aside-offset"]="0px !important"}if((u=r==null?void 0:r.collapsed)!=null&&u.mobile){const f=cy(r.breakpoint,o)-.1;n[f]=n[f]||{},n[f]["--app-shell-aside-width"]="100%",n[f]["--app-shell-aside-offset"]="0px",n[f]["--app-shell-aside-transform"]=i,n[f]["--app-shell-aside-transform-rtl"]=a}}function qD({baseStyles:e,minMediaStyles:t,footer:n}){const r=n==null?void 0:n.height,o="translateY(var(--app-shell-footer-height))",s=(n==null?void 0:n.offset)??!0;if(Uu(r)){const i=fe(Vu(r));e["--app-shell-footer-height"]=i,s&&(e["--app-shell-footer-offset"]=i)}Hu(r)&&(typeof r.base<"u"&&(e["--app-shell-footer-height"]=fe(r.base),s&&(e["--app-shell-footer-offset"]=fe(r.base))),In(r).forEach(i=>{i!=="base"&&(t[i]=t[i]||{},t[i]["--app-shell-footer-height"]=fe(r[i]),s&&(t[i]["--app-shell-footer-offset"]=fe(r[i])))})),n!=null&&n.collapsed&&(e["--app-shell-footer-transform"]=o,e["--app-shell-footer-offset"]="0px !important")}function ZD({baseStyles:e,minMediaStyles:t,header:n}){const r=n==null?void 0:n.height,o="translateY(calc(var(--app-shell-header-height) * -1))",s=(n==null?void 0:n.offset)??!0;if(Uu(r)){const i=fe(Vu(r));e["--app-shell-header-height"]=i,s&&(e["--app-shell-header-offset"]=i)}Hu(r)&&(typeof r.base<"u"&&(e["--app-shell-header-height"]=fe(r.base),s&&(e["--app-shell-header-offset"]=fe(r.base))),In(r).forEach(i=>{i!=="base"&&(t[i]=t[i]||{},t[i]["--app-shell-header-height"]=fe(r[i]),s&&(t[i]["--app-shell-header-offset"]=fe(r[i])))})),n!=null&&n.collapsed&&(e["--app-shell-header-transform"]=o,e["--app-shell-header-offset"]="0px !important")}function QD({baseStyles:e,minMediaStyles:t,maxMediaStyles:n,navbar:r,theme:o}){var l,c,u;const s=r==null?void 0:r.width,i="translateX(calc(var(--app-shell-navbar-width) * -1))",a="translateX(var(--app-shell-navbar-width))";if(r!=null&&r.breakpoint&&!((l=r==null?void 0:r.collapsed)!=null&&l.mobile)&&(n[r==null?void 0:r.breakpoint]=n[r==null?void 0:r.breakpoint]||{},n[r==null?void 0:r.breakpoint]["--app-shell-navbar-width"]="100%",n[r==null?void 0:r.breakpoint]["--app-shell-navbar-offset"]="0px"),Uu(s)){const f=fe(Vu(s));e["--app-shell-navbar-width"]=f,e["--app-shell-navbar-offset"]=f}if(Hu(s)&&(typeof s.base<"u"&&(e["--app-shell-navbar-width"]=fe(s.base),e["--app-shell-navbar-offset"]=fe(s.base)),In(s).forEach(f=>{f!=="base"&&(t[f]=t[f]||{},t[f]["--app-shell-navbar-width"]=fe(s[f]),t[f]["--app-shell-navbar-offset"]=fe(s[f]))})),(c=r==null?void 0:r.collapsed)!=null&&c.desktop){const f=r.breakpoint;t[f]=t[f]||{},t[f]["--app-shell-navbar-transform"]=i,t[f]["--app-shell-navbar-transform-rtl"]=a,t[f]["--app-shell-navbar-offset"]="0px !important"}if((u=r==null?void 0:r.collapsed)!=null&&u.mobile){const f=cy(r.breakpoint,o)-.1;n[f]=n[f]||{},n[f]["--app-shell-navbar-width"]="100%",n[f]["--app-shell-navbar-offset"]="0px",n[f]["--app-shell-navbar-transform"]=i,n[f]["--app-shell-navbar-transform-rtl"]=a}}function N0(e){return Number(e)===0?"0px":gA(e)}function KD({padding:e,baseStyles:t,minMediaStyles:n}){Uu(e)&&(t["--app-shell-padding"]=N0(Vu(e))),Hu(e)&&(e.base&&(t["--app-shell-padding"]=N0(e.base)),In(e).forEach(r=>{r!=="base"&&(n[r]=n[r]||{},n[r]["--app-shell-padding"]=N0(e[r]))}))}function JD({navbar:e,header:t,footer:n,aside:r,padding:o,theme:s}){const i={},a={},l={};QD({baseStyles:l,minMediaStyles:i,maxMediaStyles:a,navbar:e,theme:s}),YD({baseStyles:l,minMediaStyles:i,maxMediaStyles:a,aside:r,theme:s}),ZD({baseStyles:l,minMediaStyles:i,header:t}),qD({baseStyles:l,minMediaStyles:i,footer:n}),KD({baseStyles:l,minMediaStyles:i,padding:o});const c=rb(In(i),s).map(d=>({query:`(min-width: ${Ch(d.px)})`,styles:i[d.value]})),u=rb(In(a),s).map(d=>({query:`(max-width: ${Ch(d.px)})`,styles:a[d.value]})),f=[...c,...u];return{baseStyles:l,media:f}}function e7({navbar:e,header:t,aside:n,footer:r,padding:o}){const s=ms(),i=ci(),{media:a,baseStyles:l}=JD({navbar:e,header:t,footer:r,aside:n,padding:o,theme:s});return G.jsx(PA,{media:a,styles:l,selector:i.cssVariablesSelector})}const t7={},Dy=yt((e,t)=>{const n=it("AppShellNavbar",t7,e),{classNames:r,className:o,style:s,styles:i,unstyled:a,vars:l,withBorder:c,zIndex:u,mod:f,...d}=n,h=Il();return h.disabled?null:G.jsx(ct,{component:"nav",ref:t,mod:[{"with-border":c??h.withBorder},f],...h.getStyles("navbar",{className:o,classNames:r,styles:i,style:s}),...d,__vars:{"--app-shell-navbar-z-index":`calc(${u??h.zIndex} + 1)`}})});Dy.classes=fi;Dy.displayName="@mantine/core/AppShellNavbar";const n7={},Iy=Nl((e,t)=>{const n=it("AppShellSection",n7,e),{classNames:r,className:o,style:s,styles:i,vars:a,grow:l,mod:c,...u}=n,f=Il();return G.jsx(ct,{ref:t,mod:[{grow:l},c],...f.getStyles("section",{className:o,style:s,classNames:r,styles:i}),...u})});Iy.classes=fi;Iy.displayName="@mantine/core/AppShellSection";function r7({transitionDuration:e,disabled:t}){const[n,r]=M.useState(!0),o=M.useRef(),s=M.useRef();return SL("resize",()=>{r(!0),clearTimeout(o.current),o.current=window.setTimeout(()=>r(!1),200)}),Rl(()=>{M.startTransition(()=>{r(!0),clearTimeout(s.current),s.current=window.setTimeout(()=>r(!1),e||0)})},[t,e]),n}const o7={withBorder:!0,offsetScrollbars:!0,padding:0,transitionDuration:200,transitionTimingFunction:"ease",zIndex:vA("app")},s7=(e,{transitionDuration:t,transitionTimingFunction:n})=>({root:{"--app-shell-transition-duration":`${t}ms`,"--app-shell-transition-timing-function":n}}),vo=yt((e,t)=>{const n=it("AppShell",o7,e),{classNames:r,className:o,style:s,styles:i,unstyled:a,vars:l,navbar:c,withBorder:u,padding:f,transitionDuration:d,transitionTimingFunction:h,header:v,zIndex:p,layout:g,disabled:m,aside:w,footer:y,offsetScrollbars:b,mod:S,...E}=n,$=Wt({name:"AppShell",classes:fi,props:n,className:o,style:s,classNames:r,styles:i,unstyled:a,vars:l,varsResolver:s7}),A=r7({disabled:m,transitionDuration:d});return G.jsxs(VD,{value:{getStyles:$,withBorder:u,zIndex:p,disabled:m,offsetScrollbars:b},children:[G.jsx(e7,{navbar:c,header:v,aside:w,footer:y,padding:f}),G.jsx(ct,{ref:t,...$("root"),mod:[{resizing:A,layout:g,disabled:m},S],...E})]})});vo.classes=fi;vo.displayName="@mantine/core/AppShell";vo.Navbar=Dy;vo.Header=My;vo.Main=Fy;vo.Aside=Oy;vo.Footer=Ly;vo.Section=Iy;function f4(e){return typeof e=="string"?{value:e,label:e}:"value"in e&&!("label"in e)?{value:e.value,label:e.value,disabled:e.disabled}:typeof e=="number"?{value:e.toString(),label:e.toString()}:"group"in e?{group:e.group,items:e.items.map(t=>f4(t))}:e}function i7(e){return e?e.map(t=>f4(t)):[]}function d4(e){return e.reduce((t,n)=>"group"in n?{...t,...d4(n.items)}:(t[n.value]=n,t),{})}var vr={dropdown:"m_88b62a41",options:"m_b2821a6e",option:"m_92253aa5",search:"m_985517d8",empty:"m_2530cd1d",header:"m_858f94bd",footer:"m_82b967cb",group:"m_254f3e4f",groupLabel:"m_2bb2e9e5",chevron:"m_2943220b",optionsDropdownOption:"m_390b5f4",optionsDropdownCheckIcon:"m_8ee53fc2"};const a7={error:null},l7=(e,{size:t})=>({chevron:{"--combobox-chevron-size":xn(t,"combobox-chevron-size")}}),zy=yt((e,t)=>{const n=it("ComboboxChevron",a7,e),{size:r,error:o,style:s,className:i,classNames:a,styles:l,unstyled:c,vars:u,mod:f,...d}=n,h=Wt({name:"ComboboxChevron",classes:vr,props:n,style:s,className:i,classNames:a,styles:l,unstyled:c,vars:u,varsResolver:l7,rootSelector:"chevron"});return G.jsx(ct,{component:"svg",...d,...h("chevron"),size:r,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",mod:["combobox-chevron",{error:o},f],ref:t,children:G.jsx("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})});zy.classes=vr;zy.displayName="@mantine/core/ComboboxChevron";const[c7,eo]=Iu("Combobox component was not found in tree"),h4=M.forwardRef(({size:e,onMouseDown:t,onClick:n,onClear:r,...o},s)=>G.jsx(ky,{ref:s,size:e||"sm",variant:"transparent",tabIndex:-1,"aria-hidden":!0,...o,onMouseDown:i=>{i.preventDefault(),t==null||t(i)},onClick:i=>{r(),n==null||n(i)}}));h4.displayName="@mantine/core/ComboboxClearButton";const u7={},By=yt((e,t)=>{const{classNames:n,styles:r,className:o,style:s,hidden:i,...a}=it("ComboboxDropdown",u7,e),l=eo();return G.jsx(ui.Dropdown,{...a,ref:t,role:"presentation","data-hidden":i||void 0,...l.getStyles("dropdown",{className:o,style:s,classNames:n,styles:r})})});By.classes=vr;By.displayName="@mantine/core/ComboboxDropdown";const f7={refProp:"ref"},p4=yt((e,t)=>{const{children:n,refProp:r}=it("ComboboxDropdownTarget",f7,e);if(eo(),!Du(n))throw new Error("Combobox.DropdownTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");return G.jsx(ui.Target,{ref:t,refProp:r,children:n})});p4.displayName="@mantine/core/ComboboxDropdownTarget";const d7={},Gy=yt((e,t)=>{const{classNames:n,className:r,style:o,styles:s,vars:i,...a}=it("ComboboxEmpty",d7,e),l=eo();return G.jsx(ct,{ref:t,...l.getStyles("empty",{className:r,classNames:n,styles:s,style:o}),...a})});Gy.classes=vr;Gy.displayName="@mantine/core/ComboboxEmpty";function jy({onKeyDown:e,withKeyboardNavigation:t,withAriaAttributes:n,withExpandedAttribute:r,targetType:o,autoComplete:s}){const i=eo(),[a,l]=M.useState(null),c=f=>{if(e==null||e(f),!i.readOnly&&t){if(f.nativeEvent.isComposing)return;if(f.nativeEvent.code==="ArrowDown"&&(f.preventDefault(),i.store.dropdownOpened?l(i.store.selectNextOption()):(i.store.openDropdown("keyboard"),l(i.store.selectActiveOption()))),f.nativeEvent.code==="ArrowUp"&&(f.preventDefault(),i.store.dropdownOpened?l(i.store.selectPreviousOption()):(i.store.openDropdown("keyboard"),l(i.store.selectActiveOption()))),f.nativeEvent.code==="Enter"||f.nativeEvent.code==="NumpadEnter"){if(f.nativeEvent.keyCode===229)return;const d=i.store.getSelectedOptionIndex();i.store.dropdownOpened&&d!==-1?(f.preventDefault(),i.store.clickSelectedOption()):o==="button"&&(f.preventDefault(),i.store.openDropdown("keyboard"))}f.nativeEvent.code==="Escape"&&i.store.closeDropdown("keyboard"),f.nativeEvent.code==="Space"&&o==="button"&&(f.preventDefault(),i.store.toggleDropdown("keyboard"))}};return{...n?{"aria-haspopup":"listbox","aria-expanded":r&&!!(i.store.listId&&i.store.dropdownOpened)||void 0,"aria-controls":i.store.listId,"aria-activedescendant":i.store.dropdownOpened&&a||void 0,autoComplete:s,"data-expanded":i.store.dropdownOpened||void 0,"data-mantine-stop-propagation":i.store.dropdownOpened||void 0}:{},onKeyDown:c}}const h7={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},m4=yt((e,t)=>{const{children:n,refProp:r,withKeyboardNavigation:o,withAriaAttributes:s,withExpandedAttribute:i,targetType:a,autoComplete:l,...c}=it("ComboboxEventsTarget",h7,e);if(!Du(n))throw new Error("Combobox.EventsTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const u=eo(),f=jy({targetType:a,withAriaAttributes:s,withKeyboardNavigation:o,withExpandedAttribute:i,onKeyDown:n.props.onKeyDown,autoComplete:l});return M.cloneElement(n,{...f,...c,[r]:Qr(t,u.store.targetRef,n==null?void 0:n.ref)})});m4.displayName="@mantine/core/ComboboxEventsTarget";const p7={},Vy=yt((e,t)=>{const{classNames:n,className:r,style:o,styles:s,vars:i,...a}=it("ComboboxFooter",p7,e),l=eo();return G.jsx(ct,{ref:t,...l.getStyles("footer",{className:r,classNames:n,style:o,styles:s}),...a,onMouseDown:c=>{c.preventDefault()}})});Vy.classes=vr;Vy.displayName="@mantine/core/ComboboxFooter";const m7={},Uy=yt((e,t)=>{const{classNames:n,className:r,style:o,styles:s,vars:i,children:a,label:l,...c}=it("ComboboxGroup",m7,e),u=eo();return G.jsxs(ct,{ref:t,...u.getStyles("group",{className:r,classNames:n,style:o,styles:s}),...c,children:[l&&G.jsx("div",{...u.getStyles("groupLabel",{classNames:n,styles:s}),children:l}),a]})});Uy.classes=vr;Uy.displayName="@mantine/core/ComboboxGroup";const v7={},Hy=yt((e,t)=>{const{classNames:n,className:r,style:o,styles:s,vars:i,...a}=it("ComboboxHeader",v7,e),l=eo();return G.jsx(ct,{ref:t,...l.getStyles("header",{className:r,classNames:n,style:o,styles:s}),...a,onMouseDown:c=>{c.preventDefault()}})});Hy.classes=vr;Hy.displayName="@mantine/core/ComboboxHeader";function v4({value:e,valuesDivider:t=",",...n}){return G.jsx("input",{type:"hidden",value:Array.isArray(e)?e.join(t):e||"",...n})}v4.displayName="@mantine/core/ComboboxHiddenInput";const g7={},Wy=yt((e,t)=>{const n=it("ComboboxOption",g7,e),{classNames:r,className:o,style:s,styles:i,vars:a,onClick:l,id:c,active:u,onMouseDown:f,onMouseOver:d,disabled:h,selected:v,mod:p,...g}=n,m=eo(),w=M.useId(),y=c||w;return G.jsx(ct,{...m.getStyles("option",{className:o,classNames:r,styles:i,style:s}),...g,ref:t,id:y,mod:["combobox-option",{"combobox-active":u,"combobox-disabled":h,"combobox-selected":v},p],role:"option",onClick:b=>{var S;h?b.preventDefault():((S=m.onOptionSubmit)==null||S.call(m,n.value,n),l==null||l(b))},onMouseDown:b=>{b.preventDefault(),f==null||f(b)},onMouseOver:b=>{m.resetSelectionOnOptionHover&&m.store.resetSelectedOption(),d==null||d(b)}})});Wy.classes=vr;Wy.displayName="@mantine/core/ComboboxOption";const y7={},Xy=yt((e,t)=>{const n=it("ComboboxOptions",y7,e),{classNames:r,className:o,style:s,styles:i,id:a,onMouseDown:l,labelledBy:c,...u}=n,f=eo(),d=ra(a);return M.useEffect(()=>{f.store.setListId(d)},[d]),G.jsx(ct,{ref:t,...f.getStyles("options",{className:o,style:s,classNames:r,styles:i}),...u,id:d,role:"listbox","aria-labelledby":c,onMouseDown:h=>{h.preventDefault(),l==null||l(h)}})});Xy.classes=vr;Xy.displayName="@mantine/core/ComboboxOptions";const w7={withAriaAttributes:!0,withKeyboardNavigation:!0},Yy=yt((e,t)=>{const n=it("ComboboxSearch",w7,e),{classNames:r,styles:o,unstyled:s,vars:i,withAriaAttributes:a,onKeyDown:l,withKeyboardNavigation:c,size:u,...f}=n,d=eo(),h=d.getStyles("search"),v=jy({targetType:"input",withAriaAttributes:a,withKeyboardNavigation:c,withExpandedAttribute:!1,onKeyDown:l,autoComplete:"off"});return G.jsx(Nn,{ref:Qr(t,d.store.searchRef),classNames:[{input:h.className},r],styles:[{input:h.style},o],size:u||d.size,...v,...f,__staticSelector:"Combobox"})});Yy.classes=vr;Yy.displayName="@mantine/core/ComboboxSearch";const x7={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},g4=yt((e,t)=>{const{children:n,refProp:r,withKeyboardNavigation:o,withAriaAttributes:s,withExpandedAttribute:i,targetType:a,autoComplete:l,...c}=it("ComboboxTarget",x7,e);if(!Du(n))throw new Error("Combobox.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const u=eo(),f=jy({targetType:a,withAriaAttributes:s,withKeyboardNavigation:o,withExpandedAttribute:i,onKeyDown:n.props.onKeyDown,autoComplete:l}),d=M.cloneElement(n,{...f,...c});return G.jsx(ui.Target,{ref:Qr(t,u.store.targetRef),children:d})});g4.displayName="@mantine/core/ComboboxTarget";function b7(e,t,n){for(let r=e-1;r>=0;r-=1)if(!t[r].hasAttribute("data-combobox-disabled"))return r;if(n){for(let r=t.length-1;r>-1;r-=1)if(!t[r].hasAttribute("data-combobox-disabled"))return r}return e}function S7(e,t,n){for(let r=e+1;r<t.length;r+=1)if(!t[r].hasAttribute("data-combobox-disabled"))return r;if(n){for(let r=0;r<t.length;r+=1)if(!t[r].hasAttribute("data-combobox-disabled"))return r}return e}function E7(e){for(let t=0;t<e.length;t+=1)if(!e[t].hasAttribute("data-combobox-disabled"))return t;return-1}function y4({defaultOpened:e,opened:t,onOpenedChange:n,onDropdownClose:r,onDropdownOpen:o,loop:s=!0,scrollBehavior:i="instant"}={}){const[a,l]=yl({value:t,defaultValue:e,finalValue:!1,onChange:n}),c=M.useRef(null),u=M.useRef(-1),f=M.useRef(null),d=M.useRef(null),h=M.useRef(-1),v=M.useRef(-1),p=M.useRef(-1),g=M.useCallback((ee="unknown")=>{a||(l(!0),o==null||o(ee))},[l,o,a]),m=M.useCallback((ee="unknown")=>{a&&(l(!1),r==null||r(ee))},[l,r,a]),w=M.useCallback((ee="unknown")=>{a?m(ee):g(ee)},[m,g,a]),y=M.useCallback(()=>{const ee=document.querySelector(`#${c.current} [data-combobox-selected]`);ee==null||ee.removeAttribute("data-combobox-selected"),ee==null||ee.removeAttribute("aria-selected")},[]),b=M.useCallback(ee=>{const xe=document.getElementById(c.current),oe=xe==null?void 0:xe.querySelectorAll("[data-combobox-option]");if(!oe)return null;const $e=ee>=oe.length?0:ee<0?oe.length-1:ee;return u.current=$e,oe!=null&&oe[$e]&&!oe[$e].hasAttribute("data-combobox-disabled")?(y(),oe[$e].setAttribute("data-combobox-selected","true"),oe[$e].setAttribute("aria-selected","true"),oe[$e].scrollIntoView({block:"nearest",behavior:i}),oe[$e].id):null},[i,y]),S=M.useCallback(()=>{const ee=document.querySelector(`#${c.current} [data-combobox-active]`);if(ee){const xe=document.querySelectorAll(`#${c.current} [data-combobox-option]`),oe=Array.from(xe).findIndex($e=>$e===ee);return b(oe)}return b(0)},[b]),E=M.useCallback(()=>b(S7(u.current,document.querySelectorAll(`#${c.current} [data-combobox-option]`),s)),[b,s]),$=M.useCallback(()=>b(b7(u.current,document.querySelectorAll(`#${c.current} [data-combobox-option]`),s)),[b,s]),A=M.useCallback(()=>b(E7(document.querySelectorAll(`#${c.current} [data-combobox-option]`))),[b]),B=M.useCallback((ee="selected",xe)=>{p.current=window.setTimeout(()=>{var Ne;const oe=document.querySelectorAll(`#${c.current} [data-combobox-option]`),$e=Array.from(oe).findIndex(qe=>qe.hasAttribute(`data-combobox-${ee}`));u.current=$e,xe!=null&&xe.scrollIntoView&&((Ne=oe[$e])==null||Ne.scrollIntoView({block:"nearest",behavior:i}))},0)},[]),D=M.useCallback(()=>{u.current=-1,y()},[y]),W=M.useCallback(()=>{const ee=document.querySelectorAll(`#${c.current} [data-combobox-option]`),xe=ee==null?void 0:ee[u.current];xe==null||xe.click()},[]),te=M.useCallback(ee=>{c.current=ee},[]),pe=M.useCallback(()=>{h.current=window.setTimeout(()=>f.current.focus(),0)},[]),V=M.useCallback(()=>{v.current=window.setTimeout(()=>d.current.focus(),0)},[]),me=M.useCallback(()=>u.current,[]);return M.useEffect(()=>()=>{window.clearTimeout(h.current),window.clearTimeout(v.current),window.clearTimeout(p.current)},[]),{dropdownOpened:a,openDropdown:g,closeDropdown:m,toggleDropdown:w,selectedOptionIndex:u.current,getSelectedOptionIndex:me,selectOption:b,selectFirstOption:A,selectActiveOption:S,selectNextOption:E,selectPreviousOption:$,resetSelectedOption:D,updateSelectedOptionIndex:B,listId:c.current,setListId:te,clickSelectedOption:W,searchRef:f,focusSearchInput:pe,targetRef:d,focusTarget:V}}const _7={keepMounted:!0,withinPortal:!0,resetSelectionOnOptionHover:!1,width:"target",transitionProps:{transition:"fade",duration:0}},$7=(e,{size:t,dropdownPadding:n})=>({options:{"--combobox-option-fz":Hr(t),"--combobox-option-padding":xn(t,"combobox-option-padding")},dropdown:{"--combobox-padding":n===void 0?void 0:fe(n),"--combobox-option-fz":Hr(t),"--combobox-option-padding":xn(t,"combobox-option-padding")}});function Lt(e){const t=it("Combobox",_7,e),{classNames:n,styles:r,unstyled:o,children:s,store:i,vars:a,onOptionSubmit:l,onClose:c,size:u,dropdownPadding:f,resetSelectionOnOptionHover:d,__staticSelector:h,readOnly:v,...p}=t,g=y4(),m=i||g,w=Wt({name:h||"Combobox",classes:vr,props:t,classNames:n,styles:r,unstyled:o,vars:a,varsResolver:$7}),y=()=>{c==null||c(),m.closeDropdown()};return G.jsx(c7,{value:{getStyles:w,store:m,onOptionSubmit:l,size:u,resetSelectionOnOptionHover:d,readOnly:v},children:G.jsx(ui,{opened:m.dropdownOpened,...p,onClose:y,withRoles:!1,unstyled:o,children:s})})}const A7=e=>e;Lt.extend=A7;Lt.classes=vr;Lt.displayName="@mantine/core/Combobox";Lt.Target=g4;Lt.Dropdown=By;Lt.Options=Xy;Lt.Option=Wy;Lt.Search=Yy;Lt.Empty=Gy;Lt.Chevron=zy;Lt.Footer=Vy;Lt.Header=Hy;Lt.EventsTarget=m4;Lt.DropdownTarget=p4;Lt.Group=Uy;Lt.ClearButton=h4;Lt.HiddenInput=v4;var w4={root:"m_5f75b09e",body:"m_5f6e695e",labelWrapper:"m_d3ea56bb",label:"m_8ee546b8",description:"m_328f68c0",error:"m_8e8a99cc"};const T7=w4,qy=M.forwardRef(({__staticSelector:e,__stylesApiProps:t,className:n,classNames:r,styles:o,unstyled:s,children:i,label:a,description:l,id:c,disabled:u,error:f,size:d,labelPosition:h="left",bodyElement:v="div",labelElement:p="label",variant:g,style:m,vars:w,mod:y,...b},S)=>{const E=Wt({name:e,props:t,className:n,style:m,classes:w4,classNames:r,styles:o,unstyled:s});return G.jsx(ct,{...E("root"),ref:S,__vars:{"--label-fz":Hr(d),"--label-lh":xn(d,"label-lh")},mod:[{"label-position":h},y],variant:g,size:d,...b,children:G.jsxs(ct,{component:v,htmlFor:v==="label"?c:void 0,...E("body"),children:[i,G.jsxs("div",{...E("labelWrapper"),"data-disabled":u||void 0,children:[a&&G.jsx(ct,{component:p,htmlFor:p==="label"?c:void 0,...E("label"),"data-disabled":u||void 0,children:a}),l&&G.jsx(Nn.Description,{size:d,__inheritStyles:!1,...E("description"),children:l}),f&&typeof f!="boolean"&&G.jsx(Nn.Error,{size:d,__inheritStyles:!1,...E("error"),children:f})]})]})})});qy.displayName="@mantine/core/InlineInput";const x4=M.createContext(null),C7=x4.Provider,b4=()=>M.useContext(x4),[P7,k7]=yp();var S4={card:"m_26775b0a"};const R7={withBorder:!0},N7=(e,{radius:t})=>({card:{"--card-radius":Go(t)}}),Zy=yt((e,t)=>{const n=it("CheckboxCard",R7,e),{classNames:r,className:o,style:s,styles:i,unstyled:a,vars:l,checked:c,mod:u,withBorder:f,value:d,onClick:h,...v}=n,p=Wt({name:"CheckboxCard",classes:S4,props:n,className:o,style:s,classNames:r,styles:i,unstyled:a,vars:l,varsResolver:N7,rootSelector:"card"}),g=b4(),m=typeof c=="boolean"?c:(g==null?void 0:g.value.includes(d||""))||!1;return G.jsx(P7,{value:{checked:m},children:G.jsx(Ll,{ref:t,mod:[{"with-border":f,checked:m},u],...p("card"),...v,role:"checkbox","aria-checked":m,onClick:w=>{h==null||h(w),g==null||g.onChange(d||"")}})})});Zy.displayName="@mantine/core/CheckboxCard";Zy.classes=S4;function E4({children:e,role:t}){const n=ju();return n?G.jsx("div",{role:t,"aria-labelledby":n.labelId,"aria-describedby":n.describedBy,children:e}):G.jsx(G.Fragment,{children:e})}const O7={},Qy=yt((e,t)=>{const{value:n,defaultValue:r,onChange:o,size:s,wrapperProps:i,children:a,readOnly:l,...c}=it("CheckboxGroup",O7,e),[u,f]=yl({value:n,defaultValue:r,finalValue:[],onChange:o}),d=h=>{const v=typeof h=="string"?h:h.currentTarget.value;!l&&f(u.includes(v)?u.filter(p=>p!==v):[...u,v])};return G.jsx(C7,{value:{value:u,onChange:d,size:s},children:G.jsx(Nn.Wrapper,{size:s,ref:t,...i,...c,labelElement:"div",__staticSelector:"CheckboxGroup",children:G.jsx(E4,{role:"group",children:a})})})});Qy.classes=Nn.Wrapper.classes;Qy.displayName="@mantine/core/CheckboxGroup";function _4({size:e,style:t,...n}){const r=e!==void 0?{width:fe(e),height:fe(e),...t}:t;return G.jsx("svg",{viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:r,"aria-hidden":!0,...n,children:G.jsx("path",{d:"M4 4.586L1.707 2.293A1 1 0 1 0 .293 3.707l3 3a.997.997 0 0 0 1.414 0l5-5A1 1 0 1 0 8.293.293L4 4.586z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}function $4({indeterminate:e,...t}){return e?G.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 6","aria-hidden":!0,...t,children:G.jsx("rect",{width:"32",height:"6",fill:"currentColor",rx:"3"})}):G.jsx(_4,{...t})}var A4={indicator:"m_5e5256ee",icon:"m_1b1c543a","indicator--outline":"m_76e20374"};const L7={icon:$4},M7=(e,{radius:t,color:n,size:r,iconColor:o,variant:s,autoContrast:i})=>{const a=ps({color:n||e.primaryColor,theme:e}),l=a.isThemeColor&&a.shade===void 0?`var(--mantine-color-${a.color}-outline)`:a.color;return{indicator:{"--checkbox-size":xn(r,"checkbox-size"),"--checkbox-radius":t===void 0?void 0:Go(t),"--checkbox-color":s==="outline"?l:yo(n,e),"--checkbox-icon-color":o?yo(o,e):bp(i,e)?zu({color:n,theme:e,autoContrast:i}):void 0}}},Ky=yt((e,t)=>{const n=it("CheckboxIndicator",L7,e),{classNames:r,className:o,style:s,styles:i,unstyled:a,vars:l,icon:c,indeterminate:u,radius:f,color:d,iconColor:h,autoContrast:v,checked:p,mod:g,variant:m,disabled:w,...y}=n,b=c,S=Wt({name:"CheckboxIndicator",classes:A4,props:n,className:o,style:s,classNames:r,styles:i,unstyled:a,vars:l,varsResolver:M7,rootSelector:"indicator"}),E=k7(),$=typeof p=="boolean"||typeof u=="boolean"?p||u:(E==null?void 0:E.checked)||!1;return G.jsx(ct,{ref:t,...S("indicator",{variant:m}),variant:m,mod:[{checked:$,disabled:w},g],...y,children:G.jsx(b,{indeterminate:u,...S("icon")})})});Ky.displayName="@mantine/core/CheckboxIndicator";Ky.classes=A4;var T4={root:"m_bf2d988c",inner:"m_26062bec",input:"m_26063560",icon:"m_bf295423","input--outline":"m_215c4542"};const F7={labelPosition:"right",icon:$4},D7=(e,{radius:t,color:n,size:r,iconColor:o,variant:s,autoContrast:i})=>{const a=ps({color:n||e.primaryColor,theme:e}),l=a.isThemeColor&&a.shade===void 0?`var(--mantine-color-${a.color}-outline)`:a.color;return{root:{"--checkbox-size":xn(r,"checkbox-size"),"--checkbox-radius":t===void 0?void 0:Go(t),"--checkbox-color":s==="outline"?l:yo(n,e),"--checkbox-icon-color":o?yo(o,e):bp(i,e)?zu({color:n,theme:e,autoContrast:i}):void 0}}},Ji=yt((e,t)=>{const n=it("Checkbox",F7,e),{classNames:r,className:o,style:s,styles:i,unstyled:a,vars:l,color:c,label:u,id:f,size:d,radius:h,wrapperProps:v,children:p,checked:g,labelPosition:m,description:w,error:y,disabled:b,variant:S,indeterminate:E,icon:$,rootRef:A,iconColor:B,onChange:D,autoContrast:W,mod:te,...pe}=n,V=b4(),me=d||(V==null?void 0:V.size),ee=$,xe=Wt({name:"Checkbox",props:n,classes:T4,className:o,style:s,classNames:r,styles:i,unstyled:a,vars:l,varsResolver:D7}),{styleProps:oe,rest:$e}=Bu(pe),Ne=ra(f),qe=V?{checked:V.value.includes($e.value),onChange:nt=>{V.onChange(nt),D==null||D(nt)}}:{};return G.jsx(qy,{...xe("root"),__staticSelector:"Checkbox",__stylesApiProps:n,id:Ne,size:me,labelPosition:m,label:u,description:w,error:y,disabled:b,classNames:r,styles:i,unstyled:a,"data-checked":qe.checked||g||void 0,variant:S,ref:A,mod:te,...oe,...v,children:G.jsxs(ct,{...xe("inner"),mod:{"data-label-position":m},children:[G.jsx(ct,{component:"input",id:Ne,ref:t,checked:g,disabled:b,mod:{error:!!y,indeterminate:E},...xe("input",{focusable:!0,variant:S}),onChange:D,...$e,...qe,type:"checkbox"}),G.jsx(ee,{indeterminate:E,...xe("icon")})]})})});Ji.classes={...T4,...T7};Ji.displayName="@mantine/core/Checkbox";Ji.Group=Qy;Ji.Indicator=Ky;Ji.Card=Zy;function Su(e){return"group"in e}function C4({options:e,search:t,limit:n}){const r=t.trim().toLowerCase(),o=[];for(let s=0;s<e.length;s+=1){const i=e[s];if(o.length===n)return o;Su(i)&&o.push({group:i.group,items:C4({options:i.items,search:t,limit:n-o.length})}),Su(i)||i.label.toLowerCase().includes(r)&&o.push(i)}return o}function I7(e){if(e.length===0)return!0;for(const t of e)if(!("group"in t)||t.items.length>0)return!1;return!0}function P4(e,t=new Set){if(Array.isArray(e))for(const n of e)if(Su(n))P4(n.items,t);else{if(typeof n.value>"u")throw new Error("[@mantine/core] Each option must have value property");if(typeof n.value!="string")throw new Error(`[@mantine/core] Option value must be a string, other data formats are not supported, got ${typeof n.value}`);if(t.has(n.value))throw new Error(`[@mantine/core] Duplicate options are not supported. Option with value "${n.value}" was provided more than once`);t.add(n.value)}}function z7(e,t){return Array.isArray(e)?e.includes(t):e===t}function k4({data:e,withCheckIcon:t,value:n,checkIconPosition:r,unstyled:o,renderOption:s}){if(!Su(e)){const a=z7(n,e.value),l=t&&a&&G.jsx(_4,{className:vr.optionsDropdownCheckIcon}),c=G.jsxs(G.Fragment,{children:[r==="left"&&l,G.jsx("span",{children:e.label}),r==="right"&&l]});return G.jsx(Lt.Option,{value:e.value,disabled:e.disabled,className:bo({[vr.optionsDropdownOption]:!o}),"data-reverse":r==="right"||void 0,"data-checked":a||void 0,"aria-selected":a,active:a,children:typeof s=="function"?s({option:e,checked:a}):c})}const i=e.items.map(a=>G.jsx(k4,{data:a,value:n,unstyled:o,withCheckIcon:t,checkIconPosition:r,renderOption:s},a.value));return G.jsx(Lt.Group,{label:e.group,children:i})}function B7({data:e,hidden:t,hiddenWhenEmpty:n,filter:r,search:o,limit:s,maxDropdownHeight:i,withScrollArea:a=!0,filterOptions:l=!0,withCheckIcon:c=!1,value:u,checkIconPosition:f,nothingFoundMessage:d,unstyled:h,labelId:v,renderOption:p,scrollAreaProps:g,"aria-label":m}){P4(e);const y=typeof o=="string"?(r||C4)({options:e,search:l?o:"",limit:s??1/0}):e,b=I7(y),S=y.map(E=>G.jsx(k4,{data:E,withCheckIcon:c,value:u,checkIconPosition:f,unstyled:h,renderOption:p},Su(E)?E.group:E.value));return G.jsx(Lt.Dropdown,{hidden:t||n&&b,children:G.jsxs(Lt.Options,{labelledBy:v,"aria-label":m,children:[a?G.jsx(Ol.Autosize,{mah:i??220,type:"scroll",scrollbarSize:"var(--combobox-padding)",offsetScrollbars:"y",...g,children:S}):S,b&&d&&G.jsx(Lt.Empty,{children:d})]})})}var kp={root:"m_77c9d27d",inner:"m_80f1301b",label:"m_811560b9",section:"m_a74036a",loader:"m_a25b86ee",group:"m_80d6d844"};const Mb={orientation:"horizontal"},G7=(e,{borderWidth:t})=>({group:{"--button-border-width":fe(t)}}),Jy=yt((e,t)=>{const n=it("ButtonGroup",Mb,e),{className:r,style:o,classNames:s,styles:i,unstyled:a,orientation:l,vars:c,borderWidth:u,variant:f,mod:d,...h}=it("ButtonGroup",Mb,e),v=Wt({name:"ButtonGroup",props:n,classes:kp,className:r,style:o,classNames:s,styles:i,unstyled:a,vars:c,varsResolver:G7,rootSelector:"group"});return G.jsx(ct,{...v("group"),ref:t,variant:f,mod:[{"data-orientation":l},d],role:"group",...h})});Jy.classes=kp;Jy.displayName="@mantine/core/ButtonGroup";const j7={in:{opacity:1,transform:`translate(-50%, calc(-50% + ${fe(1)}))`},out:{opacity:0,transform:"translate(-50%, -200%)"},common:{transformOrigin:"center"},transitionProperty:"transform, opacity"},V7={},U7=(e,{radius:t,color:n,gradient:r,variant:o,size:s,justify:i,autoContrast:a})=>{const l=e.variantColorResolver({color:n||e.primaryColor,theme:e,gradient:r,variant:o||"filled",autoContrast:a});return{root:{"--button-justify":i,"--button-height":xn(s,"button-height"),"--button-padding-x":xn(s,"button-padding-x"),"--button-fz":s!=null&&s.includes("compact")?Hr(s.replace("compact-","")):Hr(s),"--button-radius":t===void 0?void 0:Go(t),"--button-bg":n||o?l.background:void 0,"--button-hover":n||o?l.hover:void 0,"--button-color":l.color,"--button-bd":n||o?l.border:void 0,"--button-hover-color":n||o?l.hoverColor:void 0}}},Eu=Nl((e,t)=>{const n=it("Button",V7,e),{style:r,vars:o,className:s,color:i,disabled:a,children:l,leftSection:c,rightSection:u,fullWidth:f,variant:d,radius:h,loading:v,loaderProps:p,gradient:g,classNames:m,styles:w,unstyled:y,"data-disabled":b,autoContrast:S,mod:E,...$}=n,A=Wt({name:"Button",props:n,classes:kp,className:s,style:r,classNames:m,styles:w,unstyled:y,vars:o,varsResolver:U7}),B=!!c,D=!!u;return G.jsxs(Ll,{ref:t,...A("root",{active:!a&&!v&&!b}),unstyled:y,variant:d,disabled:a||v,mod:[{disabled:a||b,loading:v,block:f,"with-left-section":B,"with-right-section":D},E],...$,children:[G.jsx(Cy,{mounted:!!v,transition:j7,duration:150,children:W=>G.jsx(ct,{component:"span",...A("loader",{style:W}),"aria-hidden":!0,children:G.jsx(Ap,{color:"var(--button-color)",size:"calc(var(--button-height) / 1.8)",...p})})}),G.jsxs("span",{...A("inner"),children:[c&&G.jsx(ct,{component:"span",...A("section"),mod:{position:"left"},children:c}),G.jsx(ct,{component:"span",mod:{loading:v},...A("label"),children:l}),u&&G.jsx(ct,{component:"span",...A("section"),mod:{position:"right"},children:u})]})]})});Eu.classes=kp;Eu.displayName="@mantine/core/Button";Eu.Group=Jy;const[H7,R4]=yp(),[W7,X7]=yp();var N4={card:"m_9dc8ae12"};const Y7={withBorder:!0},q7=(e,{radius:t})=>({card:{"--card-radius":Go(t)}}),e2=yt((e,t)=>{const n=it("RadioCard",Y7,e),{classNames:r,className:o,style:s,styles:i,unstyled:a,vars:l,checked:c,mod:u,withBorder:f,value:d,onClick:h,name:v,onKeyDown:p,...g}=n,m=Wt({name:"RadioCard",classes:N4,props:n,className:o,style:s,classNames:r,styles:i,unstyled:a,vars:l,varsResolver:q7,rootSelector:"card"}),{dir:w}=Sp(),y=R4(),b=typeof c=="boolean"?c:(y==null?void 0:y.value)===d||!1,S=v||(y==null?void 0:y.name),E=$=>{if(p==null||p($),["ArrowDown","ArrowUp","ArrowLeft","ArrowRight"].includes($.nativeEvent.code)){$.preventDefault();const A=Array.from(document.querySelectorAll(`[role="radio"][name="${S||"__mantine"}"]`)),B=A.findIndex(te=>te===$.target),D=B+1>=A.length?0:B+1,W=B-1<0?A.length-1:B-1;$.nativeEvent.code==="ArrowDown"&&(A[D].focus(),A[D].click()),$.nativeEvent.code==="ArrowUp"&&(A[W].focus(),A[W].click()),$.nativeEvent.code==="ArrowLeft"&&(A[w==="ltr"?W:D].focus(),A[w==="ltr"?W:D].click()),$.nativeEvent.code==="ArrowRight"&&(A[w==="ltr"?D:W].focus(),A[w==="ltr"?D:W].click())}};return G.jsx(W7,{value:{checked:b},children:G.jsx(Ll,{ref:t,mod:[{"with-border":f,checked:b},u],...m("card"),...g,role:"radio","aria-checked":b,name:S,onClick:$=>{h==null||h($),y==null||y.onChange(d||"")},onKeyDown:E})})});e2.displayName="@mantine/core/RadioCard";e2.classes=N4;const Z7={},t2=yt((e,t)=>{const{value:n,defaultValue:r,onChange:o,size:s,wrapperProps:i,children:a,name:l,readOnly:c,...u}=it("RadioGroup",Z7,e),f=ra(l),[d,h]=yl({value:n,defaultValue:r,finalValue:"",onChange:o}),v=p=>!c&&h(typeof p=="string"?p:p.currentTarget.value);return G.jsx(H7,{value:{value:d,onChange:v,size:s,name:f},children:G.jsx(Nn.Wrapper,{size:s,ref:t,...i,...u,labelElement:"div",__staticSelector:"RadioGroup",children:G.jsx(E4,{role:"radiogroup",children:a})})})});t2.classes=Nn.Wrapper.classes;t2.displayName="@mantine/core/RadioGroup";function O4({size:e,style:t,...n}){return G.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 5 5",style:{width:fe(e),height:fe(e),...t},"aria-hidden":!0,...n,children:G.jsx("circle",{cx:"2.5",cy:"2.5",r:"2.5",fill:"currentColor"})})}var L4={indicator:"m_717d7ff6",icon:"m_3e4da632","indicator--outline":"m_2980836c"};const Q7={icon:O4},K7=(e,{radius:t,color:n,size:r,iconColor:o,variant:s,autoContrast:i})=>{const a=ps({color:n||e.primaryColor,theme:e}),l=a.isThemeColor&&a.shade===void 0?`var(--mantine-color-${a.color}-outline)`:a.color;return{indicator:{"--radio-size":xn(r,"radio-size"),"--radio-radius":t===void 0?void 0:Go(t),"--radio-color":s==="outline"?l:yo(n,e),"--radio-icon-size":xn(r,"radio-icon-size"),"--radio-icon-color":o?yo(o,e):bp(i,e)?zu({color:n,theme:e,autoContrast:i}):void 0}}},n2=yt((e,t)=>{const n=it("RadioIndicator",Q7,e),{classNames:r,className:o,style:s,styles:i,unstyled:a,vars:l,icon:c,radius:u,color:f,iconColor:d,autoContrast:h,checked:v,mod:p,variant:g,disabled:m,...w}=n,y=c,b=Wt({name:"RadioIndicator",classes:L4,props:n,className:o,style:s,classNames:r,styles:i,unstyled:a,vars:l,varsResolver:K7,rootSelector:"indicator"}),S=X7(),E=typeof v=="boolean"?v:(S==null?void 0:S.checked)||!1;return G.jsx(ct,{ref:t,...b("indicator",{variant:g}),variant:g,mod:[{checked:E,disabled:m},p],...w,children:G.jsx(y,{...b("icon")})})});n2.displayName="@mantine/core/RadioIndicator";n2.classes=L4;var M4={root:"m_f3f1af94",inner:"m_89c4f5e4",icon:"m_f3ed6b2b",radio:"m_8a3dbb89","radio--outline":"m_1bfe9d39"};const J7={labelPosition:"right"},eI=(e,{size:t,radius:n,color:r,iconColor:o,variant:s,autoContrast:i})=>{const a=ps({color:r||e.primaryColor,theme:e}),l=a.isThemeColor&&a.shade===void 0?`var(--mantine-color-${a.color}-outline)`:a.color;return{root:{"--radio-size":xn(t,"radio-size"),"--radio-radius":n===void 0?void 0:Go(n),"--radio-color":s==="outline"?l:yo(r,e),"--radio-icon-color":o?yo(o,e):bp(i,e)?zu({color:r,theme:e,autoContrast:i}):void 0,"--radio-icon-size":xn(t,"radio-icon-size")}}},Js=yt((e,t)=>{const n=it("Radio",J7,e),{classNames:r,className:o,style:s,styles:i,unstyled:a,vars:l,id:c,size:u,label:f,labelPosition:d,description:h,error:v,radius:p,color:g,variant:m,disabled:w,wrapperProps:y,icon:b=O4,rootRef:S,iconColor:E,onChange:$,mod:A,...B}=n,D=Wt({name:"Radio",classes:M4,props:n,className:o,style:s,classNames:r,styles:i,unstyled:a,vars:l,varsResolver:eI}),W=R4(),te=(W==null?void 0:W.size)??u,pe=n.size?u:te,{styleProps:V,rest:me}=Bu(B),ee=ra(c),xe=W?{checked:W.value===me.value,name:me.name??W.name,onChange:oe=>{W.onChange(oe),$==null||$(oe)}}:{};return G.jsx(qy,{...D("root"),__staticSelector:"Radio",__stylesApiProps:n,id:ee,size:pe,labelPosition:d,label:f,description:h,error:v,disabled:w,classNames:r,styles:i,unstyled:a,"data-checked":xe.checked||void 0,variant:m,ref:S,mod:A,...V,...y,children:G.jsxs(ct,{...D("inner"),mod:{"label-position":d},children:[G.jsx(ct,{...D("radio",{focusable:!0,variant:m}),onChange:$,...me,...xe,component:"input",mod:{error:!!v},ref:t,id:ee,disabled:w,type:"radio"}),G.jsx(b,{...D("icon"),"aria-hidden":!0})]})})});Js.classes=M4;Js.displayName="@mantine/core/Radio";Js.Group=t2;Js.Card=e2;Js.Indicator=n2;const tI={searchable:!1,withCheckIcon:!0,allowDeselect:!0,checkIconPosition:"left"},r2=yt((e,t)=>{const n=it("Select",tI,e),{classNames:r,styles:o,unstyled:s,vars:i,dropdownOpened:a,defaultDropdownOpened:l,onDropdownClose:c,onDropdownOpen:u,onFocus:f,onBlur:d,onClick:h,onChange:v,data:p,value:g,defaultValue:m,selectFirstOptionOnChange:w,onOptionSubmit:y,comboboxProps:b,readOnly:S,disabled:E,filter:$,limit:A,withScrollArea:B,maxDropdownHeight:D,size:W,searchable:te,rightSection:pe,checkIconPosition:V,withCheckIcon:me,nothingFoundMessage:ee,name:xe,form:oe,searchValue:$e,defaultSearchValue:Ne,onSearchChange:qe,allowDeselect:nt,error:kt,rightSectionPointerEvents:At,id:Ct,clearable:en,clearButtonProps:sn,hiddenInputProps:Gn,renderOption:no,onClear:Lr,autoComplete:So,scrollAreaProps:ro,...Mr}=n,Ft=M.useMemo(()=>i7(p),[p]),Fr=M.useMemo(()=>d4(Ft),[Ft]),Vo=ra(Ct),[On,an,Uo]=yl({value:g,defaultValue:m,finalValue:null,onChange:v}),pn=typeof On=="string"?Fr[On]:void 0,oo=$L(pn),[ys,C]=yl({value:$e,defaultValue:Ne,finalValue:pn?pn.label:"",onChange:qe}),gr=y4({opened:a,defaultOpened:l,onDropdownOpen:()=>{u==null||u(),gr.updateSelectedOptionIndex("active",{scrollIntoView:!0})},onDropdownClose:()=>{c==null||c(),gr.resetSelectedOption()}}),{resolvedClassNames:of,resolvedStyles:sf}=tM({props:n,styles:o,classNames:r});M.useEffect(()=>{w&&gr.selectFirstOption()},[w,On]),M.useEffect(()=>{g===null&&C(""),typeof g=="string"&&pn&&((oo==null?void 0:oo.value)!==pn.value||(oo==null?void 0:oo.label)!==pn.label)&&C(pn.label)},[g,pn]);const af=en&&!!On&&!E&&!S&&G.jsx(Lt.ClearButton,{size:W,...sn,onClear:()=>{an(null,null),C(""),Lr==null||Lr()}});return G.jsxs(G.Fragment,{children:[G.jsxs(Lt,{store:gr,__staticSelector:"Select",classNames:of,styles:sf,unstyled:s,readOnly:S,onOptionSubmit:mn=>{y==null||y(mn);const Dr=nt&&Fr[mn].value===On?null:Fr[mn],Ho=Dr?Dr.value:null;Ho!==On&&an(Ho,Dr),!Uo&&C(typeof Ho=="string"&&(Dr==null?void 0:Dr.label)||""),gr.closeDropdown()},size:W,...b,children:[G.jsx(Lt.Target,{targetType:te?"input":"button",autoComplete:So,children:G.jsx(Dl,{id:Vo,ref:t,rightSection:pe||af||G.jsx(Lt.Chevron,{size:W,error:kt,unstyled:s}),rightSectionPointerEvents:At||(af?"all":"none"),...Mr,size:W,__staticSelector:"Select",disabled:E,readOnly:S||!te,value:ys,onChange:mn=>{C(mn.currentTarget.value),gr.openDropdown(),w&&gr.selectFirstOption()},onFocus:mn=>{te&&gr.openDropdown(),f==null||f(mn)},onBlur:mn=>{var Dr;te&&gr.closeDropdown(),C(On!=null&&((Dr=Fr[On])==null?void 0:Dr.label)||""),d==null||d(mn)},onClick:mn=>{te?gr.openDropdown():gr.toggleDropdown(),h==null||h(mn)},classNames:of,styles:sf,unstyled:s,pointer:!te,error:kt})}),G.jsx(B7,{data:Ft,hidden:S||E,filter:$,search:ys,limit:A,hiddenWhenEmpty:!ee,withScrollArea:B,maxDropdownHeight:D,filterOptions:te&&(pn==null?void 0:pn.label)!==ys,value:On,checkIconPosition:V,withCheckIcon:me,nothingFoundMessage:ee,unstyled:s,labelId:Mr.label?`${Vo}-label`:void 0,"aria-label":Mr.label?void 0:Mr["aria-label"],renderOption:no,scrollAreaProps:ro})]}),G.jsx(Lt.HiddenInput,{value:On,name:xe,form:oe,disabled:E,...Gn})]})});r2.classes={...Dl.classes,...Lt.classes};r2.displayName="@mantine/core/Select";var F4={root:"m_6d731127"};const nI={gap:"md",align:"stretch",justify:"flex-start"},rI=(e,{gap:t,align:n,justify:r})=>({root:{"--stack-gap":gA(t),"--stack-align":n,"--stack-justify":r}}),Lh=yt((e,t)=>{const n=it("Stack",nI,e),{classNames:r,className:o,style:s,styles:i,unstyled:a,vars:l,align:c,justify:u,gap:f,variant:d,...h}=n,v=Wt({name:"Stack",props:n,classes:F4,className:o,style:s,classNames:r,styles:i,unstyled:a,vars:l,varsResolver:rI});return G.jsx(ct,{ref:t,...v("root"),variant:d,...h})});Lh.classes=F4;Lh.displayName="@mantine/core/Stack";const oI={},Mh=yt((e,t)=>{const n=it("TextInput",oI,e);return G.jsx(Dl,{component:"input",ref:t,...n,__staticSelector:"TextInput"})});Mh.classes=Dl.classes;Mh.displayName="@mantine/core/TextInput";function sI(e){const t=document.createElement("script");t.setAttribute("async",""),t.setAttribute("type","text/javascript"),t.addEventListener("load",()=>{if(window.cv)e();else{let o=0;const s=()=>{o++,window.cv?e():o>100?console.error("Failed to load OpenCV.js"):setTimeout(s,10)};s()}}),t.src="https://docs.opencv.org/4.5.2/opencv.js";const n=document.getElementsByTagName("script")[0];n&&n.parentNode?n.parentNode.insertBefore(t,n):document.head.appendChild(t)}let Ln=[],gs=(e,t)=>{let n=[],r={get(){return r.lc||r.listen(()=>{})(),r.value},l:0,lc:0,listen(o,s){return r.lc=n.push(o,s||r.l)/2,()=>{let i=n.indexOf(o);~i&&(n.splice(i,2),--r.lc||r.off())}},notify(o,s){let i=!Ln.length;for(let a=0;a<n.length;a+=2)Ln.push(n[a],n[a+1],r.value,o,s);if(i){for(let a=0;a<Ln.length;a+=5){let l;for(let c=a+1;!l&&(c+=5)<Ln.length;)Ln[c]<Ln[a+1]&&(l=Ln.push(Ln[a],Ln[a+1],Ln[a+2],Ln[a+3],Ln[a+4]));l||Ln[a](Ln[a+2],Ln[a+3],Ln[a+4])}Ln.length=0}},off(){},set(o){let s=r.value;s!==o&&(r.value=o,r.notify(s))},subscribe(o,s){let i=r.listen(o,s);return o(r.value),i},value:e};return r};function iI(e,t,n){let r=new Set([...t,void 0]);return e.listen((o,s,i)=>{r.has(i)&&n(o,s,i)})}function Ci(e,t={}){let n=M.useCallback(o=>t.keys?iI(e,t.keys,o):e.listen(o),[t.keys,e]),r=e.get.bind(e);return M.useSyncExternalStore(n,r,r)}var _u=(e=>(e.NONE="NONE",e.SIMPLE="SIMPLE",e))(_u||{});const Zd=gs("SAMPLE"),Qd=gs("TEXT"),jv=gs("Arial"),aI=gs(!1),Vv=gs([]),O0=gs(null),Uv=gs(!1),Hv=gs(!1),Wv=gs(_u.SIMPLE),D4=e=>e.reduce((t,n)=>Array.isArray(n)?t.concat(D4(n)):t.concat(n),[]);var ut=D4;const lI=e=>Object.assign({},e);var cI=lI;const uI=(e,t,n)=>(e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e[9]=t[9]+n[9],e[10]=t[10]+n[10],e[11]=t[11]+n[11],e[12]=t[12]+n[12],e[13]=t[13]+n[13],e[14]=t[14]+n[14],e[15]=t[15]+n[15],e);var fI=uI;const dI=()=>[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];var o2=dI;const hI=o2,pI=e=>{const t=hI();return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t};var mI=pI;const vI=(e,t)=>(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e);var I4=vI;const gI=(e,t)=>{const n=t[0],r=t[1],o=t[2],s=t[3],i=t[4],a=t[5],l=t[6],c=t[7],u=t[8],f=t[9],d=t[10],h=t[11],v=t[12],p=t[13],g=t[14],m=t[15],w=n*a-r*i,y=n*l-o*i,b=n*c-s*i,S=r*l-o*a,E=r*c-s*a,$=o*c-s*l,A=u*p-f*v,B=u*g-d*v,D=u*m-h*v,W=f*g-d*p,te=f*m-h*p,pe=d*m-h*g;let V=w*pe-y*te+b*W+S*D-E*B+$*A;return V?(V=1/V,e[0]=(a*pe-l*te+c*W)*V,e[1]=(o*te-r*pe-s*W)*V,e[2]=(p*$-g*E+m*S)*V,e[3]=(d*E-f*$-h*S)*V,e[4]=(l*D-i*pe-c*B)*V,e[5]=(n*pe-o*D+s*B)*V,e[6]=(g*b-v*$-m*y)*V,e[7]=(u*$-d*b+h*y)*V,e[8]=(i*te-a*D+c*A)*V,e[9]=(r*D-n*te-s*A)*V,e[10]=(v*E-p*b+m*w)*V,e[11]=(f*b-u*E-h*w)*V,e[12]=(a*B-i*W-l*A)*V,e[13]=(n*W-r*B+o*A)*V,e[14]=(p*y-v*S-g*w)*V,e[15]=(u*S-f*y+d*w)*V,e):null};var yI=gI;const wI=(e,t)=>e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15];var xI=wI;const bI=1e5,SI=1e-5,EI=1e-13,_I=Math.PI*2;var St={EPS:SI,NEPS:EI,TAU:_I,spatialResolution:bI};const{NEPS:$I}=St,z4=e=>Math.abs(e)<$I?0:e,AI=e=>z4(Math.sin(e)),TI=e=>z4(Math.cos(e));var Bn={sin:AI,cos:TI};const CI=e=>(e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e);var B4=CI;const{EPS:PI}=St,{sin:kI,cos:RI}=Bn,NI=B4,OI=(e,t,n)=>{let[r,o,s]=n;const i=r*r+o*o+s*s;if(Math.abs(i)<PI)return NI(e);const a=1/Math.sqrt(i);r*=a,o*=a,s*=a;const l=kI(t),c=RI(t),u=1-c;return e[0]=r*r*u+c,e[1]=o*r*u+s*l,e[2]=s*r*u-o*l,e[3]=0,e[4]=r*o*u-s*l,e[5]=o*o*u+c,e[6]=s*o*u+r*l,e[7]=0,e[8]=r*s*u+o*l,e[9]=o*s*u-r*l,e[10]=s*s*u+c,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e};var G4=OI;const LI=(e,t)=>(e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e);var MI=LI;const{sin:L0,cos:M0}=Bn,FI=(e,t,n,r)=>{const o=L0(t),s=M0(t),i=L0(n),a=M0(n),l=L0(r),c=M0(r);return e[0]=a*s,e[1]=a*o,e[2]=-i,e[3]=0,e[4]=l*i*s-c*o,e[5]=c*s+l*i*o,e[6]=l*a,e[7]=0,e[8]=l*o+c*i*s,e[9]=c*i*o-l*s,e[10]=c*a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e};var DI=FI;const II=(e,t)=>(e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e);var zI=II;const BI=o2,GI=(e,t,n,r,o,s,i,a,l,c,u,f,d,h,v,p)=>{const g=BI();return g[0]=e,g[1]=t,g[2]=n,g[3]=r,g[4]=o,g[5]=s,g[6]=i,g[7]=a,g[8]=l,g[9]=c,g[10]=u,g[11]=f,g[12]=d,g[13]=h,g[14]=v,g[15]=p,g};var jI=GI;const VI=(e,t)=>(e[0]=Math.abs(t[0]),e[1]=Math.abs(t[1]),e[2]=Math.abs(t[2]),e);var j4=VI;const UI=(e,t,n)=>(e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e);var V4=UI;const HI=(e,t)=>e[0]*t[0]+e[1]*t[1]+e[2]*t[2];var Rp=HI;const WI=Rp,XI=(e,t)=>{const n=e[0],r=e[1],o=e[2],s=t[0],i=t[1],a=t[2],l=Math.sqrt(n*n+r*r+o*o),c=Math.sqrt(s*s+i*i+a*a),u=l*c,f=u&&WI(e,t)/u;return Math.acos(Math.min(Math.max(f,-1),1))};var YI=XI;const qI=()=>[0,0,0];var Np=qI;const ZI=Np,QI=e=>{const t=ZI();return t[0]=e[0],t[1]=e[1],t[2]=e[2],t};var KI=QI;const JI=(e,t)=>(e[0]=t[0],e[1]=t[1],e[2]=t[2],e);var U4=JI;const e9=(e,t,n)=>{const r=t[0],o=t[1],s=t[2],i=n[0],a=n[1],l=n[2];return e[0]=o*l-s*a,e[1]=s*i-r*l,e[2]=r*a-o*i,e};var Wu=e9;const t9=(e,t)=>{const n=t[0]-e[0],r=t[1]-e[1],o=t[2]-e[2];return Math.sqrt(n*n+r*r+o*o)};var H4=t9;const n9=(e,t,n)=>(e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e);var r9=n9;const o9=(e,t)=>e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2];var s9=o9;const i9=(e,t)=>(e[0]=t,e[1]=t,e[2]=t,e);var a9=i9;const l9=Np,c9=(e,t,n)=>{const r=l9();return r[0]=e,r[1]=t,r[2]=n,r};var u9=c9;const f9=(e,t,n=0)=>(e[0]=t[0],e[1]=t[1],e[2]=n,e);var d9=f9;const h9=e=>{const t=e[0],n=e[1],r=e[2];return Math.sqrt(t*t+n*n+r*r)};var W4=h9;const p9=(e,t,n,r)=>(e[0]=t[0]+r*(n[0]-t[0]),e[1]=t[1]+r*(n[1]-t[1]),e[2]=t[2]+r*(n[2]-t[2]),e);var m9=p9;const v9=(e,t,n)=>(e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e);var X4=v9;const g9=(e,t,n)=>(e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e);var Y4=g9;const y9=(e,t,n)=>(e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e);var w9=y9;const x9=(e,t)=>(e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e);var b9=x9;const S9=(e,t)=>{const n=t[0],r=t[1],o=t[2];let s=n*n+r*r+o*o;return s>0&&(s=1/Math.sqrt(s)),e[0]=n*s,e[1]=r*s,e[2]=o*s,e};var s2=S9;const E9=j4,_9=Np,$9=Wu,A9=(e,t)=>{const n=E9(_9(),t),r=0+(n[0]<n[1]&&n[0]<n[2]),o=0+(n[1]<=n[0]&&n[1]<n[2]),s=0+(n[2]<=n[0]&&n[2]<=n[1]);return $9(e,t,[r,o,s])};var T9=A9;const C9=(e,t,n,r)=>{const o=[],s=[];return o[0]=t[0]-n[0],o[1]=t[1]-n[1],o[2]=t[2]-n[2],s[0]=o[0],s[1]=o[1]*Math.cos(r)-o[2]*Math.sin(r),s[2]=o[1]*Math.sin(r)+o[2]*Math.cos(r),e[0]=s[0]+n[0],e[1]=s[1]+n[1],e[2]=s[2]+n[2],e};var P9=C9;const k9=(e,t,n,r)=>{const o=[],s=[];return o[0]=t[0]-n[0],o[1]=t[1]-n[1],o[2]=t[2]-n[2],s[0]=o[2]*Math.sin(r)+o[0]*Math.cos(r),s[1]=o[1],s[2]=o[2]*Math.cos(r)-o[0]*Math.sin(r),e[0]=s[0]+n[0],e[1]=s[1]+n[1],e[2]=s[2]+n[2],e};var R9=k9;const N9=(e,t,n,r)=>{const o=[],s=[];return o[0]=t[0]-n[0],o[1]=t[1]-n[1],s[0]=o[0]*Math.cos(r)-o[1]*Math.sin(r),s[1]=o[0]*Math.sin(r)+o[1]*Math.cos(r),e[0]=s[0]+n[0],e[1]=s[1]+n[1],e[2]=t[2],e};var O9=N9;const L9=(e,t,n)=>(e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e);var q4=L9;const M9=(e,t,n)=>(e[0]=Math.round(t[0]/n)*n+0,e[1]=Math.round(t[1]/n)*n+0,e[2]=Math.round(t[2]/n)*n+0,e);var F9=M9;const D9=(e,t)=>{const n=t[0]-e[0],r=t[1]-e[1],o=t[2]-e[2];return n*n+r*r+o*o};var Z4=D9;const I9=e=>{const t=e[0],n=e[1],r=e[2];return t*t+n*n+r*r};var Q4=I9;const z9=(e,t,n)=>(e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e);var Op=z9;const B9=e=>`[${e[0].toFixed(7)}, ${e[1].toFixed(7)}, ${e[2].toFixed(7)}]`;var G9=B9;const j9=(e,t,n)=>{const r=t[0],o=t[1],s=t[2];let i=n[3]*r+n[7]*o+n[11]*s+n[15];return i=i||1,e[0]=(n[0]*r+n[4]*o+n[8]*s+n[12])/i,e[1]=(n[1]*r+n[5]*o+n[9]*s+n[13])/i,e[2]=(n[2]*r+n[6]*o+n[10]*s+n[14])/i,e};var V9=j9,Ke={abs:j4,add:V4,angle:YI,clone:KI,copy:U4,create:Np,cross:Wu,distance:H4,divide:r9,dot:Rp,equals:s9,fromScalar:a9,fromValues:u9,fromVec2:d9,length:W4,lerp:m9,max:X4,min:Y4,multiply:w9,negate:b9,normalize:s2,orthogonal:T9,rotateX:P9,rotateY:R9,rotateZ:O9,scale:q4,snap:F9,squaredDistance:Z4,squaredLength:Q4,subtract:Op,toString:G9,transform:V9};const Ts=Ke,U9=G4,H9=(e,t,n)=>{const r=Ts.normalize(Ts.create(),t),o=Ts.normalize(Ts.create(),n),s=Ts.cross(Ts.create(),o,r),i=Ts.dot(o,r);if(i===-1)return U9(e,Math.PI,Ts.orthogonal(s,r));const a=1/(1+i);return e[0]=s[0]*s[0]*a+i,e[1]=s[1]*s[0]*a-s[2],e[2]=s[2]*s[0]*a+s[1],e[3]=0,e[4]=s[0]*s[1]*a+s[2],e[5]=s[1]*s[1]*a+i,e[6]=s[2]*s[1]*a-s[0],e[7]=0,e[8]=s[0]*s[2]*a-s[1],e[9]=s[1]*s[2]*a+s[0],e[10]=s[2]*s[2]*a+i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e};var W9=H9;const{sin:X9,cos:Y9}=Bn,q9=(e,t)=>{const n=X9(t),r=Y9(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=n,e[7]=0,e[8]=0,e[9]=-n,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e};var Z9=q9;const{sin:Q9,cos:K9}=Bn,J9=(e,t)=>{const n=Q9(t),r=K9(t);return e[0]=r,e[1]=0,e[2]=-n,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=n,e[9]=0,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e};var ez=J9;const{sin:tz,cos:nz}=Bn,rz=(e,t)=>{const n=tz(t),r=nz(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=0,e[4]=-n,e[5]=r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e};var oz=rz;const sz=e=>e[0]===1&&e[1]===0&&e[2]===0&&e[3]===0&&e[4]===0&&e[5]===1&&e[6]===0&&e[7]===0&&e[8]===0&&e[9]===0&&e[10]===1&&e[11]===0&&e[12]===0&&e[13]===0&&e[14]===0&&e[15]===1;var iz=sz;const az=e=>qo(e[1])&&qo(e[2])&&qo(e[3])&&qo(e[4])&&qo(e[6])&&qo(e[7])&&qo(e[8])&&qo(e[9])&&qo(e[11])&&e[15]===1,qo=e=>Math.abs(e)<Number.EPSILON;var lz=az;const cz=e=>{const t=e[4]*e[9]-e[8]*e[5],n=e[8]*e[1]-e[0]*e[9],r=e[0]*e[5]-e[4]*e[1];return t*e[2]+n*e[6]+r*e[10]<0};var uz=cz;const fz=(e,t)=>{const[n,r,o,s]=t;return e[0]=1-2*n*n,e[1]=-2*r*n,e[2]=-2*o*n,e[3]=0,e[4]=-2*n*r,e[5]=1-2*r*r,e[6]=-2*o*r,e[7]=0,e[8]=-2*n*o,e[9]=-2*r*o,e[10]=1-2*o*o,e[11]=0,e[12]=2*n*s,e[13]=2*r*s,e[14]=2*o*s,e[15]=1,e};var dz=fz;const hz=(e,t,n)=>{const r=t[0],o=t[1],s=t[2],i=t[3],a=t[4],l=t[5],c=t[6],u=t[7],f=t[8],d=t[9],h=t[10],v=t[11],p=t[12],g=t[13],m=t[14],w=t[15];let y=n[0],b=n[1],S=n[2],E=n[3];return e[0]=y*r+b*a+S*f+E*p,e[1]=y*o+b*l+S*d+E*g,e[2]=y*s+b*c+S*h+E*m,e[3]=y*i+b*u+S*v+E*w,y=n[4],b=n[5],S=n[6],E=n[7],e[4]=y*r+b*a+S*f+E*p,e[5]=y*o+b*l+S*d+E*g,e[6]=y*s+b*c+S*h+E*m,e[7]=y*i+b*u+S*v+E*w,y=n[8],b=n[9],S=n[10],E=n[11],e[8]=y*r+b*a+S*f+E*p,e[9]=y*o+b*l+S*d+E*g,e[10]=y*s+b*c+S*h+E*m,e[11]=y*i+b*u+S*v+E*w,y=n[12],b=n[13],S=n[14],E=n[15],e[12]=y*r+b*a+S*f+E*p,e[13]=y*o+b*l+S*d+E*g,e[14]=y*s+b*c+S*h+E*m,e[15]=y*i+b*u+S*v+E*w,e};var pz=hz;const{EPS:mz}=St,{sin:vz,cos:gz}=Bn,yz=I4,wz=(e,t,n,r)=>{let[o,s,i]=r;const a=o*o+s*s+i*i;if(Math.abs(a)<mz)return yz(e,t);const l=1/Math.sqrt(a);o*=l,s*=l,i*=l;const c=vz(n),u=gz(n),f=1-u,d=t[0],h=t[1],v=t[2],p=t[3],g=t[4],m=t[5],w=t[6],y=t[7],b=t[8],S=t[9],E=t[10],$=t[11],A=o*o*f+u,B=s*o*f+i*c,D=i*o*f-s*c,W=o*s*f-i*c,te=s*s*f+u,pe=i*s*f+o*c,V=o*i*f+s*c,me=s*i*f-o*c,ee=i*i*f+u;return e[0]=d*A+g*B+b*D,e[1]=h*A+m*B+S*D,e[2]=v*A+w*B+E*D,e[3]=p*A+y*B+$*D,e[4]=d*W+g*te+b*pe,e[5]=h*W+m*te+S*pe,e[6]=v*W+w*te+E*pe,e[7]=p*W+y*te+$*pe,e[8]=d*V+g*me+b*ee,e[9]=h*V+m*me+S*ee,e[10]=v*V+w*me+E*ee,e[11]=p*V+y*me+$*ee,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e};var xz=wz;const{sin:bz,cos:Sz}=Bn,Ez=(e,t,n)=>{const r=bz(n),o=Sz(n),s=t[4],i=t[5],a=t[6],l=t[7],c=t[8],u=t[9],f=t[10],d=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=s*o+c*r,e[5]=i*o+u*r,e[6]=a*o+f*r,e[7]=l*o+d*r,e[8]=c*o-s*r,e[9]=u*o-i*r,e[10]=f*o-a*r,e[11]=d*o-l*r,e};var _z=Ez;const{sin:$z,cos:Az}=Bn,Tz=(e,t,n)=>{const r=$z(n),o=Az(n),s=t[0],i=t[1],a=t[2],l=t[3],c=t[8],u=t[9],f=t[10],d=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=s*o-c*r,e[1]=i*o-u*r,e[2]=a*o-f*r,e[3]=l*o-d*r,e[8]=s*r+c*o,e[9]=i*r+u*o,e[10]=a*r+f*o,e[11]=l*r+d*o,e};var Cz=Tz;const{sin:Pz,cos:kz}=Bn,Rz=(e,t,n)=>{const r=Pz(n),o=kz(n),s=t[0],i=t[1],a=t[2],l=t[3],c=t[4],u=t[5],f=t[6],d=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=s*o+c*r,e[1]=i*o+u*r,e[2]=a*o+f*r,e[3]=l*o+d*r,e[4]=c*o-s*r,e[5]=u*o-i*r,e[6]=f*o-a*r,e[7]=d*o-l*r,e};var Nz=Rz;const Oz=(e,t,n)=>{const r=n[0],o=n[1],s=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*o,e[5]=t[5]*o,e[6]=t[6]*o,e[7]=t[7]*o,e[8]=t[8]*s,e[9]=t[9]*s,e[10]=t[10]*s,e[11]=t[11]*s,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e};var Lz=Oz;const Mz=(e,t,n)=>(e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e[9]=t[9]-n[9],e[10]=t[10]-n[10],e[11]=t[11]-n[11],e[12]=t[12]-n[12],e[13]=t[13]-n[13],e[14]=t[14]-n[14],e[15]=t[15]-n[15],e);var Fz=Mz;const Dz=e=>e.map(t=>t.toFixed(7)).toString();var Iz=Dz;const zz=(e,t,n)=>{const r=n[0],o=n[1],s=n[2];let i,a,l,c,u,f,d,h,v,p,g,m;return t===e?(e[12]=t[0]*r+t[4]*o+t[8]*s+t[12],e[13]=t[1]*r+t[5]*o+t[9]*s+t[13],e[14]=t[2]*r+t[6]*o+t[10]*s+t[14],e[15]=t[3]*r+t[7]*o+t[11]*s+t[15]):(i=t[0],a=t[1],l=t[2],c=t[3],u=t[4],f=t[5],d=t[6],h=t[7],v=t[8],p=t[9],g=t[10],m=t[11],e[0]=i,e[1]=a,e[2]=l,e[3]=c,e[4]=u,e[5]=f,e[6]=d,e[7]=h,e[8]=v,e[9]=p,e[10]=g,e[11]=m,e[12]=i*r+u*o+v*s+t[12],e[13]=a*r+f*o+p*s+t[13],e[14]=l*r+d*o+g*s+t[14],e[15]=c*r+h*o+m*s+t[15]),e};var Bz=zz,Mt={add:fI,clone:mI,copy:I4,create:o2,invert:yI,equals:xI,fromRotation:G4,fromScaling:MI,fromTaitBryanRotation:DI,fromTranslation:zI,fromValues:jI,fromVectorRotation:W9,fromXRotation:Z9,fromYRotation:ez,fromZRotation:oz,identity:B4,isIdentity:iz,isOnlyTransformScale:lz,isMirroring:uz,mirrorByPlane:dz,multiply:pz,rotate:xz,rotateX:_z,rotateY:Cz,rotateZ:Nz,scale:Lz,subtract:Fz,toString:Iz,translate:Bz};const Gz=Mt,jz=e=>(e===void 0&&(e=[]),{sides:e,transforms:Gz.create()});var Lp=jz;const Vz=(e,t)=>(e[0]=Math.abs(t[0]),e[1]=Math.abs(t[1]),e);var Uz=Vz;const Hz=(e,t,n)=>(e[0]=t[0]+n[0],e[1]=t[1]+n[1],e);var Wz=Hz;const Xz=e=>Math.atan2(e[1],e[0]);var i2=Xz,Yz=i2;const qz=i2,Zz=e=>qz(e)*57.29577951308232;var Qz=Zz;const Kz=()=>[0,0];var Mp=Kz;const Jz=Mp,eB=e=>{const t=Jz();return t[0]=e[0],t[1]=e[1],t};var tB=eB;const nB=(e,t)=>(e[0]=t[0],e[1]=t[1],e);var rB=nB;const oB=(e,t,n)=>(e[0]=0,e[1]=0,e[2]=t[0]*n[1]-t[1]*n[0],e);var sB=oB;const iB=(e,t)=>{const n=t[0]-e[0],r=t[1]-e[1];return Math.sqrt(n*n+r*r)};var aB=iB;const lB=(e,t,n)=>(e[0]=t[0]/n[0],e[1]=t[1]/n[1],e);var cB=lB;const uB=(e,t)=>e[0]*t[0]+e[1]*t[1];var fB=uB;const dB=(e,t)=>e[0]===t[0]&&e[1]===t[1];var hB=dB;const{sin:pB,cos:mB}=Bn,vB=(e,t)=>(e[0]=mB(t),e[1]=pB(t),e);var K4=vB;const gB=K4,yB=(e,t)=>gB(e,t*.017453292519943295);var wB=yB;const xB=(e,t)=>(e[0]=t,e[1]=t,e);var bB=xB;const SB=Mp,EB=(e,t)=>{const n=SB();return n[0]=e,n[1]=t,n};var _B=EB;const $B=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]);var AB=$B;const TB=(e,t,n,r)=>{const o=t[0],s=t[1];return e[0]=o+r*(n[0]-o),e[1]=s+r*(n[1]-s),e};var CB=TB;const PB=(e,t,n)=>(e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e);var kB=PB;const RB=(e,t,n)=>(e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e);var NB=RB;const OB=(e,t,n)=>(e[0]=t[0]*n[0],e[1]=t[1]*n[1],e);var LB=OB;const MB=(e,t)=>(e[0]=-t[0],e[1]=-t[1],e);var FB=MB;const DB=(e,t,n,r)=>{const o=t[0]-n[0],s=t[1]-n[1],i=Math.cos(r),a=Math.sin(r);return e[0]=o*i-s*a+n[0],e[1]=o*a+s*i+n[1],e};var J4=DB;const{TAU:IB}=St,zB=Mp,BB=J4,GB=(e,t)=>BB(e,t,zB(),IB/4);var jB=GB;const VB=(e,t)=>{const n=t[0],r=t[1];let o=n*n+r*r;return o>0&&(o=1/Math.sqrt(o)),e[0]=n*o,e[1]=r*o,e};var UB=VB;const HB=(e,t,n)=>(e[0]=t[0]*n,e[1]=t[1]*n,e);var WB=HB;const XB=(e,t,n)=>(e[0]=Math.round(t[0]/n)*n+0,e[1]=Math.round(t[1]/n)*n+0,e);var YB=XB;const qB=(e,t)=>{const n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r};var ZB=qB;const QB=e=>{const t=e[0],n=e[1];return t*t+n*n};var KB=QB;const JB=(e,t,n)=>(e[0]=t[0]-n[0],e[1]=t[1]-n[1],e);var eG=JB;const tG=e=>`[${e[0].toFixed(7)}, ${e[1].toFixed(7)}]`;var nG=tG;const rG=(e,t,n)=>{const r=t[0],o=t[1];return e[0]=n[0]*r+n[4]*o+n[12],e[1]=n[1]*r+n[5]*o+n[13],e};var oG=rG,gt={abs:Uz,add:Wz,angle:Yz,angleDegrees:Qz,angleRadians:i2,clone:tB,copy:rB,create:Mp,cross:sB,distance:aB,divide:cB,dot:fB,equals:hB,fromAngleDegrees:wB,fromAngleRadians:K4,fromScalar:bB,fromValues:_B,length:AB,lerp:CB,max:kB,min:NB,multiply:LB,negate:FB,normal:jB,normalize:UB,rotate:J4,scale:WB,snap:YB,squaredDistance:ZB,squaredLength:KB,subtract:eG,toString:nG,transform:oG};const F0=gt,sG=Lp,iG=e=>{if(!Array.isArray(e))throw new Error("the given points must be an array");let t=e.length;if(t<3)throw new Error("the given points must define a closed geometry with three or more points");F0.equals(e[0],e[t-1])&&--t;const n=[];let r=e[t-1];for(let o=0;o<t;o++){const s=e[o];n.push([F0.clone(r),F0.clone(s)]),r=s}return sG(n)};var aG=iG;const lG=Mt,Fb=gt,cG=Lp,uG=e=>{if(e[0]!==0)throw new Error("invalid compact binary data");const t=cG();t.transforms=lG.clone(e.slice(1,17));for(let n=21;n<e.length;n+=4){const r=Fb.fromValues(e[n+0],e[n+1]),o=Fb.fromValues(e[n+2],e[n+3]);t.sides.push([r,o])}return e[17]>=0&&(t.color=[e[17],e[18],e[19],e[20]]),t};var fG=uG;const dG=e=>!!(e&&typeof e=="object"&&"sides"in e&&"transforms"in e&&Array.isArray(e.sides)&&"length"in e.transforms);var eT=dG;const Db=Mt,cd=gt,hG=e=>(Db.isIdentity(e.transforms)||(e.sides=e.sides.map(t=>{const n=cd.transform(cd.create(),t[0],e.transforms),r=cd.transform(cd.create(),t[1],e.transforms);return[n,r]}),e.transforms=Db.create()),e);var pG=hG;const mG=pG,vG=e=>mG(e).sides;var Xu=vG;const gG=Lp,yG=Xu,wG=e=>{const n=yG(e).map(r=>[r[1],r[0]]);return n.reverse(),gG(n)};var tT=wG;const Tc=gt,xG=Xu,bG=e=>{const t=new Map,n=r=>{const o=r.toString();return t.has(o)?t.get(o):(t.set(o,r),r)};return e.map(r=>r.map(n))},SG=e=>{const t=new Map;return bG(e).forEach(r=>{t.has(r[0])?t.get(r[0]).push(r):t.set(r[0],[r])}),t},EG=e=>{const t=SG(xG(e)),n=[];for(;;){let r;for(const[i,a]of t){if(r=a.shift(),!r){t.delete(i);continue}break}if(r===void 0)break;const o=[],s=r[0];for(;;){o.push(r[0]);const i=r[1];if(i===s)break;const a=t.get(i);if(!a)throw new Error(`geometry is not closed at vertex ${i}`);const l=_G(r,a);a.length===0&&t.delete(i),r=l}o.length>0&&o.push(o.shift()),n.push(o)}return t.clear(),n},_G=(e,t)=>{if(t.length===1)return t.pop();const n=Tc.create(),r=Tc.angleDegrees(Tc.subtract(n,e[1],e[0]));let o,s;t.forEach((a,l)=>{let u=Tc.angleDegrees(Tc.subtract(n,a[1],a[0]))-r;u<-180&&(u+=360),u>=180&&(u-=360),(s===void 0||u>o)&&(s=l,o=u)});const i=t[s];return t.splice(s,1),i};var nT=EG;const $G=Xu,AG=e=>{const n=$G(e).map(r=>r[0]);return n.length>0&&n.push(n.shift()),n};var TG=AG;const Ib=gt,CG=Xu,PG=e=>{const t=CG(e);let n="geom2 ("+t.length+` sides):
[
`;return t.forEach(r=>{n+="  ["+Ib.toString(r[0])+", "+Ib.toString(r[1])+`]
`}),n+=`]
`,n};var kG=PG;const RG=e=>{const t=e.sides,n=e.transforms;let r=[-1,-1,-1,-1];e.color&&(r=e.color);const o=new Float32Array(21+t.length*4);o[0]=0,o[1]=n[0],o[2]=n[1],o[3]=n[2],o[4]=n[3],o[5]=n[4],o[6]=n[5],o[7]=n[6],o[8]=n[7],o[9]=n[8],o[10]=n[9],o[11]=n[10],o[12]=n[11],o[13]=n[12],o[14]=n[13],o[15]=n[14],o[16]=n[15],o[17]=r[0],o[18]=r[1],o[19]=r[2],o[20]=r[3];for(let s=0;s<t.length;s++){const i=s*4+21,a=t[s][0],l=t[s][1];o[i+0]=a[0],o[i+1]=a[1],o[i+2]=l[0],o[i+3]=l[1]}return o};var NG=RG;const zb=Mt,OG=tT,LG=(e,t)=>{const n=zb.multiply(zb.create(),e,t.transforms),r=Object.assign({},t,{transforms:n});return e[0]*e[5]-e[4]*e[1]<0?OG(r):r};var MG=LG;const FG=gt,DG=eT,IG=nT,zG=e=>{if(!DG(e))throw new Error("invalid geom2 structure");if(IG(e),e.sides.forEach(t=>{if(FG.equals(t[0],t[1]))throw new Error(`geom2 self-edge ${t[0]}`)}),!e.transforms.every(Number.isFinite))throw new Error(`geom2 invalid transforms ${e.transforms}`)};var BG=zG,dt={clone:cI,create:Lp,fromPoints:aG,fromCompactBinary:fG,isA:eT,reverse:tT,toOutlines:nT,toPoints:TG,toSides:Xu,toString:kG,toCompactBinary:NG,transform:MG,validate:BG};const GG=e=>Object.assign({},e);var jG=GG;const VG=Mt,UG=e=>(e===void 0&&(e=[]),{polygons:e,transforms:VG.create()});var Yu=UG;const HG=Wu,Bb=Op,Gb=Q4,WG=(e,t,n)=>{const r=[],o=[],s=[];Bb(r,n,t),Bb(o,e,t);const i=Gb(HG(s,o,r)),a=Gb(r);if(a===0)throw Error("a and b are the same point");return i/a},XG=(e,t,n)=>Math.sqrt(WG(e,t,n));var YG=XG;const qG=Wu,ZG=s2,jb=Op,QG=(e,t,n,r)=>{const o=[0,0,0];return jb(e,t,n),jb(o,n,r),qG(e,e,o),ZG(e,e)};var KG=QG;let JG=class{constructor(){this.head=null,this.tail=null}clear(){this.head=this.tail=null}insertBefore(t,n){n.prev=t.prev,n.next=t,n.prev?n.prev.next=n:this.head=n,t.prev=n}insertAfter(t,n){n.prev=t,n.next=t.next,n.next?n.next.prev=n:this.tail=n,t.next=n}add(t){this.head?this.tail.next=t:this.head=t,t.prev=this.tail,t.next=null,this.tail=t}addAll(t){for(this.head?this.tail.next=t:this.head=t,t.prev=this.tail;t.next;)t=t.next;this.tail=t}remove(t){t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev}removeChain(t,n){t.prev?t.prev.next=n.next:this.head=n.next,n.next?n.next.prev=t.prev:this.tail=t.prev}first(){return this.head}isEmpty(){return!this.head}};var ej=JG;let tj=class{constructor(t,n){this.point=t,this.index=n,this.next=null,this.prev=null,this.face=null}};var nj=tj;const rj=H4,oj=Z4;let sj=class{constructor(t,n){this.vertex=t,this.face=n,this.next=null,this.prev=null,this.opposite=null}head(){return this.vertex}tail(){return this.prev?this.prev.vertex:null}length(){return this.tail()?rj(this.tail().point,this.head().point):-1}lengthSquared(){return this.tail()?oj(this.tail().point,this.head().point):-1}setOpposite(t){this.opposite=t,t.opposite=this}};var ij=sj;const D0=V4,aj=U4,lj=Wu,I0=Rp,cj=W4,uj=s2,ud=q4,z0=Op,B0=ij,rT=0,fj=1,Xv=2;let dj=class oT{constructor(){this.normal=[],this.centroid=[],this.offset=0,this.outside=null,this.mark=rT,this.edge=null,this.nVertices=0}getEdge(t){if(typeof t!="number")throw Error("requires a number");let n=this.edge;for(;t>0;)n=n.next,t-=1;for(;t<0;)n=n.prev,t+=1;return n}computeNormal(){const t=this.edge,n=t.next;let r=n.next;const o=z0([],n.head().point,t.head().point),s=[],i=[];for(this.nVertices=2,this.normal=[0,0,0];r!==t;)aj(i,o),z0(o,r.head().point,t.head().point),D0(this.normal,this.normal,lj(s,i,o)),r=r.next,this.nVertices+=1;this.area=cj(this.normal),this.normal=ud(this.normal,this.normal,1/this.area)}computeNormalMinArea(t){if(this.computeNormal(),this.area<t){let n,r=0,o=this.edge;do{const u=o.lengthSquared();u>r&&(n=o,r=u),o=o.next}while(o!==this.edge);const s=n.tail().point,i=n.head().point,a=z0([],i,s),l=Math.sqrt(r);ud(a,a,1/l);const c=I0(this.normal,a);ud(a,a,-c),D0(this.normal,this.normal,a),uj(this.normal,this.normal)}}computeCentroid(){this.centroid=[0,0,0];let t=this.edge;do D0(this.centroid,this.centroid,t.head().point),t=t.next;while(t!==this.edge);ud(this.centroid,this.centroid,1/this.nVertices)}computeNormalAndCentroid(t){typeof t<"u"?this.computeNormalMinArea(t):this.computeNormal(),this.computeCentroid(),this.offset=I0(this.normal,this.centroid)}distanceToPlane(t){return I0(this.normal,t)-this.offset}connectHalfEdges(t,n){let r;if(t.opposite.face===n.opposite.face){const o=n.opposite.face;let s;t===this.edge&&(this.edge=n),o.nVertices===3?(s=n.opposite.prev.opposite,o.mark=Xv,r=o):(s=n.opposite.next,o.edge===s.prev&&(o.edge=s),s.prev=s.prev.prev,s.prev.next=s),n.prev=t.prev,n.prev.next=n,n.setOpposite(s),o.computeNormalAndCentroid()}else t.next=n,n.prev=t;return r}mergeAdjacentFaces(t,n){const r=t.opposite,o=r.face;n.push(o),o.mark=Xv;let s=t.prev,i=t.next,a=r.prev,l=r.next;for(;s.opposite.face===o;)s=s.prev,l=l.next;for(;i.opposite.face===o;)i=i.next,a=a.prev;let c;for(c=l;c!==a.next;c=c.next)c.face=this;this.edge=i;let u;return u=this.connectHalfEdges(a,i),u&&n.push(u),u=this.connectHalfEdges(s,l),u&&n.push(u),this.computeNormalAndCentroid(),n}collectIndices(){const t=[];let n=this.edge;do t.push(n.head().index),n=n.next;while(n!==this.edge);return t}static createTriangle(t,n,r,o=0){const s=new oT,i=new B0(t,s),a=new B0(n,s),l=new B0(r,s);return i.next=l.prev=a,a.next=i.prev=l,l.next=a.prev=i,s.edge=i,s.computeNormalAndCentroid(o),s}};var hj={VISIBLE:rT,NON_CONVEX:fj,DELETED:Xv,Face:dj};const G0=Rp,pj=YG,mj=KG,Vb=ej,vj=nj,{Face:Zo,VISIBLE:Ca,NON_CONVEX:Ub,DELETED:gj}=hj,yj=1,Hb=2;let wj=class{constructor(t){if(!Array.isArray(t))throw TypeError("input is not a valid array");if(t.length<4)throw Error("cannot build a simplex out of <4 points");this.tolerance=-1,this.nFaces=0,this.nPoints=t.length,this.faces=[],this.newFaces=[],this.claimed=new Vb,this.unclaimed=new Vb,this.vertices=[];for(let n=0;n<t.length;n+=1)this.vertices.push(new vj(t[n],n));this.discardedFaces=[],this.vertexPointIndices=[]}addVertexToFace(t,n){t.face=n,n.outside?this.claimed.insertBefore(n.outside,t):this.claimed.add(t),n.outside=t}removeVertexFromFace(t,n){t===n.outside&&(t.next&&t.next.face===n?n.outside=t.next:n.outside=null),this.claimed.remove(t)}removeAllVerticesFromFace(t){if(t.outside){let n=t.outside;for(;n.next&&n.next.face===t;)n=n.next;return this.claimed.removeChain(t.outside,n),n.next=null,t.outside}}deleteFaceVertices(t,n){const r=this.removeAllVerticesFromFace(t);if(r)if(!n)this.unclaimed.addAll(r);else{let o;for(let s=r;s;s=o)o=s.next,n.distanceToPlane(s.point)>this.tolerance?this.addVertexToFace(s,n):this.unclaimed.add(s)}}resolveUnclaimedPoints(t){let n=this.unclaimed.first();for(let r=n;r;r=n){n=r.next;let o=this.tolerance,s;for(let i=0;i<t.length;i+=1){const a=t[i];if(a.mark===Ca){const l=a.distanceToPlane(r.point);if(l>o&&(o=l,s=a),o>1e3*this.tolerance)break}}s&&this.addVertexToFace(r,s)}}computeExtremes(){const t=[],n=[],r=[],o=[];let s,i;for(s=0;s<3;s+=1)r[s]=o[s]=this.vertices[0];for(s=0;s<3;s+=1)t[s]=n[s]=this.vertices[0].point[s];for(s=1;s<this.vertices.length;s+=1){const a=this.vertices[s],l=a.point;for(i=0;i<3;i+=1)l[i]<t[i]&&(t[i]=l[i],r[i]=a);for(i=0;i<3;i+=1)l[i]>n[i]&&(n[i]=l[i],o[i]=a)}return this.tolerance=3*Number.EPSILON*(Math.max(Math.abs(t[0]),Math.abs(n[0]))+Math.max(Math.abs(t[1]),Math.abs(n[1]))+Math.max(Math.abs(t[2]),Math.abs(n[2]))),[r,o]}createInitialSimplex(){const t=this.vertices,[n,r]=this.computeExtremes();let o,s,i,a,l=0,c=0;for(i=0;i<3;i+=1){const p=r[i].point[i]-n[i].point[i];p>l&&(l=p,c=i)}const u=n[c],f=r[c];for(l=0,i=0;i<this.vertices.length;i+=1){const p=this.vertices[i];if(p!==u&&p!==f){const g=pj(p.point,u.point,f.point);g>l&&(l=g,o=p)}}const d=mj([],u.point,f.point,o.point),h=G0(u.point,d);for(l=-1,i=0;i<this.vertices.length;i+=1){const p=this.vertices[i];if(p!==u&&p!==f&&p!==o){const g=Math.abs(G0(d,p.point)-h);g>l&&(l=g,s=p)}}const v=[];if(G0(s.point,d)-h<0)for(v.push(Zo.createTriangle(u,f,o),Zo.createTriangle(s,f,u),Zo.createTriangle(s,o,f),Zo.createTriangle(s,u,o)),i=0;i<3;i+=1){const p=(i+1)%3;v[i+1].getEdge(2).setOpposite(v[0].getEdge(p)),v[i+1].getEdge(1).setOpposite(v[p+1].getEdge(0))}else for(v.push(Zo.createTriangle(u,o,f),Zo.createTriangle(s,u,f),Zo.createTriangle(s,f,o),Zo.createTriangle(s,o,u)),i=0;i<3;i+=1){const p=(i+1)%3;v[i+1].getEdge(2).setOpposite(v[0].getEdge((3-i)%3)),v[i+1].getEdge(0).setOpposite(v[p+1].getEdge(1))}for(i=0;i<4;i+=1)this.faces.push(v[i]);for(i=0;i<t.length;i+=1){const p=t[i];if(p!==u&&p!==f&&p!==o&&p!==s){l=this.tolerance;let g;for(a=0;a<4;a+=1){const m=v[a].distanceToPlane(p.point);m>l&&(l=m,g=v[a])}g&&this.addVertexToFace(p,g)}}}reindexFaceAndVertices(){const t=[];for(let n=0;n<this.faces.length;n+=1){const r=this.faces[n];r.mark===Ca&&t.push(r)}this.faces=t}collectFaces(t){const n=[];for(let r=0;r<this.faces.length;r+=1){if(this.faces[r].mark!==Ca)throw Error("attempt to include a destroyed face in the hull");const o=this.faces[r].collectIndices();if(t)n.push(o);else for(let s=0;s<o.length-2;s+=1)n.push([o[0],o[s+1],o[s+2]])}return n}nextVertexToAdd(){if(!this.claimed.isEmpty()){let t,n,r=0;const o=this.claimed.first().face;for(n=o.outside;n&&n.face===o;n=n.next){const s=o.distanceToPlane(n.point);s>r&&(r=s,t=n)}return t}}computeHorizon(t,n,r,o){this.deleteFaceVertices(r),r.mark=gj;let s;n?s=n.next:s=n=r.getEdge(0);do{const i=s.opposite,a=i.face;a.mark===Ca&&(a.distanceToPlane(t)>this.tolerance?this.computeHorizon(t,i,a,o):o.push(s)),s=s.next}while(s!==n)}addAdjoiningFace(t,n){const r=Zo.createTriangle(t,n.tail(),n.head());return this.faces.push(r),r.getEdge(-1).setOpposite(n.opposite),r.getEdge(0)}addNewFaces(t,n){this.newFaces=[];let r,o;for(let s=0;s<n.length;s+=1){const i=n[s],a=this.addAdjoiningFace(t,i);r?a.next.setOpposite(o):r=a,this.newFaces.push(a.face),o=a}r.next.setOpposite(o)}oppositeFaceDistance(t){return t.face.distanceToPlane(t.opposite.face.centroid)}doAdjacentMerge(t,n){let r=t.edge,o=!0,s=0;do{if(s>=t.nVertices)throw Error("merge recursion limit exceeded");const i=r.opposite.face;let a=!1;if(n===Hb?(this.oppositeFaceDistance(r)>-this.tolerance||this.oppositeFaceDistance(r.opposite)>-this.tolerance)&&(a=!0):t.area>i.area?this.oppositeFaceDistance(r)>-this.tolerance?a=!0:this.oppositeFaceDistance(r.opposite)>-this.tolerance&&(o=!1):this.oppositeFaceDistance(r.opposite)>-this.tolerance?a=!0:this.oppositeFaceDistance(r)>-this.tolerance&&(o=!1),a){const l=t.mergeAdjacentFaces(r,[]);for(let c=0;c<l.length;c+=1)this.deleteFaceVertices(l[c],t);return!0}r=r.next,s+=1}while(r!==t.edge);return o||(t.mark=Ub),!1}addVertexToHull(t){const n=[];this.unclaimed.clear(),this.removeVertexFromFace(t,t.face),this.computeHorizon(t.point,null,t.face,n),this.addNewFaces(t,n);for(let r=0;r<this.newFaces.length;r+=1){const o=this.newFaces[r];if(o.mark===Ca)for(;this.doAdjacentMerge(o,yj););}for(let r=0;r<this.newFaces.length;r+=1){const o=this.newFaces[r];if(o.mark===Ub)for(o.mark=Ca;this.doAdjacentMerge(o,Hb););}this.resolveUnclaimedPoints(this.newFaces)}build(){let t;for(this.createInitialSimplex();t=this.nextVertexToAdd();)this.addVertexToHull(t);this.reindexFaceAndVertices()}};var xj=wj;const bj=xj,Sj=(e,t={})=>{const n=new bj(e);return n.build(),n.collectFaces(t.skipTriangulation)};var sT=Sj;const Ej=e=>((e===void 0||e.length<3)&&(e=[]),{vertices:e});var zl=Ej;const _j=zl,$j=Ke,Aj=(...e)=>{let t,n;return e.length===1?(t=_j(),n=e[0]):(t=e[0],n=e[1]),t.vertices=n.vertices.map(r=>$j.clone(r)),t};var Tj=Aj;const Cj=Ke,Pj=zl,kj=e=>{const t=e.map(n=>Cj.clone(n));return Pj(t)};var Rj=kj;const Nj=zl,Oj=(e,t)=>{const n=Nj(e);return n.plane=t,n};var Lj=Oj;const Mj=()=>[0,0,0,0];var Fp=Mj;const Fj=Fp,Dj=e=>{const t=Fj();return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t};var iT=Dj;const Ij=(e,t)=>(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e);var aT=Ij;const zj=(e,t)=>e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3];var lT=zj;const Bj=(e,t)=>(e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e);var cT=Bj;const j0=Ke,Gj=(e,t,n)=>{const r=j0.normalize(j0.create(),t),o=j0.dot(n,r);return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=o,e};var uT=Gj;const jj=Fp,Vj=(e,t,n,r)=>{const o=jj();return o[0]=e,o[1]=t,o[2]=n,o[3]=r,o};var fT=Vj;const Sr=Ke,Uj=uT,Hj=(e,...t)=>{e[0]=0,e[1]=0,e[2]=0,e[3]=0;const n=t.length;t.forEach(h=>{Sr.add(e,e,h)}),Sr.scale(e,e,1/n);let r=0,o=0,s=0,i=0,a=0,l=0;const c=Sr.create();t.forEach(h=>{Sr.subtract(c,h,e),r+=c[0]*c[0],o+=c[0]*c[1],s+=c[0]*c[2],i+=c[1]*c[1],a+=c[1]*c[2],l+=c[2]*c[2]}),r/=n,o/=n,s/=n,i/=n,a/=n,l/=n,c[0]=0,c[1]=0,c[2]=0;const u=Sr.create();let f=i*l-a*a;u[0]=f,u[1]=s*a-o*l,u[2]=o*a-s*i;let d=f*f;return Sr.add(c,c,Sr.scale(u,u,d)),f=r*l-s*s,u[0]=s*a-o*l,u[1]=f,u[2]=o*s-a*r,d=f*f,Sr.dot(c,u)<0&&(d=-d),Sr.add(c,c,Sr.scale(u,u,d)),f=r*i-o*o,u[0]=o*a-s*i,u[1]=o*s-a*r,u[2]=f,d=f*f,Sr.dot(c,u)<0&&(d=-d),Sr.add(c,c,Sr.scale(u,u,d)),Uj(e,c,e)};var Wj=Hj;const Co=Ke,Xj=(e,...t)=>{const n=t.length,r=Co.create(),o=Co.create(),s=i=>{const a=t[i],l=t[(i+1)%n],c=t[(i+2)%n];return Co.subtract(r,l,a),Co.subtract(o,c,a),Co.cross(r,r,o),Co.normalize(r,r),r};return e[0]=0,e[1]=0,e[2]=0,n===3?Co.copy(e,s(0)):(t.forEach((i,a)=>{Co.add(e,e,s(a))}),Co.normalize(e,e)),e[3]=Co.dot(e,t[0]),e};var dT=Xj;const{EPS:V0}=St,Yn=Ke,Yj=(e,t,n,r)=>{let o=Yn.subtract(Yn.create(),n,t),s=Yn.subtract(Yn.create(),r,t);Yn.length(o)<V0&&(o=Yn.orthogonal(o,s)),Yn.length(s)<V0&&(s=Yn.orthogonal(s,o));let i=Yn.cross(Yn.create(),o,s);Yn.length(i)<V0&&(s=Yn.orthogonal(s,o),i=Yn.cross(i,o,s)),i=Yn.normalize(i,i);const a=Yn.dot(i,t);return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=a,e};var qj=Yj;const Zj=Ke,Qj=(e,t)=>{const n=t[0]*e[0]+t[1]*e[1]+t[2]*e[2]-e[3],r=t[0]-n*e[0],o=t[1]-n*e[1],s=t[2]-n*e[2];return Zj.fromValues(r,o,s)};var Kj=Qj;const Jj=Ke,eV=(e,t)=>Jj.dot(e,t)-e[3];var hT=eV;const tV=e=>`(${e[0].toFixed(9)}, ${e[1].toFixed(9)}, ${e[2].toFixed(9)}, ${e[3].toFixed(9)})`;var pT=tV;const nV=Mt,qn=Ke,rV=dT,oV=cT,sV=(e,t,n)=>{const r=nV.isMirroring(n),o=qn.orthogonal(qn.create(),t),s=qn.cross(o,t,o),i=qn.cross(qn.create(),t,s);let a=qn.fromScalar(qn.create(),t[3]);qn.multiply(a,a,t);let l=qn.add(qn.create(),a,s),c=qn.add(qn.create(),a,i);return a=qn.transform(a,a,n),l=qn.transform(l,l,n),c=qn.transform(c,c,n),rV(e,a,l,c),r&&oV(e,e),e};var iV=sV,jo={clone:iT,copy:aT,create:Fp,equals:lT,flip:cT,fromNormalAndPoint:uT,fromValues:fT,fromNoisyPoints:Wj,fromPoints:dT,fromPointsRandom:qj,projectionOfPoint:Kj,signedDistanceToPoint:hT,toString:pT,transform:iV};const Wb=jo,aV=zl,lV=e=>{const t=e.vertices.slice().reverse(),n=aV(t);return e.plane&&(n.plane=Wb.flip(Wb.create(),e.plane)),n};var cV=lV;const uV=e=>!!(e&&typeof e=="object"&&"vertices"in e&&Array.isArray(e.vertices));var mT=uV;const Xb=jo,Pi=Ke,fV=e=>dV(e.vertices),dV=e=>{const t=e.length;if(t>2){const n=Xb.fromPoints(Xb.create(),...e);let r=e[t-2],o=e[t-1];for(let s=0;s<t;s++){const i=e[s];if(!hV(r,o,i,n))return!1;r=o,o=i}}return!0},hV=(e,t,n,r)=>{const o=Pi.cross(Pi.create(),Pi.subtract(Pi.create(),t,e),Pi.subtract(Pi.create(),n,t));return Pi.dot(o,r)>=0};var vT=fV;const Yb=jo,pV=e=>(e.plane||(e.plane=Yb.fromPoints(Yb.create(),...e.vertices)),e.plane);var a2=pV;const mV=a2,vV=e=>{const t=e.vertices.length;if(t<3)return 0;const n=e.vertices,r=mV(e),o=Math.abs(r[0]),s=Math.abs(r[1]),i=Math.abs(r[2]);if(o+s+i===0)return 0;let a=3;o>s&&o>i?a=1:s>i&&(a=2);let l=0,c=0,u=1,f=2;switch(a){case 1:for(u=1;u<t;u++)c=u-1,f=(u+1)%t,l+=n[u][1]*(n[f][2]-n[c][2]);l+=n[0][1]*(n[1][2]-n[t-1][2]),l/=2*r[0];break;case 2:for(u=1;u<t;u++)c=u-1,f=(u+1)%t,l+=n[u][2]*(n[f][0]-n[c][0]);l+=n[0][2]*(n[1][0]-n[t-1][0]),l/=2*r[1];break;case 3:default:for(u=1;u<t;u++)c=u-1,f=(u+1)%t,l+=n[u][0]*(n[f][1]-n[c][1]);l+=n[0][0]*(n[1][1]-n[t-1][1]),l/=2*r[2];break}return l};var gT=vV;const Cc=Ke,gV=e=>{const t=e.vertices,n=t.length,r=n===0?Cc.create():Cc.clone(t[0]),o=Cc.clone(r);for(let s=1;s<n;s++)Cc.min(r,r,t[s]),Cc.max(o,o,t[s]);return[r,o]};var yV=gV;const wV=(e,t)=>e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3];var xV=wV;const bV=(e,t)=>(e[0]=t,e[1]=t,e[2]=t,e[3]=t,e);var SV=bV;const EV=(e,t,n)=>{const[r,o,s,i]=t;return e[0]=n[0]*r+n[4]*o+n[8]*s+n[12]*i,e[1]=n[1]*r+n[5]*o+n[9]*s+n[13]*i,e[2]=n[2]*r+n[6]*o+n[10]*s+n[14]*i,e[3]=n[3]*r+n[7]*o+n[11]*s+n[15]*i,e};var _V=EV,yT={clone:iT,copy:aT,create:Fp,dot:xV,equals:lT,fromScalar:SV,fromValues:fT,toString:pT,transform:_V};const $V=yT,qb=new WeakMap,AV=e=>{const t=qb.get(e);if(t)return t;const n=e.vertices,r=$V.create();if(n.length===0)return r[0]=0,r[1]=0,r[2]=0,r[3]=0,r;let o=n[0],s=o,i=o,a=o,l=o,c=o;n.forEach(h=>{o[0]>h[0]&&(o=h),s[1]>h[1]&&(s=h),i[2]>h[2]&&(i=h),a[0]<h[0]&&(a=h),l[1]<h[1]&&(l=h),c[2]<h[2]&&(c=h)}),r[0]=(o[0]+a[0])*.5,r[1]=(s[1]+l[1])*.5,r[2]=(i[2]+c[2])*.5;const u=r[0]-a[0],f=r[1]-l[1],d=r[2]-c[2];return r[3]=Math.sqrt(u*u+f*f+d*d),qb.set(e,r),r};var TV=AV;const U0=Ke,CV=e=>{let t=0;const n=e.vertices,r=U0.create();for(let o=0;o<n.length-2;o++)U0.cross(r,n[o+1],n[o+2]),t+=U0.dot(n[0],r);return t/=6,t};var PV=CV;const kV=e=>e.vertices;var RV=kV;const NV=Ke,OV=e=>{let t="poly3: vertices: [";return e.vertices.forEach(n=>{t+=`${NV.toString(n)}, `}),t+="]",t};var LV=OV;const MV=Mt,Zb=Ke,FV=zl,DV=(e,t)=>{const n=t.vertices.map(r=>Zb.transform(Zb.create(),r,e));return MV.isMirroring(e)&&n.reverse(),FV(n)};var IV=DV;const zV=hT,{NEPS:BV}=St,GV=Ke,jV=mT,VV=vT,UV=gT,HV=a2,WV=e=>{if(!jV(e))throw new Error("invalid poly3 structure");if(e.vertices.length<3)throw new Error(`poly3 not enough vertices ${e.vertices.length}`);if(UV(e)<=0)throw new Error("poly3 area must be greater than zero");for(let t=0;t<e.vertices.length;t++)if(GV.equals(e.vertices[t],e.vertices[(t+1)%e.vertices.length]))throw new Error(`poly3 duplicate vertex ${e.vertices[t]}`);if(!VV(e))throw new Error("poly3 must be convex");if(e.vertices.forEach(t=>{if(!t.every(Number.isFinite))throw new Error(`poly3 invalid vertex ${t}`)}),e.vertices.length>3){const t=HV(e);e.vertices.forEach(n=>{const r=Math.abs(zV(t,n));if(r>BV)throw new Error(`poly3 must be coplanar: vertex ${n} distance ${r}`)})}};var XV=WV,xt={clone:Tj,create:zl,fromPoints:Rj,fromPointsAndPlane:Lj,invert:cV,isA:mT,isConvex:vT,measureArea:gT,measureBoundingBox:yV,measureBoundingSphere:TV,measureSignedVolume:PV,plane:a2,toPoints:RV,toString:LV,transform:IV,validate:XV};const YV=sT,qV=Yu,ZV=xt,QV=e=>{if(!Array.isArray(e))throw new Error("the given points must be an array");const n=YV(e,{skipTriangulation:!0}).map(r=>{const o=r.map(s=>e[s]);return ZV.create(o)});return qV(n)};var KV=QV;const JV=xt,eU=Yu,tU=e=>{if(!Array.isArray(e))throw new Error("the given points must be an array");const t=e.map((r,o)=>JV.create(r));return eU(t)};var nU=tU;const rU=Ke,oU=Mt,sU=xt,iU=Yu,aU=e=>{if(e[0]!==1)throw new Error("invalid compact binary data");const t=iU();t.transforms=oU.clone(e.slice(1,17));const n=e[21];let r=22,o=e.length-n*3;for(;o<e.length;){const s=e[r];r++;const i=[];for(let a=0;a<s;a++)i.push(rU.fromValues(e[o],e[o+1],e[o+2])),o+=3;t.polygons.push(sU.create(i))}return e[17]>=0&&(t.color=[e[17],e[18],e[19],e[20]]),t};var lU=aU;const Qb=Mt,cU=xt,uU=e=>(Qb.isIdentity(e.transforms)||(e.polygons=e.polygons.map(t=>cU.transform(e.transforms,t)),e.transforms=Qb.create()),e);var fU=uU;const dU=fU,hU=e=>dU(e).polygons;var Dp=hU;const pU=xt,mU=Yu,vU=Dp,gU=e=>{const n=vU(e).map(r=>pU.invert(r));return mU(n)};var yU=gU;const wU=e=>!!(e&&typeof e=="object"&&"polygons"in e&&"transforms"in e&&Array.isArray(e.polygons)&&"length"in e.transforms);var wT=wU;const xU=xt,bU=Dp,SU=e=>bU(e).map(r=>xU.toPoints(r));var EU=SU;const _U=xt,$U=Dp,AU=e=>{const t=$U(e);let n="geom3 ("+t.length+` polygons):
`;return t.forEach(r=>{n+="  "+_U.toString(r)+`
`}),n};var TU=AU;const CU=xt,PU=e=>{const t=e.polygons,n=e.transforms,r=t.length,o=t.reduce((c,u)=>c+u.vertices.length,0);let s=[-1,-1,-1,-1];e.color&&(s=e.color);const i=new Float32Array(22+r+o*3);i[0]=1,i[1]=n[0],i[2]=n[1],i[3]=n[2],i[4]=n[3],i[5]=n[4],i[6]=n[5],i[7]=n[6],i[8]=n[7],i[9]=n[8],i[10]=n[9],i[11]=n[10],i[12]=n[11],i[13]=n[12],i[14]=n[13],i[15]=n[14],i[16]=n[15],i[17]=s[0],i[18]=s[1],i[19]=s[2],i[20]=s[3],i[21]=o;let a=22,l=a+r;return t.forEach(c=>{const u=CU.toPoints(c);i[a]=u.length,a++;for(let f=0;f<u.length;f++){const d=u[f];i[l+0]=d[0],i[l+1]=d[1],i[l+2]=d[2],l+=3}}),i};var kU=PU;const Kb=Mt,RU=(e,t)=>{const n=Kb.multiply(Kb.create(),e,t.transforms);return Object.assign({},t,{transforms:n})};var NU=RU;const OU=xt,LU=wT,MU=e=>{if(!LU(e))throw new Error("invalid geom3 structure");if(e.polygons.forEach(OU.validate),FU(e),!e.transforms.every(Number.isFinite))throw new Error(`geom3 invalid transforms ${e.transforms}`)},FU=e=>{const t=new Map;e.polygons.forEach(({vertices:r})=>{r.forEach((o,s)=>{const i=`${o}`,a=`${r[(s+1)%r.length]}`,l=`${i}/${a}`,c=t.has(l)?t.get(l):0;t.set(l,c+1)})});const n=[];if(t.forEach((r,o)=>{const s=o.split("/").reverse().join("/"),i=t.get(s);r!==i&&n.push(o.replace("/"," -> "))}),n.length>0)throw new Error(`non-manifold edges ${n.length}
${n.join(`
`)}`)};var DU=MU,ht={clone:jG,create:Yu,fromPointsConvex:KV,fromPoints:nU,fromCompactBinary:lU,invert:yU,isA:wT,toPoints:EU,toPolygons:Dp,toString:TU,toCompactBinary:kU,transform:NU,validate:DU};const IU=e=>Object.assign({},e);var l2=IU;const{EPS:Jb}=St,zU=gt,BU=l2,GU=e=>{if(e.isClosed)return e;const t=BU(e);if(t.isClosed=!0,t.points.length>1){const n=t.points,r=n[0];let o=n[n.length-1];for(;zU.distance(r,o)<Jb*Jb&&(n.pop(),n.length!==1);)o=n[n.length-1]}return t};var xT=GU;const jU=Mt,VU=e=>(e===void 0&&(e=[]),{points:e,isClosed:!1,transforms:jU.create()});var Ip=VU;const{EPS:e3}=St,t3=gt,UU=xT,HU=Ip,WU=(e,t)=>{const n={closed:!1};let{closed:r}=Object.assign({},n,e),o=HU();if(o.points=t.map(s=>t3.clone(s)),o.points.length>1){const s=o.points[0],i=o.points[o.points.length-1];t3.distance(s,i)<e3*e3&&(r=!0)}return r===!0&&(o=UU(o)),o};var c2=WU;const n3=Mt,r3=gt,XU=e=>(n3.isIdentity(e.transforms)||(e.points=e.points.map(t=>r3.transform(r3.create(),t,e.transforms)),e.transforms=n3.create()),e);var YU=XU;const qU=YU,ZU=e=>qU(e).points;var Bl=ZU;const{TAU:fd}=St,gn=gt,QU=c2,KU=Bl,JU=(e,t)=>{const n={radius:[0,0],xaxisrotation:0,clockwise:!1,large:!1,segments:16};let{endpoint:r,radius:o,xaxisrotation:s,clockwise:i,large:a,segments:l}=Object.assign({},n,e);if(!Array.isArray(r))throw new Error("endpoint must be an array of X and Y values");if(r.length<2)throw new Error("endpoint must contain X and Y values");if(r=gn.clone(r),!Array.isArray(o))throw new Error("radius must be an array of X and Y values");if(o.length<2)throw new Error("radius must contain X and Y values");if(l<4)throw new Error("segments must be four or more");const c=1e5;if(t.isClosed)throw new Error("the given path cannot be closed");const u=KU(t);if(u.length<1)throw new Error("the given path must contain one or more points (as the starting point for the arc)");let f=o[0],d=o[1];const h=u[u.length-1];f=Math.round(f*c)/c,d=Math.round(d*c)/c,r=gn.fromValues(Math.round(r[0]*c)/c,Math.round(r[1]*c)/c);const v=!i;let p=[];if(f===0||d===0)p.push(r);else{f=Math.abs(f),d=Math.abs(d);const m=s,w=Math.cos(m),y=Math.sin(m),b=gn.subtract(gn.create(),h,r);gn.scale(b,b,.5);const S=Math.round((w*b[0]+y*b[1])*c)/c,E=Math.round((-y*b[0]+w*b[1])*c)/c,$=gn.fromValues(S,E),A=$[0]*$[0]/(f*f)+$[1]*$[1]/(d*d);if(A>1){const oe=Math.sqrt(A);f*=oe,d*=oe,f=Math.round(f*c)/c,d=Math.round(d*c)/c}let B=Math.sqrt((f*f*d*d-f*f*$[1]*$[1]-d*d*$[0]*$[0])/(f*f*$[1]*$[1]+d*d*$[0]*$[0]));v===a&&(B=-B);const D=gn.fromValues(f*$[1]/d,-d*$[0]/f);gn.scale(D,D,B);let W=gn.fromValues(w*D[0]-y*D[1],y*D[0]+w*D[1]);W=gn.add(W,W,gn.scale(gn.create(),gn.add(gn.create(),h,r),.5));const te=gn.fromValues(($[0]-D[0])/f,($[1]-D[1])/d),pe=gn.fromValues((-$[0]-D[0])/f,(-$[1]-D[1])/d),V=gn.angleRadians(te);let ee=gn.angleRadians(pe)-V;ee=ee%fd,!v&&ee>0?ee-=fd:v&&ee<0&&(ee+=fd);let xe=Math.ceil(Math.abs(ee)/fd*l)+1;xe<1&&(xe=1);for(let oe=1;oe<xe;oe++){const $e=V+oe/xe*ee,Ne=Math.cos($e),qe=Math.sin($e),nt=gn.fromValues(w*f*Ne-y*d*qe,y*f*Ne+w*d*qe);gn.add(nt,nt,W),p.push(nt)}xe&&p.push(e.endpoint)}return p=u.concat(p),QU({},p)};var eH=JU;const tH=c2,nH=Bl,{equals:rH}=gt,oH=(...e)=>{let t=!1,n=[];return e.forEach((r,o)=>{const s=nH(r).slice();if(n.length>0&&s.length>0&&rH(s[0],n[n.length-1])&&s.shift(),s.length>0&&t)throw new Error(`Cannot concatenate to a closed path; check the ${o}th path`);t=r.isClosed,n=n.concat(s)}),tH({closed:t},n)};var bT=oH;const sH=bT,iH=Ip,aH=(e,t)=>sH(t,iH(e));var ST=aH;const{TAU:lH}=St,Er=gt,cH=gt,uH=ST,fH=Bl,dH=(e,t)=>{const n={segments:16};let{controlPoints:r,segments:o}=Object.assign({},n,e);if(!Array.isArray(r))throw new Error("controlPoints must be an array of one or more points");if(r.length<1)throw new Error("controlPoints must be an array of one or more points");if(o<4)throw new Error("segments must be four or more");if(t.isClosed)throw new Error("the given geometry cannot be closed");const s=fH(t);if(s.length<1)throw new Error("the given path must contain one or more points (as the starting point for the bezier curve)");if(r=r.slice(),r[0]===null){if(r.length<2)throw new Error("a null control point must be passed with one more control points");let E=s[s.length-2];if("lastBezierControlPoint"in t&&(E=t.lastBezierControlPoint),!Array.isArray(E))throw new Error("the given path must contain TWO or more points if given a null control point");const $=Er.scale(Er.create(),s[s.length-1],2);Er.subtract($,$,E),r[0]=$}r.unshift(s[s.length-1]);const a=r.length-1,l=[];let c=1;for(let E=0;E<=a;++E)E>0&&(c*=E),l.push(c);const u=[];for(let E=0;E<=a;++E){const $=l[a]/(l[E]*l[a-E]);u.push($)}const f=Er.create(),d=Er.create(),h=cH.create(),v=E=>{let $=1,A=Math.pow(1-E,a);const B=E!==1?1/(1-E):1,D=Er.create();for(let W=0;W<=a;++W){W===a&&(A=1);const te=u[W]*$*A,pe=Er.scale(f,r[W],te);Er.add(D,D,pe),$*=E,A*=B}return D},p=[],g=[],m=a+1;for(let E=0;E<m;++E){const $=E/(m-1),A=v($);p.push(A),g.push($)}let w=1;const y=lH/o,b=Math.sin(y);for(;w<p.length-1;){const E=Er.subtract(f,p[w],p[w-1]);Er.normalize(E,E);const $=Er.subtract(d,p[w+1],p[w]);Er.normalize($,$);const A=Er.cross(h,E,$);if(Math.abs(A[2])>b){const B=g[w-1],D=g[w+1],W=B+(D-B)*1/3,te=B+(D-B)*2/3,pe=v(W),V=v(te);p.splice(w,1,pe,V),g.splice(w,1,W,te),w--,w<1&&(w=1)}else++w}p.shift();const S=uH(p,t);return S.lastBezierControlPoint=r[r.length-2],S};var hH=dH;const pH=gt,o3=Bl,mH=(e,t)=>{if(e.isClosed!==t.isClosed||e.points.length!==t.points.length)return!1;const n=o3(e),r=o3(t),o=n.length;let s=0;do{let i=!1;for(let a=0;a<o;a++)if(!pH.equals(n[a],r[(a+s)%o])){i=!0;break}if(i===!1)return!0;if(!e.isClosed)return!1}while(++s<o);return!1};var vH=mH;const gH=Mt,yH=gt,wH=Ip,xH=e=>{if(e[0]!==2)throw new Error("invalid compact binary data");const t=wH();t.transforms=gH.clone(e.slice(1,17)),t.isClosed=!!e[17];for(let n=22;n<e.length;n+=2){const r=yH.fromValues(e[n],e[n+1]);t.points.push(r)}return e[18]>=0&&(t.color=[e[18],e[19],e[20],e[21]]),t};var bH=xH;const SH=e=>!!(e&&typeof e=="object"&&"points"in e&&"transforms"in e&&"isClosed"in e&&Array.isArray(e.points)&&"length"in e.transforms);var ET=SH;const EH=l2,_H=e=>{const t=EH(e);return t.points=e.points.slice().reverse(),t};var $H=_H;const AH=gt,TH=Bl,CH=e=>{const t=TH(e);let n="path ("+t.length+" points, "+e.isClosed+`):
[
`;return t.forEach(r=>{n+="  "+AH.toString(r)+`,
`}),n+=`]
`,n};var PH=CH;const kH=e=>{const t=e.points,n=e.transforms;let r=[-1,-1,-1,-1];e.color&&(r=e.color);const o=new Float32Array(22+t.length*2);o[0]=2,o[1]=n[0],o[2]=n[1],o[3]=n[2],o[4]=n[3],o[5]=n[4],o[6]=n[5],o[7]=n[6],o[8]=n[7],o[9]=n[8],o[10]=n[9],o[11]=n[10],o[12]=n[11],o[13]=n[12],o[14]=n[13],o[15]=n[14],o[16]=n[15],o[17]=e.isClosed?1:0,o[18]=r[0],o[19]=r[1],o[20]=r[2],o[21]=r[3];for(let s=0;s<t.length;s++){const i=s*2+22,a=t[s];o[i]=a[0],o[i+1]=a[1]}return o};var RH=kH;const s3=Mt,NH=(e,t)=>{const n=s3.multiply(s3.create(),e,t.transforms);return Object.assign({},t,{transforms:n})};var OH=NH;const LH=gt,MH=ET,FH=e=>{if(!MH(e))throw new Error("invalid path2 structure");if(e.points.length>1){for(let t=0;t<e.points.length;t++)if(LH.equals(e.points[t],e.points[(t+1)%e.points.length]))throw new Error(`path2 duplicate points ${e.points[t]}`)}if(e.points.forEach(t=>{if(!t.every(Number.isFinite))throw new Error(`path2 invalid point ${t}`)}),!e.transforms.every(Number.isFinite))throw new Error(`path2 invalid transforms ${e.transforms}`)};var DH=FH,Nt={appendArc:eH,appendBezier:hH,appendPoints:ST,clone:l2,close:xT,concat:bT,create:Ip,equals:vH,fromPoints:c2,fromCompactBinary:bH,isA:ET,reverse:$H,toPoints:Bl,toString:PH,toCompactBinary:RH,transform:OH,validate:DH};const IH=ut,_T=dt,$T=ht,AT=Nt,TT=xt,zH=(e,t)=>{const n=_T.clone(t);return n.color=e,n},BH=(e,t)=>{const n=$T.clone(t);return n.color=e,n},GH=(e,t)=>{const n=AT.clone(t);return n.color=e,n},jH=(e,t)=>{const n=TT.clone(t);return n.color=e,n},VH=(e,...t)=>{if(!Array.isArray(e))throw new Error("color must be an array");if(e.length<3)throw new Error("color must contain R, G and B values");if(e.length===3&&(e=[e[0],e[1],e[2],1]),t=IH(t),t.length===0)throw new Error("wrong number of arguments");const n=t.map(r=>_T.isA(r)?zH(e,r):$T.isA(r)?BH(e,r):AT.isA(r)?GH(e,r):TT.isA(r)?jH(e,r):(r.color=e,r));return n.length===1?n[0]:n};var UH=VH;const HH={black:[0/255,0/255,0/255],silver:[192/255,192/255,192/255],gray:[128/255,128/255,128/255],white:[255/255,255/255,255/255],maroon:[128/255,0/255,0/255],red:[255/255,0/255,0/255],purple:[128/255,0/255,128/255],fuchsia:[255/255,0/255,255/255],green:[0/255,128/255,0/255],lime:[0/255,255/255,0/255],olive:[128/255,128/255,0/255],yellow:[255/255,255/255,0/255],navy:[0/255,0/255,128/255],blue:[0/255,0/255,255/255],teal:[0/255,128/255,128/255],aqua:[0/255,255/255,255/255],aliceblue:[240/255,248/255,255/255],antiquewhite:[250/255,235/255,215/255],aquamarine:[127/255,255/255,212/255],azure:[240/255,255/255,255/255],beige:[245/255,245/255,220/255],bisque:[255/255,228/255,196/255],blanchedalmond:[255/255,235/255,205/255],blueviolet:[138/255,43/255,226/255],brown:[165/255,42/255,42/255],burlywood:[222/255,184/255,135/255],cadetblue:[95/255,158/255,160/255],chartreuse:[127/255,255/255,0/255],chocolate:[210/255,105/255,30/255],coral:[255/255,127/255,80/255],cornflowerblue:[100/255,149/255,237/255],cornsilk:[255/255,248/255,220/255],crimson:[220/255,20/255,60/255],cyan:[0/255,255/255,255/255],darkblue:[0/255,0/255,139/255],darkcyan:[0/255,139/255,139/255],darkgoldenrod:[184/255,134/255,11/255],darkgray:[169/255,169/255,169/255],darkgreen:[0/255,100/255,0/255],darkgrey:[169/255,169/255,169/255],darkkhaki:[189/255,183/255,107/255],darkmagenta:[139/255,0/255,139/255],darkolivegreen:[85/255,107/255,47/255],darkorange:[255/255,140/255,0/255],darkorchid:[153/255,50/255,204/255],darkred:[139/255,0/255,0/255],darksalmon:[233/255,150/255,122/255],darkseagreen:[143/255,188/255,143/255],darkslateblue:[72/255,61/255,139/255],darkslategray:[47/255,79/255,79/255],darkslategrey:[47/255,79/255,79/255],darkturquoise:[0/255,206/255,209/255],darkviolet:[148/255,0/255,211/255],deeppink:[255/255,20/255,147/255],deepskyblue:[0/255,191/255,255/255],dimgray:[105/255,105/255,105/255],dimgrey:[105/255,105/255,105/255],dodgerblue:[30/255,144/255,255/255],firebrick:[178/255,34/255,34/255],floralwhite:[255/255,250/255,240/255],forestgreen:[34/255,139/255,34/255],gainsboro:[220/255,220/255,220/255],ghostwhite:[248/255,248/255,255/255],gold:[255/255,215/255,0/255],goldenrod:[218/255,165/255,32/255],greenyellow:[173/255,255/255,47/255],grey:[128/255,128/255,128/255],honeydew:[240/255,255/255,240/255],hotpink:[255/255,105/255,180/255],indianred:[205/255,92/255,92/255],indigo:[75/255,0/255,130/255],ivory:[255/255,255/255,240/255],khaki:[240/255,230/255,140/255],lavender:[230/255,230/255,250/255],lavenderblush:[255/255,240/255,245/255],lawngreen:[124/255,252/255,0/255],lemonchiffon:[255/255,250/255,205/255],lightblue:[173/255,216/255,230/255],lightcoral:[240/255,128/255,128/255],lightcyan:[224/255,255/255,255/255],lightgoldenrodyellow:[250/255,250/255,210/255],lightgray:[211/255,211/255,211/255],lightgreen:[144/255,238/255,144/255],lightgrey:[211/255,211/255,211/255],lightpink:[255/255,182/255,193/255],lightsalmon:[255/255,160/255,122/255],lightseagreen:[32/255,178/255,170/255],lightskyblue:[135/255,206/255,250/255],lightslategray:[119/255,136/255,153/255],lightslategrey:[119/255,136/255,153/255],lightsteelblue:[176/255,196/255,222/255],lightyellow:[255/255,255/255,224/255],limegreen:[50/255,205/255,50/255],linen:[250/255,240/255,230/255],magenta:[255/255,0/255,255/255],mediumaquamarine:[102/255,205/255,170/255],mediumblue:[0/255,0/255,205/255],mediumorchid:[186/255,85/255,211/255],mediumpurple:[147/255,112/255,219/255],mediumseagreen:[60/255,179/255,113/255],mediumslateblue:[123/255,104/255,238/255],mediumspringgreen:[0/255,250/255,154/255],mediumturquoise:[72/255,209/255,204/255],mediumvioletred:[199/255,21/255,133/255],midnightblue:[25/255,25/255,112/255],mintcream:[245/255,255/255,250/255],mistyrose:[255/255,228/255,225/255],moccasin:[255/255,228/255,181/255],navajowhite:[255/255,222/255,173/255],oldlace:[253/255,245/255,230/255],olivedrab:[107/255,142/255,35/255],orange:[255/255,165/255,0/255],orangered:[255/255,69/255,0/255],orchid:[218/255,112/255,214/255],palegoldenrod:[238/255,232/255,170/255],palegreen:[152/255,251/255,152/255],paleturquoise:[175/255,238/255,238/255],palevioletred:[219/255,112/255,147/255],papayawhip:[255/255,239/255,213/255],peachpuff:[255/255,218/255,185/255],peru:[205/255,133/255,63/255],pink:[255/255,192/255,203/255],plum:[221/255,160/255,221/255],powderblue:[176/255,224/255,230/255],rosybrown:[188/255,143/255,143/255],royalblue:[65/255,105/255,225/255],saddlebrown:[139/255,69/255,19/255],salmon:[250/255,128/255,114/255],sandybrown:[244/255,164/255,96/255],seagreen:[46/255,139/255,87/255],seashell:[255/255,245/255,238/255],sienna:[160/255,82/255,45/255],skyblue:[135/255,206/255,235/255],slateblue:[106/255,90/255,205/255],slategray:[112/255,128/255,144/255],slategrey:[112/255,128/255,144/255],snow:[255/255,250/255,250/255],springgreen:[0/255,255/255,127/255],steelblue:[70/255,130/255,180/255],tan:[210/255,180/255,140/255],thistle:[216/255,191/255,216/255],tomato:[255/255,99/255,71/255],turquoise:[64/255,224/255,208/255],violet:[238/255,130/255,238/255],wheat:[245/255,222/255,179/255],whitesmoke:[245/255,245/255,245/255],yellowgreen:[154/255,205/255,50/255]};var CT=HH;const WH=CT,XH=e=>WH[e.toLowerCase()];var YH=XH;const qH=e=>{if(e=e.replace("#",""),e.length<6)throw new Error("the given notation must contain 3 or more hex values");const t=parseInt(e.substring(0,2),16)/255,n=parseInt(e.substring(2,4),16)/255,r=parseInt(e.substring(4,6),16)/255;if(e.length>=8){const o=parseInt(e.substring(6,8),16)/255;return[t,n,r,o]}return[t,n,r]};var ZH=qH;const QH=(e,t,n)=>(n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e);var PT=QH;const KH=ut,H0=PT,JH=(...e)=>{if(e=KH(e),e.length<3)throw new Error("values must contain H, S and L values");const t=e[0],n=e[1],r=e[2];let o=r,s=r,i=r;if(n!==0){const a=r<.5?r*(1+n):r+n-r*n,l=2*r-a;o=H0(l,a,t+1/3),s=H0(l,a,t),i=H0(l,a,t-1/3)}if(e.length>3){const a=e[3];return[o,s,i,a]}return[o,s,i]};var eW=JH;const tW=ut,nW=(...e)=>{if(e=tW(e),e.length<3)throw new Error("values must contain H, S and V values");const t=e[0],n=e[1],r=e[2];let o=0,s=0,i=0;const a=Math.floor(t*6),l=t*6-a,c=r*(1-n),u=r*(1-l*n),f=r*(1-(1-l)*n);switch(a%6){case 0:o=r,s=f,i=c;break;case 1:o=u,s=r,i=c;break;case 2:o=c,s=r,i=f;break;case 3:o=c,s=u,i=r;break;case 4:o=f,s=c,i=r;break;case 5:o=r,s=c,i=u;break}if(e.length>3){const d=e[3];return[o,s,i,d]}return[o,s,i]};var rW=nW;const oW=ut,sW=(...e)=>{if(e=oW(e),e.length<3)throw new Error("values must contain R, G and B values");const t=e[0]*255,n=e[1]*255,r=e[2]*255;let o=`#${Number(16777216+t*65536+n*256+r).toString(16).substring(1,7)}`;return e.length>3&&(o=o+Number(e[3]*255).toString(16)),o};var iW=sW;const aW=ut,lW=(...e)=>{if(e=aW(e),e.length<3)throw new Error("values must contain R, G and B values");const t=e[0],n=e[1],r=e[2],o=Math.max(t,n,r),s=Math.min(t,n,r);let i,a;const l=(o+s)/2;if(o===s)i=a=0;else{const c=o-s;switch(a=l>.5?c/(2-o-s):c/(o+s),o){case t:i=(n-r)/c+(n<r?6:0);break;case n:i=(r-t)/c+2;break;case r:i=(t-n)/c+4;break}i/=6}if(e.length>3){const c=e[3];return[i,a,l,c]}return[i,a,l]};var cW=lW;const uW=ut,fW=(...e)=>{if(e=uW(e),e.length<3)throw new Error("values must contain R, G and B values");const t=e[0],n=e[1],r=e[2],o=Math.max(t,n,r),s=Math.min(t,n,r);let i;const a=o,l=o-s,c=o===0?0:l/o;if(o===s)i=0;else{switch(o){case t:i=(n-r)/l+(n<r?6:0);break;case n:i=(r-t)/l+2;break;case r:i=(t-n)/l+4;break}i/=6}if(e.length>3){const u=e[3];return[i,c,a,u]}return[i,c,a]};var dW=fW,hW={colorize:UH,colorNameToRgb:YH,cssColors:CT,hexToRgb:ZH,hslToRgb:eW,hsvToRgb:rW,hueToColorComponent:PT,rgbToHex:iW,rgbToHsl:cW,rgbToHsv:dW};const pW=e=>{if(!Array.isArray(e))throw new Error("Bezier points must be a valid array/");if(e.length<2)throw new Error("Bezier points must contain at least 2 values.");const t=mW(e);return{points:e,pointType:t,dimensions:t==="float_single"?0:e[0].length,permutations:i3(e.length-1),tangentPermutations:i3(e.length-2)}},mW=function(e){let t=null;return e.forEach(n=>{let r="";if(Number.isFinite(n))r="float_single";else if(Array.isArray(n))n.forEach(o=>{if(!Number.isFinite(o))throw new Error("Bezier point values must all be numbers.")}),r="float_"+n.length;else throw new Error("Bezier points must all be numbers or arrays of number.");if(t==null)t=r;else if(t!==r)throw new Error("Bezier points must be either all numbers or all arrays of numbers of the same size.")}),t},i3=function(e){const t=[];for(let n=0;n<=e;n++)t.push(W0(e)/(W0(n)*W0(e-n)));return t},W0=function(e){let t=1;for(let n=2;n<=e;n++)t*=n;return t};var vW=pW;const gW=(e,t)=>{if(e<0||e>1)throw new Error("Bezier valueAt() input must be between 0 and 1");if(t.pointType==="float_single")return a3(t,t.points,e);{const n=[];for(let r=0;r<t.dimensions;r++){const o=[];for(let s=0;s<t.points.length;s++)o.push(t.points[s][r]);n.push(a3(t,o,e))}return n}},a3=function(e,t,n){const r=t.length-1;let o=0;for(let s=0;s<=r;s++)o+=e.permutations[s]*Math.pow(1-n,r-s)*Math.pow(n,s)*t[s];return o};var kT=gW;const yW=(e,t)=>{if(e<0||e>1)throw new Error("Bezier tangentAt() input must be between 0 and 1");if(t.pointType==="float_single")return l3(t,t.points,e);{const n=[];for(let r=0;r<t.dimensions;r++){const o=[];for(let s=0;s<t.points.length;s++)o.push(t.points[s][r]);n.push(l3(t,o,e))}return n}},l3=function(e,t,n){const r=t.length-1;let o=0;for(let s=0;s<r;s++){const i=r*(t[s+1]-t[s]);o+=e.tangentPermutations[s]*Math.pow(1-n,r-1-s)*Math.pow(n,s)*i}return o};var wW=yW;const c3=kT,xW=(e,t)=>{let n=0;const r=[0];let o=c3(0,t);for(let s=1;s<=e;s++){const i=c3(s/e,t);n+=bW(i,o),r.push(n),o=i}return r},bW=(e,t)=>{if(Number.isFinite(e)&&Number.isFinite(t))return Math.abs(e-t);if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)throw new Error("The operands must have the same number of dimensions.");let n=0;for(let r=0;r<e.length;r++)n+=(t[r]-e[r])*(t[r]-e[r]);return Math.sqrt(n)}else throw new Error("The operands must be of the same type, either number or array.")};var u2=xW;const SW=u2,EW=(e,t)=>SW(e,t)[e];var _W=EW;const $W=u2,AW=(e,t)=>{const n={distance:0,segments:100},{distance:r,segments:o}=Object.assign({},n,e),s=$W(o,t);let i=0,a=o;for(;i<=a;){const h=Math.floor(i+(a-i)/2),v=s[h]-r;if(v<0)i=h+1;else if(v>0)a=h-1;else{a=h;break}}const l=a;if(s[l]===r)return l/o;const c=s[l],f=s[l+1]-c,d=(r-c)/f;return(l+d)/o};var TW=AW,CW={create:vW,valueAt:kT,tangentAt:wW,lengths:u2,length:_W,arcLengthToT:TW},PW={bezier:CW};const kW=e=>{let t=0;for(let n=0;n<e.length;n++){const r=(n+1)%e.length;t+=e[n][0]*e[r][1],t-=e[r][0]*e[n][1]}return t/2};var zp=kW;const RW=zp,NW=e=>RW(e.vertices);var RT=NW;const OW=e=>((e===void 0||e.length<3)&&(e=[]),{vertices:e});var NT=OW;const LW=NT,MW=e=>{const t=e.vertices.slice().reverse();return LW(t)};var OT=MW;const FW=RT,DW=OT,IW=(e,t)=>{if(e.length===0)return 0;const n=t.vertices;return n.length<3?0:(FW(t)<0&&(t=DW(t)),e.reduce((o,s)=>o+zW(s,n),0)===e.length?1:0)},zW=(e,t)=>{const n=t.length,r=e[0],o=e[1];let s=t[n-1],i=t[0],a=s[1]>o,l=0,c=0;for(let u=n+1;--u;){const f=i[1]>o;if(a!==f){const d=s[0]>r,h=i[0]>r;(d&&h||i[0]-(i[1]-o)*(s[0]-i[0])/(s[1]-i[1])>=r)&&(l=!l)}a=f,s=i,i=t[++c]}return l};var BW=IW,f2={arePointsInside:BW,create:NT,flip:OT,measureArea:RT},d2={geom2:dt,geom3:ht,path2:Nt,poly2:f2,poly3:xt};const GW=()=>[0,1,0];var h2=GW;const jW=h2,VW=e=>{const t=jW();return t[0]=e[0],t[1]=e[1],t[2]=e[2],t};var UW=VW;const X0=gt,HW=e=>{const t=X0.normal(X0.create(),e);return X0.negate(t,t),t};var p2=HW;const u3=gt,WW=e=>u3.scale(u3.create(),e,e[2]);var Bp=WW;const Pc=gt,XW=p2,YW=Bp,qW=(e,t)=>{const n=YW(e),r=XW(e),o=Pc.subtract(Pc.create(),t,n),s=Pc.dot(o,r);return Pc.scale(o,r,s),Pc.add(o,o,n),o};var ZW=qW;const QW=(e,t)=>(e[0]=t[0],e[1]=t[1],e[2]=t[2],e);var LT=QW;const KW=gt,JW=(e,t)=>{let n=KW.dot(t,e);return n=Math.abs(n-e[2]),n};var eX=JW;const tX=(e,t)=>e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2];var nX=tX;const kc=gt,rX=(e,t,n)=>{const r=kc.subtract(kc.create(),n,t);kc.normal(r,r),kc.normalize(r,r);const o=kc.dot(t,r);return e[0]=r[0],e[1]=r[1],e[2]=o,e};var MT=rX;const oX=h2,sX=(e,t,n)=>{const r=oX();return r[0]=e,r[1]=t,r[2]=n,r};var FT=sX;const{NEPS:Y0}=St,iX=(e,t)=>Math.abs(e[0]-t[0])<=Y0&&Math.abs(e[1]-t[1])<=Y0&&Math.abs(e[2]-t[2])<=Y0;var m2=iX;const aX=(e,t,n)=>{let r=n-e[1],o=t[1]-e[1];o<0&&(r=-r,o=-o);let s;return r<=0?s=0:r>=o?s=1:o<1e-10?s=.5:s=r/o,e[0]+s*(t[0]-e[0])};var DT=aX;const lX=(e,t,n,r)=>{if(e[0]===t[0]&&e[1]===t[1]||n[0]===r[0]&&n[1]===r[1])return;const o=(r[1]-n[1])*(t[0]-e[0])-(r[0]-n[0])*(t[1]-e[1]);if(Math.abs(o)<Number.MIN_VALUE)return;const s=((r[0]-n[0])*(e[1]-n[1])-(r[1]-n[1])*(e[0]-n[0]))/o,i=((t[0]-e[0])*(e[1]-n[1])-(t[1]-e[1])*(e[0]-n[0]))/o;if(s<0||s>1||i<0||i>1)return;const a=e[0]+s*(t[0]-e[0]),l=e[1]+s*(t[1]-e[1]);return[a,l]};var IT=lX;const cX=(e,t,n,r,o,s)=>{const a=1/(e*r-t*n);let l=o*r-t*s,c=-o*n+e*s;return l*=a,c*=a,[l,c]};var uX=cX,qu={aboutEqualNormals:m2,area:zp,cos:Bn.cos,interpolateBetween2DPointsForY:DT,intersect:IT,sin:Bn.sin,solve2Linear:uX};const fX=gt,{solve2Linear:dX}=qu,hX=(e,t)=>{const n=dX(e[0],e[1],t[0],t[1],e[2],t[2]);return fX.clone(n)};var pX=hX;const f3=gt,mX=LT,vX=FT,gX=(e,t)=>{const n=f3.negate(f3.create(),t),r=-t[2];return mX(e,vX(n[0],n[1],r))};var yX=gX;const wX=e=>`line2: (${e[0].toFixed(7)}, ${e[1].toFixed(7)}, ${e[2].toFixed(7)})`;var xX=wX;const d3=gt,bX=MT,SX=Bp,EX=p2,_X=(e,t,n)=>{const r=SX(t),o=EX(t);return d3.transform(r,r,n),d3.transform(o,o,n),bX(e,r,o)};var $X=_X;const AX=Bp,TX=(e,t)=>{let n=(e[2]-e[1]*t)/e[0];return Number.isNaN(n)&&(n=AX(e)[0]),n};var CX=TX,v2={clone:UW,closestPoint:ZW,copy:LT,create:h2,direction:p2,distanceToPoint:eX,equals:nX,fromPoints:MT,fromValues:FT,intersectPointOfLines:pX,origin:Bp,reverse:yX,toString:xX,transform:$X,xAtY:CX};const h3=Ke,PX=()=>[h3.fromValues(0,0,0),h3.fromValues(0,0,1)];var zT=PX;const p3=Ke,kX=zT,RX=e=>{const t=kX();return p3.copy(t[0],e[0]),p3.copy(t[1],e[1]),t};var NX=RX;const ki=Ke,OX=(e,t)=>{const n=e[0],r=e[1],o=ki.dot(ki.subtract(ki.create(),t,n),r),s=ki.dot(r,r),i=o/s,a=ki.scale(ki.create(),r,i);return ki.add(a,a,n),a};var BT=OX;const m3=Ke,LX=(e,t)=>(m3.copy(e[0],t[0]),m3.copy(e[1],t[1]),e);var MX=LX;const FX=e=>e[1];var DX=FX;const q0=Ke,IX=BT,zX=(e,t)=>{const n=IX(e,t),r=q0.subtract(q0.create(),t,n);return q0.length(r)};var BX=zX;const v3=Ke,GX=(e,t)=>!(!v3.equals(e[1],t[1])||!v3.equals(e[0],t[0]));var jX=GX;const dd=Ke,VX=(e,t,n)=>{const r=dd.normalize(dd.create(),n);return dd.copy(e[0],t),dd.copy(e[1],r),e};var Zu=VX;const Ri=Ke,{solve2Linear:Z0}=qu,{EPS:UX}=St,HX=Zu,WX=(e,t,n)=>{let r=Ri.cross(Ri.create(),t,n),o=Ri.length(r);if(o<UX)throw new Error("parallel planes do not intersect");o=1/o,r=Ri.scale(r,r,o);const s=Math.abs(r[0]),i=Math.abs(r[1]),a=Math.abs(r[2]);let l,c;return s>=i&&s>=a?(c=Z0(t[1],t[2],n[1],n[2],t[3],n[3]),l=Ri.fromValues(0,c[0],c[1])):i>=s&&i>=a?(c=Z0(t[0],t[2],n[0],n[2],t[3],n[3]),l=Ri.fromValues(c[0],0,c[1])):(c=Z0(t[0],t[1],n[0],n[1],t[3],n[3]),l=Ri.fromValues(c[0],c[1],0)),HX(e,l,r)};var XX=WX;const g3=Ke,YX=Zu,qX=(e,t,n)=>{const r=g3.subtract(g3.create(),n,t);return YX(e,t,r)};var ZX=qX;const Pa=Ke,QX=(e,t)=>{const n=t,r=t[3],o=e[0],s=e[1],i=(r-Pa.dot(n,o))/Pa.dot(n,s);return Pa.add(Pa.create(),o,Pa.scale(Pa.create(),s,i))};var KX=QX;const JX=e=>e[0];var eY=JX;const Q0=Ke,tY=Zu,nY=(e,t)=>{const n=Q0.clone(t[0]),r=Q0.negate(Q0.create(),t[1]);return tY(e,n,r)};var rY=nY;const oY=e=>{const t=e[0],n=e[1];return`line3: point: (${t[0].toFixed(7)}, ${t[1].toFixed(7)}, ${t[2].toFixed(7)}) direction: (${n[0].toFixed(7)}, ${n[1].toFixed(7)}, ${n[2].toFixed(7)})`};var sY=oY;const ka=Ke,iY=Zu,aY=(e,t,n)=>{const r=t[0],o=t[1],s=ka.add(ka.create(),r,o),i=ka.transform(ka.create(),r,n),a=ka.transform(s,s,n),l=ka.subtract(a,a,i);return iY(e,i,l)};var lY=aY,cY={clone:NX,closestPoint:BT,copy:MX,create:zT,direction:DX,distanceToPoint:BX,equals:jX,fromPlanes:XX,fromPointAndDirection:Zu,fromPoints:ZX,intersectPointOfLineAndPlane:KX,origin:eY,reverse:rY,toString:sY,transform:lY},uY={constants:St,line2:v2,line3:cY,mat4:Mt,plane:jo,utils:qu,vec2:gt,vec3:Ke,vec4:yT};const fY=ut,GT=dt,jT=ht,dY=Nt,hY=xt,Fh=new WeakMap,pY=()=>0,mY=e=>{let t=Fh.get(e);return t||(t=GT.toSides(e).reduce((r,o)=>r+(o[0][0]*o[1][1]-o[0][1]*o[1][0]),0),t*=.5,Fh.set(e,t),t)},vY=e=>{let t=Fh.get(e);return t||(t=jT.toPolygons(e).reduce((r,o)=>r+hY.measureArea(o),0),Fh.set(e,t),t)},gY=(...e)=>{if(e=fY(e),e.length===0)throw new Error("wrong number of arguments");const t=e.map(n=>dY.isA(n)?pY():GT.isA(n)?mY(n):jT.isA(n)?vY(n):0);return t.length===1?t[0]:t};var VT=gY;const yY=ut,wY=VT,xY=(...e)=>{if(e=yY(e),e.length===0)throw new Error("measureAggregateArea: no geometries supplied");const t=wY(e);return e.length===1?t:t.reduce((r,o)=>r+o,0)};var bY=xY;const SY=ut,Fo=gt,Rc=Ke,UT=dt,HT=ht,WT=Nt,y3=xt,Sl=new WeakMap,EY=e=>{let t=Sl.get(e);if(t)return t;const n=WT.toPoints(e);let r;n.length===0?r=Fo.create():r=Fo.clone(n[0]);let o=Fo.clone(r);return n.forEach(s=>{Fo.min(r,r,s),Fo.max(o,o,s)}),r=[r[0],r[1],0],o=[o[0],o[1],0],t=[r,o],Sl.set(e,t),t},_Y=e=>{let t=Sl.get(e);if(t)return t;const n=UT.toPoints(e);let r;n.length===0?r=Fo.create():r=Fo.clone(n[0]);let o=Fo.clone(r);return n.forEach(s=>{Fo.min(r,r,s),Fo.max(o,o,s)}),r=[r[0],r[1],0],o=[o[0],o[1],0],t=[r,o],Sl.set(e,t),t},$Y=e=>{let t=Sl.get(e);if(t)return t;const n=HT.toPolygons(e);let r=Rc.create();if(n.length>0){const s=y3.toPoints(n[0]);Rc.copy(r,s[0])}let o=Rc.clone(r);return n.forEach(s=>{y3.toPoints(s).forEach(i=>{Rc.min(r,r,i),Rc.max(o,o,i)})}),r=[r[0],r[1],r[2]],o=[o[0],o[1],o[2]],t=[r,o],Sl.set(e,t),t},AY=(...e)=>{if(e=SY(e),e.length===0)throw new Error("wrong number of arguments");const t=e.map(n=>WT.isA(n)?EY(n):UT.isA(n)?_Y(n):HT.isA(n)?$Y(n):[[0,0,0],[0,0,0]]);return t.length===1?t[0]:t};var oa=AY;const TY=ut,CY=Y4,PY=X4,kY=oa,RY=(...e)=>{if(e=TY(e),e.length===0)throw new Error("measureAggregateBoundingBox: no geometries supplied");const t=kY(e);if(e.length===1)return t;const n=[[Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE],[-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE]];return t.reduce((r,o)=>(r=[CY(r[0],r[0],o[0]),PY(r[1],r[1],o[1])],r),n)};var g2=RY;const{EPS:NY}=St,OY=(e,t)=>{let n=0;for(let r=0;r<t;r++)n+=e[1][r]-e[0][r];return NY*n/t};var XT=OY;const LY=ut,MY=g2,FY=XT,{geom2:DY,geom3:IY,path2:zY}=d2,BY=(...e)=>{if(e=LY(e),e.length===0)throw new Error("measureAggregateEpsilon: no geometries supplied");const t=MY(e);let n=0;return n=e.reduce((r,o)=>zY.isA(o)||DY.isA(o)?Math.max(r,2):IY.isA(o)?Math.max(r,3):0,n),FY(t,n)};var GY=BY;const jY=ut,VY=dt,YT=ht,UY=Nt,HY=xt,w3=new WeakMap,WY=()=>0,XY=()=>0,YY=e=>{let t=w3.get(e);return t||(t=YT.toPolygons(e).reduce((r,o)=>r+HY.measureSignedVolume(o),0),w3.set(e,t),t)},qY=(...e)=>{if(e=jY(e),e.length===0)throw new Error("wrong number of arguments");const t=e.map(n=>UY.isA(n)?WY():VY.isA(n)?XY():YT.isA(n)?YY(n):0);return t.length===1?t[0]:t};var qT=qY;const ZY=ut,QY=qT,KY=(...e)=>{if(e=ZY(e),e.length===0)throw new Error("measureAggregateVolume: no geometries supplied");const t=QY(e);return e.length===1?t:t.reduce((r,o)=>r+o,0)};var JY=KY;const eq=ut,ZT=gt,cr=Ke,QT=dt,KT=ht,JT=Nt,x3=xt,El=new WeakMap,tq=e=>{let t=El.get(e);if(t!==void 0)return t;const n=cr.create();let r=0;const o=JT.toPoints(e);if(o.length>0){let s=0;const i=cr.create();o.forEach(a=>{cr.add(n,n,cr.fromVec2(i,a,0)),s++}),cr.scale(n,n,1/s),o.forEach(a=>{r=Math.max(r,ZT.squaredDistance(n,a))}),r=Math.sqrt(r)}return t=[n,r],El.set(e,t),t},nq=e=>{let t=El.get(e);if(t!==void 0)return t;const n=cr.create();let r=0;const o=QT.toSides(e);if(o.length>0){let s=0;const i=cr.create();o.forEach(a=>{cr.add(n,n,cr.fromVec2(i,a[0],0)),s++}),cr.scale(n,n,1/s),o.forEach(a=>{r=Math.max(r,ZT.squaredDistance(n,a[0]))}),r=Math.sqrt(r)}return t=[n,r],El.set(e,t),t},rq=e=>{let t=El.get(e);if(t!==void 0)return t;const n=cr.create();let r=0;const o=KT.toPolygons(e);if(o.length>0){let s=0;o.forEach(i=>{x3.toPoints(i).forEach(a=>{cr.add(n,n,a),s++})}),cr.scale(n,n,1/s),o.forEach(i=>{x3.toPoints(i).forEach(a=>{r=Math.max(r,cr.squaredDistance(n,a))})}),r=Math.sqrt(r)}return t=[n,r],El.set(e,t),t},oq=(...e)=>{e=eq(e);const t=e.map(n=>JT.isA(n)?tq(n):QT.isA(n)?nq(n):KT.isA(n)?rq(n):[[0,0,0],0]);return t.length===1?t[0]:t};var sq=oq;const iq=ut,aq=oa,lq=(...e)=>{e=iq(e);const t=e.map(n=>{const r=aq(n);return[r[0][0]+(r[1][0]-r[0][0])/2,r[0][1]+(r[1][1]-r[0][1])/2,r[0][2]+(r[1][2]-r[0][2])/2]});return t.length===1?t[0]:t};var cq=lq;const uq=ut,Ro=Ke,eC=dt,tC=ht,Dh=new WeakMap,fq=e=>{let t=Dh.get(e);if(t!==void 0)return t;const n=eC.toSides(e);let r=0,o=0,s=0;if(n.length>0){for(let a=0;a<n.length;a++){const l=n[a][0],c=n[a][1],u=l[0]*c[1]-l[1]*c[0];r+=u,o+=(l[0]+c[0])*u,s+=(l[1]+c[1])*u}r/=2;const i=1/(r*6);o*=i,s*=i}return t=Ro.fromValues(o,s,0),Dh.set(e,t),t},dq=e=>{let t=Dh.get(e);if(t!==void 0)return t;t=Ro.create();const n=tC.toPolygons(e);if(n.length===0)return t;let r=0;const o=Ro.create();return n.forEach(s=>{const i=s.vertices;for(let a=0;a<i.length-2;a++){Ro.cross(o,i[a+1],i[a+2]);const l=Ro.dot(i[0],o)/6;r+=l,Ro.add(o,i[0],i[a+1]),Ro.add(o,o,i[a+2]);const c=Ro.scale(o,o,1/4*l);Ro.add(t,t,c)}}),Ro.scale(t,t,1/r),Dh.set(e,t),t},hq=(...e)=>{e=uq(e);const t=e.map(n=>eC.isA(n)?fq(n):tC.isA(n)?dq(n):[0,0,0]);return t.length===1?t[0]:t};var pq=hq;const mq=ut,vq=oa,gq=(...e)=>{e=mq(e);const t=e.map(n=>{const r=vq(n);return[r[1][0]-r[0][0],r[1][1]-r[0][1],r[1][2]-r[0][2]]});return t.length===1?t[0]:t};var yq=gq;const wq=ut,{geom2:xq,geom3:bq,path2:Sq}=d2,y2=XT,w2=oa,Eq=e=>y2(w2(e),2),_q=e=>y2(w2(e),2),$q=e=>y2(w2(e),3),Aq=(...e)=>{if(e=wq(e),e.length===0)throw new Error("wrong number of arguments");const t=e.map(n=>Sq.isA(n)?Eq(n):xq.isA(n)?_q(n):bq.isA(n)?$q(n):0);return t.length===1?t[0]:t};var di=Aq,Tq={measureAggregateArea:bY,measureAggregateBoundingBox:g2,measureAggregateEpsilon:GY,measureAggregateVolume:JY,measureArea:VT,measureBoundingBox:oa,measureBoundingSphere:sq,measureCenter:cq,measureCenterOfMass:pq,measureDimensions:yq,measureEpsilon:di,measureVolume:qT};const Cq=(e,t)=>Array.isArray(e)&&e.length>=t?e.every(n=>Number.isFinite(n)):!1,Pq=(e,t)=>Number.isFinite(e)&&e>t,kq=(e,t)=>Number.isFinite(e)&&e>=t;var _n={isNumberArray:Cq,isGT:Pq,isGTE:kq};const{EPS:b3,TAU:Ra}=St,Qo=gt,Rq=Nt,{isGT:Nq,isGTE:K0,isNumberArray:Oq}=_n,Lq=e=>{const t={center:[0,0],radius:1,startAngle:0,endAngle:Ra,makeTangent:!1,segments:32};let{center:n,radius:r,startAngle:o,endAngle:s,makeTangent:i,segments:a}=Object.assign({},t,e);if(!Oq(n,2))throw new Error("center must be an array of X and Y values");if(!Nq(r,0))throw new Error("radius must be greater than zero");if(!K0(o,0))throw new Error("startAngle must be positive");if(!K0(s,0))throw new Error("endAngle must be positive");if(!K0(a,4))throw new Error("segments must be four or more");o=o%Ra,s=s%Ra;let l=Ra;o<s&&(l=s-o),o>s&&(l=s+(Ra-o));const c=Math.acos((r*r+r*r-b3*b3)/(2*r*r)),u=Qo.clone(n);let f;const d=[];if(l<c)f=Qo.fromAngleRadians(Qo.create(),o),Qo.scale(f,f,r),Qo.add(f,f,u),d.push(f);else{const h=Math.max(1,Math.floor(a*(l/Ra)))+1;let v=h*.5/l;v>.25&&(v=.25);const p=i?h+2:h;for(let g=0;g<=p;g++){let m=g;i&&(m=(g-1)*(h-2*v)/h+v,m<0&&(m=0),m>h&&(m=h));const w=o+m*(l/h);f=Qo.fromAngleRadians(Qo.create(),w),Qo.scale(f,f,r),Qo.add(f,f,u),d.push(f)}}return Rq.fromPoints({closed:!1},d)};var Mq=Lq;const{EPS:S3,TAU:Cs}=St,J0=gt,E3=dt,{sin:Fq,cos:Dq}=Bn,{isGTE:em,isNumberArray:_3}=_n,Iq=e=>{const t={center:[0,0],radius:[1,1],startAngle:0,endAngle:Cs,segments:32};let{center:n,radius:r,startAngle:o,endAngle:s,segments:i}=Object.assign({},t,e);if(!_3(n,2))throw new Error("center must be an array of X and Y values");if(!_3(r,2))throw new Error("radius must be an array of X and Y values");if(!r.every(h=>h>=0))throw new Error("radius values must be positive");if(!em(o,0))throw new Error("startAngle must be positive");if(!em(s,0))throw new Error("endAngle must be positive");if(!em(i,3))throw new Error("segments must be three or more");if(r[0]===0||r[1]===0)return E3.create();o=o%Cs,s=s%Cs;let a=Cs;o<s&&(a=s-o),o>s&&(a=s+(Cs-o));const l=Math.min(r[0],r[1]),c=Math.acos((l*l+l*l-S3*S3)/(2*l*l));if(a<c)throw new Error("startAngle and endAngle do not define a significant rotation");i=Math.floor(i*(a/Cs));const u=J0.clone(n),f=a/i,d=[];i=a<Cs?i+1:i;for(let h=0;h<i;h++){const v=f*h+o,p=J0.fromValues(r[0]*Dq(v),r[1]*Fq(v));J0.add(p,u,p),d.push(p)}return a<Cs&&d.push(u),E3.fromPoints(d)};var nC=Iq;const{TAU:zq}=St,Bq=nC,{isGTE:Gq}=_n,jq=e=>{const t={center:[0,0],radius:1,startAngle:0,endAngle:zq,segments:32};let{center:n,radius:r,startAngle:o,endAngle:s,segments:i}=Object.assign({},t,e);if(!Gq(r,0))throw new Error("radius must be positive");return r=[r,r],Bq({center:n,radius:r,startAngle:o,endAngle:s,segments:i})};var rC=jq;const $3=ht,Vq=xt,{isNumberArray:A3}=_n,Uq=e=>{const t={center:[0,0,0],size:[2,2,2]},{center:n,size:r}=Object.assign({},t,e);if(!A3(n,3))throw new Error("center must be an array of X, Y and Z values");if(!A3(r,3))throw new Error("size must be an array of width, depth and height values");if(!r.every(s=>s>=0))throw new Error("size values must be positive");return r[0]===0||r[1]===0||r[2]===0?$3.create():$3.create([[[0,4,6,2],[-1,0,0]],[[1,3,7,5],[1,0,0]],[[0,1,5,4],[0,-1,0]],[[2,6,7,3],[0,1,0]],[[0,2,3,1],[0,0,-1]],[[4,5,7,6],[0,0,1]]].map(s=>{const i=s[0].map(a=>[n[0]+r[0]/2*(2*!!(a&1)-1),n[1]+r[1]/2*(2*!!(a&2)-1),n[2]+r[2]/2*(2*!!(a&4)-1)]);return Vq.create(i)}))};var x2=Uq;const Hq=x2,{isGTE:Wq}=_n,Xq=e=>{const t={center:[0,0,0],size:2};let{center:n,size:r}=Object.assign({},t,e);if(!Wq(r,0))throw new Error("size must be positive");return r=[r,r,r],Hq({center:n,size:r})};var Yq=Xq;const{EPS:T3,TAU:Ps}=St,Pn=Ke,qq=ht,Zq=xt,{sin:Qq,cos:Kq}=Bn,{isGT:Jq,isGTE:tm,isNumberArray:nm}=_n,eZ=e=>{const t={center:[0,0,0],height:2,startRadius:[1,1],startAngle:0,endRadius:[1,1],endAngle:Ps,segments:32};let{center:n,height:r,startRadius:o,startAngle:s,endRadius:i,endAngle:a,segments:l}=Object.assign({},t,e);if(!nm(n,3))throw new Error("center must be an array of X, Y and Z values");if(!Jq(r,0))throw new Error("height must be greater then zero");if(!nm(o,2))throw new Error("startRadius must be an array of X and Y values");if(!o.every(B=>B>=0))throw new Error("startRadius values must be positive");if(!nm(i,2))throw new Error("endRadius must be an array of X and Y values");if(!i.every(B=>B>=0))throw new Error("endRadius values must be positive");if(i.every(B=>B===0)&&o.every(B=>B===0))throw new Error("at least one radius must be positive");if(!tm(s,0))throw new Error("startAngle must be positive");if(!tm(a,0))throw new Error("endAngle must be positive");if(!tm(l,4))throw new Error("segments must be four or more");s=s%Ps,a=a%Ps;let c=Ps;s<a&&(c=a-s),s>a&&(c=a+(Ps-s));const u=Math.min(o[0],o[1],i[0],i[1]),f=Math.acos((u*u+u*u-T3*T3)/(2*u*u));if(c<f)throw new Error("startAngle and endAngle do not define a significant rotation");const d=Math.floor(l*(c/Ps)),h=Pn.fromValues(0,0,-(r/2)),v=Pn.fromValues(0,0,r/2),p=Pn.subtract(Pn.create(),v,h),g=Pn.fromValues(1,0,0),m=Pn.fromValues(0,1,0),w=Pn.create(),y=Pn.create(),b=Pn.create(),S=(B,D,W)=>{const te=D*c+s;return Pn.scale(w,g,W[0]*Kq(te)),Pn.scale(y,m,W[1]*Qq(te)),Pn.add(w,w,y),Pn.scale(b,p,B),Pn.add(b,b,h),Pn.add(Pn.create(),w,b)},E=(...B)=>{const D=B.map(W=>Pn.add(Pn.create(),W,n));return Zq.create(D)},$=[];for(let B=0;B<d;B++){const D=B/d;let W=(B+1)/d;c===Ps&&B===d-1&&(W=0),i[0]===o[0]&&i[1]===o[1]?($.push(E(h,S(0,W,i),S(0,D,i))),$.push(E(S(0,W,i),S(1,W,i),S(1,D,i),S(0,D,i))),$.push(E(v,S(1,D,i),S(1,W,i)))):(o[0]>0&&o[1]>0&&$.push(E(h,S(0,W,o),S(0,D,o))),(o[0]>0||o[1]>0)&&$.push(E(S(0,D,o),S(0,W,o),S(1,D,i))),i[0]>0&&i[1]>0&&$.push(E(v,S(1,D,i),S(1,W,i))),(i[0]>0||i[1]>0)&&$.push(E(S(1,D,i),S(0,W,o),S(1,W,i))))}return c<Ps&&($.push(E(h,S(0,0,o),v)),$.push(E(S(0,0,o),S(1,0,i),v)),$.push(E(h,v,S(0,1,o))),$.push(E(S(0,1,o),v,S(1,1,i)))),qq.create($)};var oC=eZ;const tZ=ht,nZ=oC,{isGTE:rZ}=_n,oZ=e=>{const t={center:[0,0,0],height:2,radius:1,segments:32},{center:n,height:r,radius:o,segments:s}=Object.assign({},t,e);if(!rZ(o,0))throw new Error("radius must be positive");return r===0||o===0?tZ.create():nZ({center:n,height:r,startRadius:[o,o],endRadius:[o,o],segments:s})};var sC=oZ;const{TAU:C3}=St,et=Ke,P3=ht,k3=xt,{sin:R3,cos:N3}=Bn,{isGTE:sZ,isNumberArray:O3}=_n,iZ=e=>{const t={center:[0,0,0],radius:[1,1,1],segments:32,axes:[[1,0,0],[0,-1,0],[0,0,1]]},{center:n,radius:r,segments:o,axes:s}=Object.assign({},t,e);if(!O3(n,3))throw new Error("center must be an array of X, Y and Z values");if(!O3(r,3))throw new Error("radius must be an array of X, Y and Z values");if(!r.every(v=>v>=0))throw new Error("radius values must be positive");if(!sZ(o,4))throw new Error("segments must be four or more");if(r[0]===0||r[1]===0||r[2]===0)return P3.create();const i=et.scale(et.create(),et.normalize(et.create(),s[0]),r[0]),a=et.scale(et.create(),et.normalize(et.create(),s[1]),r[1]),l=et.scale(et.create(),et.normalize(et.create(),s[2]),r[2]),c=Math.round(o/4);let u;const f=[],d=et.create(),h=et.create();for(let v=0;v<=o;v++){const p=C3*v/o,g=et.add(et.create(),et.scale(d,i,N3(p)),et.scale(h,a,R3(p)));if(v>0){let m,w;for(let y=0;y<=c;y++){const b=C3/4*y/c,S=N3(b),E=R3(b);if(y>0){let $=[],A;A=et.subtract(et.create(),et.scale(d,u,m),et.scale(h,l,w)),$.push(et.add(A,A,n)),A=et.subtract(et.create(),et.scale(d,g,m),et.scale(h,l,w)),$.push(et.add(A,A,n)),y<c&&(A=et.subtract(et.create(),et.scale(d,g,S),et.scale(h,l,E)),$.push(et.add(A,A,n))),A=et.subtract(et.create(),et.scale(d,u,S),et.scale(h,l,E)),$.push(et.add(A,A,n)),f.push(k3.create($)),$=[],A=et.add(et.create(),et.scale(d,u,m),et.scale(h,l,w)),$.push(et.add(et.create(),n,A)),A=et.add(A,et.scale(d,g,m),et.scale(h,l,w)),$.push(et.add(et.create(),n,A)),y<c&&(A=et.add(A,et.scale(d,g,S),et.scale(h,l,E)),$.push(et.add(et.create(),n,A))),A=et.add(A,et.scale(d,u,S),et.scale(h,l,E)),$.push(et.add(et.create(),n,A)),$.reverse(),f.push(k3.create($))}m=S,w=E}}u=g}return P3.create(f)};var iC=iZ;const aZ=ht,lZ=xt,{isNumberArray:L3}=_n,cZ=e=>{const t={points:[],faces:[],colors:void 0,orientation:"outward"},{points:n,faces:r,colors:o,orientation:s}=Object.assign({},t,e);if(!(Array.isArray(n)&&Array.isArray(r)))throw new Error("points and faces must be arrays");if(n.length<3)throw new Error("three or more points are required");if(r.length<1)throw new Error("one or more faces are required");if(o){if(!Array.isArray(o))throw new Error("colors must be an array");if(o.length!==r.length)throw new Error("faces and colors must have the same length")}n.forEach((a,l)=>{if(!L3(a,3))throw new Error(`point ${l} must be an array of X, Y, Z values`)}),r.forEach((a,l)=>{if(a.length<3)throw new Error(`face ${l} must contain 3 or more indexes`);if(!L3(a,a.length))throw new Error(`face ${l} must be an array of numbers`)}),s!=="outward"&&r.forEach(a=>a.reverse());const i=r.map((a,l)=>{const c=lZ.create(a.map(u=>n[u]));return o&&o[l]&&(c.color=o[l]),c});return aZ.create(i)};var aC=cZ;const M3=Mt,F3=Ke,D3=ht,uZ=aC,{isGTE:I3}=_n,fZ=e=>{const t={radius:1,frequency:6};let{radius:n,frequency:r}=Object.assign({},t,e);if(!I3(n,0))throw new Error("radius must be positive");if(!I3(r,6))throw new Error("frequency must be six or more");if(n===0)return D3.create();r=Math.floor(r/6);const o=[[.850651,0,-.525731],[.850651,-0,.525731],[-.850651,-0,.525731],[-.850651,0,-.525731],[0,-.525731,.850651],[0,.525731,.850651],[0,.525731,-.850651],[0,-.525731,-.850651],[-.525731,-.850651,-0],[.525731,-.850651,-0],[.525731,.850651,0],[-.525731,.850651,0]],s=[[0,9,1],[1,10,0],[6,7,0],[10,6,0],[7,9,0],[5,1,4],[4,1,9],[5,10,1],[2,8,3],[3,11,2],[2,5,4],[4,8,2],[2,11,5],[3,7,6],[6,11,3],[8,7,3],[9,8,4],[11,10,5],[10,11,6],[8,9,7]],i=(d,h,v)=>{const p=d[0],g=d[1],m=d[2];let w=v;const y=[],b=[];for(let S=0;S<h;S++)for(let E=0;E<h-S;E++){const $=S/h,A=(S+1)/h,B=E/(h-S),D=(E+1)/(h-S),W=h-S-1?E/(h-S-1):1,te=[];te[0]=a(a(p,g,B),m,$),te[1]=a(a(p,g,D),m,$),te[2]=a(a(p,g,W),m,A);for(let pe=0;pe<3;pe++){const V=F3.length(te[pe]);for(let me=0;me<3;me++)te[pe][me]/=V}if(y.push(te[0],te[1],te[2]),b.push([w,w+1,w+2]),w+=3,E<h-S-1){const pe=h-S-1?(E+1)/(h-S-1):1;te[0]=a(a(p,g,D),m,$),te[1]=a(a(p,g,pe),m,A),te[2]=a(a(p,g,W),m,A);for(let V=0;V<3;V++){const me=F3.length(te[V]);for(let ee=0;ee<3;ee++)te[V][ee]/=me}y.push(te[0],te[1],te[2]),b.push([w,w+1,w+2]),w+=3}}return{points:y,triangles:b,offset:w}},a=(d,h,v)=>{const p=1-v,g=[];for(let m=0;m<3;m++)g[m]=d[m]*p+h[m]*v;return g};let l=[],c=[],u=0;for(let d=0;d<s.length;d++){const h=i([o[s[d][0]],o[s[d][1]],o[s[d][2]]],r,u);l=l.concat(h.points),c=c.concat(h.triangles),u=h.offset}let f=uZ({points:l,faces:c,orientation:"inward"});return n!==1&&(f=D3.transform(M3.fromScaling(M3.create(),[n,n,n]),f)),f};var dZ=fZ;const hZ=Nt,pZ=e=>{if(!Array.isArray(e))throw new Error("points must be an array");return hZ.fromPoints({},e)};var mZ=pZ;const hd=dt,vZ=e=>{const t={points:[],paths:[],orientation:"counterclockwise"},{points:n,paths:r,orientation:o}=Object.assign({},t,e);if(!(Array.isArray(n)&&Array.isArray(r)))throw new Error("points and paths must be arrays");let s=n;Array.isArray(n[0])&&(Array.isArray(n[0][0])||(s=[n])),s.forEach((u,f)=>{if(!Array.isArray(u))throw new Error("list of points "+f+" must be an array");if(u.length<3)throw new Error("list of points "+f+" must contain three or more points");u.forEach((d,h)=>{if(!Array.isArray(d))throw new Error("list of points "+f+", point "+h+" must be an array");if(d.length<2)throw new Error("list of points "+f+", point "+h+" must contain by X and Y values")})});let i=r;if(r.length===0){let u=0;i=s.map(f=>f.map(d=>u++))}const a=[];s.forEach(u=>u.forEach(f=>a.push(f)));let l=[];i.forEach(u=>{const f=u.map(h=>a[h]),d=hd.fromPoints(f);l=l.concat(hd.toSides(d))});let c=hd.create(l);return o=="clockwise"&&(c=hd.reverse(c)),c};var gZ=vZ;const ks=gt,z3=dt,{isNumberArray:B3}=_n,yZ=e=>{const t={center:[0,0],size:[2,2]},{center:n,size:r}=Object.assign({},t,e);if(!B3(n,2))throw new Error("center must be an array of X and Y values");if(!B3(r,2))throw new Error("size must be an array of X and Y values");if(!r.every(a=>a>=0))throw new Error("size values must be positive");if(r[0]===0||r[1]===0)return z3.create();const o=[r[0]/2,r[1]/2],s=[o[0],-o[1]],i=[ks.subtract(ks.create(),n,o),ks.add(ks.create(),n,s),ks.add(ks.create(),n,o),ks.subtract(ks.create(),n,s)];return z3.fromPoints(i)};var b2=yZ;const{EPS:Kd,TAU:Nc}=St,rm=gt,fn=Ke,G3=ht,_l=xt,{sin:wZ,cos:xZ}=Bn,{isGTE:j3,isNumberArray:V3}=_n,bZ=x2,U3=(e,t,n,r,o,s)=>{const i=Nc/4*o/r,a=xZ(i),l=wZ(i),c=r-o;let u=n*a,f=t[2]-(n-n*l);s||(f=n-n*l-t[2]),u=u>Kd?u:0;const d=fn.add(fn.create(),e,[t[0]-n,t[1]-n,f]),h=fn.add(fn.create(),e,[n-t[0],t[1]-n,f]),v=fn.add(fn.create(),e,[n-t[0],n-t[1],f]),p=fn.add(fn.create(),e,[t[0]-n,n-t[1],f]),g=[],m=[],w=[],y=[];for(let b=0;b<=c;b++){const S=c>0?Nc/4*b/c:0,E=rm.fromAngleRadians(rm.create(),S);rm.scale(E,E,u);const $=fn.fromVec2(fn.create(),E);g.push(fn.add(fn.create(),d,$)),fn.rotateZ($,$,[0,0,0],Nc/4),m.push(fn.add(fn.create(),h,$)),fn.rotateZ($,$,[0,0,0],Nc/4),w.push(fn.add(fn.create(),v,$)),fn.rotateZ($,$,[0,0,0],Nc/4),y.push(fn.add(fn.create(),p,$))}return s?[g,m,w,y]:(g.reverse(),m.reverse(),w.reverse(),y.reverse(),[y,w,m,g])},H3=(e,t)=>{const n=[];for(let r=0;r<e.length;r++){const o=e[r],s=t[r];for(let i=0;i<o.length-1;i++)n.push(_l.create([o[i],o[i+1],s[i]])),i<s.length-1&&n.push(_l.create([s[i],o[i+1],s[i+1]]))}return n},W3=(e,t)=>{const n=[];for(let r=0;r<e.length;r++){let o=e[r],s=t[r];const i=o[o.length-1],a=s[s.length-1],l=(r+1)%e.length;o=e[l],s=t[l];const c=o[0],u=s[0];n.push(_l.create([i,c,u,a]))}return n},SZ=(e,t)=>{e=[e[3],e[2],e[1],e[0]],e=e.map(s=>s.slice().reverse());const n=[];e.forEach(s=>{s.forEach(i=>n.push(i))});const r=[];t.forEach(s=>{s.forEach(i=>r.push(i))});const o=[];for(let s=0;s<r.length;s++){const i=(s+1)%r.length;o.push(_l.create([n[s],n[i],r[i],r[s]]))}return o},EZ=e=>{const t={center:[0,0,0],size:[2,2,2],roundRadius:.2,segments:32};let{center:n,size:r,roundRadius:o,segments:s}=Object.assign({},t,e);if(!V3(n,3))throw new Error("center must be an array of X, Y and Z values");if(!V3(r,3))throw new Error("size must be an array of X, Y and Z values");if(!r.every(c=>c>=0))throw new Error("size values must be positive");if(!j3(o,0))throw new Error("roundRadius must be positive");if(!j3(s,4))throw new Error("segments must be four or more");if(r[0]===0||r[1]===0||r[2]===0)return G3.create();if(o===0)return bZ({center:n,size:r});if(r=r.map(c=>c/2),o>r[0]-Kd||o>r[1]-Kd||o>r[2]-Kd)throw new Error("roundRadius must be smaller than the radius of all dimensions");s=Math.floor(s/4);let i=null,a=null,l=[];for(let c=0;c<=s;c++){const u=U3(n,r,o,s,c,!0),f=U3(n,r,o,s,c,!1);if(c===0&&(l=l.concat(SZ(f,u))),i&&(l=l.concat(H3(i,u),W3(i,u))),a&&(l=l.concat(H3(a,f),W3(a,f))),c===s){let d=u.map(h=>h[0]);l.push(_l.create(d)),d=f.map(h=>h[0]),l.push(_l.create(d))}i=u,a=f}return G3.create(l)};var _Z=EZ;const{EPS:$Z,TAU:X3}=St,Ve=Ke,Y3=ht,AZ=xt,{sin:q3,cos:Z3}=Bn,{isGTE:pd,isNumberArray:TZ}=_n,CZ=sC,PZ=e=>{const t={center:[0,0,0],height:2,radius:1,roundRadius:.2,segments:32},{center:n,height:r,radius:o,roundRadius:s,segments:i}=Object.assign({},t,e);if(!TZ(n,3))throw new Error("center must be an array of X, Y and Z values");if(!pd(r,0))throw new Error("height must be positive");if(!pd(o,0))throw new Error("radius must be positive");if(!pd(s,0))throw new Error("roundRadius must be positive");if(s>o)throw new Error("roundRadius must be smaller than the radius");if(!pd(i,4))throw new Error("segments must be four or more");if(r===0||o===0)return Y3.create();if(s===0)return CZ({center:n,height:r,radius:o});const a=[0,0,-(r/2)],l=[0,0,r/2],c=Ve.subtract(Ve.create(),l,a),u=Ve.length(c);if(2*s>u-$Z)throw new Error("height must be larger than twice roundRadius");let f;Math.abs(c[0])>Math.abs(c[1])?f=Ve.fromValues(0,1,0):f=Ve.fromValues(1,0,0);const d=Ve.scale(Ve.create(),Ve.normalize(Ve.create(),c),s),h=Ve.scale(Ve.create(),Ve.normalize(Ve.create(),Ve.cross(Ve.create(),d,f)),o),v=Ve.scale(Ve.create(),Ve.normalize(Ve.create(),Ve.cross(Ve.create(),h,d)),o);Ve.add(a,a,d),Ve.subtract(l,l,d);const p=Math.floor(.25*i),g=E=>{const $=E.map(A=>Ve.add(A,A,n));return AZ.create($)},m=[],w=Ve.create(),y=Ve.create();let b;for(let E=0;E<=i;E++){const $=X3*E/i,A=Ve.add(Ve.create(),Ve.scale(w,h,Z3($)),Ve.scale(y,v,q3($)));if(E>0){let B=[];B.push(Ve.add(Ve.create(),a,A)),B.push(Ve.add(Ve.create(),a,b)),B.push(Ve.add(Ve.create(),l,b)),B.push(Ve.add(Ve.create(),l,A)),m.push(g(B));let D,W;for(let te=0;te<=p;te++){const pe=X3/4*te/p,V=Z3(pe),me=q3(pe);if(te>0){B=[];let ee;ee=Ve.add(Ve.create(),a,Ve.subtract(w,Ve.scale(w,b,D),Ve.scale(y,d,W))),B.push(ee),ee=Ve.add(Ve.create(),a,Ve.subtract(w,Ve.scale(w,A,D),Ve.scale(y,d,W))),B.push(ee),te<p&&(ee=Ve.add(Ve.create(),a,Ve.subtract(w,Ve.scale(w,A,V),Ve.scale(y,d,me))),B.push(ee)),ee=Ve.add(Ve.create(),a,Ve.subtract(w,Ve.scale(w,b,V),Ve.scale(y,d,me))),B.push(ee),m.push(g(B)),B=[],ee=Ve.add(Ve.create(),Ve.scale(w,b,D),Ve.scale(y,d,W)),Ve.add(ee,ee,l),B.push(ee),ee=Ve.add(Ve.create(),Ve.scale(w,A,D),Ve.scale(y,d,W)),Ve.add(ee,ee,l),B.push(ee),te<p&&(ee=Ve.add(Ve.create(),Ve.scale(w,A,V),Ve.scale(y,d,me)),Ve.add(ee,ee,l),B.push(ee)),ee=Ve.add(Ve.create(),Ve.scale(w,b,V),Ve.scale(y,d,me)),Ve.add(ee,ee,l),B.push(ee),B.reverse(),m.push(g(B))}D=V,W=me}}b=A}return Y3.create(m)};var kZ=PZ;const{EPS:Q3,TAU:md}=St,jt=gt,K3=dt,{isGTE:J3,isNumberArray:eS}=_n,RZ=b2,NZ=e=>{const t={center:[0,0],size:[2,2],roundRadius:.2,segments:32};let{center:n,size:r,roundRadius:o,segments:s}=Object.assign({},t,e);if(!eS(n,2))throw new Error("center must be an array of X and Y values");if(!eS(r,2))throw new Error("size must be an array of X and Y values");if(!r.every(p=>p>=0))throw new Error("size values must be positive");if(!J3(o,0))throw new Error("roundRadius must be positive");if(!J3(s,4))throw new Error("segments must be four or more");if(r[0]===0||r[1]===0)return K3.create();if(o===0)return RZ({center:n,size:r});if(r=r.map(p=>p/2),o>r[0]-Q3||o>r[1]-Q3)throw new Error("roundRadius must be smaller than the radius of all dimensions");const i=Math.floor(s/4),a=jt.add(jt.create(),n,[r[0]-o,r[1]-o]),l=jt.add(jt.create(),n,[o-r[0],r[1]-o]),c=jt.add(jt.create(),n,[o-r[0],o-r[1]]),u=jt.add(jt.create(),n,[r[0]-o,o-r[1]]),f=[],d=[],h=[],v=[];for(let p=0;p<=i;p++){const g=md/4*p/i,m=jt.fromAngleRadians(jt.create(),g);jt.scale(m,m,o),f.push(jt.add(jt.create(),a,m)),jt.rotate(m,m,jt.create(),md/4),d.push(jt.add(jt.create(),l,m)),jt.rotate(m,m,jt.create(),md/4),h.push(jt.add(jt.create(),c,m)),jt.rotate(m,m,jt.create(),md/4),v.push(jt.add(jt.create(),u,m))}return K3.fromPoints(f.concat(d,h,v))};var OZ=NZ;const LZ=iC,{isGTE:MZ}=_n,FZ=e=>{const t={center:[0,0,0],radius:1,segments:32,axes:[[1,0,0],[0,-1,0],[0,0,1]]};let{center:n,radius:r,segments:o,axes:s}=Object.assign({},t,e);if(!MZ(r,0))throw new Error("radius must be positive");return r=[r,r,r],LZ({center:n,radius:r,segments:o,axes:s})};var lC=FZ;const DZ=b2,{isGTE:IZ}=_n,zZ=e=>{const t={center:[0,0],size:2};let{center:n,size:r}=Object.assign({},t,e);if(!IZ(r,0))throw new Error("size must be positive");return r=[r,r],DZ({center:n,size:r})};var BZ=zZ;const{TAU:cC}=St,Vc=gt,GZ=dt,{isGT:jZ,isGTE:vd,isNumberArray:VZ}=_n,UZ=(e,t)=>e>0&&t>1&&t<e/2?Math.cos(Math.PI*t/e)/Math.cos(Math.PI*(t-1)/e):0,tS=(e,t,n,r)=>{const o=cC/e,s=[];for(let i=0;i<e;i++){const a=Vc.fromAngleRadians(Vc.create(),o*i+n);Vc.scale(a,a,t),Vc.add(a,r,a),s.push(a)}return s},HZ=e=>{const t={center:[0,0],vertices:5,outerRadius:1,innerRadius:0,density:2,startAngle:0};let{center:n,vertices:r,outerRadius:o,innerRadius:s,density:i,startAngle:a}=Object.assign({},t,e);if(!VZ(n,2))throw new Error("center must be an array of X and Y values");if(!vd(r,2))throw new Error("vertices must be two or more");if(!jZ(o,0))throw new Error("outerRadius must be greater than zero");if(!vd(s,0))throw new Error("innerRadius must be greater than zero");if(!vd(a,0))throw new Error("startAngle must be greater than zero");if(r=Math.floor(r),i=Math.floor(i),a=a%cC,s===0){if(!vd(i,2))throw new Error("density must be two or more");s=o*UZ(r,i)}const l=Vc.clone(n),c=tS(r,o,a,l),u=tS(r,s,a+Math.PI/r,l),f=[];for(let d=0;d<r;d++)f.push(c[d]),f.push(u[d]);return GZ.fromPoints(f)};var WZ=HZ;const XZ=ut,nS=Mt,rS=jo,oS=dt,sS=ht,iS=Nt,Gp=(e,...t)=>{const n={origin:[0,0,0],normal:[0,0,1]},{origin:r,normal:o}=Object.assign({},n,e);if(t=XZ(t),t.length===0)throw new Error("wrong number of arguments");const s=rS.fromNormalAndPoint(rS.create(),o,r);if(Number.isNaN(s[0]))throw new Error("the given origin and normal do not define a proper plane");const i=nS.mirrorByPlane(nS.create(),s),a=t.map(l=>iS.isA(l)?iS.transform(i,l):oS.isA(l)?oS.transform(i,l):sS.isA(l)?sS.transform(i,l):l);return a.length===1?a[0]:a},YZ=(...e)=>Gp({normal:[1,0,0]},e),qZ=(...e)=>Gp({normal:[0,1,0]},e),ZZ=(...e)=>Gp({normal:[0,0,1]},e);var Uc={mirror:Gp,mirrorX:YZ,mirrorY:qZ,mirrorZ:ZZ};const aS=jo,Ni=Ke,QZ=e=>{const t=e.edges;if(t.length<3)throw new Error("slices must have 3 or more edges to calculate a plane");const n=t.reduce((i,a)=>Ni.add(Ni.create(),i,a[0]),Ni.create());Ni.scale(n,n,1/t.length);let r,o=0;t.forEach(i=>{if(!Ni.equals(i[0],i[1])){const a=Ni.squaredDistance(n,i[0]);a>o&&(r=i,o=a)}});const s=t.find(i=>Ni.equals(i[1],r[0]));return aS.fromPoints(aS.create(),s[0],r[0],r[1])};var uC=QZ;const KZ=e=>(e||(e=[]),{edges:e});var sa=KZ;const JZ=sa,lS=Ke,eQ=(...e)=>{let t,n;return e.length===1?(t=JZ(),n=e[0]):(t=e[0],n=e[1]),t.edges=n.edges.map(r=>[lS.clone(r[0]),lS.clone(r[1])]),t};var tQ=eQ;const nQ=Ke,rQ=(e,t)=>{const n=e.edges,r=t.edges;return n.length!==r.length?!1:n.reduce((s,i,a)=>{const l=r[a],c=nQ.squaredDistance(i[0],l[0]);return s&&c<Number.EPSILON},!0)};var oQ=rQ;const gd=Ke,sQ=sa,iQ=e=>{if(!Array.isArray(e))throw new Error("the given points must be an array");if(e.length<3)throw new Error("the given points must contain THREE or more points");const t=[];let n=e[e.length-1];return e.forEach(r=>{r.length===2&&t.push([gd.fromVec2(gd.create(),n),gd.fromVec2(gd.create(),r)]),r.length===3&&t.push([n,r]),n=r}),sQ(t)};var aQ=iQ;const yd=Ke,lQ=sa,cQ=e=>{if(!Array.isArray(e))throw new Error("the given sides must be an array");const t=[];return e.forEach(n=>{t.push([yd.fromVec2(yd.create(),n[0]),yd.fromVec2(yd.create(),n[1])])}),lQ(t)};var uQ=cQ;const fQ=e=>!!(e&&typeof e=="object"&&"edges"in e&&Array.isArray(e.edges));var dQ=fQ;const hQ=sa,pQ=(...e)=>{let t,n;return e.length===1?(t=hQ(),n=e[0]):(t=e[0],n=e[1]),t.edges=n.edges.map(r=>[r[1],r[0]]),t};var mQ=pQ;const vQ=e=>e.edges;var gQ=vQ;const yQ=(e,t)=>{let n,r,o,s,i,a=1;do{r=e,e=null;let l=null;for(i=0;r;){i++,o=r;let c=0;for(n=0;n<a&&(c++,o=o.nextZ,!!o);n++);let u=a;for(;c>0||u>0&&o;)c!==0&&(u===0||!o||t(r)<=t(o))?(s=r,r=r.nextZ,c--):(s=o,o=o.nextZ,u--),l?l.nextZ=s:e=s,s.prevZ=l,l=s;r=o}l.nextZ=null,a*=2}while(i>1);return e};var wQ=yQ;const xQ=wQ;let fC=class{constructor(t,n,r){this.i=t,this.x=n,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}};const bQ=(e,t,n,r)=>{const o=new fC(e,t,n);return r?(o.next=r.next,o.prev=r,r.next.prev=o,r.next=o):(o.prev=o,o.next=o),o},SQ=e=>{e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)};var dC={Node:fC,insertNode:bQ,removeNode:SQ,sortLinked:xQ};const EQ=(e,t,n,r,o,s,i,a)=>(o-i)*(t-a)-(e-i)*(s-a)>=0&&(e-i)*(r-a)-(n-i)*(t-a)>=0&&(n-i)*(s-a)-(o-i)*(r-a)>=0,_Q=(e,t,n)=>(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y);var S2={area:_Q,pointInTriangle:EQ};const{Node:cS,insertNode:uS,removeNode:Ih}=dC,{area:ur}=S2,$Q=(e,t,n,r,o)=>{let s;if(o===RQ(e,t,n,r)>0)for(let i=t;i<n;i+=r)s=uS(i,e[i],e[i+1],s);else for(let i=n-r;i>=t;i-=r)s=uS(i,e[i],e[i+1],s);return s&&jp(s,s.next)&&(Ih(s),s=s.next),s},hC=(e,t)=>{if(!e)return e;t||(t=e);let n=e,r;do if(r=!1,!n.steiner&&(jp(n,n.next)||ur(n.prev,n,n.next)===0)){if(Ih(n),n=t=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==t);return t},AQ=(e,t,n)=>{let r=e;do{const o=r.prev,s=r.next.next;!jp(o,s)&&pC(o,r,r.next,s)&&$u(o,s)&&$u(s,o)&&(t.push(o.i/n),t.push(r.i/n),t.push(s.i/n),Ih(r),Ih(r.next),r=e=s),r=r.next}while(r!==e);return hC(r)},TQ=(e,t)=>{let n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&pC(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1},$u=(e,t)=>ur(e.prev,e,e.next)<0?ur(e,t,e.next)>=0&&ur(e,e.prev,t)>=0:ur(e,t,e.prev)<0||ur(e,e.next,t)<0,CQ=(e,t)=>{let n=e,r=!1;const o=(e.x+t.x)/2,s=(e.y+t.y)/2;do n.y>s!=n.next.y>s&&n.next.y!==n.y&&o<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==e);return r},PQ=(e,t)=>{const n=new cS(e.i,e.x,e.y),r=new cS(t.i,t.x,t.y),o=e.next,s=t.prev;return e.next=t,t.prev=e,n.next=o,o.prev=n,r.next=n,n.prev=r,s.next=r,r.prev=s,r},kQ=(e,t)=>e.next.i!==t.i&&e.prev.i!==t.i&&!TQ(e,t)&&($u(e,t)&&$u(t,e)&&CQ(e,t)&&(ur(e.prev,e,t.prev)||ur(e,t.prev,t))||jp(e,t)&&ur(e.prev,e,e.next)>0&&ur(t.prev,t,t.next)>0),pC=(e,t,n,r)=>{const o=Math.sign(ur(e,t,n)),s=Math.sign(ur(e,t,r)),i=Math.sign(ur(n,r,e)),a=Math.sign(ur(n,r,t));return!!(o!==s&&i!==a||o===0&&wd(e,n,t)||s===0&&wd(e,r,t)||i===0&&wd(n,e,r)||a===0&&wd(n,t,r))},wd=(e,t,n)=>t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y),RQ=(e,t,n,r)=>{let o=0;for(let s=t,i=n-r;s<n;s+=r)o+=(e[i]-e[s])*(e[s+1]+e[i+1]),i=s;return o},jp=(e,t)=>e.x===t.x&&e.y===t.y;var mC={cureLocalIntersections:AQ,filterPoints:hC,isValidDiagonal:kQ,linkedPolygon:$Q,locallyInside:$u,splitPolygon:PQ};const{filterPoints:Yv,linkedPolygon:NQ,locallyInside:OQ,splitPolygon:LQ}=mC,{area:fS,pointInTriangle:MQ}=S2,FQ=(e,t,n,r)=>{const o=[];for(let s=0,i=t.length;s<i;s++){const a=t[s]*r,l=s<i-1?t[s+1]*r:e.length,c=NQ(e,a,l,r,!1);c===c.next&&(c.steiner=!0),o.push(BQ(c))}o.sort((s,i)=>s.x-i.x);for(let s=0;s<o.length;s++)n=DQ(o[s],n),n=Yv(n,n.next);return n},DQ=(e,t)=>{const n=IQ(e,t);if(!n)return t;const r=LQ(n,e),o=Yv(n,n.next);return Yv(r,r.next),t===n?o:t},IQ=(e,t)=>{let n=t;const r=e.x,o=e.y;let s=-1/0,i;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){const f=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(f<=r&&f>s){if(s=f,f===r){if(o===n.y)return n;if(o===n.next.y)return n.next}i=n.x<n.next.x?n:n.next}}n=n.next}while(n!==t);if(!i)return null;if(r===s)return i;const a=i,l=i.x,c=i.y;let u=1/0;n=i;do{if(r>=n.x&&n.x>=l&&r!==n.x&&MQ(o<c?r:s,o,l,c,o<c?s:r,o,n.x,n.y)){const f=Math.abs(o-n.y)/(r-n.x);OQ(n,e)&&(f<u||f===u&&(n.x>i.x||n.x===i.x&&zQ(i,n)))&&(i=n,u=f)}n=n.next}while(n!==a);return i},zQ=(e,t)=>fS(e.prev,e,t.prev)<0&&fS(t.next,e,e.next)<0,BQ=e=>{let t=e,n=e;do(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next;while(t!==e);return n};var GQ=FQ;const jQ=GQ,{removeNode:VQ,sortLinked:UQ}=dC,{cureLocalIntersections:HQ,filterPoints:zh,isValidDiagonal:WQ,linkedPolygon:XQ,splitPolygon:YQ}=mC,{area:Di,pointInTriangle:Hc}=S2,qQ=(e,t,n=2)=>{const r=t&&t.length,o=r?t[0]*n:e.length;let s=XQ(e,0,o,n,!0);const i=[];if(!s||s.next===s.prev)return i;let a,l,c,u,f;if(r&&(s=jQ(e,t,s,n)),e.length>80*n){a=c=e[0],l=u=e[1];for(let d=n;d<o;d+=n){const h=e[d],v=e[d+1];h<a&&(a=h),v<l&&(l=v),h>c&&(c=h),v>u&&(u=v)}f=Math.max(c-a,u-l),f=f!==0?1/f:0}return Au(s,i,n,a,l,f),i},Au=(e,t,n,r,o,s,i)=>{if(!e)return;!i&&s&&JQ(e,r,o,s);let a=e,l,c;for(;e.prev!==e.next;){if(l=e.prev,c=e.next,s?QQ(e,r,o,s):ZQ(e)){t.push(l.i/n),t.push(e.i/n),t.push(c.i/n),VQ(e),e=c.next,a=c.next;continue}if(e=c,e===a){i?i===1?(e=HQ(zh(e),t,n),Au(e,t,n,r,o,s,2)):i===2&&KQ(e,t,n,r,o,s):Au(zh(e),t,n,r,o,s,1);break}}},ZQ=e=>{const t=e.prev,n=e,r=e.next;if(Di(t,n,r)>=0)return!1;let o=e.next.next;for(;o!==e.prev;){if(Hc(t.x,t.y,n.x,n.y,r.x,r.y,o.x,o.y)&&Di(o.prev,o,o.next)>=0)return!1;o=o.next}return!0},QQ=(e,t,n,r)=>{const o=e.prev,s=e,i=e.next;if(Di(o,s,i)>=0)return!1;const a=o.x<s.x?o.x<i.x?o.x:i.x:s.x<i.x?s.x:i.x,l=o.y<s.y?o.y<i.y?o.y:i.y:s.y<i.y?s.y:i.y,c=o.x>s.x?o.x>i.x?o.x:i.x:s.x>i.x?s.x:i.x,u=o.y>s.y?o.y>i.y?o.y:i.y:s.y>i.y?s.y:i.y,f=qv(a,l,t,n,r),d=qv(c,u,t,n,r);let h=e.prevZ,v=e.nextZ;for(;h&&h.z>=f&&v&&v.z<=d;){if(h!==e.prev&&h!==e.next&&Hc(o.x,o.y,s.x,s.y,i.x,i.y,h.x,h.y)&&Di(h.prev,h,h.next)>=0||(h=h.prevZ,v!==e.prev&&v!==e.next&&Hc(o.x,o.y,s.x,s.y,i.x,i.y,v.x,v.y)&&Di(v.prev,v,v.next)>=0))return!1;v=v.nextZ}for(;h&&h.z>=f;){if(h!==e.prev&&h!==e.next&&Hc(o.x,o.y,s.x,s.y,i.x,i.y,h.x,h.y)&&Di(h.prev,h,h.next)>=0)return!1;h=h.prevZ}for(;v&&v.z<=d;){if(v!==e.prev&&v!==e.next&&Hc(o.x,o.y,s.x,s.y,i.x,i.y,v.x,v.y)&&Di(v.prev,v,v.next)>=0)return!1;v=v.nextZ}return!0},KQ=(e,t,n,r,o,s)=>{let i=e;do{let a=i.next.next;for(;a!==i.prev;){if(i.i!==a.i&&WQ(i,a)){let l=YQ(i,a);i=zh(i,i.next),l=zh(l,l.next),Au(i,t,n,r,o,s),Au(l,t,n,r,o,s);return}a=a.next}i=i.next}while(i!==e)},JQ=(e,t,n,r)=>{let o=e;do o.z===null&&(o.z=qv(o.x,o.y,t,n,r)),o.prevZ=o.prev,o.nextZ=o.next,o=o.next;while(o!==e);o.prevZ.nextZ=null,o.prevZ=null,UQ(o,s=>s.z)},qv=(e,t,n,r,o)=>(e=32767*(e-n)*o,t=32767*(t-r)*o,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e|t<<1);var eK=qQ;const{area:tK}=qu,{toOutlines:nK}=dt,{arePointsInside:rK}=f2,oK=e=>{const t=nK(e),n=[],r=[];t.forEach((i,a)=>{const l=tK(i);l<0?r.push(a):l>0&&n.push(a)});const o=[],s=[];return n.forEach((i,a)=>{const l=t[i];o[a]=[],r.forEach((c,u)=>{const f=t[c];rK([f[0]],{vertices:l})&&(o[a].push(c),s[u]||(s[u]=[]),s[u].push(a))})}),r.forEach((i,a)=>{if(s[a]&&s[a].length>1){const l=sK(s[a],c=>o[c].length);s[a].forEach((c,u)=>{u!==l&&(o[c]=o[c].filter(f=>f!==i))})}}),o.map((i,a)=>({solid:t[n[a]],holes:i.map(l=>t[l])}))},sK=(e,t)=>{let n,r;return e.forEach((o,s)=>{const i=t(o);(r===void 0||i<r)&&(n=s,r=i)}),n};var iK=oK;const aK=dt,dS=jo,lK=gt,Mn=Ke,cK=uC,uK=iK;let fK=class{constructor(t){this.plane=cK(t);const n=Mn.orthogonal(Mn.create(),this.plane),r=Mn.cross(Mn.create(),this.plane,n);this.v=Mn.normalize(r,r),this.u=Mn.cross(Mn.create(),this.v,this.plane),this.basisMap=new Map;const o=t.edges.map(i=>i.map(a=>this.to2D(a))),s=aK.create(o);this.roots=uK(s)}to2D(t){const n=lK.fromValues(Mn.dot(t,this.u),Mn.dot(t,this.v));return this.basisMap.set(n,t),n}to3D(t){const n=this.basisMap.get(t);if(n)return n;{console.log("Warning: point not in original slice");const r=Mn.scale(Mn.create(),this.u,t[0]),o=Mn.scale(Mn.create(),this.v,t[1]),s=Mn.scale(Mn.create(),dS,dS[3]),i=Mn.add(r,r,s);return Mn.add(o,o,i)}}};var dK=fK;const hK=xt,pK=eK,mK=dK,vK=e=>{const t=new mK(e),n=[];return t.roots.forEach(({solid:r,holes:o})=>{let s=r.length;const i=[];o.forEach((f,d)=>{i.push(s),s+=f.length});const a=[r,...o].flat(),l=a.flat(),c=f=>t.to3D(a[f]),u=pK(l,i);for(let f=0;f<u.length;f+=3){const d=u.slice(f,f+3).map(c);n.push(hK.fromPointsAndPlane(d,t.plane))}}),n};var gK=vK;const hS=Ke,yK=e=>e.reduce((t,n)=>t+=`[${hS.toString(n[0])}, ${hS.toString(n[1])}], `,""),wK=e=>`[${yK(e.edges)}]`;var xK=wK;const xd=Ke,bK=sa,SK=(e,t)=>{const n=t.edges.map(r=>[xd.transform(xd.create(),r[0],e),xd.transform(xd.create(),r[1],e)]);return bK(n)};var EK=SK,Gl={calculatePlane:uC,clone:tQ,create:sa,equals:oQ,fromPoints:aQ,fromSides:uQ,isA:dQ,reverse:mQ,toEdges:gQ,toPolygons:gK,toString:xK,transform:EK};const pS=Ke,_K=sa,$K=e=>{if(!e.edges)return e;let t=e.edges;const n=new Map,r=new Map;t=t.filter(i=>!pS.equals(i[0],i[1])),t.forEach(i=>{const a=i[0].toString(),l=i[1].toString();n.set(a,i[0]),n.set(l,i[1]),r.set(a,(r.get(a)||0)+1),r.set(l,(r.get(l)||0)-1)});const o=[],s=[];return r.forEach((i,a)=>{i<0&&o.push(a),i>0&&s.push(a)}),o.forEach(i=>{const a=n.get(i);let l=1/0,c;s.forEach(u=>{const f=n.get(u),d=pS.distance(a,f);d<l&&(l=d,c=f)}),console.warn(`slice.repair: repairing vertex gap ${a} to ${c} distance ${l}`),t=t.map(u=>u[0].toString()===i?[c,u[1]]:u[1].toString()===i?[u[0],c]:u)}),_K(t)};var AK=$K;const{EPS:mS}=St,Na=Ke,bd=xt,vS=Gl,Zv=(e,t)=>e===t?e:e<t?Zv(t,e):t===1?1:t===0?e:Zv(t,e%t),TK=(e,t)=>e*t/Zv(e,t),gS=(e,t)=>{const n=e/t.length;if(n===1)return t;const r=Na.fromValues(n,n,n),o=[];return t.forEach(s=>{const i=Na.subtract(Na.create(),s[1],s[0]);Na.divide(i,i,r);let a=s[0];for(let l=1;l<=n;++l){const c=Na.add(Na.create(),a,i);o.push([a,c]),a=c}}),o},yS=mS*mS/2*Math.sin(Math.PI/3),CK=(e,t)=>{let n=vS.toEdges(e),r=vS.toEdges(t);if(n.length!==r.length){const s=TK(n.length,r.length);s!==n.length&&(n=gS(s,n)),s!==r.length&&(r=gS(s,r))}const o=[];return n.forEach((s,i)=>{const a=r[i],l=bd.create([s[0],s[1],a[1]]),c=bd.measureArea(l);Number.isFinite(c)&&c>yS&&o.push(l);const u=bd.create([s[0],a[1],a[0]]),f=bd.measureArea(u);Number.isFinite(f)&&f>yS&&o.push(u)}),o};var PK=CK;const wS=Mt,xS=dt,kK=ht,Qv=xt,js=Gl,RK=AK,bS=PK,NK=(e,t,n)=>{let r=null;return xS.isA(n)&&(r=js.fromSides(xS.toSides(n))),Qv.isA(n)&&(r=js.fromPoints(Qv.toPoints(n))),e===0||e===1?js.transform(wS.fromTranslation(wS.create(),[0,0,e]),r):null},OK=(e,t)=>{const n={numberOfSlices:2,capStart:!0,capEnd:!0,close:!1,repair:!0,callback:NK},{numberOfSlices:r,capStart:o,capEnd:s,close:i,repair:a,callback:l}=Object.assign({},n,e);if(r<2)throw new Error("numberOfSlices must be 2 or more");a&&(t=RK(t));const c=r-1;let u=null,f=null,d=null,h=[];for(let v=0;v<r;v++){const p=l(v/c,v,t);if(p){if(!js.isA(p))throw new Error("the callback function must return slice objects");if(js.toEdges(p).length===0)throw new Error("the callback function must return slices with one or more edges");d&&(h=h.concat(bS(d,p))),v===0&&(u=p),v===r-1&&(f=p),d=p}}if(s){const v=js.toPolygons(f);h=h.concat(v)}if(o){const v=js.toPolygons(u).map(Qv.invert);h=h.concat(v)}return!o&&!s&&i&&!js.equals(f,u)&&(h=h.concat(bS(f,u))),kK.create(h)};var Vp=OK;const{TAU:_r}=St,Oc=Mt,{mirrorX:LK}=Uc,Sd=dt,om=Gl,MK=Vp,FK=(e,t)=>{const n={segments:12,startAngle:0,angle:_r,overflow:"cap"};let{segments:r,startAngle:o,angle:s,overflow:i}=Object.assign({},n,e);if(r<3)throw new Error("segments must be greater then 3");o=Math.abs(o)>_r?o%_r:o,s=Math.abs(s)>_r?s%_r:s;let a=o+s;if(a=Math.abs(a)>_r?a%_r:a,a<o){const w=o;o=a,a=w}let l=a-o;if(l<=0&&(l=_r),Math.abs(l)<_r){const w=_r/r;r=Math.floor(Math.abs(l)/w),Math.abs(l)>r*w&&r++}let c=Sd.toSides(t);if(c.length===0)throw new Error("the given geometry cannot be empty");const u=c.filter(w=>w[0][0]<0),f=c.filter(w=>w[0][0]>=0);u.length>0&&f.length>0&&i==="cap"&&(u.length>f.length?(c=c.map(w=>{let y=w[0],b=w[1];return y=[Math.min(y[0],0),y[1]],b=[Math.min(b[0],0),b[1]],[y,b]}),t=Sd.create(c),t=LK(t)):f.length>=u.length&&(c=c.map(w=>{let y=w[0],b=w[1];return y=[Math.max(y[0],0),y[1]],b=[Math.max(b[0],0),b[1]],[y,b]}),t=Sd.create(c)));const h=l/r,v=Math.abs(l)<_r,p=om.fromSides(Sd.toSides(t));om.reverse(p,p);const g=Oc.create(),m=(w,y,b)=>{let S=h*y+o;return l===_r&&y===r&&(S=o),Oc.multiply(g,Oc.fromZRotation(g,S),Oc.fromXRotation(Oc.create(),_r/4)),om.transform(g,b)};return e={numberOfSlices:r+1,capStart:v,capEnd:v,close:!v,callback:m},MK(e,p)};var vC=FK;const DK=ut,SS=Mt,ES=dt,_S=ht,$S=Nt,Up=(e,...t)=>{if(!Array.isArray(e))throw new Error("angles must be an array");if(t=DK(t),t.length===0)throw new Error("wrong number of arguments");for(e=e.slice();e.length<3;)e.push(0);const n=e[2],r=e[1],o=e[0],s=SS.fromTaitBryanRotation(SS.create(),n,r,o),i=t.map(a=>$S.isA(a)?$S.transform(s,a):ES.isA(a)?ES.transform(s,a):_S.isA(a)?_S.transform(s,a):a);return i.length===1?i[0]:i},IK=(e,...t)=>Up([e,0,0],t),zK=(e,...t)=>Up([0,e,0],t),BK=(e,...t)=>Up([0,0,e],t);var Wc={rotate:Up,rotateX:IK,rotateY:zK,rotateZ:BK};const GK=ut,AS=Mt,TS=dt,CS=ht,PS=Nt,Hp=(e,...t)=>{if(!Array.isArray(e))throw new Error("offset must be an array");if(t=GK(t),t.length===0)throw new Error("wrong number of arguments");for(e=e.slice();e.length<3;)e.push(0);const n=AS.fromTranslation(AS.create(),e),r=t.map(o=>PS.isA(o)?PS.transform(n,o):TS.isA(o)?TS.transform(n,o):CS.isA(o)?CS.transform(n,o):o);return r.length===1?r[0]:r},jK=(e,...t)=>Hp([e,0,0],t),VK=(e,...t)=>Hp([0,e,0],t),UK=(e,...t)=>Hp([0,0,e],t);var ji={translate:Hp,translateX:jK,translateY:VK,translateZ:UK};const{TAU:HK}=St,WK=vC,{rotate:XK}=Wc,{translate:YK}=ji,qK=rC,{isGT:sm,isGTE:im}=_n,ZK=e=>{const t={innerRadius:1,innerSegments:32,outerRadius:4,outerSegments:32,innerRotation:0,startAngle:0,outerRotation:HK},{innerRadius:n,innerSegments:r,outerRadius:o,outerSegments:s,innerRotation:i,startAngle:a,outerRotation:l}=Object.assign({},t,e);if(!sm(n,0))throw new Error("innerRadius must be greater than zero");if(!im(r,3))throw new Error("innerSegments must be three or more");if(!sm(o,0))throw new Error("outerRadius must be greater than zero");if(!im(s,3))throw new Error("outerSegments must be three or more");if(!im(a,0))throw new Error("startAngle must be positive");if(!sm(l,0))throw new Error("outerRotation must be greater than zero");if(n>=o)throw new Error("inner circle is two large to rotate about the outer circle");let c=qK({radius:n,segments:r});return i!==0&&(c=XK([0,0,i],c)),c=YK([o,0],c),WK({startAngle:a,angle:l,segments:s},c)};var QK=ZK;const{NEPS:$l}=St,Lc=gt,KK=dt,{isNumberArray:JK}=_n,Kv=(e,t,n)=>Math.acos((e*e+t*t-n*n)/(2*e*t)),eJ=(e,t,n)=>t>$l?Math.sqrt(e*e+n*n-2*e*n*Math.cos(t)):Math.sqrt((e-n)*(e-n)+e*n*t*t*(1-t*t/12)),tJ=e=>{if(Math.abs(e[0]+e[1]+e[2]-Math.PI)>$l)throw new Error("AAA triangles require angles that sum to PI");const n=e[0],r=e[1],o=Math.PI-n-r,s=1,i=s/Math.sin(o)*Math.sin(n),a=s/Math.sin(o)*Math.sin(r);return jl(n,r,o,i,a,s)},nJ=e=>{const t=e[0],n=e[1],r=Math.PI+$l-t-n;if(r<$l)throw new Error("AAS triangles require angles that sum to PI");const o=e[2],s=o/Math.sin(t)*Math.sin(n),i=o/Math.sin(t)*Math.sin(r);return jl(t,n,r,o,s,i)},rJ=e=>{const t=e[0],n=e[2],r=Math.PI+$l-t-n;if(r<$l)throw new Error("ASA triangles require angles that sum to PI");const o=e[1],s=o/Math.sin(r)*Math.sin(t),i=o/Math.sin(r)*Math.sin(n);return jl(t,n,r,s,i,o)},oJ=e=>{const t=e[0],n=e[1],r=e[2],o=eJ(t,n,r),s=Kv(o,t,r),i=Math.PI-s-n;return jl(s,n,i,r,o,t)},sJ=e=>{const t=e[0],n=e[1],r=e[2],o=Math.asin(n*Math.sin(r)/t),s=Math.PI-o-r,i=t/Math.sin(r)*Math.sin(s);return jl(o,s,r,n,i,t)},iJ=e=>{const t=e[1],n=e[2],r=e[0];if(t+n<=r||n+r<=t||r+t<=n)throw new Error("SSS triangle is incorrect, as the longest side is longer than the sum of the other sides");const o=Kv(n,r,t),s=Kv(r,t,n),i=Math.PI-o-s;return jl(o,s,i,t,n,r)},jl=(e,t,n,r,o,s)=>{const i=Lc.fromValues(0,0),a=Lc.fromValues(s,0),l=Lc.fromValues(r,0);return Lc.add(l,Lc.rotate(l,l,[0,0],Math.PI-t),a),KK.fromPoints([i,a,l])},aJ=e=>{const t={type:"SSS",values:[1,1,1]};let{type:n,values:r}=Object.assign({},t,e);if(typeof n!="string")throw new Error("triangle type must be a string");if(n=n.toUpperCase(),!((n[0]==="A"||n[0]==="S")&&(n[1]==="A"||n[1]==="S")&&(n[2]==="A"||n[2]==="S")))throw new Error("triangle type must contain three letters; A or S");if(!JK(r,3))throw new Error("triangle values must contain three values");if(!r.every(o=>o>0))throw new Error("triangle values must be greater than zero");switch(n){case"AAA":return tJ(r);case"AAS":return nJ(r);case"ASA":return rJ(r);case"SAS":return oJ(r);case"SSA":return sJ(r);case"SSS":return iJ(r);default:throw new Error("invalid triangle type, try again")}};var lJ=aJ,cJ={arc:Mq,circle:rC,cube:Yq,cuboid:x2,cylinder:sC,cylinderElliptic:oC,ellipse:nC,ellipsoid:iC,geodesicSphere:dZ,line:mZ,polygon:gZ,polyhedron:aC,rectangle:b2,roundedCuboid:_Z,roundedCylinder:kZ,roundedRectangle:OZ,sphere:lC,square:BZ,star:WZ,torus:QK,triangle:lJ},uJ={height:14,32:[16],33:[10,5,21,5,7,void 0,5,2,4,1,5,0,6,1,5,2],34:[16,4,21,4,14,void 0,12,21,12,14],35:[21,11,25,4,-7,void 0,17,25,10,-7,void 0,4,12,18,12,void 0,3,6,17,6],36:[20,8,25,8,-4,void 0,12,25,12,-4,void 0,17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3],37:[24,21,21,3,0,void 0,8,21,10,19,10,17,9,15,7,14,5,14,3,16,3,18,4,20,6,21,8,21,10,20,13,19,16,19,19,20,21,21,void 0,17,7,15,6,14,4,14,2,16,0,18,0,20,1,21,3,21,5,19,7,17,7],38:[26,23,12,23,13,22,14,21,14,20,13,19,11,17,6,15,3,13,1,11,0,7,0,5,1,4,2,3,4,3,6,4,8,5,9,12,13,13,14,14,16,14,18,13,20,11,21,9,20,8,18,8,16,9,13,11,10,16,3,18,1,20,0,22,0,23,1,23,2],39:[10,5,19,4,20,5,21,6,20,6,18,5,16,4,15],40:[14,11,25,9,23,7,20,5,16,4,11,4,7,5,2,7,-2,9,-5,11,-7],41:[14,3,25,5,23,7,20,9,16,10,11,10,7,9,2,7,-2,5,-5,3,-7],42:[16,8,21,8,9,void 0,3,18,13,12,void 0,13,18,3,12],43:[26,13,18,13,0,void 0,4,9,22,9],44:[10,6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4],45:[26,4,9,22,9],46:[10,5,2,4,1,5,0,6,1,5,2],47:[22,20,25,2,-7],48:[20,9,21,6,20,4,17,3,12,3,9,4,4,6,1,9,0,11,0,14,1,16,4,17,9,17,12,16,17,14,20,11,21,9,21],49:[20,6,17,8,18,11,21,11,0],50:[20,4,16,4,17,5,19,6,20,8,21,12,21,14,20,15,19,16,17,16,15,15,13,13,10,3,0,17,0],51:[20,5,21,16,21,10,13,13,13,15,12,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4],52:[20,13,21,3,7,18,7,void 0,13,21,13,0],53:[20,15,21,5,21,4,12,5,13,8,14,11,14,14,13,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4],54:[20,16,18,15,20,12,21,10,21,7,20,5,17,4,12,4,7,5,3,7,1,10,0,11,0,14,1,16,3,17,6,17,7,16,10,14,12,11,13,10,13,7,12,5,10,4,7],55:[20,17,21,7,0,void 0,3,21,17,21],56:[20,8,21,5,20,4,18,4,16,5,14,7,13,11,12,14,11,16,9,17,7,17,4,16,2,15,1,12,0,8,0,5,1,4,2,3,4,3,7,4,9,6,11,9,12,13,13,15,14,16,16,16,18,15,20,12,21,8,21],57:[20,16,14,15,11,13,9,10,8,9,8,6,9,4,11,3,14,3,15,4,18,6,20,9,21,10,21,13,20,15,18,16,14,16,9,15,4,13,1,10,0,8,0,5,1,4,3],58:[10,5,14,4,13,5,12,6,13,5,14,void 0,5,2,4,1,5,0,6,1,5,2],59:[10,5,14,4,13,5,12,6,13,5,14,void 0,6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4],60:[24,20,18,4,9,20,0],61:[26,4,12,22,12,void 0,4,6,22,6],62:[24,4,18,20,9,4,0],63:[18,3,16,3,17,4,19,5,20,7,21,11,21,13,20,14,19,15,17,15,15,14,13,13,12,9,10,9,7,void 0,9,2,8,1,9,0,10,1,9,2],64:[27,18,13,17,15,15,16,12,16,10,15,9,14,8,11,8,8,9,6,11,5,14,5,16,6,17,8,void 0,12,16,10,14,9,11,9,8,10,6,11,5,void 0,18,16,17,8,17,6,19,5,21,5,23,7,24,10,24,12,23,15,22,17,20,19,18,20,15,21,12,21,9,20,7,19,5,17,4,15,3,12,3,9,4,6,5,4,7,2,9,1,12,0,15,0,18,1,20,2,21,3,void 0,19,16,18,8,18,6,19,5],65:[18,9,21,1,0,void 0,9,21,17,0,void 0,4,7,14,7],66:[21,4,21,4,0,void 0,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,void 0,4,11,13,11,16,10,17,9,18,7,18,4,17,2,16,1,13,0,4,0],67:[21,18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5],68:[21,4,21,4,0,void 0,4,21,11,21,14,20,16,18,17,16,18,13,18,8,17,5,16,3,14,1,11,0,4,0],69:[19,4,21,4,0,void 0,4,21,17,21,void 0,4,11,12,11,void 0,4,0,17,0],70:[18,4,21,4,0,void 0,4,21,17,21,void 0,4,11,12,11],71:[21,18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,18,8,void 0,13,8,18,8],72:[22,4,21,4,0,void 0,18,21,18,0,void 0,4,11,18,11],73:[8,4,21,4,0],74:[16,12,21,12,5,11,2,10,1,8,0,6,0,4,1,3,2,2,5,2,7],75:[21,4,21,4,0,void 0,18,21,4,7,void 0,9,12,18,0],76:[17,4,21,4,0,void 0,4,0,16,0],77:[24,4,21,4,0,void 0,4,21,12,0,void 0,20,21,12,0,void 0,20,21,20,0],78:[22,4,21,4,0,void 0,4,21,18,0,void 0,18,21,18,0],79:[22,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21],80:[21,4,21,4,0,void 0,4,21,13,21,16,20,17,19,18,17,18,14,17,12,16,11,13,10,4,10],81:[22,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21,void 0,12,4,18,-2],82:[21,4,21,4,0,void 0,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,4,11,void 0,11,11,18,0],83:[20,17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3],84:[16,8,21,8,0,void 0,1,21,15,21],85:[22,4,21,4,6,5,3,7,1,10,0,12,0,15,1,17,3,18,6,18,21],86:[18,1,21,9,0,void 0,17,21,9,0],87:[24,2,21,7,0,void 0,12,21,7,0,void 0,12,21,17,0,void 0,22,21,17,0],88:[20,3,21,17,0,void 0,17,21,3,0],89:[18,1,21,9,11,9,0,void 0,17,21,9,11],90:[20,17,21,3,0,void 0,3,21,17,21,void 0,3,0,17,0],91:[14,4,25,4,-7,void 0,5,25,5,-7,void 0,4,25,11,25,void 0,4,-7,11,-7],92:[14,0,21,14,-3],93:[14,9,25,9,-7,void 0,10,25,10,-7,void 0,3,25,10,25,void 0,3,-7,10,-7],94:[16,6,15,8,18,10,15,void 0,3,12,8,17,13,12,void 0,8,17,8,0],95:[16,0,-2,16,-2],96:[10,6,21,5,20,4,18,4,16,5,15,6,16,5,17],97:[19,15,14,15,0,void 0,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3],98:[19,4,21,4,0,void 0,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3],99:[18,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3],100:[19,15,21,15,0,void 0,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3],101:[18,3,8,15,8,15,10,14,12,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3],102:[12,10,21,8,21,6,20,5,17,5,0,void 0,2,14,9,14],103:[19,15,14,15,-2,14,-5,13,-6,11,-7,8,-7,6,-6,void 0,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3],104:[19,4,21,4,0,void 0,4,10,7,13,9,14,12,14,14,13,15,10,15,0],105:[8,3,21,4,20,5,21,4,22,3,21,void 0,4,14,4,0],106:[10,5,21,6,20,7,21,6,22,5,21,void 0,6,14,6,-3,5,-6,3,-7,1,-7],107:[17,4,21,4,0,void 0,14,14,4,4,void 0,8,8,15,0],108:[8,4,21,4,0],109:[30,4,14,4,0,void 0,4,10,7,13,9,14,12,14,14,13,15,10,15,0,void 0,15,10,18,13,20,14,23,14,25,13,26,10,26,0],110:[19,4,14,4,0,void 0,4,10,7,13,9,14,12,14,14,13,15,10,15,0],111:[19,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3,16,6,16,8,15,11,13,13,11,14,8,14],112:[19,4,14,4,-7,void 0,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3],113:[19,15,14,15,-7,void 0,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3],114:[13,4,14,4,0,void 0,4,8,5,11,7,13,9,14,12,14],115:[17,14,11,13,13,10,14,7,14,4,13,3,11,4,9,6,8,11,7,13,6,14,4,14,3,13,1,10,0,7,0,4,1,3,3],116:[12,5,21,5,4,6,1,8,0,10,0,void 0,2,14,9,14],117:[19,4,14,4,4,5,1,7,0,10,0,12,1,15,4,void 0,15,14,15,0],118:[16,2,14,8,0,void 0,14,14,8,0],119:[22,3,14,7,0,void 0,11,14,7,0,void 0,11,14,15,0,void 0,19,14,15,0],120:[17,3,14,14,0,void 0,14,14,3,0],121:[16,2,14,8,0,void 0,14,14,8,0,6,-4,4,-6,2,-7,1,-7],122:[17,14,14,3,0,void 0,3,14,14,14,void 0,3,0,14,0],123:[14,9,25,7,24,6,23,5,21,5,19,6,17,7,16,8,14,8,12,6,10,void 0,7,24,6,22,6,20,7,18,8,17,9,15,9,13,8,11,4,9,8,7,9,5,9,3,8,1,7,0,6,-2,6,-4,7,-6,void 0,6,8,8,6,8,4,7,2,6,1,5,-1,5,-3,6,-5,7,-6,9,-7],124:[8,4,25,4,-7],125:[14,5,25,7,24,8,23,9,21,9,19,8,17,7,16,6,14,6,12,8,10,void 0,7,24,8,22,8,20,7,18,6,17,5,15,5,13,6,11,10,9,6,7,5,5,5,3,6,1,7,0,8,-2,8,-4,7,-6,void 0,8,8,6,6,6,4,7,2,8,1,9,-1,9,-3,8,-5,7,-6,5,-7],126:[24,3,6,3,8,4,11,6,12,8,12,10,11,14,8,16,7,18,7,20,8,21,10,void 0,3,8,4,10,6,11,8,11,10,10,14,7,16,6,18,6,20,7,21,10,21,12]};const fJ=uJ,dJ={xOffset:0,yOffset:0,input:"?",align:"left",font:fJ,height:14,lineSpacing:2.142857142857143,letterSpacing:1,extrudeOffset:0},hJ=(e,t)=>{!t&&typeof e=="string"&&(e={input:e}),e=e||{};const n=Object.assign({},dJ,e);return n.input=t||n.input,n};var gC=hJ;const pJ=gC,mJ=(e,t)=>{const{xOffset:n,yOffset:r,input:o,font:s,height:i,extrudeOffset:a}=pJ(e,t);let l=o.charCodeAt(0);(!l||!s[l])&&(l=63);const c=[].concat(s[l]),u=(i-a)/s.height,f=a/2,d=c.shift()*u,h=[];let v=[];for(let p=0,g=c.length;p<g;p+=2){const m=u*c[p]+n,w=u*c[p+1]+r+f;if(c[p]!==void 0){v.push([m,w]);continue}h.push(v),v=[],p--}return v.length&&h.push(v),{width:d,height:i,segments:h}};var yC=mJ;const vJ=yC,gJ=gC,kS=(e,t)=>{const{x:n,y:r}=Object.assign({x:0,y:0},e||{}),o=t.segments;let s=null,i=null;for(let a=0,l=o.length;a<l;a++){s=o[a];for(let c=0,u=s.length;c<u;c++)i=s[c],s[c]=[i[0]+n,i[1]+r]}return t},yJ=(e,t)=>{const{xOffset:n,yOffset:r,input:o,font:s,height:i,align:a,extrudeOffset:l,lineSpacing:c,letterSpacing:u}=gJ(e,t);let[f,d]=[n,r],h,v,p,g,m,w,y={width:0,segments:[]};const b=[];let S=[],E=0;const $=f,A=()=>{b.push(y),E=Math.max(E,y.width),y={width:0,segments:[]}};for(h=0,v=o.length;h<v;h++){if(p=o[h],g=vJ({xOffset:f,yOffset:d,font:s,height:i,extrudeOffset:l},p),p===`
`){f=$,d-=g.height*c,A();continue}m=g.width*u,y.width+=m,f+=m,p!==" "&&(y.segments=y.segments.concat(g.segments))}for(y.segments.length&&A(),h=0,v=b.length;h<v;h++)y=b[h],E>y.width&&(w=E-y.width,a==="right"?y=kS({x:w},y):a==="center"&&(y=kS({x:w/2},y))),S=S.concat(y.segments);return S};var wJ=yJ,xJ={vectorChar:yC,vectorText:wJ};const bJ=dt,SJ=ht,EJ=Nt,_J=e=>{let t;for(const n of e){let r=0;if(bJ.isA(n)&&(r=1),SJ.isA(n)&&(r=2),EJ.isA(n)&&(r=3),t&&r!==t)return!1;t=r}return!0};var Qu=_J;const $J=e=>e*.017453292519943295;var AJ=$J;const TJ=(e,t)=>e-t;var wC=TJ;const CJ=(e,t,n)=>{let r=0,o=e.length;for(;o>r;){const s=Math.floor((r+o)/2),i=e[s];n(t,i)>0?r=s+1:o=s}e.splice(r,0,t)};var PJ=CJ;const{TAU:RS}=St,kJ=(e,t,n)=>{const r=t>0?e*RS/t:0,o=n>0?RS/n:0;return Math.ceil(Math.max(r,o,4))};var RJ=kJ;const NJ=e=>e*57.29577951308232;var OJ=NJ,xC={areAllShapesTheSameType:Qu,degToRad:AJ,flatten:ut,fnNumberSort:wC,insertSorted:PJ,radiusToSegments:RJ,radToDeg:OJ};const NS=gt,LJ=dt,MJ=(e,t)=>{if(t.vertices.length<4)return null;const n=[],r=t.vertices.filter((i,a)=>i[2]>0?(n.push(a),!0):!1);if(r.length!==2)throw new Error("Assertion failed: fromFakePolygon: not enough points found");const o=r.map(i=>{const a=Math.round(i[0]/e)*e+0,l=Math.round(i[1]/e)*e+0;return NS.fromValues(a,l)});if(NS.equals(o[0],o[1]))return null;const s=n[1]-n[0];if(s===1||s===3)s===1&&o.reverse();else throw new Error("Assertion failed: fromFakePolygon: unknown index ordering");return o},FJ=(e,t)=>{const n=t.map(r=>MJ(e,r)).filter(r=>r!==null);return LJ.create(n)};var E2=FJ;const Rs=Ke,DJ=dt,IJ=ht,zJ=xt,BJ=(e,t,n)=>{const r=[Rs.fromVec2(Rs.create(),n[0],e),Rs.fromVec2(Rs.create(),n[1],e),Rs.fromVec2(Rs.create(),n[1],t),Rs.fromVec2(Rs.create(),n[0],t)];return zJ.create(r)},GJ=(e,t)=>{const r=DJ.toSides(t).map(s=>BJ(e.z0,e.z1,s));return IJ.create(r)};var _2=GJ;const OS=Mt,jJ=gt,yn=Ke,ea=function(e,t){arguments.length<2&&(t=yn.orthogonal(yn.create(),e)),this.v=yn.normalize(yn.create(),yn.cross(yn.create(),e,t)),this.u=yn.cross(yn.create(),this.v,e),this.plane=e,this.planeorigin=yn.scale(yn.create(),e,e[3])};ea.GetCartesian=function(e,t){const n=e+"/"+t;let r,o;if(n==="X/Y")r=[0,0,1],o=[1,0,0];else if(n==="Y/-X")r=[0,0,1],o=[0,1,0];else if(n==="-X/-Y")r=[0,0,1],o=[-1,0,0];else if(n==="-Y/X")r=[0,0,1],o=[0,-1,0];else if(n==="-X/Y")r=[0,0,-1],o=[-1,0,0];else if(n==="-Y/-X")r=[0,0,-1],o=[0,-1,0];else if(n==="X/-Y")r=[0,0,-1],o=[1,0,0];else if(n==="Y/X")r=[0,0,-1],o=[0,1,0];else if(n==="X/Z")r=[0,-1,0],o=[1,0,0];else if(n==="Z/-X")r=[0,-1,0],o=[0,0,1];else if(n==="-X/-Z")r=[0,-1,0],o=[-1,0,0];else if(n==="-Z/X")r=[0,-1,0],o=[0,0,-1];else if(n==="-X/Z")r=[0,1,0],o=[-1,0,0];else if(n==="-Z/-X")r=[0,1,0],o=[0,0,-1];else if(n==="X/-Z")r=[0,1,0],o=[1,0,0];else if(n==="Z/X")r=[0,1,0],o=[0,0,1];else if(n==="Y/Z")r=[1,0,0],o=[0,1,0];else if(n==="Z/-Y")r=[1,0,0],o=[0,0,1];else if(n==="-Y/-Z")r=[1,0,0],o=[0,-1,0];else if(n==="-Z/Y")r=[1,0,0],o=[0,0,-1];else if(n==="-Y/Z")r=[-1,0,0],o=[0,-1,0];else if(n==="-Z/-Y")r=[-1,0,0],o=[0,0,-1];else if(n==="Y/-Z")r=[-1,0,0],o=[0,1,0];else if(n==="Z/Y")r=[-1,0,0],o=[0,0,1];else throw new Error("OrthoNormalBasis.GetCartesian: invalid combination of axis identifiers. Should pass two string arguments from [X,Y,Z,-X,-Y,-Z], being two different axes.");return new ea(new Plane(new Vector3D(r),0),new Vector3D(o))};ea.Z0Plane=function(){const e=new Plane(new Vector3D([0,0,1]),0);return new ea(e,new Vector3D([1,0,0]))};ea.prototype={getProjectionMatrix:function(){return OS.fromValues(this.u[0],this.v[0],this.plane[0],0,this.u[1],this.v[1],this.plane[1],0,this.u[2],this.v[2],this.plane[2],0,0,0,-this.plane[3],1)},getInverseProjectionMatrix:function(){const e=yn.scale(yn.create(),this.plane,this.plane[3]);return OS.fromValues(this.u[0],this.u[1],this.u[2],0,this.v[0],this.v[1],this.v[2],0,this.plane[0],this.plane[1],this.plane[2],0,e[0],e[1],e[2],1)},to2D:function(e){return jJ.fromValues(yn.dot(e,this.u),yn.dot(e,this.v))},to3D:function(e){const t=yn.scale(yn.create(),this.u,e[0]),n=yn.scale(yn.create(),this.v,e[1]),r=yn.add(t,t,this.planeorigin);return yn.add(n,n,r)},line3Dto2D:function(e){const t=e.point,n=e.direction.plus(t),r=this.to2D(t),o=this.to2D(n);return Line2D.fromPoints(r,o)},line2Dto3D:function(e){const t=e.origin(),n=e.direction().plus(t),r=this.to3D(t),o=this.to3D(n);return Line3D.fromPoints(r,o)},transform:function(e){const t=this.plane.transform(e),n=this.u.transform(e),r=new Vector3D(0,0,0).transform(e),o=n.minus(r);return new ea(t,o)}};var VJ=ea;const{EPS:Ko}=St,Ns=v2,lo=gt,UJ=VJ,Oa=DT,{insertSorted:HJ,fnNumberSort:WJ}=xC,LS=xt,XJ=e=>{if(e.length<2)return e;const t=[],n=e.length,r=LS.plane(e[0]),o=new UJ(r),s=[],i=[],a=new Map,l=new Map,c=new Map,u=10/Ko;for(let v=0;v<n;v++){const p=e[v];let g=[],m=p.vertices.length,w=-1;if(m>0){let y,b;for(let S=0;S<m;S++){let E=o.to2D(p.vertices[S]);const $=Math.floor(E[1]*u);let A;c.has($)?A=c.get($):c.has($+1)?A=c.get($+1):c.has($-1)?A=c.get($-1):(A=E[1],c.set($,E[1])),E=lo.fromValues(E[0],A),g.push(E);const B=E[1];(S===0||B<y)&&(y=B,w=S),(S===0||B>b)&&(b=B);let D=l.get(B);D||(D={},l.set(B,D)),D[v]=!0}if(y>=b)g=[],m=0,w=-1;else{let S=a.get(y);S||(S=[],a.set(y,S)),S.push(v)}}g.reverse(),w=m-w-1,s.push(g),i.push(w)}const f=[];l.forEach((v,p)=>f.push(p)),f.sort(WJ);let d=[],h=[];for(let v=0;v<f.length;v++){const p=[],g=f[v],m=l.get(g);for(let y=0;y<d.length;++y){const b=d[y],S=b.polygonindex;if(m[S]){const E=s[S],$=E.length;let A=b.leftvertexindex,B=b.rightvertexindex;for(;;){let W=A+1;if(W>=$&&(W=0),E[W][1]!==g)break;A=W}let D=B-1;if(D<0&&(D=$-1),E[D][1]===g&&(B=D),A!==b.leftvertexindex&&A===B)d.splice(y,1),--y;else{b.leftvertexindex=A,b.rightvertexindex=B,b.topleft=E[A],b.topright=E[B];let W=A+1;W>=$&&(W=0),b.bottomleft=E[W];let te=B-1;te<0&&(te=$-1),b.bottomright=E[te]}}}let w;if(v>=f.length-1)d=[],w=null;else{w=Number(f[v+1]);const y=.5*(g+w),b=a.get(g);for(const S in b){const E=b[S],$=s[E],A=$.length,B=i[E];let D=B;for(;;){let me=D+1;if(me>=A&&(me=0),$[me][1]!==g||me===B)break;D=me}let W=B;for(;;){let me=W-1;if(me<0&&(me=A-1),$[me][1]!==g||me===D)break;W=me}let te=D+1;te>=A&&(te=0);let pe=W-1;pe<0&&(pe=A-1);const V={polygonindex:E,leftvertexindex:D,rightvertexindex:W,topleft:$[D],topright:$[W],bottomleft:$[te],bottomright:$[pe]};HJ(d,V,(me,ee)=>{const xe=Oa(me.topleft,me.bottomleft,y),oe=Oa(ee.topleft,ee.bottomleft,y);return xe>oe?1:xe<oe?-1:0})}}for(const y in d){const b=d[y];let S=Oa(b.topleft,b.bottomleft,g);const E=lo.fromValues(S,g);S=Oa(b.topright,b.bottomright,g);const $=lo.fromValues(S,g);S=Oa(b.topleft,b.bottomleft,w);const A=lo.fromValues(S,w);S=Oa(b.topright,b.bottomright,w);const B=lo.fromValues(S,w),D={topleft:E,topright:$,bottomleft:A,bottomright:B,leftline:Ns.fromPoints(Ns.create(),E,A),rightline:Ns.fromPoints(Ns.create(),B,$)};if(p.length>0){const W=p[p.length-1],te=lo.distance(D.topleft,W.topright),pe=lo.distance(D.bottomleft,W.bottomright);te<Ko&&pe<Ko&&(D.topleft=W.topleft,D.leftline=W.leftline,D.bottomleft=W.bottomleft,p.splice(p.length-1,1))}p.push(D)}if(v>0){const y=new Set,b=new Set;for(let S=0;S<p.length;S++){const E=p[S];for(let $=0;$<h.length;$++)if(!b.has($)){const A=h[$];if(lo.distance(A.bottomleft,E.topleft)<Ko&&lo.distance(A.bottomright,E.topright)<Ko){b.add($);const B=Ns.direction(E.leftline),D=Ns.direction(A.leftline),W=B[0]-D[0],te=Ns.direction(E.rightline),pe=Ns.direction(A.rightline),V=te[0]-pe[0],me=Math.abs(W)<Ko,ee=Math.abs(V)<Ko,xe=me||W>=0,oe=ee||V>=0;xe&&oe&&(E.outpolygon=A.outpolygon,E.leftlinecontinues=me,E.rightlinecontinues=ee,y.add($));break}}}for(let S=0;S<h.length;S++)if(!y.has(S)){const E=h[S];E.outpolygon.rightpoints.push(E.bottomright),lo.distance(E.bottomright,E.bottomleft)>Ko&&E.outpolygon.leftpoints.push(E.bottomleft),E.outpolygon.leftpoints.reverse();const A=E.outpolygon.rightpoints.concat(E.outpolygon.leftpoints).map(D=>o.to3D(D)),B=LS.fromPointsAndPlane(A,r);B.vertices.length&&t.push(B)}}for(let y=0;y<p.length;y++){const b=p[y];b.outpolygon?(b.leftlinecontinues||b.outpolygon.leftpoints.push(b.topleft),b.rightlinecontinues||b.outpolygon.rightpoints.push(b.topright)):(b.outpolygon={leftpoints:[],rightpoints:[]},b.outpolygon.leftpoints.push(b.topleft),lo.distance(b.topleft,b.topright)>Ko&&b.outpolygon.rightpoints.push(b.topright))}h=p}return t};var YJ=XJ;const MS=ht,qJ=xt,{NEPS:ZJ}=St,QJ=YJ,KJ=e=>{if(e.isRetesselated)return e;const t=MS.toPolygons(e).map((s,i)=>({vertices:s.vertices,plane:qJ.plane(s),index:i})),n=JJ(t),r=[];n.forEach(s=>{if(Array.isArray(s)){const i=QJ(s);r.push(...i)}else r.push(s)});const o=MS.create(r);return o.isRetesselated=!0,o},JJ=e=>{let t=[e];const n=[];for(let o=3;o>=0;o--){const s=[],i=o===3?15e-9:ZJ;t.forEach(a=>{a.sort(eee(o,i));let l=0;for(let c=1;c<a.length;c++)a[c].plane[o]-a[l].plane[o]>i&&(c-l===1?n.push(a[l]):s.push(a.slice(l,c)),l=c);a.length-l===1?n.push(a[l]):s.push(a.slice(l))}),t=s}const r=[];return t.forEach(o=>{o[0]&&(r[o[0].index]=o)}),n.forEach(o=>{r[o.index]=o}),r},eee=(e,t)=>(n,r)=>n.plane[e]-r.plane[e]>t?1:r.plane[e]-n.plane[e]>t?-1:0;var Ku=KJ;const{EPS:La}=St,FS=oa,tee=(e,t)=>{if(e.polygons.length===0||t.polygons.length===0)return!1;const n=FS(e),r=n[0],o=n[1],s=FS(t),i=s[0],a=s[1];return!(i[0]-o[0]>La||r[0]-a[0]>La||i[1]-o[1]>La||r[1]-a[1]>La||i[2]-o[2]>La||r[2]-a[2]>La)};var $2=tee;const DS=jo,nee=xt;let ree=class Jv{constructor(t){this.plane=null,this.front=null,this.back=null,this.polygontreenodes=[],this.parent=t}invert(){const t=[this];let n;for(let r=0;r<t.length;r++){n=t[r],n.plane&&(n.plane=DS.flip(DS.create(),n.plane)),n.front&&t.push(n.front),n.back&&t.push(n.back);const o=n.front;n.front=n.back,n.back=o}}clipPolygons(t,n){let r={node:this,polygontreenodes:t},o;const s=[];do{if(o=r.node,t=r.polygontreenodes,o.plane){const i=o.plane,a=[],l=[],c=n?a:l,u=t.length;for(let d=0;d<u;d++){const h=t[d];h.isRemoved()||h.splitByPlane(i,c,a,l,a)}o.front&&l.length>0&&s.push({node:o.front,polygontreenodes:l});const f=a.length;if(o.back&&f>0)s.push({node:o.back,polygontreenodes:a});else for(let d=0;d<f;d++)a[d].remove()}r=s.pop()}while(r!==void 0)}clipTo(t,n){let r=this;const o=[];do r.polygontreenodes.length>0&&t.rootnode.clipPolygons(r.polygontreenodes,n),r.front&&o.push(r.front),r.back&&o.push(r.back),r=o.pop();while(r!==void 0)}addPolygonTreeNodes(t){let n={node:this,polygontreenodes:t};const r=[];do{const o=n.node,s=n.polygontreenodes;if(s.length===0){n=r.pop();continue}if(!o.plane){let c=0;c=Math.floor(s.length/2);const u=s[c].getPolygon();o.plane=nee.plane(u)}const i=[],a=[],l=s.length;for(let c=0;c<l;++c)s[c].splitByPlane(o.plane,o.polygontreenodes,a,i,a);i.length>0&&(o.front||(o.front=new Jv(o)),l===i.length&&a.length===0?o.front.polygontreenodes=i:r.push({node:o.front,polygontreenodes:i})),a.length>0&&(o.back||(o.back=new Jv(o)),l===a.length&&i.length===0?o.back.polygontreenodes=a:r.push({node:o.back,polygontreenodes:a})),n=r.pop()}while(n!==void 0)}};var oee=ree;const Ma=Ke,see=(e,t,n)=>{const r=Ma.subtract(Ma.create(),n,t);let o=(e[3]-Ma.dot(e,t))/Ma.dot(e,r);return Number.isNaN(o)&&(o=0),o>1&&(o=1),o<0&&(o=0),Ma.scale(r,r,o),Ma.add(r,t,r),r};var iee=see;const{EPS:Ed}=St,aee=jo,_d=Ke,am=xt,lee=iee,cee=(e,t)=>{const n={type:null,front:null,back:null},r=t.vertices,o=r.length,s=am.plane(t);if(aee.equals(s,e))n.type=0;else{let i=!1,a=!1;const l=[],c=-Ed;for(let u=0;u<o;u++){const f=_d.dot(e,r[u])-e[3],d=f<c;l.push(d),f>Ed&&(i=!0),f<c&&(a=!0)}if(!i&&!a){const u=_d.dot(e,s);n.type=u>=0?0:1}else if(!a)n.type=2;else if(!i)n.type=3;else{n.type=4;const u=[],f=[];let d=l[0];for(let v=0;v<o;v++){const p=r[v];let g=v+1;g>=o&&(g=0);const m=l[g];if(d===m)d?f.push(p):u.push(p);else{const w=r[g],y=lee(e,p,w);d?(f.push(p),f.push(y),u.push(y)):(u.push(p),u.push(y),f.push(y))}d=m}const h=Ed*Ed;if(f.length>=3){let v=f[f.length-1];for(let p=0;p<f.length;p++){const g=f[p];_d.squaredDistance(g,v)<h&&(f.splice(p,1),p--),v=g}}if(u.length>=3){let v=u[u.length-1];for(let p=0;p<u.length;p++){const g=u[p];_d.squaredDistance(g,v)<h&&(u.splice(p,1),p--),v=g}}u.length>=3&&(n.front=am.fromPointsAndPlane(u,s)),f.length>=3&&(n.back=am.fromPointsAndPlane(f,s))}}return n};var uee=cee;const{EPS:fee}=St,dee=Ke,IS=xt,hee=uee;let pee=class bC{constructor(t,n){this.parent=t,this.children=[],this.polygon=n,this.removed=!1}addPolygons(t){if(!this.isRootNode())throw new Error("Assertion failed");const n=this;t.forEach(r=>{n.addChild(r)})}remove(){if(!this.removed){this.removed=!0,this.polygon=null;const t=this.parent.children,n=t.indexOf(this);if(n<0)throw new Error("Assertion failed");t.splice(n,1),this.parent.recursivelyInvalidatePolygon()}}isRemoved(){return this.removed}isRootNode(){return!this.parent}invert(){if(!this.isRootNode())throw new Error("Assertion failed");this.invertSub()}getPolygon(){if(!this.polygon)throw new Error("Assertion failed");return this.polygon}getPolygons(t){let n=[this];const r=[n];let o,s,i,a;for(o=0;o<r.length;++o)for(n=r[o],s=0,i=n.length;s<i;s++)a=n[s],a.polygon?t.push(a.polygon):a.children.length>0&&r.push(a.children)}splitByPlane(t,n,r,o,s){if(this.children.length){const i=[this.children];let a,l,c,u,f;for(a=0;a<i.length;a++)for(f=i[a],l=0,c=f.length;l<c;l++)u=f[l],u.children.length>0?i.push(u.children):u._splitByPlane(t,n,r,o,s)}else this._splitByPlane(t,n,r,o,s)}_splitByPlane(t,n,r,o,s){const i=this.polygon;if(i){const a=IS.measureBoundingSphere(i),l=a[3]+fee,c=a,u=dee.dot(t,c)-t[3];if(u>l)o.push(this);else if(u<-l)s.push(this);else{const f=hee(t,i);switch(f.type){case 0:n.push(this);break;case 1:r.push(this);break;case 2:o.push(this);break;case 3:s.push(this);break;case 4:if(f.front){const d=this.addChild(f.front);o.push(d)}if(f.back){const d=this.addChild(f.back);s.push(d)}break}}}}addChild(t){const n=new bC(this,t);return this.children.push(n),n}invertSub(){let t=[this];const n=[t];let r,o,s,i;for(r=0;r<n.length;r++)for(t=n[r],o=0,s=t.length;o<s;o++)i=t[o],i.polygon&&(i.polygon=IS.invert(i.polygon)),i.children.length>0&&n.push(i.children)}recursivelyInvalidatePolygon(){this.polygon=null,this.parent&&this.parent.recursivelyInvalidatePolygon()}clear(){let t=[this];const n=[t];for(let r=0;r<n.length;++r){t=n[r];const o=t.length;for(let s=0;s<o;s++){const i=t[s];i.polygon&&(i.polygon=null),i.parent&&(i.parent=null),i.children.length>0&&n.push(i.children),i.children=[]}}}toString(){let t="",n=[this];const r=[n];let o,s,i,a;for(o=0;o<r.length;++o){n=r[o];const l=" ".repeat(o);for(s=0,i=n.length;s<i;s++)a=n[s],t+=`${l}PolygonTreeNode (${a.isRootNode()}): ${a.children.length}`,a.polygon?t+=`
 ${l}polygon: ${a.polygon.vertices}
`:t+=`
`,a.children.length>0&&r.push(a.children)}return t}};var mee=pee;const vee=oee,gee=mee;let yee=class{constructor(t){this.polygonTree=new gee,this.rootnode=new vee(null),t&&this.addPolygons(t)}invert(){this.polygonTree.invert(),this.rootnode.invert()}clipTo(t,n=!1){this.rootnode.clipTo(t,n)}allPolygons(){const t=[];return this.polygonTree.getPolygons(t),t}addPolygons(t){const n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=this.polygonTree.addChild(t[r]);this.rootnode.addPolygonTreeNodes(n)}clear(){this.polygonTree.clear()}toString(){return"Tree: "+this.polygonTree.toString("")}};var wee=yee,A2={Tree:wee};const $d=ht,xee=$2,{Tree:zS}=A2,bee=(e,t)=>{if(!xee(e,t))return $d.create();const n=new zS($d.toPolygons(e)),r=new zS($d.toPolygons(t));n.invert(),r.clipTo(n),r.invert(),n.clipTo(r),r.clipTo(n),n.addPolygons(r.allPolygons()),n.invert();const o=n.allPolygons();return $d.create(o)};var See=bee;const Eee=ut,_ee=Ku,$ee=See,Aee=(...e)=>{e=Eee(e);let t=e.shift();return e.forEach(n=>{t=$ee(t,n)}),t=_ee(t),t};var SC=Aee;const Tee=ut,Cee=ht,Pee=di,kee=E2,Ree=_2,Nee=SC,Oee=(...e)=>{e=Tee(e);const t=e.map(o=>Ree({z0:-1,z1:1},o)),n=Nee(t),r=Pee(n);return kee(r,Cee.toPolygons(n))};var Lee=Oee;const Mee=ut,Fee=Qu,Dee=dt,Iee=ht,zee=Lee,Bee=SC,Gee=(...e)=>{if(e=Mee(e),e.length===0)throw new Error("wrong number of arguments");if(!Fee(e))throw new Error("only intersect of the types are supported");const t=e[0];return Dee.isA(t)?zee(e):Iee.isA(t)?Bee(e):t};var jee=Gee;const lm=Ke,Vee=di,BS=ht,Uee=e=>e.sort((t,n)=>t-n).filter((t,n,r)=>!n||t!==r[n-1]),Hee=(e,t,n)=>{const r=`${t}`,o=e.get(r);o===void 0?e.set(r,[n]):o.push(n)},Wee=(e,t)=>{const n=`${t}`;return e.get(n)},Xee=e=>{const t=Vee(e),n=BS.toPolygons(e),r=n.length,o=new Map,s=lm.create();n.forEach((u,f)=>{u.vertices.forEach(d=>{Hee(o,lm.snap(s,d,t),f)})});const i=n.map(u=>{let f=[];return u.vertices.forEach(d=>{f=f.concat(Wee(o,lm.snap(s,d,t)))}),{e:1,d:Uee(f)}});o.clear();let a=0;const l=i.length;for(let u=0;u<l;u++){const f=i[u];if(f.e>0){const d=new Array(r);d[u]=!0;do a=0,d.forEach((h,v)=>{const p=i[v];if(p.e>0){p.e=-1;for(let g=0;g<p.d.length;g++)d[p.d[g]]=!0;a++}});while(a>0);f.indexes=d}}const c=[];for(let u=0;u<l;u++)if(i[u].indexes){const f=[];i[u].indexes.forEach((d,h)=>f.push(n[h])),c.push(BS.create(f))}return c};var Yee=Xee;const qee=ut,Zee=ht,Qee=Yee,Kee=(...e)=>{if(e=qee(e),e.length===0)throw new Error("wrong number of arguments");const t=e.map(n=>Zee.isA(n)?Qee(n):n);return t.length===1?t[0]:t};var Jee=Kee;const Ad=ht,ete=$2,{Tree:GS}=A2,tte=(e,t)=>{if(!ete(e,t))return Ad.clone(e);const n=new GS(Ad.toPolygons(e)),r=new GS(Ad.toPolygons(t));n.invert(),n.clipTo(r),r.clipTo(n,!0),n.addPolygons(r.allPolygons()),n.invert();const o=n.allPolygons();return Ad.create(o)};var nte=tte;const rte=ut,ote=Ku,ste=nte,ite=(...e)=>{e=rte(e);let t=e.shift();return e.forEach(n=>{t=ste(t,n)}),t=ote(t),t};var EC=ite;const ate=ut,lte=ht,cte=di,ute=E2,fte=_2,dte=EC,hte=(...e)=>{e=ate(e);const t=e.map(o=>fte({z0:-1,z1:1},o)),n=dte(t),r=cte(n);return ute(r,lte.toPolygons(n))};var pte=hte;const mte=ut,vte=Qu,gte=dt,yte=ht,wte=pte,xte=EC,bte=(...e)=>{if(e=mte(e),e.length===0)throw new Error("wrong number of arguments");if(!vte(e))throw new Error("only subtract of the types are supported");const t=e[0];return gte.isA(t)?wte(e):yte.isA(t)?xte(e):t};var Ste=bte;const ll=ht,Ete=$2,{Tree:jS}=A2,_te=(e,t)=>{if(!Ete(e,t))return $te(e,t);const n=new jS(ll.toPolygons(e)),r=new jS(ll.toPolygons(t));n.clipTo(r,!1),r.clipTo(n),r.invert(),r.clipTo(n),r.invert();const o=n.allPolygons().concat(r.allPolygons());return ll.create(o)},$te=(e,t)=>{let n=ll.toPolygons(e);return n=n.concat(ll.toPolygons(t)),ll.create(n)};var _C=_te;const Ate=ut,Tte=Ku,Cte=_C,Pte=(...e)=>{e=Ate(e);let t;for(t=1;t<e.length;t+=2)e.push(Cte(e[t-1],e[t]));let n=e[t-1];return n=Tte(n),n};var $C=Pte;const kte=ut,Rte=ht,Nte=di,Ote=E2,Lte=_2,Mte=$C,Fte=(...e)=>{e=kte(e);const t=e.map(o=>Lte({z0:-1,z1:1},o)),n=Mte(t),r=Nte(n);return Ote(r,Rte.toPolygons(n))};var AC=Fte;const Dte=ut,Ite=Qu,zte=dt,Bte=ht,Gte=AC,jte=$C,Vte=(...e)=>{if(e=Dte(e),e.length===0)throw new Error("wrong number of arguments");if(!Ite(e))throw new Error("only unions of the same type are supported");const t=e[0];return zte.isA(t)?Gte(e):Bte.isA(t)?jte(e):t};var T2=Vte,Ute={intersect:jee,scission:Jee,subtract:Ste,union:T2};const{EPS:Hte,TAU:Wte}=St,VS=IT,Mc=v2,Zt=gt,Xte=zp,Yte=(e,t)=>{const n={delta:1,corners:"edge",closed:!1,segments:16};let{delta:r,corners:o,closed:s,segments:i}=Object.assign({},n,e);if(Math.abs(r)<Hte)return t;let a=e.closed?Xte(t):1;a===0&&(a=1);const l=a>0&&r>=0||a<0&&r<0;r=Math.abs(r);let c=null,u=[];const f=[],d=Zt.create(),h=t.length;for(let v=0;v<h;v++){const p=(v+1)%h,g=t[v],m=t[p];l?Zt.subtract(d,g,m):Zt.subtract(d,m,g),Zt.normal(d,d),Zt.normalize(d,d),Zt.scale(d,d,r);const w=Zt.add(Zt.create(),g,d),y=Zt.add(Zt.create(),m,d),b=[w,y];if(c!=null&&(s||!s&&p!==0)){const S=VS(c[0],c[1],b[0],b[1]);S?(u.pop(),b[0]=S):f.push({c:g,s0:c,s1:b})}c=[w,y],!(p===0&&!s)&&(u.push(b[0]),u.push(b[1]))}if(s&&c!=null){const v=u[0],p=u[1],g=VS(c[0],c[1],v,p);if(g)u[0]=g,u.pop();else{const m=t[0],w=[v,p];f.push({c:m,s0:c,s1:w})}}if(o==="edge"){const v=new Map;u.forEach((m,w)=>v.set(m,w));const p=Mc.create(),g=Mc.create();f.forEach(m=>{Mc.fromPoints(p,m.s0[0],m.s0[1]),Mc.fromPoints(g,m.s1[0],m.s1[1]);const w=Mc.intersectPointOfLines(p,g);if(Number.isFinite(w[0])&&Number.isFinite(w[1])){const y=m.s0[1],b=v.get(y);u[b]=w,u[(b+1)%u.length]=void 0}else{const y=m.s1[0],b=v.get(y);u[b]=void 0}}),u=u.filter(m=>m!==void 0)}if(o==="round"){let v=Math.floor(i/4);const p=Zt.create();f.forEach(g=>{let m=Zt.angle(Zt.subtract(p,g.s1[0],g.c));if(m-=Zt.angle(Zt.subtract(p,g.s0[1],g.c)),l&&m<0&&(m=m+Math.PI,m<0&&(m=m+Math.PI)),!l&&m>0&&(m=m-Math.PI,m>0&&(m=m-Math.PI)),m!==0){v=Math.floor(i*(Math.abs(m)/Wte));const w=m/v,y=Zt.angle(Zt.subtract(p,g.s0[1],g.c)),b=[];for(let S=1;S<v;S++){const E=y+w*S,$=Zt.fromAngleRadians(Zt.create(),E);Zt.scale($,$,r),Zt.add($,$,g.c),b.push($)}if(b.length>0){const S=g.s0[1];let E=u.findIndex($=>Zt.equals(S,$));E=(E+1)%u.length,u.splice(E,0,...b)}}else{const w=g.s1[0],y=u.findIndex(b=>Zt.equals(w,b));u.splice(y,1)}})}return u};var Wp=Yte;const Td=dt,qte=Wp,Zte=(e,t)=>{const n={delta:1,corners:"edge",segments:16},{delta:r,corners:o,segments:s}=Object.assign({},n,e);if(!(o==="edge"||o==="chamfer"||o==="round"))throw new Error('corners must be "edge", "chamfer", or "round"');const l=Td.toOutlines(t).map(c=>(e={delta:r,corners:o,closed:!0,segments:s},qte(e,c))).reduce((c,u)=>c.concat(Td.toSides(Td.fromPoints(u))),[]);return Td.create(l)};var Qte=Zte;const US=Mt,Kte=Ke,Jte=ht,Fc=xt,ene=(e,t)=>{Kte.dot(Fc.plane(t),e)>0&&(t=Fc.invert(t));const r=[t],o=Fc.transform(US.fromTranslation(US.create(),e),t),s=t.vertices.length;for(let i=0;i<s;i++){const a=i<s-1?i+1:0,l=Fc.create([t.vertices[i],o.vertices[i],o.vertices[a],t.vertices[a]]);r.push(l)}return r.push(Fc.invert(o)),Jte.create(r)};var tne=ene;const{EPS:nne,TAU:cm}=St,HS=Mt,Dt=Ke,rne=wC,um=ht,Oi=xt,one=lC,sne=Ku,fm=_C,ine=tne,ane=(e,t,n)=>{const r=t.toString();if(e.has(r))e.get(r)[1].push(n);else{const o=[t,[n]];e.set(r,o)}},lne=(e,t,n)=>{const r=t[0].toString(),o=t[1].toString(),s=r<o?`${r},${o}`:`${o},${r}`;if(e.has(s))e.get(s)[1].push(n);else{const i=[t,[n]];e.set(s,i)}},dm=(e,t)=>{e.findIndex(r=>r===t)<0&&e.push(t)},cne=(e,t)=>{const n={delta:1,segments:12},{delta:r,segments:o}=Object.assign({},n,e);let s=um.create();const i=new Map,a=new Map,l=Dt.create(),c=Dt.create();return um.toPolygons(t).forEach((f,d)=>{const h=Dt.scale(Dt.create(),Oi.plane(f),2*r),v=Oi.transform(HS.fromTranslation(HS.create(),Dt.scale(Dt.create(),h,-.5)),f),p=ine(h,v);s=fm(s,p);const g=f.vertices;for(let m=0;m<g.length;m++){ane(i,g[m],Oi.plane(f));const w=(m+1)%g.length,y=[g[m],g[w]];lne(a,y,Oi.plane(f))}}),a.forEach(f=>{const d=f[0],h=f[1],v=d[0],p=d[1],g=Dt.subtract(Dt.create(),p,v);Dt.normalize(g,g);const m=h[0],w=Dt.cross(Dt.create(),m,g);let y=[];for(let W=0;W<o;W++)dm(y,W*cm/o);for(let W=0,te=h.length;W<te;W++){const pe=h[W],V=Dt.dot(w,pe),me=Dt.dot(m,pe);let ee=Math.atan2(V,me);ee<0&&(ee+=cm),dm(y,ee),ee=Math.atan2(-V,-me),ee<0&&(ee+=cm),dm(y,ee)}y=y.sort(rne);const b=y.length;let S,E;const $=[],A=[],B=[];for(let W=-1;W<b;W++){const te=y[W<0?W+b:W],pe=Math.sin(te),V=Math.cos(te);Dt.scale(l,m,V*r),Dt.scale(c,w,pe*r),Dt.add(l,l,c);const me=Dt.add(Dt.create(),v,l),ee=Dt.add(Dt.create(),p,l);let xe=!1;if(W>=0&&Dt.distance(me,S)<nne&&(xe=!0),!xe){if(W>=0){$.push(me),A.push(ee);const oe=[E,ee,me,S],$e=Oi.create(oe);B.push($e)}S=me,E=ee}}A.reverse(),B.push(Oi.create($)),B.push(Oi.create(A));const D=um.create(B);s=fm(s,D)}),i.forEach(f=>{const d=f[0],h=f[1],v=h[0];let p=null,g=0;for(let b=1;b<h.length;b++){const S=h[b],E=Dt.cross(l,v,S),$=Dt.length(E);$>.05&&$>g&&(g=$,p=S)}p||(p=Dt.orthogonal(l,v));const m=Dt.cross(l,v,p);Dt.normalize(m,m);const w=Dt.cross(c,m,v),y=one({center:[d[0],d[1],d[2]],radius:r,segments:o,axes:[v,m,w]});s=fm(s,y)}),sne(s)};var une=cne;const fne=ht,dne=T2,hne=une,pne=(e,t)=>{const n={delta:1,corners:"round",segments:12},{delta:r,corners:o,segments:s}=Object.assign({},n,e);if(o!=="round")throw new Error('corners must be "round" for 3D geometries');if(fne.toPolygons(t).length===0)throw new Error("the given geometry cannot be empty");e={delta:r,corners:o,segments:s};const a=hne(e,t);return dne(t,a)};var mne=pne;const vne=zp,ar=gt,Ia=dt,Xc=Nt,WS=Wp,gne=e=>{let{external:t,internal:n}=e;vne(t)<0?t=t.reverse():n=n.reverse();const r=Xc.fromPoints({closed:!0},t),o=Xc.fromPoints({closed:!0},n),s=Ia.toSides(Ia.fromPoints(Xc.toPoints(r))),i=Ia.toSides(Ia.fromPoints(Xc.toPoints(o)));return s.push(...i),Ia.create(s)},yne=(e,t,n,r)=>{const{points:o,external:s,internal:i}=e,a=Math.floor(t/2),l=[],c=[];if(n==="round"&&a>0){const f=Math.PI/a,d=o[o.length-1],h=ar.angle(ar.subtract(ar.create(),s[s.length-1],d)),v=o[0],p=ar.angle(ar.subtract(ar.create(),i[0],v));for(let g=1;g<a;g++){let m=h+f*g,w=ar.fromAngleRadians(ar.create(),m);ar.scale(w,w,r),ar.add(w,w,d),l.push(w),m=p+f*g,w=ar.fromAngleRadians(ar.create(),m),ar.scale(w,w,r),ar.add(w,w,v),c.push(w)}}const u=[];return u.push(...s,...l,...i.reverse(),...c),Ia.fromPoints(u)},wne=(e,t)=>{e=Object.assign({},{delta:1,corners:"edge",segments:16},e);const{delta:r,corners:o,segments:s}=e;if(r<=0)throw new Error("the given delta must be positive for paths");if(!(o==="edge"||o==="chamfer"||o==="round"))throw new Error('corners must be "edge", "chamfer", or "round"');const i=t.isClosed,a=Xc.toPoints(t);if(a.length===0)throw new Error("the given geometry cannot be empty");const l={points:a,external:WS({delta:r,corners:o,segments:s,closed:i},a),internal:WS({delta:-r,corners:o,segments:s,closed:i},a)};return t.isClosed?gne(l):yne(l,s,o,r)};var xne=wne;const bne=ut,Sne=dt,Ene=ht,_ne=Nt,$ne=Qte,Ane=mne,Tne=xne,Cne=(e,...t)=>{if(t=bne(t),t.length===0)throw new Error("wrong number of arguments");const n=t.map(r=>_ne.isA(r)?Tne(e,r):Sne.isA(r)?$ne(e,r):Ene.isA(r)?Ane(e,r):r);return n.length===1?n[0]:n};var C2=Cne;const Cd=dt,XS=f2,Pne=Wp,kne=(e,t)=>{const n={delta:1,corners:"edge",segments:0},{delta:r,corners:o,segments:s}=Object.assign({},n,e);if(!(o==="edge"||o==="chamfer"||o==="round"))throw new Error('corners must be "edge", "chamfer", or "round"');const i=Cd.toOutlines(t),l=i.map(c=>(e={delta:i.reduce((d,h)=>d+XS.arePointsInside(c,XS.create(h)),0)%2===0?r:-r,corners:o,closed:!0,segments:s},Pne(e,c))).reduce((c,u)=>c.concat(Cd.toSides(Cd.fromPoints(u))),[]);return Cd.create(l)};var Rne=kne;const YS=Nt,Nne=Wp,One=(e,t)=>{const n={delta:1,corners:"edge",closed:t.isClosed,segments:16},{delta:r,corners:o,closed:s,segments:i}=Object.assign({},n,e);if(!(o==="edge"||o==="chamfer"||o==="round"))throw new Error('corners must be "edge", "chamfer", or "round"');e={delta:r,corners:o,closed:s,segments:i};const a=Nne(e,YS.toPoints(t));return YS.fromPoints({closed:s},a)};var Lne=One;const Mne=ut,Fne=dt,Dne=Nt,Ine=Rne,zne=Lne,Bne=(e,...t)=>{if(t=Mne(t),t.length===0)throw new Error("wrong number of arguments");const n=t.map(r=>Dne.isA(r)?zne(e,r):Fne.isA(r)?Ine(e,r):r);return n.length===1?n[0]:n};var Gne=Bne,jne={expand:C2,offset:Gne};const Dc=Mt,hm=Ke,Vne=dt,pm=Gl,Une=Vp,Hne=(e,t)=>{const n={offset:[0,0,1],twistAngle:0,twistSteps:12,repair:!0};let{offset:r,twistAngle:o,twistSteps:s,repair:i}=Object.assign({},n,e);if(s<1)throw new Error("twistSteps must be 1 or more");o===0&&(s=1);const a=hm.clone(r),l=Vne.toSides(t);if(l.length===0)throw new Error("the given geometry cannot be empty");const c=pm.fromSides(l);a[2]<0&&pm.reverse(c,c);const u=Dc.create(),f=(d,h,v)=>{const p=h/s*o,g=hm.scale(hm.create(),a,h/s);return Dc.multiply(u,Dc.fromZRotation(u,p),Dc.fromTranslation(Dc.create(),g)),pm.transform(u,v)};return e={numberOfSlices:s+1,capStart:!0,capEnd:!0,repair:i,callback:f},Une(e,c)};var Xp=Hne;const Wne=dt,Xne=Nt,Yne=Xp,qne=(e,t)=>{if(!t.isClosed)throw new Error("extruded path must be closed");const n=Xne.toPoints(t),r=Wne.fromPoints(n);return Yne(e,r)};var Zne=qne;const Qne=ut,Kne=dt,Jne=Nt,ere=Xp,tre=Zne,nre=(e,...t)=>{const n={height:1,twistAngle:0,twistSteps:1,repair:!0},{height:r,twistAngle:o,twistSteps:s,repair:i}=Object.assign({},n,e);if(t=Qne(t),t.length===0)throw new Error("wrong number of arguments");e={offset:[0,0,r],twistAngle:o,twistSteps:s,repair:i};const a=t.map(l=>Jne.isA(l)?tre(e,l):Kne.isA(l)?ere(e,l):l);return a.length===1?a[0]:a};var rre=nre;const ore=Nt,sre=C2,ire=Xp,are=(e,t)=>{const n={size:1,height:1},{size:r,height:o}=Object.assign({},n,e);if(e.delta=r,e.offset=[0,0,o],ore.toPoints(t).length===0)throw new Error("the given geometry cannot be empty");const i=sre(e,t);return ire(e,i)};var lre=are;const{area:cre}=qu,mm=dt,ure=Nt,fre=C2,dre=Xp,hre=(e,t)=>{const n={size:1,height:1},{size:r,height:o}=Object.assign({},n,e);e.delta=r,e.offset=[0,0,o];const s=mm.toOutlines(t);if(s.length===0)throw new Error("the given geometry cannot be empty");const a=s.map(c=>(cre(c)<0&&c.reverse(),fre(e,ure.fromPoints({closed:!0},c)))).reduce((c,u)=>c.concat(mm.toSides(u)),[]),l=mm.create(a);return dre(e,l)};var pre=hre;const mre=ut,vre=dt,gre=Nt,yre=lre,wre=pre,xre=(e,...t)=>{const n={size:1,height:1},{size:r,height:o}=Object.assign({},n,e);if(t=mre(t),t.length===0)throw new Error("wrong number of arguments");if(r<=0)throw new Error("size must be positive");if(o<=0)throw new Error("height must be positive");const s=t.map(i=>gre.isA(i)?yre(e,i):vre.isA(i)?wre(e,i):i);return s.length===1?s[0]:s};var bre=xre;const{TAU:Ic}=St,vm=Gl,Po=Mt,Sre=Vp,Ere=dt,_re=(e,t)=>{const n={angle:Ic,startAngle:0,pitch:10,endOffset:0,segmentsPerRotation:32},{angle:r,endOffset:o,segmentsPerRotation:s,startAngle:i}=Object.assign({},n,e);let a;if(!e.pitch&&e.height?a=e.height/(r/Ic):a=e.pitch?e.pitch:n.pitch,s<3)throw new Error("The number of segments per rotation needs to be at least 3.");const c=Ere.toSides(t);if(c.length===0)throw new Error("the given geometry cannot be empty");const u=c.filter(m=>m[0][0]>=0);let f=vm.fromSides(c);u.length===0&&(f=vm.reverse(f));const d=Math.round(s/Ic*Math.abs(r)),h=d>=2?d:2,v=Po.create();let p;const g=(m,w,y)=>{const b=i+r/h*w,S=o/h*w,E=(b-i)/Ic*a;return Po.multiply(v,Po.fromTranslation(Po.create(),[S,0,E*Math.sign(r)]),Po.fromXRotation(Po.create(),-Ic/4*Math.sign(r))),p=Po.create(),Po.multiply(p,Po.fromZRotation(Po.create(),b),v),vm.transform(p,y)};return Sre({numberOfSlices:h+1,callback:g},f)};var $re=_re;const Are=ut,qS=m2,gm=jo,ZS=Mt,QS=dt,TC=ht,Fa=xt,Tre=di,Cre=AC,Pre=(e,t)=>{const n=gm.fromNormalAndPoint(gm.create(),e.axis,e.origin);if(Number.isNaN(n[0])||Number.isNaN(n[1])||Number.isNaN(n[2])||Number.isNaN(n[3]))throw new Error("project: invalid axis or origin");const r=Tre(t),o=r*r*Math.sqrt(3)/4;if(r===0)return QS.create();const s=TC.toPolygons(t);let i=[];for(let l=0;l<s.length;l++){const c=s[l].vertices.map(d=>gm.projectionOfPoint(n,d)),u=Fa.create(c),f=Fa.plane(u);qS(n,f)&&(Fa.measureArea(u)<o||i.push(u))}if(!qS(n,[0,0,1])){const l=ZS.fromVectorRotation(ZS.create(),n,[0,0,1]);i=i.map(c=>Fa.transform(l,c))}i=i.sort((l,c)=>Fa.measureArea(c)-Fa.measureArea(l));const a=i.map(l=>QS.fromPoints(l.vertices));return Cre(a)},kre=(e,...t)=>{const n={axis:[0,0,1],origin:[0,0,0]},{axis:r,origin:o}=Object.assign({},n,e);if(t=Are(t),t.length===0)throw new Error("wrong number of arguments");e={axis:r,origin:o};const s=t.map(i=>TC.isA(i)?Pre(e,i):i);return s.length===1?s[0]:s};var Rre=kre,Nre={extrudeFromSlices:Vp,extrudeLinear:rre,extrudeRectangular:bre,extrudeRotate:vC,extrudeHelical:$re,project:Rre,slice:Gl};const KS=gt,Ore=e=>{let t=KS.fromValues(1/0,1/0);e.forEach(o=>{(o[1]<t[1]||o[1]===t[1]&&o[0]<t[0])&&(t=o)});const n=[];e.forEach(o=>{const s=Mre(o[1]-t[1],o[0]-t[0]),i=KS.squaredDistance(o,t);n.push({point:o,angle:s,distSq:i})}),n.sort((o,s)=>o.angle!==s.angle?o.angle-s.angle:o.distSq-s.distSq);const r=[];return n.forEach(o=>{let s=r.length;for(;s>1&&Lre(r[s-2],r[s-1],o.point)<=Number.EPSILON;)r.pop(),s=r.length;r.push(o.point)}),r},Lre=(e,t,n)=>(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0]),Mre=(e,t)=>e===0&&t===0?-1/0:-t/e;var CC=Ore;const JS=dt,eE=ht,tE=Nt,Fre=e=>{const t=new Set,n=[],r=o=>{const s=o.toString();t.has(s)||(n.push(o),t.add(s))};return e.forEach(o=>{JS.isA(o)?JS.toPoints(o).forEach(r):eE.isA(o)?eE.toPoints(o).forEach(s=>s.forEach(r)):tE.isA(o)&&tE.toPoints(o).forEach(r)}),n};var P2=Fre;const Dre=ut,Ire=Nt,zre=CC,Bre=P2,Gre=(...e)=>{e=Dre(e);const t=Bre(e),n=zre(t);return Ire.fromPoints({closed:!0},n)};var jre=Gre;const Vre=ut,nE=dt,Ure=CC,Hre=P2,Wre=(...e)=>{e=Vre(e);const t=Hre(e),n=Ure(t);return n.length<3?nE.create():nE.fromPoints(n)};var Xre=Wre;const Yre=ut,qre=ht,Zre=xt,Qre=sT,Kre=P2,Jre=(...e)=>{if(e=Yre(e),e.length===1)return e[0];const t=Kre(e),r=Qre(t,{skipTriangulation:!0}).map(o=>{const s=o.map(i=>t[i]);return Zre.create(s)});return qre.create(r)};var eoe=Jre;const toe=ut,noe=Qu,roe=dt,ooe=ht,soe=Nt,ioe=jre,aoe=Xre,loe=eoe,coe=(...e)=>{if(e=toe(e),e.length===0)throw new Error("wrong number of arguments");if(!noe(e))throw new Error("only hulls of the same type are supported");const t=e[0];return soe.isA(t)?ioe(e):roe.isA(t)?aoe(e):ooe.isA(t)?loe(e):t};var PC=coe;const uoe=ut,foe=T2,doe=PC,hoe=(...e)=>{if(e=uoe(e),e.length<2)throw new Error("wrong number of arguments");const t=[];for(let n=1;n<e.length;n++)t.push(doe(e[n-1],e[n]));return foe(t)};var poe=hoe,moe={hull:PC,hullChain:poe};const ym=Ke,kC=xt,voe=(e,t)=>{const n=Math.abs(kC.measureArea(t));return Number.isFinite(n)&&n>e},goe=(e,t)=>{let n=t.map(o=>{const s=o.vertices.map(l=>ym.snap(ym.create(),l,e)),i=[];for(let l=0;l<s.length;l++){const c=(l+1)%s.length;ym.equals(s[l],s[c])||i.push(s[l])}const a=kC.create(i);return o.color&&(a.color=o.color),a});const r=e*e*Math.sqrt(3)/4;return n=n.filter(o=>voe(r,o)),n};var RC=goe;const yoe=m2,Ja=Ke,Bh=xt,woe=e=>{const t=Bh.toPoints(e),n=[];for(let r=0;r<t.length;r++){const o=(r+1)%t.length,s={v1:t[r],v2:t[o]};n.push(s)}for(let r=0;r<n.length;r++){const o=(r+1)%t.length;n[r].next=n[o],n[o].prev=n[r]}return n},xoe=(e,t)=>{const n=`${t.v1}:${t.v2}`;e.set(n,t)},wm=(e,t)=>{const n=`${t.v1}:${t.v2}`;e.delete(n)},boe=(e,t)=>{const n=`${t.v2}:${t.v1}`;return e.get(n)},Soe=(e,t,n)=>{let r=e.prev.v1,o=e.prev.v2,s=t.next.v2;const i=rE(r,o,s,n);r=t.prev.v1,o=t.prev.v2,s=e.next.v2;const a=rE(r,o,s,n);return[i,a]},Eoe=Ja.create(),_oe=Ja.create(),rE=(e,t,n,r)=>{const o=Ja.subtract(Eoe,t,e),s=Ja.subtract(_oe,n,t);return Ja.cross(o,o,s),Ja.dot(o,r)},$oe=e=>{let t;const n=[];for(;e.next;){const r=e.next;n.push(e.v1),e.v1=null,e.v2=null,e.next=null,e.prev=null,e=r}return n.length>0&&(t=Bh.create(n)),t},Aoe=e=>{if(e.length<2)return e;const t=e[0].plane,n=e.slice(),r=new Map;for(;n.length>0;){const s=n.shift(),i=woe(s);for(let a=0;a<i.length;a++){const l=i[a],c=boe(r,l);if(c){const u=Soe(l,c,t);if(u[0]>=0&&u[1]>=0){const f=c.next,d=l.next;l.prev.next=c.next,l.next.prev=c.prev,c.prev.next=l.next,c.next.prev=l.prev,l.v1=null,l.v2=null,l.next=null,l.prev=null,wm(r,c),c.v1=null,c.v2=null,c.next=null,c.prev=null;const h=(v,p,g)=>{const m={v1:g.v1,v2:p.v2,next:p.next,prev:g.prev};g.prev.next=m,p.next.prev=m,wm(v,p),p.v1=null,p.v2=null,p.next=null,p.prev=null,wm(v,g),g.v1=null,g.v2=null,g.next=null,g.prev=null};u[0]===0&&h(r,f,f.prev),u[1]===0&&h(r,d,d.prev)}}else l.next&&xoe(r,l)}}const o=[];return r.forEach(s=>{const i=$oe(s);i&&o.push(i)}),r.clear(),o},Toe=(e,t)=>Math.abs(e[3]-t[3])<15e-8?yoe(e,t):!1,Coe=(e,t)=>{const n=[];t.forEach(o=>{const s=n.find(i=>Toe(i[0],Bh.plane(o)));s?s[1].push(o):n.push([Bh.plane(o),[o]])});let r=[];return n.forEach(o=>{const s=o[1],i=Aoe(s);r=r.concat(i)}),r};var Poe=Coe;const oE=St,ko=Ke,koe=xt,Kn=e=>`${e}`,sE=(e,t,n,r,o,s)=>{const i=Kn(r),a=Kn(o),l=`${i}/${a}`,c=`${a}/${i}`;if(e.has(c))return Jd(e,t,n,o,r,null),null;const u={vertex0:r,vertex1:o,polygonindex:s};return e.has(l)?e.get(l).push(u):e.set(l,[u]),t.has(i)?t.get(i).push(l):t.set(i,[l]),n.has(a)?n.get(a).push(l):n.set(a,[l]),l},Jd=(e,t,n,r,o,s)=>{const i=Kn(r),a=Kn(o),l=`${i}/${a}`;let c=-1;const u=e.get(l);for(let f=0;f<u.length;f++){const d=u[f];let h=Kn(d.vertex0);if(h===i&&(h=Kn(d.vertex1),h===a&&!(s!==null&&d.polygonindex!==s))){c=f;break}}u.splice(c,1),u.length===0&&e.delete(l),c=t.get(i).indexOf(l),t.get(i).splice(c,1),t.get(i).length===0&&t.delete(i),c=n.get(a).indexOf(l),n.get(a).splice(c,1),n.get(a).length===0&&n.delete(a)},Roe=e=>{const t=new Map;for(let n=0;n<e.length;n++){const r=e[n],o=r.vertices.length;if(o>=3){let s=r.vertices[0],i=Kn(s);for(let a=0;a<o;a++){let l=a+1;l===o&&(l=0);const c=r.vertices[l],u=Kn(c),f=`${i}/${u}`,d=`${u}/${i}`;if(t.has(d)){const h=t.get(d);h.splice(-1,1),h.length===0&&t.delete(d)}else{const h={vertex0:s,vertex1:c,polygonindex:n};t.has(f)?t.get(f).push(h):t.set(f,[h])}s=c,i=u}}else console.warn("warning: invalid polygon found during insertTjunctions")}if(t.size>0){const n=new Map,r=new Map,o=new Map;for(const[i,a]of t)o.set(i,!0),a.forEach(l=>{const c=Kn(l.vertex0),u=Kn(l.vertex1);n.has(c)?n.get(c).push(i):n.set(c,[i]),r.has(u)?r.get(u).push(i):r.set(u,[i])});const s=e.slice(0);for(;t.size!==0;){for(const a of t.keys())o.set(a,!0);let i=!1;for(;;){const a=Array.from(o.keys());if(a.length===0)break;const l=a[0];let c=!0;if(t.has(l)){const f=t.get(l)[0];for(let d=0;d<2;d++){const h=d===0?f.vertex0:f.vertex1,v=d===0?f.vertex1:f.vertex0,p=Kn(h),g=Kn(v);let m=[];d===0?r.has(p)&&(m=r.get(p)):n.has(p)&&(m=n.get(p));for(let w=0;w<m.length;w++){const y=m[w],b=t.get(y)[0],S=d===0?b.vertex0:b.vertex1;if(d===0?b.vertex1:b.vertex0,Kn(S)===g){Jd(t,n,r,h,v,null),Jd(t,n,r,v,h,null),c=!1,d=2,i=!0;break}else{const $=h,A=v,B=S,D=ko.subtract(ko.create(),B,$),W=ko.dot(ko.subtract(ko.create(),A,$),D)/ko.dot(D,D);if(W>0&&W<1){const te=ko.scale(ko.create(),D,W);if(ko.add(te,te,$),ko.squaredDistance(te,A)<oE.EPS*oE.EPS){const V=b.polygonindex,me=s[V],ee=Kn(b.vertex1);let xe=-1;for(let nt=0;nt<me.vertices.length;nt++)if(Kn(me.vertices[nt])===ee){xe=nt;break}const oe=me.vertices.slice(0);oe.splice(xe,0,v);const $e=koe.create(oe);s[V]=$e,Jd(t,n,r,b.vertex0,b.vertex1,V);const Ne=sE(t,n,r,b.vertex0,v,V),qe=sE(t,n,r,v,b.vertex1,V);Ne!==null&&o.set(Ne,!0),qe!==null&&o.set(qe,!0),c=!1,d=2,i=!0;break}}}}}}c&&o.delete(l)}if(!i)break}e=s}return t.clear(),e};var Noe=Roe;const xm=Ke,bm=xt,Ooe=(e,t,n)=>{const r=t.vertices.length;if(r>3){if(r>4){const i=[0,0,0];t.vertices.forEach(a=>xm.add(i,i,a)),xm.snap(i,xm.divide(i,i,[r,r,r]),e);for(let a=0;a<r;a++){const l=bm.create([i,t.vertices[a],t.vertices[(a+1)%r]]);t.color&&(l.color=t.color),n.push(l)}return}const o=bm.create([t.vertices[0],t.vertices[1],t.vertices[2]]),s=bm.create([t.vertices[0],t.vertices[2],t.vertices[3]]);t.color&&(o.color=t.color,s.color=t.color),n.push(o,s);return}n.push(t)},Loe=(e,t)=>{const n=[];return t.forEach(r=>{Ooe(e,r,n)}),n};var Moe=Loe;const Foe=ut,Doe=di,Ioe=dt,NC=ht,zoe=Nt,Boe=RC,Goe=Poe,joe=Noe,Voe=Moe,Uoe=(e,t)=>t,Hoe=(e,t)=>t,Woe=(e,t)=>{const n={snap:!1,simplify:!1,triangulate:!1},{snap:r,simplify:o,triangulate:s}=Object.assign({},n,e),i=Doe(t);let a=NC.toPolygons(t);r&&(a=Boe(i,a)),o&&(a=Goe(i,a)),s&&(a=joe(a),a=Voe(i,a));const l=Object.assign({},t);return l.polygons=a,l},Xoe=(e,...t)=>{if(t=Foe(t),t.length===0)throw new Error("wrong number of arguments");const n=t.map(r=>{if(zoe.isA(r))return Uoe(e,r);if(Ioe.isA(r))return Hoe(e,r);if(NC.isA(r))return Woe(e,r);throw new Error("invalid geometry")});return n.length===1?n[0]:n};var Yoe=Xoe;const qoe=ut,Ii=gt,eg=dt,tg=ht,ng=Nt,k2=di,Zoe=RC,Qoe=e=>{const t=k2(e),r=ng.toPoints(e).map(o=>Ii.snap(Ii.create(),o,t));return ng.create(r)},Koe=e=>{const t=k2(e);let r=eg.toSides(e).map(o=>[Ii.snap(Ii.create(),o[0],t),Ii.snap(Ii.create(),o[1],t)]);return r=r.filter(o=>!Ii.equals(o[0],o[1])),eg.create(r)},Joe=e=>{const t=k2(e),n=tg.toPolygons(e),r=Zoe(t,n);return tg.create(r)},ese=(...e)=>{if(e=qoe(e),e.length===0)throw new Error("wrong number of arguments");const t=e.map(n=>ng.isA(n)?Qoe(n):eg.isA(n)?Koe(n):tg.isA(n)?Joe(n):n);return t.length===1?t[0]:t};var tse=ese,nse={generalize:Yoe,snap:tse,retessellate:Ku};const rse=(e,t,n)=>{for(e=e.slice();e.length<n;)e.push(t);return e};var ose=rse;const sse=ut,iE=ose,OC=g2,{translate:ise}=ji,ase=e=>{if(!Array.isArray(e.modes)||e.modes.length>3)throw new Error("align(): modes must be an array of length <= 3");if(e.modes=iE(e.modes,"none",3),e.modes.filter(t=>["center","max","min","none"].includes(t)).length!==3)throw new Error('align(): all modes must be one of "center", "max" or "min"');if(!Array.isArray(e.relativeTo)||e.relativeTo.length>3)throw new Error("align(): relativeTo must be an array of length <= 3");if(e.relativeTo=iE(e.relativeTo,0,3),e.relativeTo.filter(t=>Number.isFinite(t)||t==null).length!==3)throw new Error("align(): all relativeTo values must be a number, or null.");if(typeof e.grouped!="boolean")throw new Error("align(): grouped must be a boolean value.");return e},lse=(e,t,n)=>{for(let r=0;r<3;r++)e[r]==null&&(t[r]==="center"?e[r]=(n[0][r]+n[1][r])/2:t[r]==="max"?e[r]=n[1][r]:t[r]==="min"&&(e[r]=n[0][r]));return e},aE=(e,t,n)=>{const r=OC(e),o=[0,0,0];for(let s=0;s<3;s++)t[s]==="center"?o[s]=n[s]-(r[0][s]+r[1][s])/2:t[s]==="max"?o[s]=n[s]-r[1][s]:t[s]==="min"&&(o[s]=n[s]-r[0][s]);return ise(o,e)},cse=(e,...t)=>{e=Object.assign({},{modes:["center","center","min"],relativeTo:[0,0,0],grouped:!1},e),e=ase(e);let{modes:r,relativeTo:o,grouped:s}=e;if(t=sse(t),t.length===0)throw new Error("align(): No geometries were provided to act upon");if(o.filter(i=>i==null).length){const i=OC(t);o=lse(o,r,i)}return s?t=aE(t,r,o):t=t.map(i=>aE(i,r,o)),t.length===1?t[0]:t};var use=cse;const fse=ut,dse=dt,hse=ht,pse=Nt,mse=oa,{translate:vse}=ji,Sm=(e,t)=>{const n={axes:[!0,!0,!0],relativeTo:[0,0,0]},{axes:r,relativeTo:o}=Object.assign({},n,e),s=mse(t),i=[0,0,0];return r[0]&&(i[0]=o[0]-(s[0][0]+(s[1][0]-s[0][0])/2)),r[1]&&(i[1]=o[1]-(s[0][1]+(s[1][1]-s[0][1])/2)),r[2]&&(i[2]=o[2]-(s[0][2]+(s[1][2]-s[0][2])/2)),vse(i,t)},Yp=(e,...t)=>{const n={axes:[!0,!0,!0],relativeTo:[0,0,0]},{axes:r,relativeTo:o}=Object.assign({},n,e);if(t=fse(t),t.length===0)throw new Error("wrong number of arguments");if(o.length!==3)throw new Error("relativeTo must be an array of length 3");e={axes:r,relativeTo:o};const s=t.map(i=>pse.isA(i)||dse.isA(i)||hse.isA(i)?Sm(e,i):i);return s.length===1?s[0]:s},gse=(...e)=>Yp({axes:[!0,!1,!1]},e),yse=(...e)=>Yp({axes:[!1,!0,!1]},e),wse=(...e)=>Yp({axes:[!1,!1,!0]},e);var Pd={center:Yp,centerX:gse,centerY:yse,centerZ:wse};const xse=ut,lE=Mt,cE=dt,uE=ht,fE=Nt,qp=(e,...t)=>{if(!Array.isArray(e))throw new Error("factors must be an array");if(t=xse(t),t.length===0)throw new Error("wrong number of arguments");for(e=e.slice();e.length<3;)e.push(1);if(e[0]<=0||e[1]<=0||e[2]<=0)throw new Error("factors must be positive");const n=lE.fromScaling(lE.create(),e),r=t.map(o=>fE.isA(o)?fE.transform(n,o):cE.isA(o)?cE.transform(n,o):uE.isA(o)?uE.transform(n,o):o);return r.length===1?r[0]:r},bse=(e,...t)=>qp([e,1,1],t),Sse=(e,...t)=>qp([1,e,1],t),Ese=(e,...t)=>qp([1,1,e],t);var kd={scale:qp,scaleX:bse,scaleY:Sse,scaleZ:Ese};const _se=ut,dE=dt,hE=ht,pE=Nt,$se=(e,...t)=>{if(t=_se(t),t.length===0)throw new Error("wrong number of arguments");const n=t.map(r=>pE.isA(r)?pE.transform(e,r):dE.isA(r)?dE.transform(e,r):hE.isA(r)?hE.transform(e,r):r);return n.length===1?n[0]:n};var Ase=$se,Tse={align:use,center:Pd.center,centerX:Pd.centerX,centerY:Pd.centerY,centerZ:Pd.centerZ,mirror:Uc.mirror,mirrorX:Uc.mirrorX,mirrorY:Uc.mirrorY,mirrorZ:Uc.mirrorZ,rotate:Wc.rotate,rotateX:Wc.rotateX,rotateY:Wc.rotateY,rotateZ:Wc.rotateZ,scale:kd.scale,scaleX:kd.scaleX,scaleY:kd.scaleY,scaleZ:kd.scaleZ,transform:Ase,translate:ji.translate,translateX:ji.translateX,translateY:ji.translateY,translateZ:ji.translateZ},Vl={colors:hW,curves:PW,geometries:d2,maths:uY,measurements:Tq,primitives:cJ,text:xJ,utils:xC,booleans:Ute,expansions:jne,extrusions:Nre,hulls:moe,modifiers:nse,transforms:Tse},at={},LC={};(function(e){var t={};e.default=function(n,r,o,s,i){var a=new Worker(t[r]||(t[r]=URL.createObjectURL(new Blob([n+';addEventListener("error",function(e){e=e.error;postMessage({$e$:[e.message,e.code,e.stack]})})'],{type:"text/javascript"}))));return a.onmessage=function(l){var c=l.data,u=c.$e$;if(u){var f=new Error(u[0]);f.code=u[1],f.stack=u[2],i(f,null)}else i(null,c)},a.postMessage(o,s),a}})(LC);var Cse=LC,_t=Uint8Array,Wn=Uint16Array,Ul=Uint32Array,Hl=new _t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Wl=new _t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Tu=new _t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),MC=function(e,t){for(var n=new Wn(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];for(var o=new Ul(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)o[s]=s-n[r]<<5|r;return[n,o]},FC=MC(Hl,2),R2=FC[0],Gh=FC[1];R2[28]=258,Gh[258]=28;var DC=MC(Wl,0),IC=DC[0],rg=DC[1],Cu=new Wn(32768);for(var Ut=0;Ut<32768;++Ut){var Os=(Ut&43690)>>>1|(Ut&21845)<<1;Os=(Os&52428)>>>2|(Os&13107)<<2,Os=(Os&61680)>>>4|(Os&3855)<<4,Cu[Ut]=((Os&65280)>>>8|(Os&255)<<8)>>>1}var Wr=function(e,t,n){for(var r=e.length,o=0,s=new Wn(t);o<r;++o)e[o]&&++s[e[o]-1];var i=new Wn(t);for(o=0;o<t;++o)i[o]=i[o-1]+s[o-1]<<1;var a;if(n){a=new Wn(1<<t);var l=15-t;for(o=0;o<r;++o)if(e[o])for(var c=o<<4|e[o],u=t-e[o],f=i[e[o]-1]++<<u,d=f|(1<<u)-1;f<=d;++f)a[Cu[f]>>>l]=c}else for(a=new Wn(r),o=0;o<r;++o)e[o]&&(a[o]=Cu[i[e[o]-1]++]>>>15-e[o]);return a},ds=new _t(288);for(var Ut=0;Ut<144;++Ut)ds[Ut]=8;for(var Ut=144;Ut<256;++Ut)ds[Ut]=9;for(var Ut=256;Ut<280;++Ut)ds[Ut]=7;for(var Ut=280;Ut<288;++Ut)ds[Ut]=8;var Al=new _t(32);for(var Ut=0;Ut<32;++Ut)Al[Ut]=5;var zC=Wr(ds,9,0),BC=Wr(ds,9,1),GC=Wr(Al,5,0),jC=Wr(Al,5,1),eh=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},Br=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(t&7)&n},th=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(t&7)},Ju=function(e){return(e+7)/8|0},Xr=function(e,t,n){(t==null||t<0)&&(t=0),(n==null||n>e.length)&&(n=e.length);var r=new(e.BYTES_PER_ELEMENT==2?Wn:e.BYTES_PER_ELEMENT==4?Ul:_t)(n-t);return r.set(e.subarray(t,n)),r};at.FlateErrorCode={UnexpectedEOF:0,InvalidBlockType:1,InvalidLengthLiteral:2,InvalidDistance:3,StreamFinished:4,NoStreamHandler:5,InvalidHeader:6,NoCallback:7,InvalidUTF8:8,ExtraFieldTooLong:9,InvalidDate:10,FilenameTooLong:11,StreamFinishing:12,InvalidZipData:13,UnknownCompressionMethod:14};var VC=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],rt=function(e,t,n){var r=new Error(t||VC[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,rt),!n)throw r;return r},ef=function(e,t,n){var r=e.length;if(!r||n&&n.f&&!n.l)return t||new _t(0);var o=!t||n,s=!n||n.i;n||(n={}),t||(t=new _t(r*3));var i=function(en){var sn=t.length;if(en>sn){var Gn=new _t(Math.max(sn*2,en));Gn.set(t),t=Gn}},a=n.f||0,l=n.p||0,c=n.b||0,u=n.l,f=n.d,d=n.m,h=n.n,v=r*8;do{if(!u){a=Br(e,l,1);var p=Br(e,l+1,3);if(l+=3,p)if(p==1)u=BC,f=jC,d=9,h=5;else if(p==2){var y=Br(e,l,31)+257,b=Br(e,l+10,15)+4,S=y+Br(e,l+5,31)+1;l+=14;for(var E=new _t(S),$=new _t(19),A=0;A<b;++A)$[Tu[A]]=Br(e,l+A*3,7);l+=b*3;for(var B=eh($),D=(1<<B)-1,W=Wr($,B,1),A=0;A<S;){var te=W[Br(e,l,D)];l+=te&15;var g=te>>>4;if(g<16)E[A++]=g;else{var pe=0,V=0;for(g==16?(V=3+Br(e,l,3),l+=2,pe=E[A-1]):g==17?(V=3+Br(e,l,7),l+=3):g==18&&(V=11+Br(e,l,127),l+=7);V--;)E[A++]=pe}}var me=E.subarray(0,y),ee=E.subarray(y);d=eh(me),h=eh(ee),u=Wr(me,d,1),f=Wr(ee,h,1)}else rt(1);else{var g=Ju(l)+4,m=e[g-4]|e[g-3]<<8,w=g+m;if(w>r){s&&rt(0);break}o&&i(c+m),t.set(e.subarray(g,w),c),n.b=c+=m,n.p=l=w*8,n.f=a;continue}if(l>v){s&&rt(0);break}}o&&i(c+131072);for(var xe=(1<<d)-1,oe=(1<<h)-1,$e=l;;$e=l){var pe=u[th(e,l)&xe],Ne=pe>>>4;if(l+=pe&15,l>v){s&&rt(0);break}if(pe||rt(2),Ne<256)t[c++]=Ne;else if(Ne==256){$e=l,u=null;break}else{var qe=Ne-254;if(Ne>264){var A=Ne-257,nt=Hl[A];qe=Br(e,l,(1<<nt)-1)+R2[A],l+=nt}var kt=f[th(e,l)&oe],At=kt>>>4;kt||rt(3),l+=kt&15;var ee=IC[At];if(At>3){var nt=Wl[At];ee+=th(e,l)&(1<<nt)-1,l+=nt}if(l>v){s&&rt(0);break}o&&i(c+131072);for(var Ct=c+qe;c<Ct;c+=4)t[c]=t[c-ee],t[c+1]=t[c+1-ee],t[c+2]=t[c+2-ee],t[c+3]=t[c+3-ee];c=Ct}}n.l=u,n.p=$e,n.b=c,n.f=a,u&&(a=1,n.m=d,n.d=f,n.n=h)}while(!a);return c==t.length?t:Xr(t,0,c)},No=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>>8},za=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>>8,e[r+2]|=n>>>16},nh=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var o=n.length,s=n.slice();if(!o)return[os,0];if(o==1){var i=new _t(n[0].s+1);return i[n[0].s]=1,[i,1]}n.sort(function(S,E){return S.f-E.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],c=0,u=1,f=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};u!=o-1;)a=n[n[c].f<n[f].f?c++:f++],l=n[c!=u&&n[c].f<n[f].f?c++:f++],n[u++]={s:-1,f:a.f+l.f,l:a,r:l};for(var d=s[0].s,r=1;r<o;++r)s[r].s>d&&(d=s[r].s);var h=new Wn(d+1),v=jh(n[u-1],h,0);if(v>t){var r=0,p=0,g=v-t,m=1<<g;for(s.sort(function(E,$){return h[$.s]-h[E.s]||E.f-$.f});r<o;++r){var w=s[r].s;if(h[w]>t)p+=m-(1<<v-h[w]),h[w]=t;else break}for(p>>>=g;p>0;){var y=s[r].s;h[y]<t?p-=1<<t-h[y]++-1:++r}for(;r>=0&&p;--r){var b=s[r].s;h[b]==t&&(--h[b],++p)}v=t}return[new _t(h),v]},jh=function(e,t,n){return e.s==-1?Math.max(jh(e.l,t,n+1),jh(e.r,t,n+1)):t[e.s]=n},og=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new Wn(++t),r=0,o=e[0],s=1,i=function(l){n[r++]=l},a=1;a<=t;++a)if(e[a]==o&&a!=t)++s;else{if(!o&&s>2){for(;s>138;s-=138)i(32754);s>2&&(i(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(i(o),--s;s>6;s-=6)i(8304);s>2&&(i(s-3<<5|8208),s=0)}for(;s--;)i(o);s=1,o=e[a]}return[n.subarray(0,r),t]},Ba=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},Vh=function(e,t,n){var r=n.length,o=Ju(t+2);e[o]=r&255,e[o+1]=r>>>8,e[o+2]=e[o]^255,e[o+3]=e[o+1]^255;for(var s=0;s<r;++s)e[o+s+4]=n[s];return(o+4+r)*8},sg=function(e,t,n,r,o,s,i,a,l,c,u){No(t,u++,n),++o[256];for(var f=nh(o,15),d=f[0],h=f[1],v=nh(s,15),p=v[0],g=v[1],m=og(d),w=m[0],y=m[1],b=og(p),S=b[0],E=b[1],$=new Wn(19),A=0;A<w.length;++A)$[w[A]&31]++;for(var A=0;A<S.length;++A)$[S[A]&31]++;for(var B=nh($,7),D=B[0],W=B[1],te=19;te>4&&!D[Tu[te-1]];--te);var pe=c+5<<3,V=Ba(o,ds)+Ba(s,Al)+i,me=Ba(o,d)+Ba(s,p)+i+14+3*te+Ba($,D)+(2*$[16]+3*$[17]+7*$[18]);if(pe<=V&&pe<=me)return Vh(t,u,e.subarray(l,l+c));var ee,xe,oe,$e;if(No(t,u,1+(me<V)),u+=2,me<V){ee=Wr(d,h,0),xe=d,oe=Wr(p,g,0),$e=p;var Ne=Wr(D,W,0);No(t,u,y-257),No(t,u+5,E-1),No(t,u+10,te-4),u+=14;for(var A=0;A<te;++A)No(t,u+3*A,D[Tu[A]]);u+=3*te;for(var qe=[w,S],nt=0;nt<2;++nt)for(var kt=qe[nt],A=0;A<kt.length;++A){var At=kt[A]&31;No(t,u,Ne[At]),u+=D[At],At>15&&(No(t,u,kt[A]>>>5&127),u+=kt[A]>>>12)}}else ee=zC,xe=ds,oe=GC,$e=Al;for(var A=0;A<a;++A)if(r[A]>255){var At=r[A]>>>18&31;za(t,u,ee[At+257]),u+=xe[At+257],At>7&&(No(t,u,r[A]>>>23&31),u+=Hl[At]);var Ct=r[A]&31;za(t,u,oe[Ct]),u+=$e[Ct],Ct>3&&(za(t,u,r[A]>>>5&8191),u+=Wl[Ct])}else za(t,u,ee[r[A]]),u+=xe[r[A]];return za(t,u,ee[256]),u+xe[256]},UC=new Ul([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),os=new _t(0),HC=function(e,t,n,r,o,s){var i=e.length,a=new _t(r+i+5*(1+Math.ceil(i/7e3))+o),l=a.subarray(r,a.length-o),c=0;if(!t||i<8)for(var u=0;u<=i;u+=65535){var f=u+65535;f>=i&&(l[c>>3]=s),c=Vh(l,c+1,e.subarray(u,f))}else{for(var d=UC[t-1],h=d>>>13,v=d&8191,p=(1<<n)-1,g=new Wn(32768),m=new Wn(p+1),w=Math.ceil(n/3),y=2*w,b=function(Ft){return(e[Ft]^e[Ft+1]<<w^e[Ft+2]<<y)&p},S=new Ul(25e3),E=new Wn(288),$=new Wn(32),A=0,B=0,u=0,D=0,W=0,te=0;u<i;++u){var pe=b(u),V=u&32767,me=m[pe];if(g[V]=me,m[pe]=V,W<=u){var ee=i-u;if((A>7e3||D>24576)&&ee>423){c=sg(e,l,0,S,E,$,B,D,te,u-te,c),D=A=B=0,te=u;for(var xe=0;xe<286;++xe)E[xe]=0;for(var xe=0;xe<30;++xe)$[xe]=0}var oe=2,$e=0,Ne=v,qe=V-me&32767;if(ee>2&&pe==b(u-qe))for(var nt=Math.min(h,ee)-1,kt=Math.min(32767,u),At=Math.min(258,ee);qe<=kt&&--Ne&&V!=me;){if(e[u+oe]==e[u+oe-qe]){for(var Ct=0;Ct<At&&e[u+Ct]==e[u+Ct-qe];++Ct);if(Ct>oe){if(oe=Ct,$e=qe,Ct>nt)break;for(var en=Math.min(qe,Ct-2),sn=0,xe=0;xe<en;++xe){var Gn=u-qe+xe+32768&32767,no=g[Gn],Lr=Gn-no+32768&32767;Lr>sn&&(sn=Lr,me=Gn)}}}V=me,me=g[V],qe+=V-me+32768&32767}if($e){S[D++]=268435456|Gh[oe]<<18|rg[$e];var So=Gh[oe]&31,ro=rg[$e]&31;B+=Hl[So]+Wl[ro],++E[257+So],++$[ro],W=u+oe,++A}else S[D++]=e[u],++E[e[u]]}}c=sg(e,l,s,S,E,$,B,D,te,u-te,c),!s&&c&7&&(c=Vh(l,c+1,os))}return Xr(a,0,r+Ju(c)+o)},WC=function(){for(var e=new Int32Array(256),t=0;t<256;++t){for(var n=t,r=9;--r;)n=(n&1&&-306674912)^n>>>1;e[t]=n}return e}(),Xl=function(){var e=-1;return{p:function(t){for(var n=e,r=0;r<t.length;++r)n=WC[n&255^t[r]]^n>>>8;e=n},d:function(){return~e}}},N2=function(){var e=1,t=0;return{p:function(n){for(var r=e,o=t,s=n.length|0,i=0;i!=s;){for(var a=Math.min(i+2655,s);i<a;++i)o+=r+=n[i];r=(r&65535)+15*(r>>16),o=(o&65535)+15*(o>>16)}e=r,t=o},d:function(){return e%=65521,t%=65521,(e&255)<<24|e>>>8<<16|(t&255)<<8|t>>>8}}},ia=function(e,t,n,r,o){return HC(e,t.level==null?6:t.level,t.mem==null?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):12+t.mem,n,r,!o)},tf=function(e,t){var n={};for(var r in e)n[r]=e[r];for(var r in t)n[r]=t[r];return n},mE=function(e,t,n){for(var r=e(),o=e.toString(),s=o.slice(o.indexOf("[")+1,o.lastIndexOf("]")).replace(/\s+/g,"").split(","),i=0;i<r.length;++i){var a=r[i],l=s[i];if(typeof a=="function"){t+=";"+l+"=";var c=a.toString();if(a.prototype)if(c.indexOf("[native code]")!=-1){var u=c.indexOf(" ",8)+1;t+=c.slice(u,c.indexOf("(",u))}else{t+=c;for(var f in a.prototype)t+=";"+l+".prototype."+f+"="+a.prototype[f].toString()}else t+=c}else n[l]=a}return[t,n]},Rd=[],Pse=function(e){var t=[];for(var n in e)e[n].buffer&&t.push((e[n]=new e[n].constructor(e[n])).buffer);return t},XC=function(e,t,n,r){var o;if(!Rd[n]){for(var s="",i={},a=e.length-1,l=0;l<a;++l)o=mE(e[l],s,i),s=o[0],i=o[1];Rd[n]=mE(e[a],s,i)}var c=tf({},Rd[n][1]);return Cse.default(Rd[n][0]+";onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage="+t.toString()+"}",n,c,Pse(c),r)},Yl=function(){return[_t,Wn,Ul,Hl,Wl,Tu,R2,IC,BC,jC,Cu,VC,Wr,eh,Br,th,Ju,Xr,rt,ef,Kl,hi,O2]},ql=function(){return[_t,Wn,Ul,Hl,Wl,Tu,Gh,rg,zC,ds,GC,Al,Cu,UC,os,Wr,No,za,nh,jh,og,Ba,Vh,sg,Ju,Xr,HC,ia,nf,hi]},YC=function(){return[L2,F2,Pt,Xl,WC]},qC=function(){return[M2,KC]},ZC=function(){return[D2,Pt,N2]},QC=function(){return[JC]},hi=function(e){return postMessage(e,[e.buffer])},O2=function(e){return e&&e.size&&new _t(e.size)},Zl=function(e,t,n,r,o,s){var i=XC(n,r,o,function(a,l){i.terminate(),s(a,l)});return i.postMessage([e,t],t.consume?[e.buffer]:[]),function(){i.terminate()}},Zr=function(e){return e.ondata=function(t,n){return postMessage([t,n],[t.buffer])},function(t){return e.push(t.data[0],t.data[1])}},Ql=function(e,t,n,r,o){var s,i=XC(e,r,o,function(a,l){a?(i.terminate(),t.ondata.call(t,a)):(l[1]&&i.terminate(),t.ondata.call(t,a,l[0],l[1]))});i.postMessage(n),t.push=function(a,l){t.ondata||rt(5),s&&t.ondata(rt(4,0,1),null,!!l),i.postMessage([a,s=l],[a.buffer])},t.terminate=function(){i.terminate()}},er=function(e,t){return e[t]|e[t+1]<<8},hn=function(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0},Em=function(e,t){return hn(e,t)+hn(e,t+4)*4294967296},Pt=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},L2=function(e,t){var n=t.filename;if(e[0]=31,e[1]=139,e[2]=8,e[8]=t.level<2?4:t.level==9?2:0,e[9]=3,t.mtime!=0&&Pt(e,4,Math.floor(new Date(t.mtime||Date.now())/1e3)),n){e[3]=8;for(var r=0;r<=n.length;++r)e[r+10]=n.charCodeAt(r)}},M2=function(e){(e[0]!=31||e[1]!=139||e[2]!=8)&&rt(6,"invalid gzip data");var t=e[3],n=10;t&4&&(n+=e[10]|(e[11]<<8)+2);for(var r=(t>>3&1)+(t>>4&1);r>0;r-=!e[n++]);return n+(t&2)},KC=function(e){var t=e.length;return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0},F2=function(e){return 10+(e.filename&&e.filename.length+1||0)},D2=function(e,t){var n=t.level,r=n==0?0:n<6?1:n==9?3:2;e[0]=120,e[1]=r<<6|(r?32-2*r:1)},JC=function(e){((e[0]&15)!=8||e[0]>>>4>7||(e[0]<<8|e[1])%31)&&rt(6,"invalid zlib data"),e[1]&32&&rt(6,"invalid zlib data: preset dictionaries not supported")};function I2(e,t){return!t&&typeof e=="function"&&(t=e,e={}),this.ondata=t,e}var Bo=function(){function e(t,n){!n&&typeof t=="function"&&(n=t,t={}),this.ondata=n,this.o=t||{}}return e.prototype.p=function(t,n){this.ondata(ia(t,this.o,0,0,!n),n)},e.prototype.push=function(t,n){this.ondata||rt(5),this.d&&rt(4),this.d=n,this.p(t,n||!1)},e}();at.Deflate=Bo;var eP=function(){function e(t,n){Ql([ql,function(){return[Zr,Bo]}],this,I2.call(this,t,n),function(r){var o=new Bo(r.data);onmessage=Zr(o)},6)}return e}();at.AsyncDeflate=eP;function tP(e,t,n){return n||(n=t,t={}),typeof n!="function"&&rt(7),Zl(e,t,[ql],function(r){return hi(nf(r.data[0],r.data[1]))},0,n)}at.deflate=tP;function nf(e,t){return ia(e,t||{},0,0)}at.deflateSync=nf;var mr=function(){function e(t){this.s={},this.p=new _t(0),this.ondata=t}return e.prototype.e=function(t){this.ondata||rt(5),this.d&&rt(4);var n=this.p.length,r=new _t(n+t.length);r.set(this.p),r.set(t,n),this.p=r},e.prototype.c=function(t){this.d=this.s.i=t||!1;var n=this.s.b,r=ef(this.p,this.o,this.s);this.ondata(Xr(r,n,this.s.b),this.d),this.o=Xr(r,this.s.b-32768),this.s.b=this.o.length,this.p=Xr(this.p,this.s.p/8|0),this.s.p&=7},e.prototype.push=function(t,n){this.e(t),this.c(n)},e}();at.Inflate=mr;var z2=function(){function e(t){this.ondata=t,Ql([Yl,function(){return[Zr,mr]}],this,0,function(){var n=new mr;onmessage=Zr(n)},7)}return e}();at.AsyncInflate=z2;function B2(e,t,n){return n||(n=t,t={}),typeof n!="function"&&rt(7),Zl(e,t,[Yl],function(r){return hi(Kl(r.data[0],O2(r.data[1])))},1,n)}at.inflate=B2;function Kl(e,t){return ef(e,t)}at.inflateSync=Kl;var Uh=function(){function e(t,n){this.c=Xl(),this.l=0,this.v=1,Bo.call(this,t,n)}return e.prototype.push=function(t,n){Bo.prototype.push.call(this,t,n)},e.prototype.p=function(t,n){this.c.p(t),this.l+=t.length;var r=ia(t,this.o,this.v&&F2(this.o),n&&8,!n);this.v&&(L2(r,this.o),this.v=0),n&&(Pt(r,r.length-8,this.c.d()),Pt(r,r.length-4,this.l)),this.ondata(r,n)},e}();at.Gzip=Uh;at.Compress=Uh;var nP=function(){function e(t,n){Ql([ql,YC,function(){return[Zr,Bo,Uh]}],this,I2.call(this,t,n),function(r){var o=new Uh(r.data);onmessage=Zr(o)},8)}return e}();at.AsyncGzip=nP;at.AsyncCompress=nP;function rP(e,t,n){return n||(n=t,t={}),typeof n!="function"&&rt(7),Zl(e,t,[ql,YC,function(){return[Hh]}],function(r){return hi(Hh(r.data[0],r.data[1]))},2,n)}at.gzip=rP;at.compress=rP;function Hh(e,t){t||(t={});var n=Xl(),r=e.length;n.p(e);var o=ia(e,t,F2(t),8),s=o.length;return L2(o,t),Pt(o,s-8,n.d()),Pt(o,s-4,r),o}at.gzipSync=Hh;at.compressSync=Hh;var Wh=function(){function e(t){this.v=1,mr.call(this,t)}return e.prototype.push=function(t,n){if(mr.prototype.e.call(this,t),this.v){var r=this.p.length>3?M2(this.p):4;if(r>=this.p.length&&!n)return;this.p=this.p.subarray(r),this.v=0}n&&(this.p.length<8&&rt(6,"invalid gzip data"),this.p=this.p.subarray(0,-8)),mr.prototype.c.call(this,n)},e}();at.Gunzip=Wh;var oP=function(){function e(t){this.ondata=t,Ql([Yl,qC,function(){return[Zr,mr,Wh]}],this,0,function(){var n=new Wh;onmessage=Zr(n)},9)}return e}();at.AsyncGunzip=oP;function sP(e,t,n){return n||(n=t,t={}),typeof n!="function"&&rt(7),Zl(e,t,[Yl,qC,function(){return[Xh]}],function(r){return hi(Xh(r.data[0]))},3,n)}at.gunzip=sP;function Xh(e,t){return ef(e.subarray(M2(e),-8),t||new _t(KC(e)))}at.gunzipSync=Xh;var ig=function(){function e(t,n){this.c=N2(),this.v=1,Bo.call(this,t,n)}return e.prototype.push=function(t,n){Bo.prototype.push.call(this,t,n)},e.prototype.p=function(t,n){this.c.p(t);var r=ia(t,this.o,this.v&&2,n&&4,!n);this.v&&(D2(r,this.o),this.v=0),n&&Pt(r,r.length-4,this.c.d()),this.ondata(r,n)},e}();at.Zlib=ig;var kse=function(){function e(t,n){Ql([ql,ZC,function(){return[Zr,Bo,ig]}],this,I2.call(this,t,n),function(r){var o=new ig(r.data);onmessage=Zr(o)},10)}return e}();at.AsyncZlib=kse;function Rse(e,t,n){return n||(n=t,t={}),typeof n!="function"&&rt(7),Zl(e,t,[ql,ZC,function(){return[ag]}],function(r){return hi(ag(r.data[0],r.data[1]))},4,n)}at.zlib=Rse;function ag(e,t){t||(t={});var n=N2();n.p(e);var r=ia(e,t,2,4);return D2(r,t),Pt(r,r.length-4,n.d()),r}at.zlibSync=ag;var Yh=function(){function e(t){this.v=1,mr.call(this,t)}return e.prototype.push=function(t,n){if(mr.prototype.e.call(this,t),this.v){if(this.p.length<2&&!n)return;this.p=this.p.subarray(2),this.v=0}n&&(this.p.length<4&&rt(6,"invalid zlib data"),this.p=this.p.subarray(0,-4)),mr.prototype.c.call(this,n)},e}();at.Unzlib=Yh;var iP=function(){function e(t){this.ondata=t,Ql([Yl,QC,function(){return[Zr,mr,Yh]}],this,0,function(){var n=new Yh;onmessage=Zr(n)},11)}return e}();at.AsyncUnzlib=iP;function aP(e,t,n){return n||(n=t,t={}),typeof n!="function"&&rt(7),Zl(e,t,[Yl,QC,function(){return[qh]}],function(r){return hi(qh(r.data[0],O2(r.data[1])))},5,n)}at.unzlib=aP;function qh(e,t){return ef((JC(e),e.subarray(2,-4)),t)}at.unzlibSync=qh;var lP=function(){function e(t){this.G=Wh,this.I=mr,this.Z=Yh,this.ondata=t}return e.prototype.push=function(t,n){if(this.ondata||rt(5),this.s)this.s.push(t,n);else{if(this.p&&this.p.length){var r=new _t(this.p.length+t.length);r.set(this.p),r.set(t,this.p.length)}else this.p=t;if(this.p.length>2){var o=this,s=function(){o.ondata.apply(o,arguments)};this.s=this.p[0]==31&&this.p[1]==139&&this.p[2]==8?new this.G(s):(this.p[0]&15)!=8||this.p[0]>>4>7||(this.p[0]<<8|this.p[1])%31?new this.I(s):new this.Z(s),this.s.push(this.p,n),this.p=null}}},e}();at.Decompress=lP;var Nse=function(){function e(t){this.G=oP,this.I=z2,this.Z=iP,this.ondata=t}return e.prototype.push=function(t,n){lP.prototype.push.call(this,t,n)},e}();at.AsyncDecompress=Nse;function Ose(e,t,n){return n||(n=t,t={}),typeof n!="function"&&rt(7),e[0]==31&&e[1]==139&&e[2]==8?sP(e,t,n):(e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31?B2(e,t,n):aP(e,t,n)}at.decompress=Ose;function Lse(e,t){return e[0]==31&&e[1]==139&&e[2]==8?Xh(e,t):(e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31?Kl(e,t):qh(e,t)}at.decompressSync=Lse;var G2=function(e,t,n,r){for(var o in e){var s=e[o],i=t+o,a=r;Array.isArray(s)&&(a=tf(r,s[1]),s=s[0]),s instanceof _t?n[i]=[s,a]:(n[i+="/"]=[new _t(0),a],G2(s,i,n,r))}},vE=typeof TextEncoder<"u"&&new TextEncoder,lg=typeof TextDecoder<"u"&&new TextDecoder,cP=0;try{lg.decode(os,{stream:!0}),cP=1}catch{}var uP=function(e){for(var t="",n=0;;){var r=e[n++],o=(r>127)+(r>223)+(r>239);if(n+o>e.length)return[t,Xr(e,n-1)];o?o==3?(r=((r&15)<<18|(e[n++]&63)<<12|(e[n++]&63)<<6|e[n++]&63)-65536,t+=String.fromCharCode(55296|r>>10,56320|r&1023)):o&1?t+=String.fromCharCode((r&31)<<6|e[n++]&63):t+=String.fromCharCode((r&15)<<12|(e[n++]&63)<<6|e[n++]&63):t+=String.fromCharCode(r)}},Mse=function(){function e(t){this.ondata=t,cP?this.t=new TextDecoder:this.p=os}return e.prototype.push=function(t,n){if(this.ondata||rt(5),n=!!n,this.t){this.ondata(this.t.decode(t,{stream:!0}),n),n&&(this.t.decode().length&&rt(8),this.t=null);return}this.p||rt(4);var r=new _t(this.p.length+t.length);r.set(this.p),r.set(t,this.p.length);var o=uP(r),s=o[0],i=o[1];n?(i.length&&rt(8),this.p=null):this.p=i,this.ondata(s,n)},e}();at.DecodeUTF8=Mse;var Fse=function(){function e(t){this.ondata=t}return e.prototype.push=function(t,n){this.ondata||rt(5),this.d&&rt(4),this.ondata(si(t),this.d=n||!1)},e}();at.EncodeUTF8=Fse;function si(e,t){if(t){for(var n=new _t(e.length),r=0;r<e.length;++r)n[r]=e.charCodeAt(r);return n}if(vE)return vE.encode(e);for(var o=e.length,s=new _t(e.length+(e.length>>1)),i=0,a=function(u){s[i++]=u},r=0;r<o;++r){if(i+5>s.length){var l=new _t(i+8+(o-r<<1));l.set(s),s=l}var c=e.charCodeAt(r);c<128||t?a(c):c<2048?(a(192|c>>6),a(128|c&63)):c>55295&&c<57344?(c=65536+(c&1047552)|e.charCodeAt(++r)&1023,a(240|c>>18),a(128|c>>12&63),a(128|c>>6&63),a(128|c&63)):(a(224|c>>12),a(128|c>>6&63),a(128|c&63))}return Xr(s,0,i)}at.strToU8=si;function j2(e,t){if(t){for(var n="",r=0;r<e.length;r+=16384)n+=String.fromCharCode.apply(null,e.subarray(r,r+16384));return n}else{if(lg)return lg.decode(e);var o=uP(e),s=o[0],i=o[1];return i.length&&rt(8),s}}at.strFromU8=j2;var fP=function(e){return e==1?3:e<6?2:e==9?1:0},dP=function(e,t){return t+30+er(e,t+26)+er(e,t+28)},hP=function(e,t,n){var r=er(e,t+28),o=j2(e.subarray(t+46,t+46+r),!(er(e,t+8)&2048)),s=t+46+r,i=hn(e,t+20),a=n&&i==4294967295?pP(e,s):[i,hn(e,t+24),hn(e,t+42)],l=a[0],c=a[1],u=a[2];return[er(e,t+10),l,c,o,s+er(e,t+30)+er(e,t+32),u]},pP=function(e,t){for(;er(e,t)!=1;t+=4+er(e,t+2));return[Em(e,t+12),Em(e,t+4),Em(e,t+20)]},ei=function(e){var t=0;if(e)for(var n in e){var r=e[n].length;r>65535&&rt(9),t+=r+4}return t},Tl=function(e,t,n,r,o,s,i,a){var l=r.length,c=n.extra,u=a&&a.length,f=ei(c);Pt(e,t,i!=null?33639248:67324752),t+=4,i!=null&&(e[t++]=20,e[t++]=n.os),e[t]=20,t+=2,e[t++]=n.flag<<1|(s==null&&8),e[t++]=o&&8,e[t++]=n.compression&255,e[t++]=n.compression>>8;var d=new Date(n.mtime==null?Date.now():n.mtime),h=d.getFullYear()-1980;if((h<0||h>119)&&rt(10),Pt(e,t,h<<25|d.getMonth()+1<<21|d.getDate()<<16|d.getHours()<<11|d.getMinutes()<<5|d.getSeconds()>>>1),t+=4,s!=null&&(Pt(e,t,n.crc),Pt(e,t+4,s),Pt(e,t+8,n.size)),Pt(e,t+12,l),Pt(e,t+14,f),t+=16,i!=null&&(Pt(e,t,u),Pt(e,t+6,n.attrs),Pt(e,t+10,i),t+=14),e.set(r,t),t+=l,f)for(var v in c){var p=c[v],g=p.length;Pt(e,t,+v),Pt(e,t+2,g),e.set(p,t+4),t+=4+g}return u&&(e.set(a,t),t+=u),t},V2=function(e,t,n,r,o){Pt(e,t,101010256),Pt(e,t+8,n),Pt(e,t+10,n),Pt(e,t+12,r),Pt(e,t+16,o)},Pu=function(){function e(t){this.filename=t,this.c=Xl(),this.size=0,this.compression=0}return e.prototype.process=function(t,n){this.ondata(null,t,n)},e.prototype.push=function(t,n){this.ondata||rt(5),this.c.p(t),this.size+=t.length,n&&(this.crc=this.c.d()),this.process(t,n||!1)},e}();at.ZipPassThrough=Pu;var Dse=function(){function e(t,n){var r=this;n||(n={}),Pu.call(this,t),this.d=new Bo(n,function(o,s){r.ondata(null,o,s)}),this.compression=8,this.flag=fP(n.level)}return e.prototype.process=function(t,n){try{this.d.push(t,n)}catch(r){this.ondata(r,null,n)}},e.prototype.push=function(t,n){Pu.prototype.push.call(this,t,n)},e}();at.ZipDeflate=Dse;var Ise=function(){function e(t,n){var r=this;n||(n={}),Pu.call(this,t),this.d=new eP(n,function(o,s,i){r.ondata(o,s,i)}),this.compression=8,this.flag=fP(n.level),this.terminate=this.d.terminate}return e.prototype.process=function(t,n){this.d.push(t,n)},e.prototype.push=function(t,n){Pu.prototype.push.call(this,t,n)},e}();at.AsyncZipDeflate=Ise;var zse=function(){function e(t){this.ondata=t,this.u=[],this.d=1}return e.prototype.add=function(t){var n=this;if(this.ondata||rt(5),this.d&2)this.ondata(rt(4+(this.d&1)*8,0,1),null,!1);else{var r=si(t.filename),o=r.length,s=t.comment,i=s&&si(s),a=o!=t.filename.length||i&&s.length!=i.length,l=o+ei(t.extra)+30;o>65535&&this.ondata(rt(11,0,1),null,!1);var c=new _t(l);Tl(c,0,t,r,a);var u=[c],f=function(){for(var g=0,m=u;g<m.length;g++){var w=m[g];n.ondata(null,w,!1)}u=[]},d=this.d;this.d=0;var h=this.u.length,v=tf(t,{f:r,u:a,o:i,t:function(){t.terminate&&t.terminate()},r:function(){if(f(),d){var g=n.u[h+1];g?g.r():n.d=1}d=1}}),p=0;t.ondata=function(g,m,w){if(g)n.ondata(g,m,w),n.terminate();else if(p+=m.length,u.push(m),w){var y=new _t(16);Pt(y,0,134695760),Pt(y,4,t.crc),Pt(y,8,p),Pt(y,12,t.size),u.push(y),v.c=p,v.b=l+p+16,v.crc=t.crc,v.size=t.size,d&&v.r(),d=1}else d&&f()},this.u.push(v)}},e.prototype.end=function(){var t=this;if(this.d&2){this.ondata(rt(4+(this.d&1)*8,0,1),null,!0);return}this.d?this.e():this.u.push({r:function(){t.d&1&&(t.u.splice(-1,1),t.e())},t:function(){}}),this.d=3},e.prototype.e=function(){for(var t=0,n=0,r=0,o=0,s=this.u;o<s.length;o++){var i=s[o];r+=46+i.f.length+ei(i.extra)+(i.o?i.o.length:0)}for(var a=new _t(r+22),l=0,c=this.u;l<c.length;l++){var i=c[l];Tl(a,t,i,i.f,i.u,i.c,n,i.o),t+=46+i.f.length+ei(i.extra)+(i.o?i.o.length:0),n+=i.b}V2(a,t,this.u.length,r,n),this.ondata(null,a,!0),this.d=2},e.prototype.terminate=function(){for(var t=0,n=this.u;t<n.length;t++){var r=n[t];r.t()}this.d=2},e}();at.Zip=zse;function Bse(e,t,n){n||(n=t,t={}),typeof n!="function"&&rt(7);var r={};G2(e,"",r,t);var o=Object.keys(r),s=o.length,i=0,a=0,l=s,c=new Array(s),u=[],f=function(){for(var g=0;g<u.length;++g)u[g]()},d=function(g,m){Zh(function(){n(g,m)})};Zh(function(){d=n});var h=function(){var g=new _t(a+22),m=i,w=a-i;a=0;for(var y=0;y<l;++y){var b=c[y];try{var S=b.c.length;Tl(g,a,b,b.f,b.u,S);var E=30+b.f.length+ei(b.extra),$=a+E;g.set(b.c,$),Tl(g,i,b,b.f,b.u,S,a,b.m),i+=16+E+(b.m?b.m.length:0),a=$+S}catch(A){return d(A,null)}}V2(g,i,c.length,w,m),d(null,g)};s||h();for(var v=function(g){var m=o[g],w=r[m],y=w[0],b=w[1],S=Xl(),E=y.length;S.p(y);var $=si(m),A=$.length,B=b.comment,D=B&&si(B),W=D&&D.length,te=ei(b.extra),pe=b.level==0?0:8,V=function(me,ee){if(me)f(),d(me,null);else{var xe=ee.length;c[g]=tf(b,{size:E,crc:S.d(),c:ee,f:$,m:D,u:A!=m.length||D&&B.length!=W,compression:pe}),i+=30+A+te+xe,a+=76+2*(A+te)+(W||0)+xe,--s||h()}};if(A>65535&&V(rt(11,0,1),null),!pe)V(null,y);else if(E<16e4)try{V(null,nf(y,b))}catch(me){V(me,null)}else u.push(tP(y,b,V))},p=0;p<l;++p)v(p);return f}at.zip=Bse;function Gse(e,t){t||(t={});var n={},r=[];G2(e,"",n,t);var o=0,s=0;for(var i in n){var a=n[i],l=a[0],c=a[1],u=c.level==0?0:8,f=si(i),d=f.length,h=c.comment,v=h&&si(h),p=v&&v.length,g=ei(c.extra);d>65535&&rt(11);var m=u?nf(l,c):l,w=m.length,y=Xl();y.p(l),r.push(tf(c,{size:l.length,crc:y.d(),c:m,f,m:v,u:d!=i.length||v&&h.length!=p,o,compression:u})),o+=30+d+g+w,s+=76+2*(d+g)+(p||0)+w}for(var b=new _t(s+22),S=o,E=s-o,$=0;$<r.length;++$){var f=r[$];Tl(b,f.o,f,f.f,f.u,f.c.length);var A=30+f.f.length+ei(f.extra);b.set(f.c,f.o+A),Tl(b,o,f,f.f,f.u,f.c.length,f.o,f.m),o+=16+A+(f.m?f.m.length:0)}return V2(b,o,r.length,E,S),b}at.zipSync=Gse;var mP=function(){function e(){}return e.prototype.push=function(t,n){this.ondata(null,t,n)},e.compression=0,e}();at.UnzipPassThrough=mP;var jse=function(){function e(){var t=this;this.i=new mr(function(n,r){t.ondata(null,n,r)})}return e.prototype.push=function(t,n){try{this.i.push(t,n)}catch(r){this.ondata(r,null,n)}},e.compression=8,e}();at.UnzipInflate=jse;var Vse=function(){function e(t,n){var r=this;n<32e4?this.i=new mr(function(o,s){r.ondata(null,o,s)}):(this.i=new z2(function(o,s,i){r.ondata(o,s,i)}),this.terminate=this.i.terminate)}return e.prototype.push=function(t,n){this.i.terminate&&(t=Xr(t,0)),this.i.push(t,n)},e.compression=8,e}();at.AsyncUnzipInflate=Vse;var Use=function(){function e(t){this.onfile=t,this.k=[],this.o={0:mP},this.p=os}return e.prototype.push=function(t,n){var r=this;if(this.onfile||rt(5),this.p||rt(4),this.c>0){var o=Math.min(this.c,t.length),s=t.subarray(0,o);if(this.c-=o,this.d?this.d.push(s,!this.c):this.k[0].push(s),t=t.subarray(o),t.length)return this.push(t,n)}else{var i=0,a=0,l=void 0,c=void 0;this.p.length?t.length?(c=new _t(this.p.length+t.length),c.set(this.p),c.set(t,this.p.length)):c=this.p:c=t;for(var u=c.length,f=this.c,d=f&&this.d,h=function(){var m,w=hn(c,a);if(w==67324752){i=1,l=a,v.d=null,v.c=0;var y=er(c,a+6),b=er(c,a+8),S=y&2048,E=y&8,$=er(c,a+26),A=er(c,a+28);if(u>a+30+$+A){var B=[];v.k.unshift(B),i=2;var D=hn(c,a+18),W=hn(c,a+22),te=j2(c.subarray(a+30,a+=30+$),!S);D==4294967295?(m=E?[-2]:pP(c,a),D=m[0],W=m[1]):E&&(D=-1),a+=A,v.c=D;var pe,V={name:te,compression:b,start:function(){if(V.ondata||rt(5),!D)V.ondata(null,os,!0);else{var me=r.o[b];me||V.ondata(rt(14,"unknown compression type "+b,1),null,!1),pe=D<0?new me(te):new me(te,D,W),pe.ondata=function($e,Ne,qe){V.ondata($e,Ne,qe)};for(var ee=0,xe=B;ee<xe.length;ee++){var oe=xe[ee];pe.push(oe,!1)}r.k[0]==B&&r.c?r.d=pe:pe.push(os,!0)}},terminate:function(){pe&&pe.terminate&&pe.terminate()}};D>=0&&(V.size=D,V.originalSize=W),v.onfile(V)}return"break"}else if(f){if(w==134695760)return l=a+=12+(f==-2&&8),i=3,v.c=0,"break";if(w==33639248)return l=a-=4,i=3,v.c=0,"break"}},v=this;a<u-4;++a){var p=h();if(p==="break")break}if(this.p=os,f<0){var g=i?c.subarray(0,l-12-(f==-2&&8)-(hn(c,l-16)==134695760&&4)):c.subarray(0,a);d?d.push(g,!!i):this.k[+(i==2)].push(g)}if(i&2)return this.push(c.subarray(a),n);this.p=c.subarray(a)}n&&(this.c&&rt(13),this.p=null)},e.prototype.register=function(t){this.o[t.compression]=t},e}();at.Unzip=Use;var Zh=typeof queueMicrotask=="function"?queueMicrotask:typeof setTimeout=="function"?setTimeout:function(e){e()};function Hse(e,t,n){n||(n=t,t={}),typeof n!="function"&&rt(7);var r=[],o=function(){for(var p=0;p<r.length;++p)r[p]()},s={},i=function(p,g){Zh(function(){n(p,g)})};Zh(function(){i=n});for(var a=e.length-22;hn(e,a)!=101010256;--a)if(!a||e.length-a>65558)return i(rt(13,0,1),null),o;var l=er(e,a+8);if(l){var c=l,u=hn(e,a+16),f=u==4294967295;if(f){if(a=hn(e,a-12),hn(e,a)!=101075792)return i(rt(13,0,1),null),o;c=l=hn(e,a+32),u=hn(e,a+48)}for(var d=t&&t.filter,h=function(p){var g=hP(e,u,f),m=g[0],w=g[1],y=g[2],b=g[3],S=g[4],E=g[5],$=dP(e,E);u=S;var A=function(D,W){D?(o(),i(D,null)):(W&&(s[b]=W),--l||i(null,s))};if(!d||d({name:b,size:w,originalSize:y,compression:m}))if(!m)A(null,Xr(e,$,$+w));else if(m==8){var B=e.subarray($,$+w);if(w<32e4)try{A(null,Kl(B,new _t(y)))}catch(D){A(D,null)}else r.push(B2(B,{size:y},A))}else A(rt(14,"unknown compression type "+m,1),null);else A(null,null)},v=0;v<c;++v)h(v)}else i(null,{});return o}at.unzip=Hse;function Wse(e,t){for(var n={},r=e.length-22;hn(e,r)!=101010256;--r)(!r||e.length-r>65558)&&rt(13);var o=er(e,r+8);if(!o)return{};var s=hn(e,r+16),i=s==4294967295;i&&(r=hn(e,r-12),hn(e,r)!=101075792&&rt(13),o=hn(e,r+32),s=hn(e,r+48));for(var a=t&&t.filter,l=0;l<o;++l){var c=hP(e,s,i),u=c[0],f=c[1],d=c[2],h=c[3],v=c[4],p=c[5],g=dP(e,p);s=v,(!a||a({name:h,size:f,originalSize:d,compression:u}))&&(u?u==8?n[h]=Kl(e.subarray(g,g+f),new _t(d)):rt(14,"unknown compression type "+u):n[h]=Xr(e,g,g+f))}return n}at.unzipSync=Wse;function Xse(e){return e&&Object.prototype.toString.call(e)==="[object Object]"}function Yse(e){var t=" ".repeat(e);return function(n){var r,o=[];return typeof n!="string"?n:(r=n.split(`
`),r.length===1?t+n:(r.forEach(function(s){if(s.trim()===""){o.push(s);return}o.push(t+s)}),o.join(`
`)))}}function qse(e){var t=e.split(`
`),n=[];return t.forEach(function(r){r.trim()!==""&&n.push(r)}),n.join(`
`)}function Zse(e,t){var n="",r=function(s){return s};t>0&&(n=`
`,r=Yse(t));function o(s){var i,a,l,c;return a="",c=!0,l=s.some(function(u,f,d){if(f===0)return i="<"+u,d.length===1?!0:void 0;if(f===1)if(Xse(u)){if(Object.keys(u).forEach(function(h){i+=" "+h+'="'+u[h]+'"'}),d.length===2)return!0;i+=">";return}else i+=">";switch(typeof u){case"string":case"number":case"boolean":case"undefined":a+=u+n;return}c=!1,a+=o(u)}),l?i+"/>"+n:c?i+qse(a)+"</"+s[0]+">"+n:i+n+r(a)+"</"+s[0]+">"+n}return o(e)}var Qse=Zse;const vP=e=>e.reduce((t,n)=>Array.isArray(n)?t.concat(vP(n)):t.concat(n),[]);var Kse=vP;const Jse=(e,t)=>e-t;var eie=Jse;const tie=e=>{if(!(!Array.isArray(e)||e.length===0))return e[0]};var nie=tie;const rie=(e,t,n)=>{let r=0,o=e.length;for(;o>r;){const s=Math.floor((r+o)/2),i=e[s];n(t,i)>0?r=s+1:o=s}return e.splice(r,0,t),e};var oie=rie;const sie=(e,t)=>{if(!(!Array.isArray(e)||e.length<t))return e[t]};var iie=sie;const aie=(e,t,n)=>{for(e=e.slice();e.length<n;)e.push(t);return e};var lie=aie;const cie=e=>Array.isArray(e)?e:e==null?[]:[e];var uie=cie,U2={flatten:Kse,fnNumberSort:eie,head:nie,insertSorted:oie,nth:iie,padToLength:lie,toArray:uie};const fie=at.zipSync,_m=at.strToU8,die=Qse,{colors:gE,geometries:ku,modifiers:hie}=Vl,{flatten:pie,toArray:mie}=U2,vie="model/3mf",gie="3mf",yie=(e,...t)=>{e=Object.assign({},{unit:"millimeter",metadata:!0,defaultcolor:[1,.6274509803921569,0,1],compress:!0},e),t=pie(t);let r=t.filter(i=>ku.geom3.isA(i));if(r.length===0)throw new Error("only 3D geometries can be serialized to 3MF");t.length!==r.length&&console.warn("some objects could not be serialized to 3MF"),t=mie(hie.generalize({snap:!0,triangulate:!0},r));const o=["model",{unit:e.unit,"xml:lang":"und"},["metadata",{name:"Application"},"JSCAD"]];e.metadata&&o.push(["metadata",{name:"CreationDate"},new Date().toISOString()]),o.push(bie(t,e)),o.push(_ie(t));const s=`<?xml version="1.0" encoding="UTF-8"?>
${die(o,2)}`;if(e.compress){const i={"3D":{"3dmodel.model":_m(s)},_rels:{".rels":_m(xie)},"[Content_Types].xml":_m(wie)};return[fie(i,{comment:"created by JSCAD"}).buffer]}return[s]},wie=`<?xml version="1.0" encoding="UTF-8" ?>
<Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types">
  <Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml">
  </Default>
  <Default Extension="model" ContentType="application/vnd.ms-package.3dmanufacturing-3dmodel+xml">
  </Default>
</Types>`,xie=`<?xml version="1.0" encoding="UTF-8" ?>
<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">
  <Relationship Target="/3D/3dmodel.model" Id="rel0" Type="http://schemas.microsoft.com/3dmanufacturing/2013/01/3dmodel">
  </Relationship>
</Relationships>`,bie=(e,t)=>{let n=["resources",{},Sie(e,t)];return n=n.concat(Eie(e,t)),n},Sie=(e,t)=>{let n=["basematerials",{id:"0"}];const r=[];return e.forEach((o,s)=>{let i=gE.rgbToHex(t.defaultcolor).toUpperCase();o.color&&(i=gE.rgbToHex(o.color).toUpperCase()),r.push(["base",{name:`mat${s}`,displaycolor:i}])}),n=n.concat(r),n},Eie=(e,t)=>{const n=[];return e.forEach((r,o)=>{ku.geom3.isA(r)&&ku.geom3.toPolygons(r).length>0&&(t.id=o,n.push($ie(r,t)))}),n},_ie=(e,t)=>{let n=["build",{}];const r=[];return e.forEach((o,s)=>{r.push(["item",{objectid:`${s+1}`}])}),n=n.concat(r),n},$ie=(e,t)=>{const n=e.name?e.name:`Part ${t.id}`;return["object",{id:`${t.id+1}`,type:"model",pid:"0",pindex:`${t.id}`,name:n},Aie(e)]},Aie=(e,t)=>["mesh",{},Tie(e),Pie(e)],Tie=(e,t)=>{const n=["vertices",{}],r=[];return ku.geom3.toPolygons(e).forEach(s=>{for(let i=0;i<s.vertices.length;i++)r.push(Cie(s.vertices[i]))}),n.concat(r)},Cie=(e,t)=>["vertex",{x:e[0],y:e[1],z:e[2]}],Pie=(e,t)=>{let n=0;const r=ku.geom3.toPolygons(e);let o=["triangles",{}];return r.forEach(s=>{if(s.vertices.length<3)return;const i=kie(s,n);o=o.concat(i),n+=s.vertices.length}),o},kie=(e,t)=>{const n=[];for(let r=0;r<e.vertices.length-2;r++){const o=["triangle",{v1:t,v2:t+r+1,v3:t+r+2}];n.push(o)}return n};var Rie={serialize:yie,mimeType:vie,fileExtension:gie};const Nie=fg(Rie),yE=1e4,wE=1e3,Nd=1,Oie=.001;function xE(e){const t=new OffscreenCanvas(yE,wE),n=t.getContext("2d");if(!n)throw new Error("Failed to init canvas");const r=window.cv;t.width=yE,t.height=wE,n.fillStyle="lightgrey",n.fillRect(0,0,t.width,t.height),n.font=`${Hv.get()?"italic ":""}${Uv.get()?"bold ":""}720px "${jv.get()}"`,n.fillStyle="black",n.fillText(e,100,900);const o=n.getImageData(0,0,t.width,t.height),s=r.matFromImageData(o),i=new r.Mat;r.cvtColor(s,i,r.COLOR_RGBA2GRAY);const a=new r.Mat;r.threshold(i,a,128,255,r.THRESH_BINARY_INV);const l=new r.MatVector,c=new r.Mat;r.findContours(a,l,c,r.RETR_CCOMP,r.CHAIN_APPROX_NONE);const u=gP(),f=[];for(let d=0;d<l.size();++d){const h=l.get(d),v=c.intPtr(0,d)[3],p=Oie*r.arcLength(h,!0),g=new r.Mat;r.approxPolyDP(h,g,p,!0);const m=[];for(let y=0;y<g.rows;++y)m.push({x:g.data32S[y*2]*Nd/10,y:g.data32S[y*2+1]*Nd/10});m.push({x:g.data32S[0]*Nd/10,y:g.data32S[1]*Nd/10});const w=Lie(m);m.forEach(y=>cg(u,y)),m.forEach(y=>cg(w,y)),f.push({points:m,parentIdx:v,bounds:w}),g.delete()}return s.delete(),i.delete(),a.delete(),l.delete(),c.delete(),{polygons:f,bounds:u}}function gP(){return{left:Number.MAX_SAFE_INTEGER,right:Number.MIN_SAFE_INTEGER,top:Number.MAX_SAFE_INTEGER,bottom:Number.MIN_SAFE_INTEGER}}function cg(e,t){e.left=Math.min(e.left,t.x),e.right=Math.max(e.right,t.x),e.top=Math.min(e.top,t.y),e.bottom=Math.max(e.bottom,t.y)}function Lie(e){const t=gP();return e.forEach(n=>cg(t,n)),t}function Mie(e){return{x:(e.left+e.right)/2,y:(e.top+e.bottom)/2}}const Fie=Vl.primitives.polygon,{extrudeLinear:bE}=Vl.extrusions,{colorize:SE}=Vl.colors,{union:Die,subtract:Iie,intersect:yP}=Vl.booleans,{translate:zie,rotate:EE}=Vl.transforms,Bie=(e,t)=>{const n=Nie.serialize({binary:!0},e),r=new Blob(n),o=URL.createObjectURL(r),s=document.createElement("a");s.href=o,s.download=t+".3mf",document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(o)};function _E(e){return Fie({points:e.points.map(t=>[t.x,t.y])})}function $E(e,t,n){const r=Mie(e.bounds),o=[];return e.polygons.forEach(s=>{if(s.parentIdx!==-1){const i=_E(s),a=bE({height:t},i);o[s.parentIdx].mesh=SE([1,0,0],Iie(o[s.parentIdx].mesh,a)),o.push(null)}else{s.points.reverse();const a=_E(s),l=SE([0,1,0],bE({height:t},a)),c=[s.bounds.left,s.bounds.right];o.push({mesh:l,span:c})}}),o.filter(s=>s!==null).map(s=>{let i=zie([-r.x,-r.y,-t/2],s.mesh);return i=EE([0,n,0],i),i=EE([Math.PI/2,Math.PI,-Math.PI/2],i),{...s,mesh:i}})}function Qh(e,t){return e.span[0]-t.span[0]}function AE(e){const t=e.reduce((r,o)=>Math.min(r,o.span[0]),Number.MAX_SAFE_INTEGER),n=e.reduce((r,o)=>Math.max(r,o.span[1]),Number.MIN_SAFE_INTEGER);return r=>(r.span[0]-t)/(n-t)}function Gie(e,t){e.sort(Qh),t.sort(Qh);const n=AE(e),r=AE(t),o=[];let s=0,i=0;for(;;){o.push(yP(e[s].mesh,t[i].mesh));const a=s<e.length-1?n(e[s+1]):null,l=i<t.length-1?r(t[i+1]):null;if(a===null&&l===null)break;a===null||l!==null&&l<a?i++:s++}return o}function TE(e){return e.reduce((n,r)=>n?Die(n,r.mesh):r.mesh,null)}function jie(e,t){e.sort(Qh),t.sort(Qh);const n=TE(e),r=TE(t);return[yP(n,r)]}const Vie=["Arial","Helvetica","Times New Roman","Courier","Verdana","Georgia","Palatino","Garamond","Bookman","Comic Sans MS","Trebuchet MS","Arial Black","Impact"];function Uie({onGenerate:e}){const t=Ci(Zd),n=Ci(Qd),r=Ci(jv),o=Ci(Uv),s=Ci(Hv),i=Ci(Vv),a=Ci(Wv),l=M.useCallback(u=>{u!==null&&jv.set(u)},[]),c=M.useCallback(()=>{const u=Vv.get(),f=Zd.get().toLowerCase()+"_"+Qd.get().toLowerCase();Bie(u,f)},[]);return G.jsxs(Lh,{children:[G.jsx(Mh,{label:"Side A text",placeholder:"right side text",value:n,onChange:u=>Qd.set(u.currentTarget.value),styles:()=>({input:{fontFamily:r,fontWeight:o?"bold":"normal",fontStyle:s?"italic":"normal"}})}),G.jsx(Mh,{label:"Side B text",placeholder:"left side text",value:t,onChange:u=>Zd.set(u.currentTarget.value),styles:()=>({input:{fontFamily:r,fontWeight:o?"bold":"normal",fontStyle:s?"italic":"normal"}})}),G.jsx(r2,{label:"Font",placeholder:"Pick value",data:Vie,value:r,onChange:l}),G.jsx(Ji,{label:"Bold",value:o,onChange:u=>Uv.set(u.currentTarget.checked)}),G.jsx(Ji,{label:"Italic",value:s,onChange:u=>Hv.set(u.currentTarget.checked)}),G.jsx(Js.Group,{value:a,onChange:u=>Wv.set(u),label:"Reduction strategy",children:G.jsxs(Lh,{children:[G.jsx(Js,{value:_u.SIMPLE,label:"Simple"}),G.jsx(Js,{value:_u.NONE,label:"None"})]})}),G.jsx(Eu,{onClick:e,children:"Generate"}),G.jsx(Eu,{onClick:c,disabled:i.length===0,children:"Download"})]})}var Hie=Wie;function Wie(){var e=new Float32Array(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}var Xie=Yie;function Yie(e){var t=new Float32Array(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}var qie=Zie;function Zie(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}var wP=Qie;function Qie(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}var Kie=Jie;function Jie(e,t){if(e===t){var n=t[1],r=t[2],o=t[3],s=t[6],i=t[7],a=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=s,e[11]=t[14],e[12]=o,e[13]=i,e[14]=a}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}var eae=tae;function tae(e,t){var n=t[0],r=t[1],o=t[2],s=t[3],i=t[4],a=t[5],l=t[6],c=t[7],u=t[8],f=t[9],d=t[10],h=t[11],v=t[12],p=t[13],g=t[14],m=t[15],w=n*a-r*i,y=n*l-o*i,b=n*c-s*i,S=r*l-o*a,E=r*c-s*a,$=o*c-s*l,A=u*p-f*v,B=u*g-d*v,D=u*m-h*v,W=f*g-d*p,te=f*m-h*p,pe=d*m-h*g,V=w*pe-y*te+b*W+S*D-E*B+$*A;return V?(V=1/V,e[0]=(a*pe-l*te+c*W)*V,e[1]=(o*te-r*pe-s*W)*V,e[2]=(p*$-g*E+m*S)*V,e[3]=(d*E-f*$-h*S)*V,e[4]=(l*D-i*pe-c*B)*V,e[5]=(n*pe-o*D+s*B)*V,e[6]=(g*b-v*$-m*y)*V,e[7]=(u*$-d*b+h*y)*V,e[8]=(i*te-a*D+c*A)*V,e[9]=(r*D-n*te-s*A)*V,e[10]=(v*E-p*b+m*w)*V,e[11]=(f*b-u*E-h*w)*V,e[12]=(a*B-i*W-l*A)*V,e[13]=(n*W-r*B+o*A)*V,e[14]=(p*y-v*S-g*w)*V,e[15]=(u*S-f*y+d*w)*V,e):null}var nae=rae;function rae(e,t){var n=t[0],r=t[1],o=t[2],s=t[3],i=t[4],a=t[5],l=t[6],c=t[7],u=t[8],f=t[9],d=t[10],h=t[11],v=t[12],p=t[13],g=t[14],m=t[15];return e[0]=a*(d*m-h*g)-f*(l*m-c*g)+p*(l*h-c*d),e[1]=-(r*(d*m-h*g)-f*(o*m-s*g)+p*(o*h-s*d)),e[2]=r*(l*m-c*g)-a*(o*m-s*g)+p*(o*c-s*l),e[3]=-(r*(l*h-c*d)-a*(o*h-s*d)+f*(o*c-s*l)),e[4]=-(i*(d*m-h*g)-u*(l*m-c*g)+v*(l*h-c*d)),e[5]=n*(d*m-h*g)-u*(o*m-s*g)+v*(o*h-s*d),e[6]=-(n*(l*m-c*g)-i*(o*m-s*g)+v*(o*c-s*l)),e[7]=n*(l*h-c*d)-i*(o*h-s*d)+u*(o*c-s*l),e[8]=i*(f*m-h*p)-u*(a*m-c*p)+v*(a*h-c*f),e[9]=-(n*(f*m-h*p)-u*(r*m-s*p)+v*(r*h-s*f)),e[10]=n*(a*m-c*p)-i*(r*m-s*p)+v*(r*c-s*a),e[11]=-(n*(a*h-c*f)-i*(r*h-s*f)+u*(r*c-s*a)),e[12]=-(i*(f*g-d*p)-u*(a*g-l*p)+v*(a*d-l*f)),e[13]=n*(f*g-d*p)-u*(r*g-o*p)+v*(r*d-o*f),e[14]=-(n*(a*g-l*p)-i*(r*g-o*p)+v*(r*l-o*a)),e[15]=n*(a*d-l*f)-i*(r*d-o*f)+u*(r*l-o*a),e}var oae=sae;function sae(e){var t=e[0],n=e[1],r=e[2],o=e[3],s=e[4],i=e[5],a=e[6],l=e[7],c=e[8],u=e[9],f=e[10],d=e[11],h=e[12],v=e[13],p=e[14],g=e[15],m=t*i-n*s,w=t*a-r*s,y=t*l-o*s,b=n*a-r*i,S=n*l-o*i,E=r*l-o*a,$=c*v-u*h,A=c*p-f*h,B=c*g-d*h,D=u*p-f*v,W=u*g-d*v,te=f*g-d*p;return m*te-w*W+y*D+b*B-S*A+E*$}var iae=aae;function aae(e,t,n){var r=t[0],o=t[1],s=t[2],i=t[3],a=t[4],l=t[5],c=t[6],u=t[7],f=t[8],d=t[9],h=t[10],v=t[11],p=t[12],g=t[13],m=t[14],w=t[15],y=n[0],b=n[1],S=n[2],E=n[3];return e[0]=y*r+b*a+S*f+E*p,e[1]=y*o+b*l+S*d+E*g,e[2]=y*s+b*c+S*h+E*m,e[3]=y*i+b*u+S*v+E*w,y=n[4],b=n[5],S=n[6],E=n[7],e[4]=y*r+b*a+S*f+E*p,e[5]=y*o+b*l+S*d+E*g,e[6]=y*s+b*c+S*h+E*m,e[7]=y*i+b*u+S*v+E*w,y=n[8],b=n[9],S=n[10],E=n[11],e[8]=y*r+b*a+S*f+E*p,e[9]=y*o+b*l+S*d+E*g,e[10]=y*s+b*c+S*h+E*m,e[11]=y*i+b*u+S*v+E*w,y=n[12],b=n[13],S=n[14],E=n[15],e[12]=y*r+b*a+S*f+E*p,e[13]=y*o+b*l+S*d+E*g,e[14]=y*s+b*c+S*h+E*m,e[15]=y*i+b*u+S*v+E*w,e}var lae=cae;function cae(e,t,n){var r=n[0],o=n[1],s=n[2],i,a,l,c,u,f,d,h,v,p,g,m;return t===e?(e[12]=t[0]*r+t[4]*o+t[8]*s+t[12],e[13]=t[1]*r+t[5]*o+t[9]*s+t[13],e[14]=t[2]*r+t[6]*o+t[10]*s+t[14],e[15]=t[3]*r+t[7]*o+t[11]*s+t[15]):(i=t[0],a=t[1],l=t[2],c=t[3],u=t[4],f=t[5],d=t[6],h=t[7],v=t[8],p=t[9],g=t[10],m=t[11],e[0]=i,e[1]=a,e[2]=l,e[3]=c,e[4]=u,e[5]=f,e[6]=d,e[7]=h,e[8]=v,e[9]=p,e[10]=g,e[11]=m,e[12]=i*r+u*o+v*s+t[12],e[13]=a*r+f*o+p*s+t[13],e[14]=l*r+d*o+g*s+t[14],e[15]=c*r+h*o+m*s+t[15]),e}var uae=fae;function fae(e,t,n){var r=n[0],o=n[1],s=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*o,e[5]=t[5]*o,e[6]=t[6]*o,e[7]=t[7]*o,e[8]=t[8]*s,e[9]=t[9]*s,e[10]=t[10]*s,e[11]=t[11]*s,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}var dae=hae;function hae(e,t,n,r){var o=r[0],s=r[1],i=r[2],a=Math.sqrt(o*o+s*s+i*i),l,c,u,f,d,h,v,p,g,m,w,y,b,S,E,$,A,B,D,W,te,pe,V,me;return Math.abs(a)<1e-6?null:(a=1/a,o*=a,s*=a,i*=a,l=Math.sin(n),c=Math.cos(n),u=1-c,f=t[0],d=t[1],h=t[2],v=t[3],p=t[4],g=t[5],m=t[6],w=t[7],y=t[8],b=t[9],S=t[10],E=t[11],$=o*o*u+c,A=s*o*u+i*l,B=i*o*u-s*l,D=o*s*u-i*l,W=s*s*u+c,te=i*s*u+o*l,pe=o*i*u+s*l,V=s*i*u-o*l,me=i*i*u+c,e[0]=f*$+p*A+y*B,e[1]=d*$+g*A+b*B,e[2]=h*$+m*A+S*B,e[3]=v*$+w*A+E*B,e[4]=f*D+p*W+y*te,e[5]=d*D+g*W+b*te,e[6]=h*D+m*W+S*te,e[7]=v*D+w*W+E*te,e[8]=f*pe+p*V+y*me,e[9]=d*pe+g*V+b*me,e[10]=h*pe+m*V+S*me,e[11]=v*pe+w*V+E*me,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}var pae=mae;function mae(e,t,n){var r=Math.sin(n),o=Math.cos(n),s=t[4],i=t[5],a=t[6],l=t[7],c=t[8],u=t[9],f=t[10],d=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=s*o+c*r,e[5]=i*o+u*r,e[6]=a*o+f*r,e[7]=l*o+d*r,e[8]=c*o-s*r,e[9]=u*o-i*r,e[10]=f*o-a*r,e[11]=d*o-l*r,e}var vae=gae;function gae(e,t,n){var r=Math.sin(n),o=Math.cos(n),s=t[0],i=t[1],a=t[2],l=t[3],c=t[8],u=t[9],f=t[10],d=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=s*o-c*r,e[1]=i*o-u*r,e[2]=a*o-f*r,e[3]=l*o-d*r,e[8]=s*r+c*o,e[9]=i*r+u*o,e[10]=a*r+f*o,e[11]=l*r+d*o,e}var yae=wae;function wae(e,t,n){var r=Math.sin(n),o=Math.cos(n),s=t[0],i=t[1],a=t[2],l=t[3],c=t[4],u=t[5],f=t[6],d=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=s*o+c*r,e[1]=i*o+u*r,e[2]=a*o+f*r,e[3]=l*o+d*r,e[4]=c*o-s*r,e[5]=u*o-i*r,e[6]=f*o-a*r,e[7]=d*o-l*r,e}var xae=bae;function bae(e,t,n){var r,o,s,i=n[0],a=n[1],l=n[2],c=Math.sqrt(i*i+a*a+l*l);return Math.abs(c)<1e-6?null:(c=1/c,i*=c,a*=c,l*=c,r=Math.sin(t),o=Math.cos(t),s=1-o,e[0]=i*i*s+o,e[1]=a*i*s+l*r,e[2]=l*i*s-a*r,e[3]=0,e[4]=i*a*s-l*r,e[5]=a*a*s+o,e[6]=l*a*s+i*r,e[7]=0,e[8]=i*l*s+a*r,e[9]=a*l*s-i*r,e[10]=l*l*s+o,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}var Sae=Eae;function Eae(e,t,n){var r=t[0],o=t[1],s=t[2],i=t[3],a=r+r,l=o+o,c=s+s,u=r*a,f=r*l,d=r*c,h=o*l,v=o*c,p=s*c,g=i*a,m=i*l,w=i*c;return e[0]=1-(h+p),e[1]=f+w,e[2]=d-m,e[3]=0,e[4]=f-w,e[5]=1-(u+p),e[6]=v+g,e[7]=0,e[8]=d+m,e[9]=v-g,e[10]=1-(u+h),e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}var _ae=$ae;function $ae(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}var Aae=Tae;function Tae(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}var Cae=Pae;function Pae(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=n,e[7]=0,e[8]=0,e[9]=-n,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}var kae=Rae;function Rae(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=0,e[2]=-n,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=n,e[9]=0,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}var Nae=Oae;function Oae(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=0,e[4]=-n,e[5]=r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}var Lae=Mae;function Mae(e,t){var n=t[0],r=t[1],o=t[2],s=t[3],i=n+n,a=r+r,l=o+o,c=n*i,u=r*i,f=r*a,d=o*i,h=o*a,v=o*l,p=s*i,g=s*a,m=s*l;return e[0]=1-f-v,e[1]=u+m,e[2]=d-g,e[3]=0,e[4]=u-m,e[5]=1-c-v,e[6]=h+p,e[7]=0,e[8]=d+g,e[9]=h-p,e[10]=1-c-f,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}var Fae=Dae;function Dae(e,t,n,r,o,s,i){var a=1/(n-t),l=1/(o-r),c=1/(s-i);return e[0]=s*2*a,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=s*2*l,e[6]=0,e[7]=0,e[8]=(n+t)*a,e[9]=(o+r)*l,e[10]=(i+s)*c,e[11]=-1,e[12]=0,e[13]=0,e[14]=i*s*2*c,e[15]=0,e}var Iae=zae;function zae(e,t,n,r,o){var s=1/Math.tan(t/2),i=1/(r-o);return e[0]=s/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=s,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(o+r)*i,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*o*r*i,e[15]=0,e}var Bae=Gae;function Gae(e,t,n,r){var o=Math.tan(t.upDegrees*Math.PI/180),s=Math.tan(t.downDegrees*Math.PI/180),i=Math.tan(t.leftDegrees*Math.PI/180),a=Math.tan(t.rightDegrees*Math.PI/180),l=2/(i+a),c=2/(o+s);return e[0]=l,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=c,e[6]=0,e[7]=0,e[8]=-((i-a)*l*.5),e[9]=(o-s)*c*.5,e[10]=r/(n-r),e[11]=-1,e[12]=0,e[13]=0,e[14]=r*n/(n-r),e[15]=0,e}var jae=Vae;function Vae(e,t,n,r,o,s,i){var a=1/(t-n),l=1/(r-o),c=1/(s-i);return e[0]=-2*a,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(t+n)*a,e[13]=(o+r)*l,e[14]=(i+s)*c,e[15]=1,e}var Uae=wP,Hae=Wae;function Wae(e,t,n,r){var o,s,i,a,l,c,u,f,d,h,v=t[0],p=t[1],g=t[2],m=r[0],w=r[1],y=r[2],b=n[0],S=n[1],E=n[2];return Math.abs(v-b)<1e-6&&Math.abs(p-S)<1e-6&&Math.abs(g-E)<1e-6?Uae(e):(u=v-b,f=p-S,d=g-E,h=1/Math.sqrt(u*u+f*f+d*d),u*=h,f*=h,d*=h,o=w*d-y*f,s=y*u-m*d,i=m*f-w*u,h=Math.sqrt(o*o+s*s+i*i),h?(h=1/h,o*=h,s*=h,i*=h):(o=0,s=0,i=0),a=f*i-d*s,l=d*o-u*i,c=u*s-f*o,h=Math.sqrt(a*a+l*l+c*c),h?(h=1/h,a*=h,l*=h,c*=h):(a=0,l=0,c=0),e[0]=o,e[1]=a,e[2]=u,e[3]=0,e[4]=s,e[5]=l,e[6]=f,e[7]=0,e[8]=i,e[9]=c,e[10]=d,e[11]=0,e[12]=-(o*v+s*p+i*g),e[13]=-(a*v+l*p+c*g),e[14]=-(u*v+f*p+d*g),e[15]=1,e)}var Xae=Yae;function Yae(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}var to={create:Hie,clone:Xie,copy:qie,identity:wP,transpose:Kie,invert:eae,adjoint:nae,determinant:oae,multiply:iae,translate:lae,scale:uae,rotate:dae,rotateX:pae,rotateY:vae,rotateZ:yae,fromRotation:xae,fromRotationTranslation:Sae,fromScaling:_ae,fromTranslation:Aae,fromXRotation:Cae,fromYRotation:kae,fromZRotation:Nae,fromQuat:Lae,frustum:Fae,perspective:Iae,perspectiveFromFieldOfView:Bae,ortho:jae,lookAt:Hae,str:Xae};const $m=to,qae=(e,t={})=>{const{fbo:n}=t,r={cull:{enable:!0},context:{lightDirection:[.2,.2,1]},uniforms:{view:(o,s)=>s.camera.view,eye:(o,s)=>s.camera.position,projection:(o,s)=>s.camera.projection,camNear:(o,s)=>s.camera.near,camFar:(o,s)=>s.camera.far,invertedView:(o,s)=>$m.invert([],s.camera.view),lightPosition:(o,s)=>s&&s.rendering&&s.rendering.lightPosition?s.rendering.lightPosition:[100,200,100],lightDirection:(o,s)=>s&&s.rendering&&s.rendering.lightDirection?s.rendering.lightDirection:o.lightDirection||[0,0,0],lightView:o=>$m.lookAt([],o.lightDirection,[0,0,0],[0,0,1]),lightProjection:$m.ortho([],-25,-25,-20,20,-25,25),lightColor:(o,s)=>s&&s.rendering&&s.rendering.lightColor?s.rendering.lightColor:[1,.8,0],ambientLightAmount:(o,s)=>s&&s.rendering&&s.rendering.ambientLightAmount?s.rendering.ambientLightAmount:.3,diffuseLightAmount:(o,s)=>s&&s.rendering&&s.rendering.diffuseLightAmount?s&&s.rendering&&s.rendering.diffuseLightAmount:.89,specularLightAmount:(o,s)=>s&&s.rendering&&s.rendering.specularLightAmount?s.rendering.specularLightAmount:.16,uMaterialShininess:(o,s)=>s&&s.rendering&&s.rendering.materialShininess?s.rendering.materialShininess:8,materialAmbient:[.5,.8,.3],materialDiffuse:[.5,.8,.3],materialSpecular:[.5,.8,.3]},framebuffer:n};return e(Object.assign({},r,t.extras))};var Zae=qae,Zp={background:[1,1,1,1],meshColor:[0,.6,1,1],lightColor:[1,1,1,1],lightDirection:[.2,.2,1],lightPosition:[100,200,100],ambientLightAmount:.3,diffuseLightAmount:.89,specularLightAmount:.16,materialShininess:8},Am={exports:{}},CE;function Qae(){return CE||(CE=1,function(e,t){(function(n,r){e.exports=r()})(WR,function(){var n=function(x){return x instanceof Uint8Array||x instanceof Uint16Array||x instanceof Uint32Array||x instanceof Int8Array||x instanceof Int16Array||x instanceof Int32Array||x instanceof Float32Array||x instanceof Float64Array||x instanceof Uint8ClampedArray},r=function(x,T){for(var L=Object.keys(T),K=0;K<L.length;++K)x[L[K]]=T[L[K]];return x},o=`
`;function s(x){return typeof atob<"u"?atob(x):"base64:"+x}function i(x){var T=new Error("(regl) "+x);throw console.error(T),T}function a(x,T){x||i(T)}function l(x){return x?": "+x:""}function c(x,T,L){x in T||i("unknown parameter ("+x+")"+l(L)+". possible values: "+Object.keys(T).join())}function u(x,T){n(x)||i("invalid parameter type"+l(T)+". must be a typed array")}function f(x,T){switch(T){case"number":return typeof x=="number";case"object":return typeof x=="object";case"string":return typeof x=="string";case"boolean":return typeof x=="boolean";case"function":return typeof x=="function";case"undefined":return typeof x>"u";case"symbol":return typeof x=="symbol"}}function d(x,T,L){f(x,T)||i("invalid parameter type"+l(L)+". expected "+T+", got "+typeof x)}function h(x,T){x>=0&&(x|0)===x||i("invalid parameter type, ("+x+")"+l(T)+". must be a nonnegative integer")}function v(x,T,L){T.indexOf(x)<0&&i("invalid value"+l(L)+". must be one of: "+T)}var p=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"];function g(x){Object.keys(x).forEach(function(T){p.indexOf(T)<0&&i('invalid regl constructor argument "'+T+'". must be one of '+p)})}function m(x,T){for(x=x+"";x.length<T;)x=" "+x;return x}function w(){this.name="unknown",this.lines=[],this.index={},this.hasErrors=!1}function y(x,T){this.number=x,this.line=T,this.errors=[]}function b(x,T,L){this.file=x,this.line=T,this.message=L}function S(){var x=new Error,T=(x.stack||x).toString(),L=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(T);if(L)return L[1];var K=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(T);return K?K[1]:"unknown"}function E(){var x=new Error,T=(x.stack||x).toString(),L=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(T);if(L)return L[1];var K=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(T);return K?K[1]:"unknown"}function $(x,T){var L=x.split(`
`),K=1,le=0,Q={unknown:new w,0:new w};Q.unknown.name=Q[0].name=T||S(),Q.unknown.lines.push(new y(0,""));for(var re=0;re<L.length;++re){var ge=L[re],ve=/^\s*#\s*(\w+)\s+(.+)\s*$/.exec(ge);if(ve)switch(ve[1]){case"line":var Ee=/(\d+)(\s+\d+)?/.exec(ve[2]);Ee&&(K=Ee[1]|0,Ee[2]&&(le=Ee[2]|0,le in Q||(Q[le]=new w)));break;case"define":var Ae=/SHADER_NAME(_B64)?\s+(.*)$/.exec(ve[2]);Ae&&(Q[le].name=Ae[1]?s(Ae[2]):Ae[2]);break}Q[le].lines.push(new y(K++,ge))}return Object.keys(Q).forEach(function(_e){var Ce=Q[_e];Ce.lines.forEach(function(ye){Ce.index[ye.number]=ye})}),Q}function A(x){var T=[];return x.split(`
`).forEach(function(L){if(!(L.length<5)){var K=/^ERROR:\s+(\d+):(\d+):\s*(.*)$/.exec(L);K?T.push(new b(K[1]|0,K[2]|0,K[3].trim())):L.length>0&&T.push(new b("unknown",0,L))}}),T}function B(x,T){T.forEach(function(L){var K=x[L.file];if(K){var le=K.index[L.line];if(le){le.errors.push(L),K.hasErrors=!0;return}}x.unknown.hasErrors=!0,x.unknown.lines[0].errors.push(L)})}function D(x,T,L,K,le){if(!x.getShaderParameter(T,x.COMPILE_STATUS)){var Q=x.getShaderInfoLog(T),re=K===x.FRAGMENT_SHADER?"fragment":"vertex";xe(L,"string",re+" shader source must be a string",le);var ge=$(L,le),ve=A(Q);B(ge,ve),Object.keys(ge).forEach(function(Ee){var Ae=ge[Ee];if(!Ae.hasErrors)return;var _e=[""],Ce=[""];function ye(Se,H){_e.push(Se),Ce.push(H||"")}ye("file number "+Ee+": "+Ae.name+`
`,"color:red;text-decoration:underline;font-weight:bold"),Ae.lines.forEach(function(Se){if(Se.errors.length>0){ye(m(Se.number,4)+"|  ","background-color:yellow; font-weight:bold"),ye(Se.line+o,"color:red; background-color:yellow; font-weight:bold");var H=0;Se.errors.forEach(function(ne){var be=ne.message,Ie=/^\s*'(.*)'\s*:\s*(.*)$/.exec(be);if(Ie){var he=Ie[1];switch(be=Ie[2],he){case"assign":he="=";break}H=Math.max(Se.line.indexOf(he,H),0)}else H=0;ye(m("| ",6)),ye(m("^^^",H+3)+o,"font-weight:bold"),ye(m("| ",6)),ye(be+o,"font-weight:bold")}),ye(m("| ",6)+o)}else ye(m(Se.number,4)+"|  "),ye(Se.line+o,"color:red")}),typeof document<"u"&&!window.chrome?(Ce[0]=_e.join("%c"),console.log.apply(console,Ce)):console.log(_e.join(""))}),a.raise("Error compiling "+re+" shader, "+ge[0].name)}}function W(x,T,L,K,le){if(!x.getProgramParameter(T,x.LINK_STATUS)){var Q=x.getProgramInfoLog(T),re=$(L,le),ge=$(K,le),ve='Error linking program with vertex shader, "'+ge[0].name+'", and fragment shader "'+re[0].name+'"';typeof document<"u"?console.log("%c"+ve+o+"%c"+Q,"color:red;text-decoration:underline;font-weight:bold","color:red"):console.log(ve+o+Q),a.raise(ve)}}function te(x){x._commandRef=S()}function pe(x,T,L,K){te(x);function le(ve){return ve?K.id(ve):0}x._fragId=le(x.static.frag),x._vertId=le(x.static.vert);function Q(ve,Ee){Object.keys(Ee).forEach(function(Ae){ve[K.id(Ae)]=!0})}var re=x._uniformSet={};Q(re,T.static),Q(re,T.dynamic);var ge=x._attributeSet={};Q(ge,L.static),Q(ge,L.dynamic),x._hasCount="count"in x.static||"count"in x.dynamic||"elements"in x.static||"elements"in x.dynamic}function V(x,T){var L=E();i(x+" in command "+(T||S())+(L==="unknown"?"":" called from "+L))}function me(x,T,L){x||V(T,L||S())}function ee(x,T,L,K){x in T||V("unknown parameter ("+x+")"+l(L)+". possible values: "+Object.keys(T).join(),K||S())}function xe(x,T,L,K){f(x,T)||V("invalid parameter type"+l(L)+". expected "+T+", got "+typeof x,K||S())}function oe(x){x()}function $e(x,T,L){x.texture?v(x.texture._texture.internalformat,T,"unsupported texture format for attachment"):v(x.renderbuffer._renderbuffer.format,L,"unsupported renderbuffer format for attachment")}var Ne=33071,qe=9728,nt=9984,kt=9985,At=9986,Ct=9987,en=5120,sn=5121,Gn=5122,no=5123,Lr=5124,So=5125,ro=5126,Mr=32819,Ft=32820,Fr=33635,Vo=34042,On=36193,an={};an[en]=an[sn]=1,an[Gn]=an[no]=an[On]=an[Fr]=an[Mr]=an[Ft]=2,an[Lr]=an[So]=an[ro]=an[Vo]=4;function Uo(x,T){return x===Ft||x===Mr||x===Fr?2:x===Vo?4:an[x]*T}function pn(x){return!(x&x-1)&&!!x}function oo(x,T,L){var K,le=T.width,Q=T.height,re=T.channels;a(le>0&&le<=L.maxTextureSize&&Q>0&&Q<=L.maxTextureSize,"invalid texture shape"),(x.wrapS!==Ne||x.wrapT!==Ne)&&a(pn(le)&&pn(Q),"incompatible wrap mode for texture, both width and height must be power of 2"),T.mipmask===1?le!==1&&Q!==1&&a(x.minFilter!==nt&&x.minFilter!==At&&x.minFilter!==kt&&x.minFilter!==Ct,"min filter requires mipmap"):(a(pn(le)&&pn(Q),"texture must be a square power of 2 to support mipmapping"),a(T.mipmask===(le<<1)-1,"missing or incomplete mipmap data")),T.type===ro&&(L.extensions.indexOf("oes_texture_float_linear")<0&&a(x.minFilter===qe&&x.magFilter===qe,"filter not supported, must enable oes_texture_float_linear"),a(!x.genMipmaps,"mipmap generation not supported with float textures"));var ge=T.images;for(K=0;K<16;++K)if(ge[K]){var ve=le>>K,Ee=Q>>K;a(T.mipmask&1<<K,"missing mipmap data");var Ae=ge[K];if(a(Ae.width===ve&&Ae.height===Ee,"invalid shape for mip images"),a(Ae.format===T.format&&Ae.internalformat===T.internalformat&&Ae.type===T.type,"incompatible type for mip image"),!Ae.compressed)if(Ae.data){var _e=Math.ceil(Uo(Ae.type,re)*ve/Ae.unpackAlignment)*Ae.unpackAlignment;a(Ae.data.byteLength===_e*Ee,"invalid data for image, buffer size is inconsistent with image format")}else Ae.element||Ae.copy}else x.genMipmaps||a((T.mipmask&1<<K)===0,"extra mipmap data");T.compressed&&a(!x.genMipmaps,"mipmap generation for compressed images not supported")}function ys(x,T,L,K){var le=x.width,Q=x.height,re=x.channels;a(le>0&&le<=K.maxTextureSize&&Q>0&&Q<=K.maxTextureSize,"invalid texture shape"),a(le===Q,"cube map must be square"),a(T.wrapS===Ne&&T.wrapT===Ne,"wrap mode not supported by cube map");for(var ge=0;ge<L.length;++ge){var ve=L[ge];a(ve.width===le&&ve.height===Q,"inconsistent cube map face shape"),T.genMipmaps&&(a(!ve.compressed,"can not generate mipmap for compressed textures"),a(ve.mipmask===1,"can not specify mipmaps and generate mipmaps"));for(var Ee=ve.images,Ae=0;Ae<16;++Ae){var _e=Ee[Ae];if(_e){var Ce=le>>Ae,ye=Q>>Ae;a(ve.mipmask&1<<Ae,"missing mipmap data"),a(_e.width===Ce&&_e.height===ye,"invalid shape for mip images"),a(_e.format===x.format&&_e.internalformat===x.internalformat&&_e.type===x.type,"incompatible type for mip image"),_e.compressed||(_e.data?a(_e.data.byteLength===Ce*ye*Math.max(Uo(_e.type,re),_e.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format"):_e.element||_e.copy)}}}}var C=r(a,{optional:oe,raise:i,commandRaise:V,command:me,parameter:c,commandParameter:ee,constructor:g,type:d,commandType:xe,isTypedArray:u,nni:h,oneOf:v,shaderError:D,linkError:W,callSite:E,saveCommandRef:te,saveDrawInfo:pe,framebufferFormat:$e,guessCommand:S,texture2D:oo,textureCube:ys}),gr=0,of=0,sf=5,af=6;function mn(x,T){this.id=gr++,this.type=x,this.data=T}function Dr(x){return x.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function Ho(x){if(x.length===0)return[];var T=x.charAt(0),L=x.charAt(x.length-1);if(x.length>1&&T===L&&(T==='"'||T==="'"))return['"'+Dr(x.substr(1,x.length-2))+'"'];var K=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(x);if(K)return Ho(x.substr(0,K.index)).concat(Ho(K[1])).concat(Ho(x.substr(K.index+K[0].length)));var le=x.split(".");if(le.length===1)return['"'+Dr(x)+'"'];for(var Q=[],re=0;re<le.length;++re)Q=Q.concat(Ho(le[re]));return Q}function W2(x){return"["+Ho(x).join("][")+"]"}function MP(x,T){return new mn(x,W2(T+""))}function FP(x){return typeof x=="function"&&!x._reglType||x instanceof mn}function X2(x,T){if(typeof x=="function")return new mn(of,x);if(typeof x=="number"||typeof x=="boolean")return new mn(sf,x);if(Array.isArray(x))return new mn(af,x.map(function(L,K){return X2(L,T+"["+K+"]")}));if(x instanceof mn)return x;C(!1,"invalid option type in uniform "+T)}var yr={DynamicVariable:mn,define:MP,isDynamic:FP,unbox:X2,accessor:W2},Qp={next:typeof requestAnimationFrame=="function"?function(x){return requestAnimationFrame(x)}:function(x){return setTimeout(x,16)},cancel:typeof cancelAnimationFrame=="function"?function(x){return cancelAnimationFrame(x)}:clearTimeout},Y2=typeof performance<"u"&&performance.now?function(){return performance.now()}:function(){return+new Date};function DP(){var x={"":0},T=[""];return{id:function(L){var K=x[L];return K||(K=x[L]=T.length,T.push(L),K)},str:function(L){return T[L]}}}function IP(x,T,L){var K=document.createElement("canvas");r(K.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),x.appendChild(K),x===document.body&&(K.style.position="absolute",r(x.style,{margin:0,padding:0}));function le(){var ge=window.innerWidth,ve=window.innerHeight;if(x!==document.body){var Ee=K.getBoundingClientRect();ge=Ee.right-Ee.left,ve=Ee.bottom-Ee.top}K.width=L*ge,K.height=L*ve}var Q;x!==document.body&&typeof ResizeObserver=="function"?(Q=new ResizeObserver(function(){setTimeout(le)}),Q.observe(x)):window.addEventListener("resize",le,!1);function re(){Q?Q.disconnect():window.removeEventListener("resize",le),x.removeChild(K)}return le(),{canvas:K,onDestroy:re}}function zP(x,T){function L(K){try{return x.getContext(K,T)}catch{return null}}return L("webgl")||L("experimental-webgl")||L("webgl-experimental")}function BP(x){return typeof x.nodeName=="string"&&typeof x.appendChild=="function"&&typeof x.getBoundingClientRect=="function"}function GP(x){return typeof x.drawArrays=="function"||typeof x.drawElements=="function"}function q2(x){return typeof x=="string"?x.split():(C(Array.isArray(x),"invalid extension array"),x)}function Z2(x){return typeof x=="string"?(C(typeof document<"u","not supported outside of DOM"),document.querySelector(x)):x}function jP(x){var T=x||{},L,K,le,Q,re={},ge=[],ve=[],Ee=typeof window>"u"?1:window.devicePixelRatio,Ae=!1,_e=function(Se){Se&&C.raise(Se)},Ce=function(){};if(typeof T=="string"?(C(typeof document<"u","selector queries only supported in DOM enviroments"),L=document.querySelector(T),C(L,"invalid query string for element")):typeof T=="object"?BP(T)?L=T:GP(T)?(Q=T,le=Q.canvas):(C.constructor(T),"gl"in T?Q=T.gl:"canvas"in T?le=Z2(T.canvas):"container"in T&&(K=Z2(T.container)),"attributes"in T&&(re=T.attributes,C.type(re,"object","invalid context attributes")),"extensions"in T&&(ge=q2(T.extensions)),"optionalExtensions"in T&&(ve=q2(T.optionalExtensions)),"onDone"in T&&(C.type(T.onDone,"function","invalid or missing onDone callback"),_e=T.onDone),"profile"in T&&(Ae=!!T.profile),"pixelRatio"in T&&(Ee=+T.pixelRatio,C(Ee>0,"invalid pixel ratio"))):C.raise("invalid arguments to regl"),L&&(L.nodeName.toLowerCase()==="canvas"?le=L:K=L),!Q){if(!le){C(typeof document<"u","must manually specify webgl context outside of DOM environments");var ye=IP(K||document.body,_e,Ee);if(!ye)return null;le=ye.canvas,Ce=ye.onDestroy}re.premultipliedAlpha===void 0&&(re.premultipliedAlpha=!0),Q=zP(le,re)}return Q?{gl:Q,canvas:le,container:K,extensions:ge,optionalExtensions:ve,pixelRatio:Ee,profile:Ae,onDone:_e,onDestroy:Ce}:(Ce(),_e("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function VP(x,T){var L={};function K(re){C.type(re,"string","extension name must be string");var ge=re.toLowerCase(),ve;try{ve=L[ge]=x.getExtension(ge)}catch{}return!!ve}for(var le=0;le<T.extensions.length;++le){var Q=T.extensions[le];if(!K(Q))return T.onDestroy(),T.onDone('"'+Q+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return T.optionalExtensions.forEach(K),{extensions:L,restore:function(){Object.keys(L).forEach(function(re){if(L[re]&&!K(re))throw new Error("(regl): error restoring extension "+re)})}}}function wr(x,T){for(var L=Array(x),K=0;K<x;++K)L[K]=T(K);return L}var UP=5120,HP=5121,WP=5122,XP=5123,YP=5124,qP=5125,ZP=5126;function QP(x){for(var T=16;T<=1<<28;T*=16)if(x<=T)return T;return 0}function Q2(x){var T,L;return T=(x>65535)<<4,x>>>=T,L=(x>255)<<3,x>>>=L,T|=L,L=(x>15)<<2,x>>>=L,T|=L,L=(x>3)<<1,x>>>=L,T|=L,T|x>>1}function K2(){var x=wr(8,function(){return[]});function T(Q){var re=QP(Q),ge=x[Q2(re)>>2];return ge.length>0?ge.pop():new ArrayBuffer(re)}function L(Q){x[Q2(Q.byteLength)>>2].push(Q)}function K(Q,re){var ge=null;switch(Q){case UP:ge=new Int8Array(T(re),0,re);break;case HP:ge=new Uint8Array(T(re),0,re);break;case WP:ge=new Int16Array(T(2*re),0,re);break;case XP:ge=new Uint16Array(T(2*re),0,re);break;case YP:ge=new Int32Array(T(4*re),0,re);break;case qP:ge=new Uint32Array(T(4*re),0,re);break;case ZP:ge=new Float32Array(T(4*re),0,re);break;default:return null}return ge.length!==re?ge.subarray(0,re):ge}function le(Q){L(Q.buffer)}return{alloc:T,free:L,allocType:K,freeType:le}}var tn=K2();tn.zero=K2();var KP=3408,JP=3410,ek=3411,tk=3412,nk=3413,rk=3414,ok=3415,sk=33901,ik=33902,ak=3379,lk=3386,ck=34921,uk=36347,fk=36348,dk=35661,hk=35660,pk=34930,mk=36349,vk=34076,gk=34024,yk=7936,wk=7937,xk=7938,bk=35724,Sk=34047,Ek=36063,_k=34852,lf=3553,J2=34067,$k=34069,Ak=33984,Jl=6408,Kp=5126,ew=5121,Jp=36160,Tk=36053,Ck=36064,Pk=16384,kk=function(x,T){var L=1;T.ext_texture_filter_anisotropic&&(L=x.getParameter(Sk));var K=1,le=1;T.webgl_draw_buffers&&(K=x.getParameter(_k),le=x.getParameter(Ek));var Q=!!T.oes_texture_float;if(Q){var re=x.createTexture();x.bindTexture(lf,re),x.texImage2D(lf,0,Jl,1,1,0,Jl,Kp,null);var ge=x.createFramebuffer();if(x.bindFramebuffer(Jp,ge),x.framebufferTexture2D(Jp,Ck,lf,re,0),x.bindTexture(lf,null),x.checkFramebufferStatus(Jp)!==Tk)Q=!1;else{x.viewport(0,0,1,1),x.clearColor(1,0,0,1),x.clear(Pk);var ve=tn.allocType(Kp,4);x.readPixels(0,0,1,1,Jl,Kp,ve),x.getError()?Q=!1:(x.deleteFramebuffer(ge),x.deleteTexture(re),Q=ve[0]===1),tn.freeType(ve)}}var Ee=typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent)),Ae=!0;if(!Ee){var _e=x.createTexture(),Ce=tn.allocType(ew,36);x.activeTexture(Ak),x.bindTexture(J2,_e),x.texImage2D($k,0,Jl,3,3,0,Jl,ew,Ce),tn.freeType(Ce),x.bindTexture(J2,null),x.deleteTexture(_e),Ae=!x.getError()}return{colorBits:[x.getParameter(JP),x.getParameter(ek),x.getParameter(tk),x.getParameter(nk)],depthBits:x.getParameter(rk),stencilBits:x.getParameter(ok),subpixelBits:x.getParameter(KP),extensions:Object.keys(T).filter(function(ye){return!!T[ye]}),maxAnisotropic:L,maxDrawbuffers:K,maxColorAttachments:le,pointSizeDims:x.getParameter(sk),lineWidthDims:x.getParameter(ik),maxViewportDims:x.getParameter(lk),maxCombinedTextureUnits:x.getParameter(dk),maxCubeMapSize:x.getParameter(vk),maxRenderbufferSize:x.getParameter(gk),maxTextureUnits:x.getParameter(pk),maxTextureSize:x.getParameter(ak),maxAttributes:x.getParameter(ck),maxVertexUniforms:x.getParameter(uk),maxVertexTextureUnits:x.getParameter(hk),maxVaryingVectors:x.getParameter(fk),maxFragmentUniforms:x.getParameter(mk),glsl:x.getParameter(bk),renderer:x.getParameter(wk),vendor:x.getParameter(yk),version:x.getParameter(xk),readFloat:Q,npotTextureCube:Ae}};function so(x){return!!x&&typeof x=="object"&&Array.isArray(x.shape)&&Array.isArray(x.stride)&&typeof x.offset=="number"&&x.shape.length===x.stride.length&&(Array.isArray(x.data)||n(x.data))}var xr=function(x){return Object.keys(x).map(function(T){return x[T]})},cf={shape:Lk,flatten:Ok};function Rk(x,T,L){for(var K=0;K<T;++K)L[K]=x[K]}function Nk(x,T,L,K){for(var le=0,Q=0;Q<T;++Q)for(var re=x[Q],ge=0;ge<L;++ge)K[le++]=re[ge]}function tw(x,T,L,K,le,Q){for(var re=Q,ge=0;ge<T;++ge)for(var ve=x[ge],Ee=0;Ee<L;++Ee)for(var Ae=ve[Ee],_e=0;_e<K;++_e)le[re++]=Ae[_e]}function nw(x,T,L,K,le){for(var Q=1,re=L+1;re<T.length;++re)Q*=T[re];var ge=T[L];if(T.length-L===4){var ve=T[L+1],Ee=T[L+2],Ae=T[L+3];for(re=0;re<ge;++re)tw(x[re],ve,Ee,Ae,K,le),le+=Q}else for(re=0;re<ge;++re)nw(x[re],T,L+1,K,le),le+=Q}function Ok(x,T,L,K){var le=1;if(T.length)for(var Q=0;Q<T.length;++Q)le*=T[Q];else le=0;var re=K||tn.allocType(L,le);switch(T.length){case 0:break;case 1:Rk(x,T[0],re);break;case 2:Nk(x,T[0],T[1],re);break;case 3:tw(x,T[0],T[1],T[2],re,0);break;default:nw(x,T,0,re,0)}return re}function Lk(x){for(var T=[],L=x;L.length;L=L[0])T.push(L.length);return T}var e1={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},Mk=5120,Fk=5122,Dk=5124,Ik=5121,zk=5123,Bk=5125,Gk=5126,jk=5126,pi={int8:Mk,int16:Fk,int32:Dk,uint8:Ik,uint16:zk,uint32:Bk,float:Gk,float32:jk},Vk=35048,Uk=35040,uf={dynamic:Vk,stream:Uk,static:35044},t1=cf.flatten,rw=cf.shape,ow=35044,Hk=35040,n1=5121,r1=5126,ws=[];ws[5120]=1,ws[5122]=2,ws[5124]=4,ws[5121]=1,ws[5123]=2,ws[5125]=4,ws[5126]=4;function ff(x){return e1[Object.prototype.toString.call(x)]|0}function sw(x,T){for(var L=0;L<T.length;++L)x[L]=T[L]}function iw(x,T,L,K,le,Q,re){for(var ge=0,ve=0;ve<L;++ve)for(var Ee=0;Ee<K;++Ee)x[ge++]=T[le*ve+Q*Ee+re]}function Wk(x,T,L,K){var le=0,Q={};function re(H){this.id=le++,this.buffer=x.createBuffer(),this.type=H,this.usage=ow,this.byteLength=0,this.dimension=1,this.dtype=n1,this.persistentData=null,L.profile&&(this.stats={size:0})}re.prototype.bind=function(){x.bindBuffer(this.type,this.buffer)},re.prototype.destroy=function(){Ce(this)};var ge=[];function ve(H,ne){var be=ge.pop();return be||(be=new re(H)),be.bind(),_e(be,ne,Hk,0,1,!1),be}function Ee(H){ge.push(H)}function Ae(H,ne,be){H.byteLength=ne.byteLength,x.bufferData(H.type,ne,be)}function _e(H,ne,be,Ie,he,Fe){var Oe;if(H.usage=be,Array.isArray(ne)){if(H.dtype=Ie||r1,ne.length>0){var We;if(Array.isArray(ne[0])){Oe=rw(ne);for(var ce=1,ae=1;ae<Oe.length;++ae)ce*=Oe[ae];H.dimension=ce,We=t1(ne,Oe,H.dtype),Ae(H,We,be),Fe?H.persistentData=We:tn.freeType(We)}else if(typeof ne[0]=="number"){H.dimension=he;var Ge=tn.allocType(H.dtype,ne.length);sw(Ge,ne),Ae(H,Ge,be),Fe?H.persistentData=Ge:tn.freeType(Ge)}else n(ne[0])?(H.dimension=ne[0].length,H.dtype=Ie||ff(ne[0])||r1,We=t1(ne,[ne.length,ne[0].length],H.dtype),Ae(H,We,be),Fe?H.persistentData=We:tn.freeType(We)):C.raise("invalid buffer data")}}else if(n(ne))H.dtype=Ie||ff(ne),H.dimension=he,Ae(H,ne,be),Fe&&(H.persistentData=new Uint8Array(new Uint8Array(ne.buffer)));else if(so(ne)){Oe=ne.shape;var Pe=ne.stride,we=ne.offset,ke=0,Re=0,ot=0,tt=0;Oe.length===1?(ke=Oe[0],Re=1,ot=Pe[0],tt=0):Oe.length===2?(ke=Oe[0],Re=Oe[1],ot=Pe[0],tt=Pe[1]):C.raise("invalid shape"),H.dtype=Ie||ff(ne.data)||r1,H.dimension=Re;var Le=tn.allocType(H.dtype,ke*Re);iw(Le,ne.data,ke,Re,ot,tt,we),Ae(H,Le,be),Fe?H.persistentData=Le:tn.freeType(Le)}else ne instanceof ArrayBuffer?(H.dtype=n1,H.dimension=he,Ae(H,ne,be),Fe&&(H.persistentData=new Uint8Array(new Uint8Array(ne)))):C.raise("invalid buffer data")}function Ce(H){T.bufferCount--,K(H);var ne=H.buffer;C(ne,"buffer must not be deleted already"),x.deleteBuffer(ne),H.buffer=null,delete Q[H.id]}function ye(H,ne,be,Ie){T.bufferCount++;var he=new re(ne);Q[he.id]=he;function Fe(ce){var ae=ow,Ge=null,Pe=0,we=0,ke=1;return Array.isArray(ce)||n(ce)||so(ce)||ce instanceof ArrayBuffer?Ge=ce:typeof ce=="number"?Pe=ce|0:ce&&(C.type(ce,"object","buffer arguments must be an object, a number or an array"),"data"in ce&&(C(Ge===null||Array.isArray(Ge)||n(Ge)||so(Ge),"invalid data for buffer"),Ge=ce.data),"usage"in ce&&(C.parameter(ce.usage,uf,"invalid buffer usage"),ae=uf[ce.usage]),"type"in ce&&(C.parameter(ce.type,pi,"invalid buffer type"),we=pi[ce.type]),"dimension"in ce&&(C.type(ce.dimension,"number","invalid dimension"),ke=ce.dimension|0),"length"in ce&&(C.nni(Pe,"buffer length must be a nonnegative integer"),Pe=ce.length|0)),he.bind(),Ge?_e(he,Ge,ae,we,ke,Ie):(Pe&&x.bufferData(he.type,Pe,ae),he.dtype=we||n1,he.usage=ae,he.dimension=ke,he.byteLength=Pe),L.profile&&(he.stats.size=he.byteLength*ws[he.dtype]),Fe}function Oe(ce,ae){C(ae+ce.byteLength<=he.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+ce.byteLength+" starting from offset "+ae+" to a buffer of size "+he.byteLength),x.bufferSubData(he.type,ae,ce)}function We(ce,ae){var Ge=(ae||0)|0,Pe;if(he.bind(),n(ce)||ce instanceof ArrayBuffer)Oe(ce,Ge);else if(Array.isArray(ce)){if(ce.length>0)if(typeof ce[0]=="number"){var we=tn.allocType(he.dtype,ce.length);sw(we,ce),Oe(we,Ge),tn.freeType(we)}else if(Array.isArray(ce[0])||n(ce[0])){Pe=rw(ce);var ke=t1(ce,Pe,he.dtype);Oe(ke,Ge),tn.freeType(ke)}else C.raise("invalid buffer data")}else if(so(ce)){Pe=ce.shape;var Re=ce.stride,ot=0,tt=0,Le=0,De=0;Pe.length===1?(ot=Pe[0],tt=1,Le=Re[0],De=0):Pe.length===2?(ot=Pe[0],tt=Pe[1],Le=Re[0],De=Re[1]):C.raise("invalid shape");var Ze=Array.isArray(ce.data)?he.dtype:ff(ce.data),st=tn.allocType(Ze,ot*tt);iw(st,ce.data,ot,tt,Le,De,ce.offset),Oe(st,Ge),tn.freeType(st)}else C.raise("invalid data for buffer subdata");return Fe}return be||Fe(H),Fe._reglType="buffer",Fe._buffer=he,Fe.subdata=We,L.profile&&(Fe.stats=he.stats),Fe.destroy=function(){Ce(he)},Fe}function Se(){xr(Q).forEach(function(H){H.buffer=x.createBuffer(),x.bindBuffer(H.type,H.buffer),x.bufferData(H.type,H.persistentData||H.byteLength,H.usage)})}return L.profile&&(T.getTotalBufferSize=function(){var H=0;return Object.keys(Q).forEach(function(ne){H+=Q[ne].stats.size}),H}),{create:ye,createStream:ve,destroyStream:Ee,clear:function(){xr(Q).forEach(Ce),ge.forEach(Ce)},getBuffer:function(H){return H&&H._buffer instanceof re?H._buffer:null},restore:Se,_initBuffer:_e}}var Xk=0,Yk=0,qk=1,Zk=1,Qk=4,Kk=4,xs={points:Xk,point:Yk,lines:qk,line:Zk,triangles:Qk,triangle:Kk,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},Jk=0,e8=1,ec=4,t8=5120,aa=5121,aw=5122,la=5123,lw=5124,mi=5125,o1=34963,n8=35040,r8=35044;function o8(x,T,L,K){var le={},Q=0,re={uint8:aa,uint16:la};T.oes_element_index_uint&&(re.uint32=mi);function ge(Se){this.id=Q++,le[this.id]=this,this.buffer=Se,this.primType=ec,this.vertCount=0,this.type=0}ge.prototype.bind=function(){this.buffer.bind()};var ve=[];function Ee(Se){var H=ve.pop();return H||(H=new ge(L.create(null,o1,!0,!1)._buffer)),_e(H,Se,n8,-1,-1,0,0),H}function Ae(Se){ve.push(Se)}function _e(Se,H,ne,be,Ie,he,Fe){Se.buffer.bind();var Oe;if(H){var We=Fe;!Fe&&(!n(H)||so(H)&&!n(H.data))&&(We=T.oes_element_index_uint?mi:la),L._initBuffer(Se.buffer,H,ne,We,3)}else x.bufferData(o1,he,ne),Se.buffer.dtype=Oe||aa,Se.buffer.usage=ne,Se.buffer.dimension=3,Se.buffer.byteLength=he;if(Oe=Fe,!Fe){switch(Se.buffer.dtype){case aa:case t8:Oe=aa;break;case la:case aw:Oe=la;break;case mi:case lw:Oe=mi;break;default:C.raise("unsupported type for element array")}Se.buffer.dtype=Oe}Se.type=Oe,C(Oe!==mi||!!T.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var ce=Ie;ce<0&&(ce=Se.buffer.byteLength,Oe===la?ce>>=1:Oe===mi&&(ce>>=2)),Se.vertCount=ce;var ae=be;if(be<0){ae=ec;var Ge=Se.buffer.dimension;Ge===1&&(ae=Jk),Ge===2&&(ae=e8),Ge===3&&(ae=ec)}Se.primType=ae}function Ce(Se){K.elementsCount--,C(Se.buffer!==null,"must not double destroy elements"),delete le[Se.id],Se.buffer.destroy(),Se.buffer=null}function ye(Se,H){var ne=L.create(null,o1,!0),be=new ge(ne._buffer);K.elementsCount++;function Ie(he){if(!he)ne(),be.primType=ec,be.vertCount=0,be.type=aa;else if(typeof he=="number")ne(he),be.primType=ec,be.vertCount=he|0,be.type=aa;else{var Fe=null,Oe=r8,We=-1,ce=-1,ae=0,Ge=0;Array.isArray(he)||n(he)||so(he)?Fe=he:(C.type(he,"object","invalid arguments for elements"),"data"in he&&(Fe=he.data,C(Array.isArray(Fe)||n(Fe)||so(Fe),"invalid data for element buffer")),"usage"in he&&(C.parameter(he.usage,uf,"invalid element buffer usage"),Oe=uf[he.usage]),"primitive"in he&&(C.parameter(he.primitive,xs,"invalid element buffer primitive"),We=xs[he.primitive]),"count"in he&&(C(typeof he.count=="number"&&he.count>=0,"invalid vertex count for elements"),ce=he.count|0),"type"in he&&(C.parameter(he.type,re,"invalid buffer type"),Ge=re[he.type]),"length"in he?ae=he.length|0:(ae=ce,Ge===la||Ge===aw?ae*=2:(Ge===mi||Ge===lw)&&(ae*=4))),_e(be,Fe,Oe,We,ce,ae,Ge)}return Ie}return Ie(Se),Ie._reglType="elements",Ie._elements=be,Ie.subdata=function(he,Fe){return ne.subdata(he,Fe),Ie},Ie.destroy=function(){Ce(be)},Ie}return{create:ye,createStream:Ee,destroyStream:Ae,getElements:function(Se){return typeof Se=="function"&&Se._elements instanceof ge?Se._elements:null},clear:function(){xr(le).forEach(Ce)}}}var cw=new Float32Array(1),s8=new Uint32Array(cw.buffer),i8=5123;function uw(x){for(var T=tn.allocType(i8,x.length),L=0;L<x.length;++L)if(isNaN(x[L]))T[L]=65535;else if(x[L]===1/0)T[L]=31744;else if(x[L]===-1/0)T[L]=64512;else{cw[0]=x[L];var K=s8[0],le=K>>>31<<15,Q=(K<<1>>>24)-127,re=K>>13&1023;if(Q<-24)T[L]=le;else if(Q<-14){var ge=-14-Q;T[L]=le+(re+1024>>ge)}else Q>15?T[L]=le+31744:T[L]=le+(Q+15<<10)+re}return T}function It(x){return Array.isArray(x)||n(x)}var fw=function(x){return!(x&x-1)&&!!x},a8=34467,Eo=3553,s1=34067,df=34069,vi=6408,i1=6406,hf=6407,tc=6409,pf=6410,dw=32854,a1=32855,hw=36194,l8=32819,c8=32820,u8=33635,f8=34042,l1=6402,mf=34041,c1=35904,u1=35906,ca=36193,f1=33776,d1=33777,h1=33778,p1=33779,pw=35986,mw=35987,vw=34798,gw=35840,yw=35841,ww=35842,xw=35843,bw=36196,ua=5121,m1=5123,v1=5125,nc=5126,d8=10242,h8=10243,p8=10497,g1=33071,m8=33648,v8=10240,g8=10241,y1=9728,y8=9729,w1=9984,Sw=9985,Ew=9986,x1=9987,w8=33170,vf=4352,x8=4353,b8=4354,S8=34046,E8=3317,_8=37440,$8=37441,A8=37443,_w=37444,rc=33984,T8=[w1,Ew,Sw,x1],gf=[0,tc,pf,hf,vi],Ir={};Ir[tc]=Ir[i1]=Ir[l1]=1,Ir[mf]=Ir[pf]=2,Ir[hf]=Ir[c1]=3,Ir[vi]=Ir[u1]=4;function fa(x){return"[object "+x+"]"}var $w=fa("HTMLCanvasElement"),Aw=fa("OffscreenCanvas"),Tw=fa("CanvasRenderingContext2D"),Cw=fa("ImageBitmap"),Pw=fa("HTMLImageElement"),kw=fa("HTMLVideoElement"),C8=Object.keys(e1).concat([$w,Aw,Tw,Cw,Pw,kw]),da=[];da[ua]=1,da[nc]=4,da[ca]=2,da[m1]=2,da[v1]=4;var $n=[];$n[dw]=2,$n[a1]=2,$n[hw]=2,$n[mf]=4,$n[f1]=.5,$n[d1]=.5,$n[h1]=1,$n[p1]=1,$n[pw]=.5,$n[mw]=1,$n[vw]=1,$n[gw]=.5,$n[yw]=.25,$n[ww]=.5,$n[xw]=.25,$n[bw]=.5;function Rw(x){return Array.isArray(x)&&(x.length===0||typeof x[0]=="number")}function Nw(x){if(!Array.isArray(x))return!1;var T=x.length;return!(T===0||!It(x[0]))}function gi(x){return Object.prototype.toString.call(x)}function Ow(x){return gi(x)===$w}function Lw(x){return gi(x)===Aw}function P8(x){return gi(x)===Tw}function k8(x){return gi(x)===Cw}function R8(x){return gi(x)===Pw}function N8(x){return gi(x)===kw}function b1(x){if(!x)return!1;var T=gi(x);return C8.indexOf(T)>=0?!0:Rw(x)||Nw(x)||so(x)}function Mw(x){return e1[Object.prototype.toString.call(x)]|0}function O8(x,T){var L=T.length;switch(x.type){case ua:case m1:case v1:case nc:var K=tn.allocType(x.type,L);K.set(T),x.data=K;break;case ca:x.data=uw(T);break;default:C.raise("unsupported texture type, must specify a typed array")}}function Fw(x,T){return tn.allocType(x.type===ca?nc:x.type,T)}function Dw(x,T){x.type===ca?(x.data=uw(T),tn.freeType(T)):x.data=T}function L8(x,T,L,K,le,Q){for(var re=x.width,ge=x.height,ve=x.channels,Ee=re*ge*ve,Ae=Fw(x,Ee),_e=0,Ce=0;Ce<ge;++Ce)for(var ye=0;ye<re;++ye)for(var Se=0;Se<ve;++Se)Ae[_e++]=T[L*ye+K*Ce+le*Se+Q];Dw(x,Ae)}function yf(x,T,L,K,le,Q){var re;if(typeof $n[x]<"u"?re=$n[x]:re=Ir[x]*da[T],Q&&(re*=6),le){for(var ge=0,ve=L;ve>=1;)ge+=re*ve*ve,ve/=2;return ge}else return re*L*K}function M8(x,T,L,K,le,Q,re){var ge={"don't care":vf,"dont care":vf,nice:b8,fast:x8},ve={repeat:p8,clamp:g1,mirror:m8},Ee={nearest:y1,linear:y8},Ae=r({mipmap:x1,"nearest mipmap nearest":w1,"linear mipmap nearest":Sw,"nearest mipmap linear":Ew,"linear mipmap linear":x1},Ee),_e={none:0,browser:_w},Ce={uint8:ua,rgba4:l8,rgb565:u8,"rgb5 a1":c8},ye={alpha:i1,luminance:tc,"luminance alpha":pf,rgb:hf,rgba:vi,rgba4:dw,"rgb5 a1":a1,rgb565:hw},Se={};T.ext_srgb&&(ye.srgb=c1,ye.srgba=u1),T.oes_texture_float&&(Ce.float32=Ce.float=nc),T.oes_texture_half_float&&(Ce.float16=Ce["half float"]=ca),T.webgl_depth_texture&&(r(ye,{depth:l1,"depth stencil":mf}),r(Ce,{uint16:m1,uint32:v1,"depth stencil":f8})),T.webgl_compressed_texture_s3tc&&r(Se,{"rgb s3tc dxt1":f1,"rgba s3tc dxt1":d1,"rgba s3tc dxt3":h1,"rgba s3tc dxt5":p1}),T.webgl_compressed_texture_atc&&r(Se,{"rgb atc":pw,"rgba atc explicit alpha":mw,"rgba atc interpolated alpha":vw}),T.webgl_compressed_texture_pvrtc&&r(Se,{"rgb pvrtc 4bppv1":gw,"rgb pvrtc 2bppv1":yw,"rgba pvrtc 4bppv1":ww,"rgba pvrtc 2bppv1":xw}),T.webgl_compressed_texture_etc1&&(Se["rgb etc1"]=bw);var H=Array.prototype.slice.call(x.getParameter(a8));Object.keys(Se).forEach(function(N){var J=Se[N];H.indexOf(J)>=0&&(ye[N]=J)});var ne=Object.keys(ye);L.textureFormats=ne;var be=[];Object.keys(ye).forEach(function(N){var J=ye[N];be[J]=N});var Ie=[];Object.keys(Ce).forEach(function(N){var J=Ce[N];Ie[J]=N});var he=[];Object.keys(Ee).forEach(function(N){var J=Ee[N];he[J]=N});var Fe=[];Object.keys(Ae).forEach(function(N){var J=Ae[N];Fe[J]=N});var Oe=[];Object.keys(ve).forEach(function(N){var J=ve[N];Oe[J]=N});var We=ne.reduce(function(N,J){var Z=ye[J];return Z===tc||Z===i1||Z===tc||Z===pf||Z===l1||Z===mf||T.ext_srgb&&(Z===c1||Z===u1)?N[Z]=Z:Z===a1||J.indexOf("rgba")>=0?N[Z]=vi:N[Z]=hf,N},{});function ce(){this.internalformat=vi,this.format=vi,this.type=ua,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=_w,this.width=0,this.height=0,this.channels=0}function ae(N,J){N.internalformat=J.internalformat,N.format=J.format,N.type=J.type,N.compressed=J.compressed,N.premultiplyAlpha=J.premultiplyAlpha,N.flipY=J.flipY,N.unpackAlignment=J.unpackAlignment,N.colorSpace=J.colorSpace,N.width=J.width,N.height=J.height,N.channels=J.channels}function Ge(N,J){if(!(typeof J!="object"||!J)){if("premultiplyAlpha"in J&&(C.type(J.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),N.premultiplyAlpha=J.premultiplyAlpha),"flipY"in J&&(C.type(J.flipY,"boolean","invalid texture flip"),N.flipY=J.flipY),"alignment"in J&&(C.oneOf(J.alignment,[1,2,4,8],"invalid texture unpack alignment"),N.unpackAlignment=J.alignment),"colorSpace"in J&&(C.parameter(J.colorSpace,_e,"invalid colorSpace"),N.colorSpace=_e[J.colorSpace]),"type"in J){var Z=J.type;C(T.oes_texture_float||!(Z==="float"||Z==="float32"),"you must enable the OES_texture_float extension in order to use floating point textures."),C(T.oes_texture_half_float||!(Z==="half float"||Z==="float16"),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."),C(T.webgl_depth_texture||!(Z==="uint16"||Z==="uint32"||Z==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),C.parameter(Z,Ce,"invalid texture type"),N.type=Ce[Z]}var Be=N.width,ft=N.height,P=N.channels,_=!1;"shape"in J?(C(Array.isArray(J.shape)&&J.shape.length>=2,"shape must be an array"),Be=J.shape[0],ft=J.shape[1],J.shape.length===3&&(P=J.shape[2],C(P>0&&P<=4,"invalid number of channels"),_=!0),C(Be>=0&&Be<=L.maxTextureSize,"invalid width"),C(ft>=0&&ft<=L.maxTextureSize,"invalid height")):("radius"in J&&(Be=ft=J.radius,C(Be>=0&&Be<=L.maxTextureSize,"invalid radius")),"width"in J&&(Be=J.width,C(Be>=0&&Be<=L.maxTextureSize,"invalid width")),"height"in J&&(ft=J.height,C(ft>=0&&ft<=L.maxTextureSize,"invalid height")),"channels"in J&&(P=J.channels,C(P>0&&P<=4,"invalid number of channels"),_=!0)),N.width=Be|0,N.height=ft|0,N.channels=P|0;var F=!1;if("format"in J){var U=J.format;C(T.webgl_depth_texture||!(U==="depth"||U==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),C.parameter(U,ye,"invalid texture format");var X=N.internalformat=ye[U];N.format=We[X],U in Ce&&("type"in J||(N.type=Ce[U])),U in Se&&(N.compressed=!0),F=!0}!_&&F?N.channels=Ir[N.format]:_&&!F?N.channels!==gf[N.format]&&(N.format=N.internalformat=gf[N.channels]):F&&_&&C(N.channels===Ir[N.format],"number of channels inconsistent with specified format")}}function Pe(N){x.pixelStorei(_8,N.flipY),x.pixelStorei($8,N.premultiplyAlpha),x.pixelStorei(A8,N.colorSpace),x.pixelStorei(E8,N.unpackAlignment)}function we(){ce.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function ke(N,J){var Z=null;if(b1(J)?Z=J:J&&(C.type(J,"object","invalid pixel data type"),Ge(N,J),"x"in J&&(N.xOffset=J.x|0),"y"in J&&(N.yOffset=J.y|0),b1(J.data)&&(Z=J.data)),C(!N.compressed||Z instanceof Uint8Array,"compressed texture data must be stored in a uint8array"),J.copy){C(!Z,"can not specify copy and data field for the same texture");var Be=le.viewportWidth,ft=le.viewportHeight;N.width=N.width||Be-N.xOffset,N.height=N.height||ft-N.yOffset,N.needsCopy=!0,C(N.xOffset>=0&&N.xOffset<Be&&N.yOffset>=0&&N.yOffset<ft&&N.width>0&&N.width<=Be&&N.height>0&&N.height<=ft,"copy texture read out of bounds")}else if(!Z)N.width=N.width||1,N.height=N.height||1,N.channels=N.channels||4;else if(n(Z))N.channels=N.channels||4,N.data=Z,!("type"in J)&&N.type===ua&&(N.type=Mw(Z));else if(Rw(Z))N.channels=N.channels||4,O8(N,Z),N.alignment=1,N.needsFree=!0;else if(so(Z)){var P=Z.data;!Array.isArray(P)&&N.type===ua&&(N.type=Mw(P));var _=Z.shape,F=Z.stride,U,X,z,I,j,k;_.length===3?(z=_[2],k=F[2]):(C(_.length===2,"invalid ndarray pixel data, must be 2 or 3D"),z=1,k=1),U=_[0],X=_[1],I=F[0],j=F[1],N.alignment=1,N.width=U,N.height=X,N.channels=z,N.format=N.internalformat=gf[z],N.needsFree=!0,L8(N,P,I,j,k,Z.offset)}else if(Ow(Z)||Lw(Z)||P8(Z))Ow(Z)||Lw(Z)?N.element=Z:N.element=Z.canvas,N.width=N.element.width,N.height=N.element.height,N.channels=4;else if(k8(Z))N.element=Z,N.width=Z.width,N.height=Z.height,N.channels=4;else if(R8(Z))N.element=Z,N.width=Z.naturalWidth,N.height=Z.naturalHeight,N.channels=4;else if(N8(Z))N.element=Z,N.width=Z.videoWidth,N.height=Z.videoHeight,N.channels=4;else if(Nw(Z)){var O=N.width||Z[0].length,R=N.height||Z.length,q=N.channels;It(Z[0][0])?q=q||Z[0][0].length:q=q||1;for(var Y=cf.shape(Z),ie=1,ue=0;ue<Y.length;++ue)ie*=Y[ue];var Te=Fw(N,ie);cf.flatten(Z,Y,"",Te),Dw(N,Te),N.alignment=1,N.width=O,N.height=R,N.channels=q,N.format=N.internalformat=gf[q],N.needsFree=!0}N.type===nc?C(L.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled"):N.type===ca&&C(L.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled")}function Re(N,J,Z){var Be=N.element,ft=N.data,P=N.internalformat,_=N.format,F=N.type,U=N.width,X=N.height;Pe(N),Be?x.texImage2D(J,Z,_,_,F,Be):N.compressed?x.compressedTexImage2D(J,Z,P,U,X,0,ft):N.needsCopy?(K(),x.copyTexImage2D(J,Z,_,N.xOffset,N.yOffset,U,X,0)):x.texImage2D(J,Z,_,U,X,0,_,F,ft||null)}function ot(N,J,Z,Be,ft){var P=N.element,_=N.data,F=N.internalformat,U=N.format,X=N.type,z=N.width,I=N.height;Pe(N),P?x.texSubImage2D(J,ft,Z,Be,U,X,P):N.compressed?x.compressedTexSubImage2D(J,ft,Z,Be,F,z,I,_):N.needsCopy?(K(),x.copyTexSubImage2D(J,ft,Z,Be,N.xOffset,N.yOffset,z,I)):x.texSubImage2D(J,ft,Z,Be,z,I,U,X,_)}var tt=[];function Le(){return tt.pop()||new we}function De(N){N.needsFree&&tn.freeType(N.data),we.call(N),tt.push(N)}function Ze(){ce.call(this),this.genMipmaps=!1,this.mipmapHint=vf,this.mipmask=0,this.images=Array(16)}function st(N,J,Z){var Be=N.images[0]=Le();N.mipmask=1,Be.width=N.width=J,Be.height=N.height=Z,Be.channels=N.channels=4}function pt(N,J){var Z=null;if(b1(J))Z=N.images[0]=Le(),ae(Z,N),ke(Z,J),N.mipmask=1;else if(Ge(N,J),Array.isArray(J.mipmap))for(var Be=J.mipmap,ft=0;ft<Be.length;++ft)Z=N.images[ft]=Le(),ae(Z,N),Z.width>>=ft,Z.height>>=ft,ke(Z,Be[ft]),N.mipmask|=1<<ft;else Z=N.images[0]=Le(),ae(Z,N),ke(Z,J),N.mipmask=1;ae(N,N.images[0]),N.compressed&&(N.internalformat===f1||N.internalformat===d1||N.internalformat===h1||N.internalformat===p1)&&C(N.width%4===0&&N.height%4===0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function zt(N,J){for(var Z=N.images,Be=0;Be<Z.length;++Be){if(!Z[Be])return;Re(Z[Be],J,Be)}}var Gt=[];function vt(){var N=Gt.pop()||new Ze;ce.call(N),N.mipmask=0;for(var J=0;J<16;++J)N.images[J]=null;return N}function ln(N){for(var J=N.images,Z=0;Z<J.length;++Z)J[Z]&&De(J[Z]),J[Z]=null;Gt.push(N)}function Ot(){this.minFilter=y1,this.magFilter=y1,this.wrapS=g1,this.wrapT=g1,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=vf}function rn(N,J){if("min"in J){var Z=J.min;C.parameter(Z,Ae),N.minFilter=Ae[Z],T8.indexOf(N.minFilter)>=0&&!("faces"in J)&&(N.genMipmaps=!0)}if("mag"in J){var Be=J.mag;C.parameter(Be,Ee),N.magFilter=Ee[Be]}var ft=N.wrapS,P=N.wrapT;if("wrap"in J){var _=J.wrap;typeof _=="string"?(C.parameter(_,ve),ft=P=ve[_]):Array.isArray(_)&&(C.parameter(_[0],ve),C.parameter(_[1],ve),ft=ve[_[0]],P=ve[_[1]])}else{if("wrapS"in J){var F=J.wrapS;C.parameter(F,ve),ft=ve[F]}if("wrapT"in J){var U=J.wrapT;C.parameter(U,ve),P=ve[U]}}if(N.wrapS=ft,N.wrapT=P,"anisotropic"in J){var X=J.anisotropic;C(typeof X=="number"&&X>=1&&X<=L.maxAnisotropic,"aniso samples must be between 1 and "),N.anisotropic=J.anisotropic}if("mipmap"in J){var z=!1;switch(typeof J.mipmap){case"string":C.parameter(J.mipmap,ge,"invalid mipmap hint"),N.mipmapHint=ge[J.mipmap],N.genMipmaps=!0,z=!0;break;case"boolean":z=N.genMipmaps=J.mipmap;break;case"object":C(Array.isArray(J.mipmap),"invalid mipmap type"),N.genMipmaps=!1,z=!0;break;default:C.raise("invalid mipmap type")}z&&!("min"in J)&&(N.minFilter=w1)}}function cn(N,J){x.texParameteri(J,g8,N.minFilter),x.texParameteri(J,v8,N.magFilter),x.texParameteri(J,d8,N.wrapS),x.texParameteri(J,h8,N.wrapT),T.ext_texture_filter_anisotropic&&x.texParameteri(J,S8,N.anisotropic),N.genMipmaps&&(x.hint(w8,N.mipmapHint),x.generateMipmap(J))}var un=0,bn={},An=L.maxTextureUnits,Yt=Array(An).map(function(){return null});function lt(N){ce.call(this),this.mipmask=0,this.internalformat=vi,this.id=un++,this.refCount=1,this.target=N,this.texture=x.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new Ot,re.profile&&(this.stats={size:0})}function Tn(N){x.activeTexture(rc),x.bindTexture(N.target,N.texture)}function Et(){var N=Yt[0];N?x.bindTexture(N.target,N.texture):x.bindTexture(Eo,null)}function Ye(N){var J=N.texture;C(J,"must not double destroy texture");var Z=N.unit,Be=N.target;Z>=0&&(x.activeTexture(rc+Z),x.bindTexture(Be,null),Yt[Z]=null),x.deleteTexture(J),N.texture=null,N.params=null,N.pixels=null,N.refCount=0,delete bn[N.id],Q.textureCount--}r(lt.prototype,{bind:function(){var N=this;N.bindCount+=1;var J=N.unit;if(J<0){for(var Z=0;Z<An;++Z){var Be=Yt[Z];if(Be){if(Be.bindCount>0)continue;Be.unit=-1}Yt[Z]=N,J=Z;break}J>=An&&C.raise("insufficient number of texture units"),re.profile&&Q.maxTextureUnits<J+1&&(Q.maxTextureUnits=J+1),N.unit=J,x.activeTexture(rc+J),x.bindTexture(N.target,N.texture)}return J},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&Ye(this)}});function mt(N,J){var Z=new lt(Eo);bn[Z.id]=Z,Q.textureCount++;function Be(_,F){var U=Z.texInfo;Ot.call(U);var X=vt();return typeof _=="number"?typeof F=="number"?st(X,_|0,F|0):st(X,_|0,_|0):_?(C.type(_,"object","invalid arguments to regl.texture"),rn(U,_),pt(X,_)):st(X,1,1),U.genMipmaps&&(X.mipmask=(X.width<<1)-1),Z.mipmask=X.mipmask,ae(Z,X),C.texture2D(U,X,L),Z.internalformat=X.internalformat,Be.width=X.width,Be.height=X.height,Tn(Z),zt(X,Eo),cn(U,Eo),Et(),ln(X),re.profile&&(Z.stats.size=yf(Z.internalformat,Z.type,X.width,X.height,U.genMipmaps,!1)),Be.format=be[Z.internalformat],Be.type=Ie[Z.type],Be.mag=he[U.magFilter],Be.min=Fe[U.minFilter],Be.wrapS=Oe[U.wrapS],Be.wrapT=Oe[U.wrapT],Be}function ft(_,F,U,X){C(!!_,"must specify image data");var z=F|0,I=U|0,j=X|0,k=Le();return ae(k,Z),k.width=0,k.height=0,ke(k,_),k.width=k.width||(Z.width>>j)-z,k.height=k.height||(Z.height>>j)-I,C(Z.type===k.type&&Z.format===k.format&&Z.internalformat===k.internalformat,"incompatible format for texture.subimage"),C(z>=0&&I>=0&&z+k.width<=Z.width&&I+k.height<=Z.height,"texture.subimage write out of bounds"),C(Z.mipmask&1<<j,"missing mipmap data"),C(k.data||k.element||k.needsCopy,"missing image data"),Tn(Z),ot(k,Eo,z,I,j),Et(),De(k),Be}function P(_,F){var U=_|0,X=F|0||U;if(U===Z.width&&X===Z.height)return Be;Be.width=Z.width=U,Be.height=Z.height=X,Tn(Z);for(var z=0;Z.mipmask>>z;++z){var I=U>>z,j=X>>z;if(!I||!j)break;x.texImage2D(Eo,z,Z.format,I,j,0,Z.format,Z.type,null)}return Et(),re.profile&&(Z.stats.size=yf(Z.internalformat,Z.type,U,X,!1,!1)),Be}return Be(N,J),Be.subimage=ft,Be.resize=P,Be._reglType="texture2d",Be._texture=Z,re.profile&&(Be.stats=Z.stats),Be.destroy=function(){Z.decRef()},Be}function wt(N,J,Z,Be,ft,P){var _=new lt(s1);bn[_.id]=_,Q.cubeCount++;var F=new Array(6);function U(I,j,k,O,R,q){var Y,ie=_.texInfo;for(Ot.call(ie),Y=0;Y<6;++Y)F[Y]=vt();if(typeof I=="number"||!I){var ue=I|0||1;for(Y=0;Y<6;++Y)st(F[Y],ue,ue)}else if(typeof I=="object")if(j)pt(F[0],I),pt(F[1],j),pt(F[2],k),pt(F[3],O),pt(F[4],R),pt(F[5],q);else if(rn(ie,I),Ge(_,I),"faces"in I){var Te=I.faces;for(C(Array.isArray(Te)&&Te.length===6,"cube faces must be a length 6 array"),Y=0;Y<6;++Y)C(typeof Te[Y]=="object"&&!!Te[Y],"invalid input for cube map face"),ae(F[Y],_),pt(F[Y],Te[Y])}else for(Y=0;Y<6;++Y)pt(F[Y],I);else C.raise("invalid arguments to cube map");for(ae(_,F[0]),C.optional(function(){L.npotTextureCube||C(fw(_.width)&&fw(_.height),"your browser does not support non power or two texture dimensions")}),ie.genMipmaps?_.mipmask=(F[0].width<<1)-1:_.mipmask=F[0].mipmask,C.textureCube(_,ie,F,L),_.internalformat=F[0].internalformat,U.width=F[0].width,U.height=F[0].height,Tn(_),Y=0;Y<6;++Y)zt(F[Y],df+Y);for(cn(ie,s1),Et(),re.profile&&(_.stats.size=yf(_.internalformat,_.type,U.width,U.height,ie.genMipmaps,!0)),U.format=be[_.internalformat],U.type=Ie[_.type],U.mag=he[ie.magFilter],U.min=Fe[ie.minFilter],U.wrapS=Oe[ie.wrapS],U.wrapT=Oe[ie.wrapT],Y=0;Y<6;++Y)ln(F[Y]);return U}function X(I,j,k,O,R){C(!!j,"must specify image data"),C(typeof I=="number"&&I===(I|0)&&I>=0&&I<6,"invalid face");var q=k|0,Y=O|0,ie=R|0,ue=Le();return ae(ue,_),ue.width=0,ue.height=0,ke(ue,j),ue.width=ue.width||(_.width>>ie)-q,ue.height=ue.height||(_.height>>ie)-Y,C(_.type===ue.type&&_.format===ue.format&&_.internalformat===ue.internalformat,"incompatible format for texture.subimage"),C(q>=0&&Y>=0&&q+ue.width<=_.width&&Y+ue.height<=_.height,"texture.subimage write out of bounds"),C(_.mipmask&1<<ie,"missing mipmap data"),C(ue.data||ue.element||ue.needsCopy,"missing image data"),Tn(_),ot(ue,df+I,q,Y,ie),Et(),De(ue),U}function z(I){var j=I|0;if(j!==_.width){U.width=_.width=j,U.height=_.height=j,Tn(_);for(var k=0;k<6;++k)for(var O=0;_.mipmask>>O;++O)x.texImage2D(df+k,O,_.format,j>>O,j>>O,0,_.format,_.type,null);return Et(),re.profile&&(_.stats.size=yf(_.internalformat,_.type,U.width,U.height,!1,!0)),U}}return U(N,J,Z,Be,ft,P),U.subimage=X,U.resize=z,U._reglType="textureCube",U._texture=_,re.profile&&(U.stats=_.stats),U.destroy=function(){_.decRef()},U}function qt(){for(var N=0;N<An;++N)x.activeTexture(rc+N),x.bindTexture(Eo,null),Yt[N]=null;xr(bn).forEach(Ye),Q.cubeCount=0,Q.textureCount=0}re.profile&&(Q.getTotalTextureSize=function(){var N=0;return Object.keys(bn).forEach(function(J){N+=bn[J].stats.size}),N});function $o(){for(var N=0;N<An;++N){var J=Yt[N];J&&(J.bindCount=0,J.unit=-1,Yt[N]=null)}xr(bn).forEach(function(Z){Z.texture=x.createTexture(),x.bindTexture(Z.target,Z.texture);for(var Be=0;Be<32;++Be)if(Z.mipmask&1<<Be)if(Z.target===Eo)x.texImage2D(Eo,Be,Z.internalformat,Z.width>>Be,Z.height>>Be,0,Z.internalformat,Z.type,null);else for(var ft=0;ft<6;++ft)x.texImage2D(df+ft,Be,Z.internalformat,Z.width>>Be,Z.height>>Be,0,Z.internalformat,Z.type,null);cn(Z.texInfo,Z.target)})}function _i(){for(var N=0;N<An;++N){var J=Yt[N];J&&(J.bindCount=0,J.unit=-1,Yt[N]=null),x.activeTexture(rc+N),x.bindTexture(Eo,null),x.bindTexture(s1,null)}}return{create2D:mt,createCube:wt,clear:qt,getTexture:function(N){return null},restore:$o,refresh:_i}}var bs=36161,wf=32854,Iw=32855,zw=36194,Bw=33189,Gw=36168,jw=34041,Vw=35907,Uw=34836,Hw=34842,Ww=34843,io=[];io[wf]=2,io[Iw]=2,io[zw]=2,io[Bw]=2,io[Gw]=1,io[jw]=4,io[Vw]=4,io[Uw]=16,io[Hw]=8,io[Ww]=6;function Xw(x,T,L){return io[x]*T*L}var F8=function(x,T,L,K,le){var Q={rgba4:wf,rgb565:zw,"rgb5 a1":Iw,depth:Bw,stencil:Gw,"depth stencil":jw};T.ext_srgb&&(Q.srgba=Vw),T.ext_color_buffer_half_float&&(Q.rgba16f=Hw,Q.rgb16f=Ww),T.webgl_color_buffer_float&&(Q.rgba32f=Uw);var re=[];Object.keys(Q).forEach(function(ye){var Se=Q[ye];re[Se]=ye});var ge=0,ve={};function Ee(ye){this.id=ge++,this.refCount=1,this.renderbuffer=ye,this.format=wf,this.width=0,this.height=0,le.profile&&(this.stats={size:0})}Ee.prototype.decRef=function(){--this.refCount<=0&&Ae(this)};function Ae(ye){var Se=ye.renderbuffer;C(Se,"must not double destroy renderbuffer"),x.bindRenderbuffer(bs,null),x.deleteRenderbuffer(Se),ye.renderbuffer=null,ye.refCount=0,delete ve[ye.id],K.renderbufferCount--}function _e(ye,Se){var H=new Ee(x.createRenderbuffer());ve[H.id]=H,K.renderbufferCount++;function ne(Ie,he){var Fe=0,Oe=0,We=wf;if(typeof Ie=="object"&&Ie){var ce=Ie;if("shape"in ce){var ae=ce.shape;C(Array.isArray(ae)&&ae.length>=2,"invalid renderbuffer shape"),Fe=ae[0]|0,Oe=ae[1]|0}else"radius"in ce&&(Fe=Oe=ce.radius|0),"width"in ce&&(Fe=ce.width|0),"height"in ce&&(Oe=ce.height|0);"format"in ce&&(C.parameter(ce.format,Q,"invalid renderbuffer format"),We=Q[ce.format])}else typeof Ie=="number"?(Fe=Ie|0,typeof he=="number"?Oe=he|0:Oe=Fe):Ie?C.raise("invalid arguments to renderbuffer constructor"):Fe=Oe=1;if(C(Fe>0&&Oe>0&&Fe<=L.maxRenderbufferSize&&Oe<=L.maxRenderbufferSize,"invalid renderbuffer size"),!(Fe===H.width&&Oe===H.height&&We===H.format))return ne.width=H.width=Fe,ne.height=H.height=Oe,H.format=We,x.bindRenderbuffer(bs,H.renderbuffer),x.renderbufferStorage(bs,We,Fe,Oe),C(x.getError()===0,"invalid render buffer format"),le.profile&&(H.stats.size=Xw(H.format,H.width,H.height)),ne.format=re[H.format],ne}function be(Ie,he){var Fe=Ie|0,Oe=he|0||Fe;return Fe===H.width&&Oe===H.height||(C(Fe>0&&Oe>0&&Fe<=L.maxRenderbufferSize&&Oe<=L.maxRenderbufferSize,"invalid renderbuffer size"),ne.width=H.width=Fe,ne.height=H.height=Oe,x.bindRenderbuffer(bs,H.renderbuffer),x.renderbufferStorage(bs,H.format,Fe,Oe),C(x.getError()===0,"invalid render buffer format"),le.profile&&(H.stats.size=Xw(H.format,H.width,H.height))),ne}return ne(ye,Se),ne.resize=be,ne._reglType="renderbuffer",ne._renderbuffer=H,le.profile&&(ne.stats=H.stats),ne.destroy=function(){H.decRef()},ne}le.profile&&(K.getTotalRenderbufferSize=function(){var ye=0;return Object.keys(ve).forEach(function(Se){ye+=ve[Se].stats.size}),ye});function Ce(){xr(ve).forEach(function(ye){ye.renderbuffer=x.createRenderbuffer(),x.bindRenderbuffer(bs,ye.renderbuffer),x.renderbufferStorage(bs,ye.format,ye.width,ye.height)}),x.bindRenderbuffer(bs,null)}return{create:_e,clear:function(){xr(ve).forEach(Ae)},restore:Ce}},Wo=36160,S1=36161,yi=3553,xf=34069,Yw=36064,qw=36096,Zw=36128,Qw=33306,Kw=36053,D8=36054,I8=36055,z8=36057,B8=36061,G8=36193,j8=5121,V8=5126,Jw=6407,ex=6408,U8=6402,H8=[Jw,ex],E1=[];E1[ex]=4,E1[Jw]=3;var bf=[];bf[j8]=1,bf[V8]=4,bf[G8]=2;var W8=32854,X8=32855,Y8=36194,q8=33189,Z8=36168,tx=34041,Q8=35907,K8=34836,J8=34842,eR=34843,tR=[W8,X8,Y8,Q8,J8,eR,K8],ha={};ha[Kw]="complete",ha[D8]="incomplete attachment",ha[z8]="incomplete dimensions",ha[I8]="incomplete, missing attachment",ha[B8]="unsupported";function nR(x,T,L,K,le,Q){var re={cur:null,next:null,dirty:!1,setFBO:null},ge=["rgba"],ve=["rgba4","rgb565","rgb5 a1"];T.ext_srgb&&ve.push("srgba"),T.ext_color_buffer_half_float&&ve.push("rgba16f","rgb16f"),T.webgl_color_buffer_float&&ve.push("rgba32f");var Ee=["uint8"];T.oes_texture_half_float&&Ee.push("half float","float16"),T.oes_texture_float&&Ee.push("float","float32");function Ae(we,ke,Re){this.target=we,this.texture=ke,this.renderbuffer=Re;var ot=0,tt=0;ke?(ot=ke.width,tt=ke.height):Re&&(ot=Re.width,tt=Re.height),this.width=ot,this.height=tt}function _e(we){we&&(we.texture&&we.texture._texture.decRef(),we.renderbuffer&&we.renderbuffer._renderbuffer.decRef())}function Ce(we,ke,Re){if(we)if(we.texture){var ot=we.texture._texture,tt=Math.max(1,ot.width),Le=Math.max(1,ot.height);C(tt===ke&&Le===Re,"inconsistent width/height for supplied texture"),ot.refCount+=1}else{var De=we.renderbuffer._renderbuffer;C(De.width===ke&&De.height===Re,"inconsistent width/height for renderbuffer"),De.refCount+=1}}function ye(we,ke){ke&&(ke.texture?x.framebufferTexture2D(Wo,we,ke.target,ke.texture._texture.texture,0):x.framebufferRenderbuffer(Wo,we,S1,ke.renderbuffer._renderbuffer.renderbuffer))}function Se(we){var ke=yi,Re=null,ot=null,tt=we;typeof we=="object"&&(tt=we.data,"target"in we&&(ke=we.target|0)),C.type(tt,"function","invalid attachment data");var Le=tt._reglType;return Le==="texture2d"?(Re=tt,C(ke===yi)):Le==="textureCube"?(Re=tt,C(ke>=xf&&ke<xf+6,"invalid cube map target")):Le==="renderbuffer"?(ot=tt,ke=S1):C.raise("invalid regl object for attachment"),new Ae(ke,Re,ot)}function H(we,ke,Re,ot,tt){if(Re){var Le=K.create2D({width:we,height:ke,format:ot,type:tt});return Le._texture.refCount=0,new Ae(yi,Le,null)}else{var De=le.create({width:we,height:ke,format:ot});return De._renderbuffer.refCount=0,new Ae(S1,null,De)}}function ne(we){return we&&(we.texture||we.renderbuffer)}function be(we,ke,Re){we&&(we.texture?we.texture.resize(ke,Re):we.renderbuffer&&we.renderbuffer.resize(ke,Re),we.width=ke,we.height=Re)}var Ie=0,he={};function Fe(){this.id=Ie++,he[this.id]=this,this.framebuffer=x.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function Oe(we){we.colorAttachments.forEach(_e),_e(we.depthAttachment),_e(we.stencilAttachment),_e(we.depthStencilAttachment)}function We(we){var ke=we.framebuffer;C(ke,"must not double destroy framebuffer"),x.deleteFramebuffer(ke),we.framebuffer=null,Q.framebufferCount--,delete he[we.id]}function ce(we){var ke;x.bindFramebuffer(Wo,we.framebuffer);var Re=we.colorAttachments;for(ke=0;ke<Re.length;++ke)ye(Yw+ke,Re[ke]);for(ke=Re.length;ke<L.maxColorAttachments;++ke)x.framebufferTexture2D(Wo,Yw+ke,yi,null,0);x.framebufferTexture2D(Wo,Qw,yi,null,0),x.framebufferTexture2D(Wo,qw,yi,null,0),x.framebufferTexture2D(Wo,Zw,yi,null,0),ye(qw,we.depthAttachment),ye(Zw,we.stencilAttachment),ye(Qw,we.depthStencilAttachment);var ot=x.checkFramebufferStatus(Wo);!x.isContextLost()&&ot!==Kw&&C.raise("framebuffer configuration not supported, status = "+ha[ot]),x.bindFramebuffer(Wo,re.next?re.next.framebuffer:null),re.cur=re.next,x.getError()}function ae(we,ke){var Re=new Fe;Q.framebufferCount++;function ot(Le,De){var Ze;C(re.next!==Re,"can not update framebuffer which is currently in use");var st=0,pt=0,zt=!0,Gt=!0,vt=null,ln=!0,Ot="rgba",rn="uint8",cn=1,un=null,bn=null,An=null,Yt=!1;if(typeof Le=="number")st=Le|0,pt=De|0||st;else if(!Le)st=pt=1;else{C.type(Le,"object","invalid arguments for framebuffer");var lt=Le;if("shape"in lt){var Tn=lt.shape;C(Array.isArray(Tn)&&Tn.length>=2,"invalid shape for framebuffer"),st=Tn[0],pt=Tn[1]}else"radius"in lt&&(st=pt=lt.radius),"width"in lt&&(st=lt.width),"height"in lt&&(pt=lt.height);("color"in lt||"colors"in lt)&&(vt=lt.color||lt.colors,Array.isArray(vt)&&C(vt.length===1||T.webgl_draw_buffers,"multiple render targets not supported")),vt||("colorCount"in lt&&(cn=lt.colorCount|0,C(cn>0,"invalid color buffer count")),"colorTexture"in lt&&(ln=!!lt.colorTexture,Ot="rgba4"),"colorType"in lt&&(rn=lt.colorType,ln?(C(T.oes_texture_float||!(rn==="float"||rn==="float32"),"you must enable OES_texture_float in order to use floating point framebuffer objects"),C(T.oes_texture_half_float||!(rn==="half float"||rn==="float16"),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")):rn==="half float"||rn==="float16"?(C(T.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),Ot="rgba16f"):(rn==="float"||rn==="float32")&&(C(T.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),Ot="rgba32f"),C.oneOf(rn,Ee,"invalid color type")),"colorFormat"in lt&&(Ot=lt.colorFormat,ge.indexOf(Ot)>=0?ln=!0:ve.indexOf(Ot)>=0?ln=!1:C.optional(function(){ln?C.oneOf(lt.colorFormat,ge,"invalid color format for texture"):C.oneOf(lt.colorFormat,ve,"invalid color format for renderbuffer")}))),("depthTexture"in lt||"depthStencilTexture"in lt)&&(Yt=!!(lt.depthTexture||lt.depthStencilTexture),C(!Yt||T.webgl_depth_texture,"webgl_depth_texture extension not supported")),"depth"in lt&&(typeof lt.depth=="boolean"?zt=lt.depth:(un=lt.depth,Gt=!1)),"stencil"in lt&&(typeof lt.stencil=="boolean"?Gt=lt.stencil:(bn=lt.stencil,zt=!1)),"depthStencil"in lt&&(typeof lt.depthStencil=="boolean"?zt=Gt=lt.depthStencil:(An=lt.depthStencil,zt=!1,Gt=!1))}var Et=null,Ye=null,mt=null,wt=null;if(Array.isArray(vt))Et=vt.map(Se);else if(vt)Et=[Se(vt)];else for(Et=new Array(cn),Ze=0;Ze<cn;++Ze)Et[Ze]=H(st,pt,ln,Ot,rn);C(T.webgl_draw_buffers||Et.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."),C(Et.length<=L.maxColorAttachments,"too many color attachments, not supported"),st=st||Et[0].width,pt=pt||Et[0].height,un?Ye=Se(un):zt&&!Gt&&(Ye=H(st,pt,Yt,"depth","uint32")),bn?mt=Se(bn):Gt&&!zt&&(mt=H(st,pt,!1,"stencil","uint8")),An?wt=Se(An):!un&&!bn&&Gt&&zt&&(wt=H(st,pt,Yt,"depth stencil","depth stencil")),C(!!un+!!bn+!!An<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var qt=null;for(Ze=0;Ze<Et.length;++Ze)if(Ce(Et[Ze],st,pt),C(!Et[Ze]||Et[Ze].texture&&H8.indexOf(Et[Ze].texture._texture.format)>=0||Et[Ze].renderbuffer&&tR.indexOf(Et[Ze].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+Ze+" is invalid"),Et[Ze]&&Et[Ze].texture){var $o=E1[Et[Ze].texture._texture.format]*bf[Et[Ze].texture._texture.type];qt===null?qt=$o:C(qt===$o,"all color attachments much have the same number of bits per pixel.")}return Ce(Ye,st,pt),C(!Ye||Ye.texture&&Ye.texture._texture.format===U8||Ye.renderbuffer&&Ye.renderbuffer._renderbuffer.format===q8,"invalid depth attachment for framebuffer object"),Ce(mt,st,pt),C(!mt||mt.renderbuffer&&mt.renderbuffer._renderbuffer.format===Z8,"invalid stencil attachment for framebuffer object"),Ce(wt,st,pt),C(!wt||wt.texture&&wt.texture._texture.format===tx||wt.renderbuffer&&wt.renderbuffer._renderbuffer.format===tx,"invalid depth-stencil attachment for framebuffer object"),Oe(Re),Re.width=st,Re.height=pt,Re.colorAttachments=Et,Re.depthAttachment=Ye,Re.stencilAttachment=mt,Re.depthStencilAttachment=wt,ot.color=Et.map(ne),ot.depth=ne(Ye),ot.stencil=ne(mt),ot.depthStencil=ne(wt),ot.width=Re.width,ot.height=Re.height,ce(Re),ot}function tt(Le,De){C(re.next!==Re,"can not resize a framebuffer which is currently in use");var Ze=Math.max(Le|0,1),st=Math.max(De|0||Ze,1);if(Ze===Re.width&&st===Re.height)return ot;for(var pt=Re.colorAttachments,zt=0;zt<pt.length;++zt)be(pt[zt],Ze,st);return be(Re.depthAttachment,Ze,st),be(Re.stencilAttachment,Ze,st),be(Re.depthStencilAttachment,Ze,st),Re.width=ot.width=Ze,Re.height=ot.height=st,ce(Re),ot}return ot(we,ke),r(ot,{resize:tt,_reglType:"framebuffer",_framebuffer:Re,destroy:function(){We(Re),Oe(Re)},use:function(Le){re.setFBO({framebuffer:ot},Le)}})}function Ge(we){var ke=Array(6);function Re(tt){var Le;C(ke.indexOf(re.next)<0,"can not update framebuffer which is currently in use");var De={color:null},Ze=0,st=null,pt="rgba",zt="uint8",Gt=1;if(typeof tt=="number")Ze=tt|0;else if(!tt)Ze=1;else{C.type(tt,"object","invalid arguments for framebuffer");var vt=tt;if("shape"in vt){var ln=vt.shape;C(Array.isArray(ln)&&ln.length>=2,"invalid shape for framebuffer"),C(ln[0]===ln[1],"cube framebuffer must be square"),Ze=ln[0]}else"radius"in vt&&(Ze=vt.radius|0),"width"in vt?(Ze=vt.width|0,"height"in vt&&C(vt.height===Ze,"must be square")):"height"in vt&&(Ze=vt.height|0);("color"in vt||"colors"in vt)&&(st=vt.color||vt.colors,Array.isArray(st)&&C(st.length===1||T.webgl_draw_buffers,"multiple render targets not supported")),st||("colorCount"in vt&&(Gt=vt.colorCount|0,C(Gt>0,"invalid color buffer count")),"colorType"in vt&&(C.oneOf(vt.colorType,Ee,"invalid color type"),zt=vt.colorType),"colorFormat"in vt&&(pt=vt.colorFormat,C.oneOf(vt.colorFormat,ge,"invalid color format for texture"))),"depth"in vt&&(De.depth=vt.depth),"stencil"in vt&&(De.stencil=vt.stencil),"depthStencil"in vt&&(De.depthStencil=vt.depthStencil)}var Ot;if(st)if(Array.isArray(st))for(Ot=[],Le=0;Le<st.length;++Le)Ot[Le]=st[Le];else Ot=[st];else{Ot=Array(Gt);var rn={radius:Ze,format:pt,type:zt};for(Le=0;Le<Gt;++Le)Ot[Le]=K.createCube(rn)}for(De.color=Array(Ot.length),Le=0;Le<Ot.length;++Le){var cn=Ot[Le];C(typeof cn=="function"&&cn._reglType==="textureCube","invalid cube map"),Ze=Ze||cn.width,C(cn.width===Ze&&cn.height===Ze,"invalid cube map shape"),De.color[Le]={target:xf,data:Ot[Le]}}for(Le=0;Le<6;++Le){for(var un=0;un<Ot.length;++un)De.color[un].target=xf+Le;Le>0&&(De.depth=ke[0].depth,De.stencil=ke[0].stencil,De.depthStencil=ke[0].depthStencil),ke[Le]?ke[Le](De):ke[Le]=ae(De)}return r(Re,{width:Ze,height:Ze,color:Ot})}function ot(tt){var Le,De=tt|0;if(C(De>0&&De<=L.maxCubeMapSize,"invalid radius for cube fbo"),De===Re.width)return Re;var Ze=Re.color;for(Le=0;Le<Ze.length;++Le)Ze[Le].resize(De);for(Le=0;Le<6;++Le)ke[Le].resize(De);return Re.width=Re.height=De,Re}return Re(we),r(Re,{faces:ke,resize:ot,_reglType:"framebufferCube",destroy:function(){ke.forEach(function(tt){tt.destroy()})}})}function Pe(){re.cur=null,re.next=null,re.dirty=!0,xr(he).forEach(function(we){we.framebuffer=x.createFramebuffer(),ce(we)})}return r(re,{getFramebuffer:function(we){if(typeof we=="function"&&we._reglType==="framebuffer"){var ke=we._framebuffer;if(ke instanceof Fe)return ke}return null},create:ae,createCube:Ge,clear:function(){xr(he).forEach(We)},restore:Pe})}var rR=5126,nx=34962,Sf=34963,rx=["attributes","elements","offset","count","primitive","instances"];function _1(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=rR,this.offset=0,this.stride=0,this.divisor=0}function oR(x,T,L,K,le,Q,re){for(var ge=L.maxAttributes,ve=new Array(ge),Ee=0;Ee<ge;++Ee)ve[Ee]=new _1;var Ae=0,_e={},Ce={Record:_1,scope:{},state:ve,currentVAO:null,targetVAO:null,restore:Se()?Oe:function(){},createVAO:We,getVAO:ne,destroyBuffer:ye,setVAO:Se()?be:Ie,clear:Se()?he:function(){}};function ye(ce){for(var ae=0;ae<ve.length;++ae){var Ge=ve[ae];Ge.buffer===ce&&(x.disableVertexAttribArray(ae),Ge.buffer=null)}}function Se(){return T.oes_vertex_array_object}function H(){return T.angle_instanced_arrays}function ne(ce){return typeof ce=="function"&&ce._vao?ce._vao:null}function be(ce){if(ce!==Ce.currentVAO){var ae=Se();ce?ae.bindVertexArrayOES(ce.vao):ae.bindVertexArrayOES(null),Ce.currentVAO=ce}}function Ie(ce){if(ce!==Ce.currentVAO){if(ce)ce.bindAttrs();else{for(var ae=H(),Ge=0;Ge<ve.length;++Ge){var Pe=ve[Ge];Pe.buffer?(x.enableVertexAttribArray(Ge),Pe.buffer.bind(),x.vertexAttribPointer(Ge,Pe.size,Pe.type,Pe.normalized,Pe.stride,Pe.offfset),ae&&Pe.divisor&&ae.vertexAttribDivisorANGLE(Ge,Pe.divisor)):(x.disableVertexAttribArray(Ge),x.vertexAttrib4f(Ge,Pe.x,Pe.y,Pe.z,Pe.w))}re.elements?x.bindBuffer(Sf,re.elements.buffer.buffer):x.bindBuffer(Sf,null)}Ce.currentVAO=ce}}function he(){xr(_e).forEach(function(ce){ce.destroy()})}function Fe(){this.id=++Ae,this.attributes=[],this.elements=null,this.ownsElements=!1,this.count=0,this.offset=0,this.instances=-1,this.primitive=4;var ce=Se();ce?this.vao=ce.createVertexArrayOES():this.vao=null,_e[this.id]=this,this.buffers=[]}Fe.prototype.bindAttrs=function(){for(var ce=H(),ae=this.attributes,Ge=0;Ge<ae.length;++Ge){var Pe=ae[Ge];Pe.buffer?(x.enableVertexAttribArray(Ge),x.bindBuffer(nx,Pe.buffer.buffer),x.vertexAttribPointer(Ge,Pe.size,Pe.type,Pe.normalized,Pe.stride,Pe.offset),ce&&Pe.divisor&&ce.vertexAttribDivisorANGLE(Ge,Pe.divisor)):(x.disableVertexAttribArray(Ge),x.vertexAttrib4f(Ge,Pe.x,Pe.y,Pe.z,Pe.w))}for(var we=ae.length;we<ge;++we)x.disableVertexAttribArray(we);var ke=Q.getElements(this.elements);ke?x.bindBuffer(Sf,ke.buffer.buffer):x.bindBuffer(Sf,null)},Fe.prototype.refresh=function(){var ce=Se();ce&&(ce.bindVertexArrayOES(this.vao),this.bindAttrs(),Ce.currentVAO=null,ce.bindVertexArrayOES(null))},Fe.prototype.destroy=function(){if(this.vao){var ce=Se();this===Ce.currentVAO&&(Ce.currentVAO=null,ce.bindVertexArrayOES(null)),ce.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),_e[this.id]&&(delete _e[this.id],K.vaoCount-=1)};function Oe(){var ce=Se();ce&&xr(_e).forEach(function(ae){ae.refresh()})}function We(ce){var ae=new Fe;K.vaoCount+=1;function Ge(Pe){var we;if(Array.isArray(Pe))we=Pe,ae.elements&&ae.ownsElements&&ae.elements.destroy(),ae.elements=null,ae.ownsElements=!1,ae.offset=0,ae.count=0,ae.instances=-1,ae.primitive=4;else{if(C(typeof Pe=="object","invalid arguments for create vao"),C("attributes"in Pe,"must specify attributes for vao"),Pe.elements){var ke=Pe.elements;ae.ownsElements?typeof ke=="function"&&ke._reglType==="elements"?(ae.elements.destroy(),ae.ownsElements=!1):(ae.elements(ke),ae.ownsElements=!1):Q.getElements(Pe.elements)?(ae.elements=Pe.elements,ae.ownsElements=!1):(ae.elements=Q.create(Pe.elements),ae.ownsElements=!0)}else ae.elements=null,ae.ownsElements=!1;we=Pe.attributes,ae.offset=0,ae.count=-1,ae.instances=-1,ae.primitive=4,ae.elements&&(ae.count=ae.elements._elements.vertCount,ae.primitive=ae.elements._elements.primType),"offset"in Pe&&(ae.offset=Pe.offset|0),"count"in Pe&&(ae.count=Pe.count|0),"instances"in Pe&&(ae.instances=Pe.instances|0),"primitive"in Pe&&(C(Pe.primitive in xs,"bad primitive type: "+Pe.primitive),ae.primitive=xs[Pe.primitive]),C.optional(()=>{for(var zt=Object.keys(Pe),Gt=0;Gt<zt.length;++Gt)C(rx.indexOf(zt[Gt])>=0,'invalid option for vao: "'+zt[Gt]+'" valid options are '+rx)}),C(Array.isArray(we),"attributes must be an array")}C(we.length<ge,"too many attributes"),C(we.length>0,"must specify at least one attribute");var Re={},ot=ae.attributes;ot.length=we.length;for(var tt=0;tt<we.length;++tt){var Le=we[tt],De=ot[tt]=new _1,Ze=Le.data||Le;if(Array.isArray(Ze)||n(Ze)||so(Ze)){var st;ae.buffers[tt]&&(st=ae.buffers[tt],n(Ze)&&st._buffer.byteLength>=Ze.byteLength?st.subdata(Ze):(st.destroy(),ae.buffers[tt]=null)),ae.buffers[tt]||(st=ae.buffers[tt]=le.create(Le,nx,!1,!0)),De.buffer=le.getBuffer(st),De.size=De.buffer.dimension|0,De.normalized=!1,De.type=De.buffer.dtype,De.offset=0,De.stride=0,De.divisor=0,De.state=1,Re[tt]=1}else le.getBuffer(Le)?(De.buffer=le.getBuffer(Le),De.size=De.buffer.dimension|0,De.normalized=!1,De.type=De.buffer.dtype,De.offset=0,De.stride=0,De.divisor=0,De.state=1):le.getBuffer(Le.buffer)?(De.buffer=le.getBuffer(Le.buffer),De.size=(+Le.size||De.buffer.dimension)|0,De.normalized=!!Le.normalized||!1,"type"in Le?(C.parameter(Le.type,pi,"invalid buffer type"),De.type=pi[Le.type]):De.type=De.buffer.dtype,De.offset=(Le.offset||0)|0,De.stride=(Le.stride||0)|0,De.divisor=(Le.divisor||0)|0,De.state=1,C(De.size>=1&&De.size<=4,"size must be between 1 and 4"),C(De.offset>=0,"invalid offset"),C(De.stride>=0&&De.stride<=255,"stride must be between 0 and 255"),C(De.divisor>=0,"divisor must be positive"),C(!De.divisor||!!T.angle_instanced_arrays,"ANGLE_instanced_arrays must be enabled to use divisor")):"x"in Le?(C(tt>0,"first attribute must not be a constant"),De.x=+Le.x||0,De.y=+Le.y||0,De.z=+Le.z||0,De.w=+Le.w||0,De.state=2):C(!1,"invalid attribute spec for location "+tt)}for(var pt=0;pt<ae.buffers.length;++pt)!Re[pt]&&ae.buffers[pt]&&(ae.buffers[pt].destroy(),ae.buffers[pt]=null);return ae.refresh(),Ge}return Ge.destroy=function(){for(var Pe=0;Pe<ae.buffers.length;++Pe)ae.buffers[Pe]&&ae.buffers[Pe].destroy();ae.buffers.length=0,ae.ownsElements&&(ae.elements.destroy(),ae.elements=null,ae.ownsElements=!1),ae.destroy()},Ge._vao=ae,Ge._reglType="vao",Ge(ce)}return Ce}var ox=35632,sR=35633,iR=35718,aR=35721;function lR(x,T,L,K){var le={},Q={};function re(H,ne,be,Ie){this.name=H,this.id=ne,this.location=be,this.info=Ie}function ge(H,ne){for(var be=0;be<H.length;++be)if(H[be].id===ne.id){H[be].location=ne.location;return}H.push(ne)}function ve(H,ne,be){var Ie=H===ox?le:Q,he=Ie[ne];if(!he){var Fe=T.str(ne);he=x.createShader(H),x.shaderSource(he,Fe),x.compileShader(he),C.shaderError(x,he,Fe,H,be),Ie[ne]=he}return he}var Ee={},Ae=[],_e=0;function Ce(H,ne){this.id=_e++,this.fragId=H,this.vertId=ne,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,K.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function ye(H,ne,be){var Ie,he,Fe=ve(ox,H.fragId),Oe=ve(sR,H.vertId),We=H.program=x.createProgram();if(x.attachShader(We,Fe),x.attachShader(We,Oe),be)for(Ie=0;Ie<be.length;++Ie){var ce=be[Ie];x.bindAttribLocation(We,ce[0],ce[1])}x.linkProgram(We),C.linkError(x,We,T.str(H.fragId),T.str(H.vertId),ne);var ae=x.getProgramParameter(We,iR);K.profile&&(H.stats.uniformsCount=ae);var Ge=H.uniforms;for(Ie=0;Ie<ae;++Ie)if(he=x.getActiveUniform(We,Ie),he){if(he.size>1)for(var Pe=0;Pe<he.size;++Pe){var we=he.name.replace("[0]","["+Pe+"]");ge(Ge,new re(we,T.id(we),x.getUniformLocation(We,we),he))}var ke=he.name;he.size>1&&(ke=ke.replace("[0]","")),ge(Ge,new re(ke,T.id(ke),x.getUniformLocation(We,ke),he))}var Re=x.getProgramParameter(We,aR);K.profile&&(H.stats.attributesCount=Re);var ot=H.attributes;for(Ie=0;Ie<Re;++Ie)he=x.getActiveAttrib(We,Ie),he&&ge(ot,new re(he.name,T.id(he.name),x.getAttribLocation(We,he.name),he))}K.profile&&(L.getMaxUniformsCount=function(){var H=0;return Ae.forEach(function(ne){ne.stats.uniformsCount>H&&(H=ne.stats.uniformsCount)}),H},L.getMaxAttributesCount=function(){var H=0;return Ae.forEach(function(ne){ne.stats.attributesCount>H&&(H=ne.stats.attributesCount)}),H});function Se(){le={},Q={};for(var H=0;H<Ae.length;++H)ye(Ae[H],null,Ae[H].attributes.map(function(ne){return[ne.location,ne.name]}))}return{clear:function(){var H=x.deleteShader.bind(x);xr(le).forEach(H),le={},xr(Q).forEach(H),Q={},Ae.forEach(function(ne){x.deleteProgram(ne.program)}),Ae.length=0,Ee={},L.shaderCount=0},program:function(H,ne,be,Ie){C.command(H>=0,"missing vertex shader",be),C.command(ne>=0,"missing fragment shader",be);var he=Ee[ne];he||(he=Ee[ne]={});var Fe=he[H];if(Fe&&(Fe.refCount++,!Ie))return Fe;var Oe=new Ce(ne,H);return L.shaderCount++,ye(Oe,be,Ie),Fe||(he[H]=Oe),Ae.push(Oe),r(Oe,{destroy:function(){if(Oe.refCount--,Oe.refCount<=0){x.deleteProgram(Oe.program);var We=Ae.indexOf(Oe);Ae.splice(We,1),L.shaderCount--}he[Oe.vertId].refCount<=0&&(x.deleteShader(Q[Oe.vertId]),delete Q[Oe.vertId],delete Ee[Oe.fragId][Oe.vertId]),Object.keys(Ee[Oe.fragId]).length||(x.deleteShader(le[Oe.fragId]),delete le[Oe.fragId],delete Ee[Oe.fragId])}})},restore:Se,shader:ve,frag:-1,vert:-1}}var cR=6408,oc=5121,uR=3333,Ef=5126;function fR(x,T,L,K,le,Q,re){function ge(Ae){var _e;T.next===null?(C(le.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),_e=oc):(C(T.next.colorAttachments[0].texture!==null,"You cannot read from a renderbuffer"),_e=T.next.colorAttachments[0].texture._texture.type,C.optional(function(){Q.oes_texture_float?(C(_e===oc||_e===Ef,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"),_e===Ef&&C(re.readFloat,"Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")):C(_e===oc,"Reading from a framebuffer is only allowed for the type 'uint8'")}));var Ce=0,ye=0,Se=K.framebufferWidth,H=K.framebufferHeight,ne=null;n(Ae)?ne=Ae:Ae&&(C.type(Ae,"object","invalid arguments to regl.read()"),Ce=Ae.x|0,ye=Ae.y|0,C(Ce>=0&&Ce<K.framebufferWidth,"invalid x offset for regl.read"),C(ye>=0&&ye<K.framebufferHeight,"invalid y offset for regl.read"),Se=(Ae.width||K.framebufferWidth-Ce)|0,H=(Ae.height||K.framebufferHeight-ye)|0,ne=Ae.data||null),ne&&(_e===oc?C(ne instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):_e===Ef&&C(ne instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")),C(Se>0&&Se+Ce<=K.framebufferWidth,"invalid width for read pixels"),C(H>0&&H+ye<=K.framebufferHeight,"invalid height for read pixels"),L();var be=Se*H*4;return ne||(_e===oc?ne=new Uint8Array(be):_e===Ef&&(ne=ne||new Float32Array(be))),C.isTypedArray(ne,"data buffer for regl.read() must be a typedarray"),C(ne.byteLength>=be,"data buffer for regl.read() too small"),x.pixelStorei(uR,4),x.readPixels(Ce,ye,Se,H,cR,_e,ne),ne}function ve(Ae){var _e;return T.setFBO({framebuffer:Ae.framebuffer},function(){_e=ge(Ae)}),_e}function Ee(Ae){return!Ae||!("framebuffer"in Ae)?ge(Ae):ve(Ae)}return Ee}function pa(x){return Array.prototype.slice.call(x)}function ma(x){return pa(x).join("")}function dR(){var x=0,T=[],L=[];function K(_e){for(var Ce=0;Ce<L.length;++Ce)if(L[Ce]===_e)return T[Ce];var ye="g"+x++;return T.push(ye),L.push(_e),ye}function le(){var _e=[];function Ce(){_e.push.apply(_e,pa(arguments))}var ye=[];function Se(){var H="v"+x++;return ye.push(H),arguments.length>0&&(_e.push(H,"="),_e.push.apply(_e,pa(arguments)),_e.push(";")),H}return r(Ce,{def:Se,toString:function(){return ma([ye.length>0?"var "+ye.join(",")+";":"",ma(_e)])}})}function Q(){var _e=le(),Ce=le(),ye=_e.toString,Se=Ce.toString;function H(ne,be){Ce(ne,be,"=",_e.def(ne,be),";")}return r(function(){_e.apply(_e,pa(arguments))},{def:_e.def,entry:_e,exit:Ce,save:H,set:function(ne,be,Ie){H(ne,be),_e(ne,be,"=",Ie,";")},toString:function(){return ye()+Se()}})}function re(){var _e=ma(arguments),Ce=Q(),ye=Q(),Se=Ce.toString,H=ye.toString;return r(Ce,{then:function(){return Ce.apply(Ce,pa(arguments)),this},else:function(){return ye.apply(ye,pa(arguments)),this},toString:function(){var ne=H();return ne&&(ne="else{"+ne+"}"),ma(["if(",_e,"){",Se(),"}",ne])}})}var ge=le(),ve={};function Ee(_e,Ce){var ye=[];function Se(){var he="a"+ye.length;return ye.push(he),he}Ce=Ce||0;for(var H=0;H<Ce;++H)Se();var ne=Q(),be=ne.toString,Ie=ve[_e]=r(ne,{arg:Se,toString:function(){return ma(["function(",ye.join(),"){",be(),"}"])}});return Ie}function Ae(){var _e=['"use strict";',ge,"return {"];Object.keys(ve).forEach(function(Se){_e.push('"',Se,'":',ve[Se].toString(),",")}),_e.push("}");var Ce=ma(_e).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`),ye=Function.apply(null,T.concat(Ce));return ye.apply(null,L)}return{global:ge,link:K,block:le,proc:Ee,scope:Q,cond:re,compile:Ae}}var va="xyzw".split(""),sx=5121,ga=1,$1=2,A1=0,T1=1,C1=2,P1=3,_f=4,ix=5,ax=6,lx="dither",cx="blend.enable",ux="blend.color",k1="blend.equation",R1="blend.func",fx="depth.enable",dx="depth.func",hx="depth.range",px="depth.mask",N1="colorMask",mx="cull.enable",vx="cull.face",O1="frontFace",L1="lineWidth",gx="polygonOffset.enable",M1="polygonOffset.offset",yx="sample.alpha",wx="sample.enable",F1="sample.coverage",xx="stencil.enable",bx="stencil.mask",D1="stencil.func",I1="stencil.opFront",sc="stencil.opBack",Sx="scissor.enable",$f="scissor.box",Xo="viewport",ic="profile",wi="framebuffer",ac="vert",lc="frag",xi="elements",bi="primitive",Si="count",Af="offset",Tf="instances",cc="vao",z1="Width",B1="Height",ya=wi+z1,wa=wi+B1,hR=Xo+z1,pR=Xo+B1,Ex="drawingBuffer",_x=Ex+z1,$x=Ex+B1,mR=[R1,k1,D1,I1,sc,F1,Xo,$f,M1],xa=34962,G1=34963,vR=35632,gR=35633,Ax=3553,yR=34067,wR=2884,xR=3042,bR=3024,SR=2960,ER=2929,_R=3089,$R=32823,AR=32926,TR=32928,j1=5126,Cf=35664,Pf=35665,kf=35666,V1=5124,Rf=35667,Nf=35668,Of=35669,U1=35670,Lf=35671,Mf=35672,Ff=35673,uc=35674,fc=35675,dc=35676,hc=35678,pc=35680,H1=4,mc=1028,Ei=1029,Tx=2304,W1=2305,CR=32775,PR=32776,kR=519,Ss=7680,Cx=0,Px=1,kx=32774,RR=513,Rx=36160,NR=36064,_o={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},Nx=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],ba={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},Es={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},Ox={frag:vR,vert:gR},X1={cw:Tx,ccw:W1};function Df(x){return Array.isArray(x)||n(x)||so(x)}function Lx(x){return x.sort(function(T,L){return T===Xo?-1:L===Xo?1:T<L?-1:1})}function vn(x,T,L,K){this.thisDep=x,this.contextDep=T,this.propDep=L,this.append=K}function _s(x){return x&&!(x.thisDep||x.contextDep||x.propDep)}function nn(x){return new vn(!1,!1,!1,x)}function sr(x,T){var L=x.type;if(L===A1){var K=x.data.length;return new vn(!0,K>=1,K>=2,T)}else if(L===_f){var le=x.data;return new vn(le.thisDep,le.contextDep,le.propDep,T)}else{if(L===ix)return new vn(!1,!1,!1,T);if(L===ax){for(var Q=!1,re=!1,ge=!1,ve=0;ve<x.data.length;++ve){var Ee=x.data[ve];if(Ee.type===T1)ge=!0;else if(Ee.type===C1)re=!0;else if(Ee.type===P1)Q=!0;else if(Ee.type===A1){Q=!0;var Ae=Ee.data;Ae>=1&&(re=!0),Ae>=2&&(ge=!0)}else Ee.type===_f&&(Q=Q||Ee.data.thisDep,re=re||Ee.data.contextDep,ge=ge||Ee.data.propDep)}return new vn(Q,re,ge,T)}else return new vn(L===P1,L===C1,L===T1,T)}}var Mx=new vn(!1,!1,!1,function(){});function OR(x,T,L,K,le,Q,re,ge,ve,Ee,Ae,_e,Ce,ye,Se){var H=Ee.Record,ne={add:32774,subtract:32778,"reverse subtract":32779};L.ext_blend_minmax&&(ne.min=CR,ne.max=PR);var be=L.angle_instanced_arrays,Ie=L.webgl_draw_buffers,he=L.oes_vertex_array_object,Fe={dirty:!0,profile:Se.profile},Oe={},We=[],ce={},ae={};function Ge(P){return P.replace(".","_")}function Pe(P,_,F){var U=Ge(P);We.push(P),Oe[U]=Fe[U]=!!F,ce[U]=_}function we(P,_,F){var U=Ge(P);We.push(P),Array.isArray(F)?(Fe[U]=F.slice(),Oe[U]=F.slice()):Fe[U]=Oe[U]=F,ae[U]=_}Pe(lx,bR),Pe(cx,xR),we(ux,"blendColor",[0,0,0,0]),we(k1,"blendEquationSeparate",[kx,kx]),we(R1,"blendFuncSeparate",[Px,Cx,Px,Cx]),Pe(fx,ER,!0),we(dx,"depthFunc",RR),we(hx,"depthRange",[0,1]),we(px,"depthMask",!0),we(N1,N1,[!0,!0,!0,!0]),Pe(mx,wR),we(vx,"cullFace",Ei),we(O1,O1,W1),we(L1,L1,1),Pe(gx,$R),we(M1,"polygonOffset",[0,0]),Pe(yx,AR),Pe(wx,TR),we(F1,"sampleCoverage",[1,!1]),Pe(xx,SR),we(bx,"stencilMask",-1),we(D1,"stencilFunc",[kR,0,-1]),we(I1,"stencilOpSeparate",[mc,Ss,Ss,Ss]),we(sc,"stencilOpSeparate",[Ei,Ss,Ss,Ss]),Pe(Sx,_R),we($f,"scissor",[0,0,x.drawingBufferWidth,x.drawingBufferHeight]),we(Xo,Xo,[0,0,x.drawingBufferWidth,x.drawingBufferHeight]);var ke={gl:x,context:Ce,strings:T,next:Oe,current:Fe,draw:_e,elements:Q,buffer:le,shader:Ae,attributes:Ee.state,vao:Ee,uniforms:ve,framebuffer:ge,extensions:L,timer:ye,isBufferArgs:Df},Re={primTypes:xs,compareFuncs:ba,blendFuncs:_o,blendEquations:ne,stencilOps:Es,glTypes:pi,orientationType:X1};C.optional(function(){ke.isArrayLike=It}),Ie&&(Re.backBuffer=[Ei],Re.drawBuffer=wr(K.maxDrawbuffers,function(P){return P===0?[0]:wr(P,function(_){return NR+_})}));var ot=0;function tt(){var P=dR(),_=P.link,F=P.global;P.id=ot++,P.batchId="0";var U=_(ke),X=P.shared={props:"a0"};Object.keys(ke).forEach(function(O){X[O]=F.def(U,".",O)}),C.optional(function(){P.CHECK=_(C),P.commandStr=C.guessCommand(),P.command=_(P.commandStr),P.assert=function(O,R,q){O("if(!(",R,"))",this.CHECK,".commandRaise(",_(q),",",this.command,");")},Re.invalidBlendCombinations=Nx});var z=P.next={},I=P.current={};Object.keys(ae).forEach(function(O){Array.isArray(Fe[O])&&(z[O]=F.def(X.next,".",O),I[O]=F.def(X.current,".",O))});var j=P.constants={};Object.keys(Re).forEach(function(O){j[O]=F.def(JSON.stringify(Re[O]))}),P.invoke=function(O,R){switch(R.type){case A1:var q=["this",X.context,X.props,P.batchId];return O.def(_(R.data),".call(",q.slice(0,Math.max(R.data.length+1,4)),")");case T1:return O.def(X.props,R.data);case C1:return O.def(X.context,R.data);case P1:return O.def("this",R.data);case _f:return R.data.append(P,O),R.data.ref;case ix:return R.data.toString();case ax:return R.data.map(function(Y){return P.invoke(O,Y)})}},P.attribCache={};var k={};return P.scopeAttrib=function(O){var R=T.id(O);if(R in k)return k[R];var q=Ee.scope[R];q||(q=Ee.scope[R]=new H);var Y=k[R]=_(q);return Y},P}function Le(P){var _=P.static,F=P.dynamic,U;if(ic in _){var X=!!_[ic];U=nn(function(I,j){return X}),U.enable=X}else if(ic in F){var z=F[ic];U=sr(z,function(I,j){return I.invoke(j,z)})}return U}function De(P,_){var F=P.static,U=P.dynamic;if(wi in F){var X=F[wi];return X?(X=ge.getFramebuffer(X),C.command(X,"invalid framebuffer object"),nn(function(I,j){var k=I.link(X),O=I.shared;j.set(O.framebuffer,".next",k);var R=O.context;return j.set(R,"."+ya,k+".width"),j.set(R,"."+wa,k+".height"),k})):nn(function(I,j){var k=I.shared;j.set(k.framebuffer,".next","null");var O=k.context;return j.set(O,"."+ya,O+"."+_x),j.set(O,"."+wa,O+"."+$x),"null"})}else if(wi in U){var z=U[wi];return sr(z,function(I,j){var k=I.invoke(j,z),O=I.shared,R=O.framebuffer,q=j.def(R,".getFramebuffer(",k,")");C.optional(function(){I.assert(j,"!"+k+"||"+q,"invalid framebuffer object")}),j.set(R,".next",q);var Y=O.context;return j.set(Y,"."+ya,q+"?"+q+".width:"+Y+"."+_x),j.set(Y,"."+wa,q+"?"+q+".height:"+Y+"."+$x),q})}else return null}function Ze(P,_,F){var U=P.static,X=P.dynamic;function z(k){if(k in U){var O=U[k];C.commandType(O,"object","invalid "+k,F.commandStr);var R=!0,q=O.x|0,Y=O.y|0,ie,ue;return"width"in O?(ie=O.width|0,C.command(ie>=0,"invalid "+k,F.commandStr)):R=!1,"height"in O?(ue=O.height|0,C.command(ue>=0,"invalid "+k,F.commandStr)):R=!1,new vn(!R&&_&&_.thisDep,!R&&_&&_.contextDep,!R&&_&&_.propDep,function(He,ze){var de=He.shared.context,se=ie;"width"in O||(se=ze.def(de,".",ya,"-",q));var Ue=ue;return"height"in O||(Ue=ze.def(de,".",wa,"-",Y)),[q,Y,se,Ue]})}else if(k in X){var Te=X[k],Je=sr(Te,function(He,ze){var de=He.invoke(ze,Te);C.optional(function(){He.assert(ze,de+"&&typeof "+de+'==="object"',"invalid "+k)});var se=He.shared.context,Ue=ze.def(de,".x|0"),je=ze.def(de,".y|0"),Qe=ze.def('"width" in ',de,"?",de,".width|0:","(",se,".",ya,"-",Ue,")"),$t=ze.def('"height" in ',de,"?",de,".height|0:","(",se,".",wa,"-",je,")");return C.optional(function(){He.assert(ze,Qe+">=0&&"+$t+">=0","invalid "+k)}),[Ue,je,Qe,$t]});return _&&(Je.thisDep=Je.thisDep||_.thisDep,Je.contextDep=Je.contextDep||_.contextDep,Je.propDep=Je.propDep||_.propDep),Je}else return _?new vn(_.thisDep,_.contextDep,_.propDep,function(He,ze){var de=He.shared.context;return[0,0,ze.def(de,".",ya),ze.def(de,".",wa)]}):null}var I=z(Xo);if(I){var j=I;I=new vn(I.thisDep,I.contextDep,I.propDep,function(k,O){var R=j.append(k,O),q=k.shared.context;return O.set(q,"."+hR,R[2]),O.set(q,"."+pR,R[3]),R})}return{viewport:I,scissor_box:z($f)}}function st(P,_){var F=P.static,U=typeof F[lc]=="string"&&typeof F[ac]=="string";if(U){if(Object.keys(_.dynamic).length>0)return null;var X=_.static,z=Object.keys(X);if(z.length>0&&typeof X[z[0]]=="number"){for(var I=[],j=0;j<z.length;++j)C(typeof X[z[j]]=="number","must specify all vertex attribute locations when using vaos"),I.push([X[z[j]]|0,z[j]]);return I}}return null}function pt(P,_,F){var U=P.static,X=P.dynamic;function z(R){if(R in U){var q=T.id(U[R]);C.optional(function(){Ae.shader(Ox[R],q,C.guessCommand())});var Y=nn(function(){return q});return Y.id=q,Y}else if(R in X){var ie=X[R];return sr(ie,function(ue,Te){var Je=ue.invoke(Te,ie),He=Te.def(ue.shared.strings,".id(",Je,")");return C.optional(function(){Te(ue.shared.shader,".shader(",Ox[R],",",He,",",ue.command,");")}),He})}return null}var I=z(lc),j=z(ac),k=null,O;return _s(I)&&_s(j)?(k=Ae.program(j.id,I.id,null,F),O=nn(function(R,q){return R.link(k)})):O=new vn(I&&I.thisDep||j&&j.thisDep,I&&I.contextDep||j&&j.contextDep,I&&I.propDep||j&&j.propDep,function(R,q){var Y=R.shared.shader,ie;I?ie=I.append(R,q):ie=q.def(Y,".",lc);var ue;j?ue=j.append(R,q):ue=q.def(Y,".",ac);var Te=Y+".program("+ue+","+ie;return C.optional(function(){Te+=","+R.command}),q.def(Te+")")}),{frag:I,vert:j,progVar:O,program:k}}function zt(P,_){var F=P.static,U=P.dynamic,X={},z=!1;function I(){if(cc in F){var ze=F[cc];return ze!==null&&Ee.getVAO(ze)===null&&(ze=Ee.createVAO(ze)),z=!0,X.vao=ze,nn(function(se){var Ue=Ee.getVAO(ze);return Ue?se.link(Ue):"null"})}else if(cc in U){z=!0;var de=U[cc];return sr(de,function(se,Ue){var je=se.invoke(Ue,de);return Ue.def(se.shared.vao+".getVAO("+je+")")})}return null}var j=I(),k=!1;function O(){if(xi in F){var ze=F[xi];if(X.elements=ze,Df(ze)){var de=X.elements=Q.create(ze,!0);ze=Q.getElements(de),k=!0}else ze&&(ze=Q.getElements(ze),k=!0,C.command(ze,"invalid elements",_.commandStr));var se=nn(function(je,Qe){if(ze){var $t=je.link(ze);return je.ELEMENTS=$t,$t}return je.ELEMENTS=null,null});return se.value=ze,se}else if(xi in U){k=!0;var Ue=U[xi];return sr(Ue,function(je,Qe){var $t=je.shared,Cn=$t.isBufferArgs,$i=$t.elements,Yo=je.invoke(Qe,Ue),Ao=Qe.def("null"),$s=Qe.def(Cn,"(",Yo,")"),Ai=je.cond($s).then(Ao,"=",$i,".createStream(",Yo,");").else(Ao,"=",$i,".getElements(",Yo,");");return C.optional(function(){je.assert(Ai.else,"!"+Yo+"||"+Ao,"invalid elements")}),Qe.entry(Ai),Qe.exit(je.cond($s).then($i,".destroyStream(",Ao,");")),je.ELEMENTS=Ao,Ao})}else if(z)return new vn(j.thisDep,j.contextDep,j.propDep,function(je,Qe){return Qe.def(je.shared.vao+".currentVAO?"+je.shared.elements+".getElements("+je.shared.vao+".currentVAO.elements):null")});return null}var R=O();function q(){if(bi in F){var ze=F[bi];return X.primitive=ze,C.commandParameter(ze,xs,"invalid primitve",_.commandStr),nn(function(se,Ue){return xs[ze]})}else if(bi in U){var de=U[bi];return sr(de,function(se,Ue){var je=se.constants.primTypes,Qe=se.invoke(Ue,de);return C.optional(function(){se.assert(Ue,Qe+" in "+je,"invalid primitive, must be one of "+Object.keys(xs))}),Ue.def(je,"[",Qe,"]")})}else{if(k)return _s(R)?R.value?nn(function(se,Ue){return Ue.def(se.ELEMENTS,".primType")}):nn(function(){return H1}):new vn(R.thisDep,R.contextDep,R.propDep,function(se,Ue){var je=se.ELEMENTS;return Ue.def(je,"?",je,".primType:",H1)});if(z)return new vn(j.thisDep,j.contextDep,j.propDep,function(se,Ue){return Ue.def(se.shared.vao+".currentVAO?"+se.shared.vao+".currentVAO.primitive:"+H1)})}return null}function Y(ze,de){if(ze in F){var se=F[ze]|0;return de?X.offset=se:X.instances=se,C.command(!de||se>=0,"invalid "+ze,_.commandStr),nn(function(je,Qe){return de&&(je.OFFSET=se),se})}else if(ze in U){var Ue=U[ze];return sr(Ue,function(je,Qe){var $t=je.invoke(Qe,Ue);return de&&(je.OFFSET=$t,C.optional(function(){je.assert(Qe,$t+">=0","invalid "+ze)})),$t})}else if(de){if(k)return nn(function(je,Qe){return je.OFFSET=0,0});if(z)return new vn(j.thisDep,j.contextDep,j.propDep,function(je,Qe){return Qe.def(je.shared.vao+".currentVAO?"+je.shared.vao+".currentVAO.offset:0")})}else if(z)return new vn(j.thisDep,j.contextDep,j.propDep,function(je,Qe){return Qe.def(je.shared.vao+".currentVAO?"+je.shared.vao+".currentVAO.instances:-1")});return null}var ie=Y(Af,!0);function ue(){if(Si in F){var ze=F[Si]|0;return X.count=ze,C.command(typeof ze=="number"&&ze>=0,"invalid vertex count",_.commandStr),nn(function(){return ze})}else if(Si in U){var de=U[Si];return sr(de,function(Qe,$t){var Cn=Qe.invoke($t,de);return C.optional(function(){Qe.assert($t,"typeof "+Cn+'==="number"&&'+Cn+">=0&&"+Cn+"===("+Cn+"|0)","invalid vertex count")}),Cn})}else if(k)if(_s(R)){if(R)return ie?new vn(ie.thisDep,ie.contextDep,ie.propDep,function(Qe,$t){var Cn=$t.def(Qe.ELEMENTS,".vertCount-",Qe.OFFSET);return C.optional(function(){Qe.assert($t,Cn+">=0","invalid vertex offset/element buffer too small")}),Cn}):nn(function(Qe,$t){return $t.def(Qe.ELEMENTS,".vertCount")});var se=nn(function(){return-1});return C.optional(function(){se.MISSING=!0}),se}else{var Ue=new vn(R.thisDep||ie.thisDep,R.contextDep||ie.contextDep,R.propDep||ie.propDep,function(Qe,$t){var Cn=Qe.ELEMENTS;return Qe.OFFSET?$t.def(Cn,"?",Cn,".vertCount-",Qe.OFFSET,":-1"):$t.def(Cn,"?",Cn,".vertCount:-1")});return C.optional(function(){Ue.DYNAMIC=!0}),Ue}else if(z){var je=new vn(j.thisDep,j.contextDep,j.propDep,function(Qe,$t){return $t.def(Qe.shared.vao,".currentVAO?",Qe.shared.vao,".currentVAO.count:-1")});return je}return null}var Te=q(),Je=ue(),He=Y(Tf,!1);return{elements:R,primitive:Te,count:Je,instances:He,offset:ie,vao:j,vaoActive:z,elementsActive:k,static:X}}function Gt(P,_){var F=P.static,U=P.dynamic,X={};return We.forEach(function(z){var I=Ge(z);function j(k,O){if(z in F){var R=k(F[z]);X[I]=nn(function(){return R})}else if(z in U){var q=U[z];X[I]=sr(q,function(Y,ie){return O(Y,ie,Y.invoke(ie,q))})}}switch(z){case mx:case cx:case lx:case xx:case fx:case Sx:case gx:case yx:case wx:case px:return j(function(k){return C.commandType(k,"boolean",z,_.commandStr),k},function(k,O,R){return C.optional(function(){k.assert(O,"typeof "+R+'==="boolean"',"invalid flag "+z,k.commandStr)}),R});case dx:return j(function(k){return C.commandParameter(k,ba,"invalid "+z,_.commandStr),ba[k]},function(k,O,R){var q=k.constants.compareFuncs;return C.optional(function(){k.assert(O,R+" in "+q,"invalid "+z+", must be one of "+Object.keys(ba))}),O.def(q,"[",R,"]")});case hx:return j(function(k){return C.command(It(k)&&k.length===2&&typeof k[0]=="number"&&typeof k[1]=="number"&&k[0]<=k[1],"depth range is 2d array",_.commandStr),k},function(k,O,R){C.optional(function(){k.assert(O,k.shared.isArrayLike+"("+R+")&&"+R+".length===2&&typeof "+R+'[0]==="number"&&typeof '+R+'[1]==="number"&&'+R+"[0]<="+R+"[1]","depth range must be a 2d array")});var q=O.def("+",R,"[0]"),Y=O.def("+",R,"[1]");return[q,Y]});case R1:return j(function(k){C.commandType(k,"object","blend.func",_.commandStr);var O="srcRGB"in k?k.srcRGB:k.src,R="srcAlpha"in k?k.srcAlpha:k.src,q="dstRGB"in k?k.dstRGB:k.dst,Y="dstAlpha"in k?k.dstAlpha:k.dst;return C.commandParameter(O,_o,I+".srcRGB",_.commandStr),C.commandParameter(R,_o,I+".srcAlpha",_.commandStr),C.commandParameter(q,_o,I+".dstRGB",_.commandStr),C.commandParameter(Y,_o,I+".dstAlpha",_.commandStr),C.command(Nx.indexOf(O+", "+q)===-1,"unallowed blending combination (srcRGB, dstRGB) = ("+O+", "+q+")",_.commandStr),[_o[O],_o[q],_o[R],_o[Y]]},function(k,O,R){var q=k.constants.blendFuncs;C.optional(function(){k.assert(O,R+"&&typeof "+R+'==="object"',"invalid blend func, must be an object")});function Y(de,se){var Ue=O.def('"',de,se,'" in ',R,"?",R,".",de,se,":",R,".",de);return C.optional(function(){k.assert(O,Ue+" in "+q,"invalid "+z+"."+de+se+", must be one of "+Object.keys(_o))}),Ue}var ie=Y("src","RGB"),ue=Y("dst","RGB");C.optional(function(){var de=k.constants.invalidBlendCombinations;k.assert(O,de+".indexOf("+ie+'+", "+'+ue+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")});var Te=O.def(q,"[",ie,"]"),Je=O.def(q,"[",Y("src","Alpha"),"]"),He=O.def(q,"[",ue,"]"),ze=O.def(q,"[",Y("dst","Alpha"),"]");return[Te,He,Je,ze]});case k1:return j(function(k){if(typeof k=="string")return C.commandParameter(k,ne,"invalid "+z,_.commandStr),[ne[k],ne[k]];if(typeof k=="object")return C.commandParameter(k.rgb,ne,z+".rgb",_.commandStr),C.commandParameter(k.alpha,ne,z+".alpha",_.commandStr),[ne[k.rgb],ne[k.alpha]];C.commandRaise("invalid blend.equation",_.commandStr)},function(k,O,R){var q=k.constants.blendEquations,Y=O.def(),ie=O.def(),ue=k.cond("typeof ",R,'==="string"');return C.optional(function(){function Te(Je,He,ze){k.assert(Je,ze+" in "+q,"invalid "+He+", must be one of "+Object.keys(ne))}Te(ue.then,z,R),k.assert(ue.else,R+"&&typeof "+R+'==="object"',"invalid "+z),Te(ue.else,z+".rgb",R+".rgb"),Te(ue.else,z+".alpha",R+".alpha")}),ue.then(Y,"=",ie,"=",q,"[",R,"];"),ue.else(Y,"=",q,"[",R,".rgb];",ie,"=",q,"[",R,".alpha];"),O(ue),[Y,ie]});case ux:return j(function(k){return C.command(It(k)&&k.length===4,"blend.color must be a 4d array",_.commandStr),wr(4,function(O){return+k[O]})},function(k,O,R){return C.optional(function(){k.assert(O,k.shared.isArrayLike+"("+R+")&&"+R+".length===4","blend.color must be a 4d array")}),wr(4,function(q){return O.def("+",R,"[",q,"]")})});case bx:return j(function(k){return C.commandType(k,"number",I,_.commandStr),k|0},function(k,O,R){return C.optional(function(){k.assert(O,"typeof "+R+'==="number"',"invalid stencil.mask")}),O.def(R,"|0")});case D1:return j(function(k){C.commandType(k,"object",I,_.commandStr);var O=k.cmp||"keep",R=k.ref||0,q="mask"in k?k.mask:-1;return C.commandParameter(O,ba,z+".cmp",_.commandStr),C.commandType(R,"number",z+".ref",_.commandStr),C.commandType(q,"number",z+".mask",_.commandStr),[ba[O],R,q]},function(k,O,R){var q=k.constants.compareFuncs;C.optional(function(){function Te(){k.assert(O,Array.prototype.join.call(arguments,""),"invalid stencil.func")}Te(R+"&&typeof ",R,'==="object"'),Te('!("cmp" in ',R,")||(",R,".cmp in ",q,")")});var Y=O.def('"cmp" in ',R,"?",q,"[",R,".cmp]",":",Ss),ie=O.def(R,".ref|0"),ue=O.def('"mask" in ',R,"?",R,".mask|0:-1");return[Y,ie,ue]});case I1:case sc:return j(function(k){C.commandType(k,"object",I,_.commandStr);var O=k.fail||"keep",R=k.zfail||"keep",q=k.zpass||"keep";return C.commandParameter(O,Es,z+".fail",_.commandStr),C.commandParameter(R,Es,z+".zfail",_.commandStr),C.commandParameter(q,Es,z+".zpass",_.commandStr),[z===sc?Ei:mc,Es[O],Es[R],Es[q]]},function(k,O,R){var q=k.constants.stencilOps;C.optional(function(){k.assert(O,R+"&&typeof "+R+'==="object"',"invalid "+z)});function Y(ie){return C.optional(function(){k.assert(O,'!("'+ie+'" in '+R+")||("+R+"."+ie+" in "+q+")","invalid "+z+"."+ie+", must be one of "+Object.keys(Es))}),O.def('"',ie,'" in ',R,"?",q,"[",R,".",ie,"]:",Ss)}return[z===sc?Ei:mc,Y("fail"),Y("zfail"),Y("zpass")]});case M1:return j(function(k){C.commandType(k,"object",I,_.commandStr);var O=k.factor|0,R=k.units|0;return C.commandType(O,"number",I+".factor",_.commandStr),C.commandType(R,"number",I+".units",_.commandStr),[O,R]},function(k,O,R){C.optional(function(){k.assert(O,R+"&&typeof "+R+'==="object"',"invalid "+z)});var q=O.def(R,".factor|0"),Y=O.def(R,".units|0");return[q,Y]});case vx:return j(function(k){var O=0;return k==="front"?O=mc:k==="back"&&(O=Ei),C.command(!!O,I,_.commandStr),O},function(k,O,R){return C.optional(function(){k.assert(O,R+'==="front"||'+R+'==="back"',"invalid cull.face")}),O.def(R,'==="front"?',mc,":",Ei)});case L1:return j(function(k){return C.command(typeof k=="number"&&k>=K.lineWidthDims[0]&&k<=K.lineWidthDims[1],"invalid line width, must be a positive number between "+K.lineWidthDims[0]+" and "+K.lineWidthDims[1],_.commandStr),k},function(k,O,R){return C.optional(function(){k.assert(O,"typeof "+R+'==="number"&&'+R+">="+K.lineWidthDims[0]+"&&"+R+"<="+K.lineWidthDims[1],"invalid line width")}),R});case O1:return j(function(k){return C.commandParameter(k,X1,I,_.commandStr),X1[k]},function(k,O,R){return C.optional(function(){k.assert(O,R+'==="cw"||'+R+'==="ccw"',"invalid frontFace, must be one of cw,ccw")}),O.def(R+'==="cw"?'+Tx+":"+W1)});case N1:return j(function(k){return C.command(It(k)&&k.length===4,"color.mask must be length 4 array",_.commandStr),k.map(function(O){return!!O})},function(k,O,R){return C.optional(function(){k.assert(O,k.shared.isArrayLike+"("+R+")&&"+R+".length===4","invalid color.mask")}),wr(4,function(q){return"!!"+R+"["+q+"]"})});case F1:return j(function(k){C.command(typeof k=="object"&&k,I,_.commandStr);var O="value"in k?k.value:1,R=!!k.invert;return C.command(typeof O=="number"&&O>=0&&O<=1,"sample.coverage.value must be a number between 0 and 1",_.commandStr),[O,R]},function(k,O,R){C.optional(function(){k.assert(O,R+"&&typeof "+R+'==="object"',"invalid sample.coverage")});var q=O.def('"value" in ',R,"?+",R,".value:1"),Y=O.def("!!",R,".invert");return[q,Y]})}}),X}function vt(P,_){var F=P.static,U=P.dynamic,X={};return Object.keys(F).forEach(function(z){var I=F[z],j;if(typeof I=="number"||typeof I=="boolean")j=nn(function(){return I});else if(typeof I=="function"){var k=I._reglType;k==="texture2d"||k==="textureCube"?j=nn(function(O){return O.link(I)}):k==="framebuffer"||k==="framebufferCube"?(C.command(I.color.length>0,'missing color attachment for framebuffer sent to uniform "'+z+'"',_.commandStr),j=nn(function(O){return O.link(I.color[0])})):C.commandRaise('invalid data for uniform "'+z+'"',_.commandStr)}else It(I)?j=nn(function(O){var R=O.global.def("[",wr(I.length,function(q){return C.command(typeof I[q]=="number"||typeof I[q]=="boolean","invalid uniform "+z,O.commandStr),I[q]}),"]");return R}):C.commandRaise('invalid or missing data for uniform "'+z+'"',_.commandStr);j.value=I,X[z]=j}),Object.keys(U).forEach(function(z){var I=U[z];X[z]=sr(I,function(j,k){return j.invoke(k,I)})}),X}function ln(P,_){var F=P.static,U=P.dynamic,X={};return Object.keys(F).forEach(function(z){var I=F[z],j=T.id(z),k=new H;if(Df(I))k.state=ga,k.buffer=le.getBuffer(le.create(I,xa,!1,!0)),k.type=0;else{var O=le.getBuffer(I);if(O)k.state=ga,k.buffer=O,k.type=0;else if(C.command(typeof I=="object"&&I,"invalid data for attribute "+z,_.commandStr),"constant"in I){var R=I.constant;k.buffer="null",k.state=$1,typeof R=="number"?k.x=R:(C.command(It(R)&&R.length>0&&R.length<=4,"invalid constant for attribute "+z,_.commandStr),va.forEach(function(He,ze){ze<R.length&&(k[He]=R[ze])}))}else{Df(I.buffer)?O=le.getBuffer(le.create(I.buffer,xa,!1,!0)):O=le.getBuffer(I.buffer),C.command(!!O,'missing buffer for attribute "'+z+'"',_.commandStr);var q=I.offset|0;C.command(q>=0,'invalid offset for attribute "'+z+'"',_.commandStr);var Y=I.stride|0;C.command(Y>=0&&Y<256,'invalid stride for attribute "'+z+'", must be integer betweeen [0, 255]',_.commandStr);var ie=I.size|0;C.command(!("size"in I)||ie>0&&ie<=4,'invalid size for attribute "'+z+'", must be 1,2,3,4',_.commandStr);var ue=!!I.normalized,Te=0;"type"in I&&(C.commandParameter(I.type,pi,"invalid type for attribute "+z,_.commandStr),Te=pi[I.type]);var Je=I.divisor|0;C.optional(function(){"divisor"in I&&(C.command(Je===0||be,'cannot specify divisor for attribute "'+z+'", instancing not supported',_.commandStr),C.command(Je>=0,'invalid divisor for attribute "'+z+'"',_.commandStr));var He=_.commandStr,ze=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(I).forEach(function(de){C.command(ze.indexOf(de)>=0,'unknown parameter "'+de+'" for attribute pointer "'+z+'" (valid parameters are '+ze+")",He)})}),k.buffer=O,k.state=ga,k.size=ie,k.normalized=ue,k.type=Te||O.dtype,k.offset=q,k.stride=Y,k.divisor=Je}}X[z]=nn(function(He,ze){var de=He.attribCache;if(j in de)return de[j];var se={isStream:!1};return Object.keys(k).forEach(function(Ue){se[Ue]=k[Ue]}),k.buffer&&(se.buffer=He.link(k.buffer),se.type=se.type||se.buffer+".dtype"),de[j]=se,se})}),Object.keys(U).forEach(function(z){var I=U[z];function j(k,O){var R=k.invoke(O,I),q=k.shared,Y=k.constants,ie=q.isBufferArgs,ue=q.buffer;C.optional(function(){k.assert(O,R+"&&(typeof "+R+'==="object"||typeof '+R+'==="function")&&('+ie+"("+R+")||"+ue+".getBuffer("+R+")||"+ue+".getBuffer("+R+".buffer)||"+ie+"("+R+'.buffer)||("constant" in '+R+"&&(typeof "+R+'.constant==="number"||'+q.isArrayLike+"("+R+".constant))))",'invalid dynamic attribute "'+z+'"')});var Te={isStream:O.def(!1)},Je=new H;Je.state=ga,Object.keys(Je).forEach(function(se){Te[se]=O.def(""+Je[se])});var He=Te.buffer,ze=Te.type;O("if(",ie,"(",R,")){",Te.isStream,"=true;",He,"=",ue,".createStream(",xa,",",R,");",ze,"=",He,".dtype;","}else{",He,"=",ue,".getBuffer(",R,");","if(",He,"){",ze,"=",He,".dtype;",'}else if("constant" in ',R,"){",Te.state,"=",$1,";","if(typeof "+R+'.constant === "number"){',Te[va[0]],"=",R,".constant;",va.slice(1).map(function(se){return Te[se]}).join("="),"=0;","}else{",va.map(function(se,Ue){return Te[se]+"="+R+".constant.length>"+Ue+"?"+R+".constant["+Ue+"]:0;"}).join(""),"}}else{","if(",ie,"(",R,".buffer)){",He,"=",ue,".createStream(",xa,",",R,".buffer);","}else{",He,"=",ue,".getBuffer(",R,".buffer);","}",ze,'="type" in ',R,"?",Y.glTypes,"[",R,".type]:",He,".dtype;",Te.normalized,"=!!",R,".normalized;");function de(se){O(Te[se],"=",R,".",se,"|0;")}return de("size"),de("offset"),de("stride"),de("divisor"),O("}}"),O.exit("if(",Te.isStream,"){",ue,".destroyStream(",He,");","}"),Te}X[z]=sr(I,j)}),X}function Ot(P){var _=P.static,F=P.dynamic,U={};return Object.keys(_).forEach(function(X){var z=_[X];U[X]=nn(function(I,j){return typeof z=="number"||typeof z=="boolean"?""+z:I.link(z)})}),Object.keys(F).forEach(function(X){var z=F[X];U[X]=sr(z,function(I,j){return I.invoke(j,z)})}),U}function rn(P,_,F,U,X){var z=P.static,I=P.dynamic;C.optional(function(){var de=[wi,ac,lc,xi,bi,Af,Si,Tf,ic,cc].concat(We);function se(Ue){Object.keys(Ue).forEach(function(je){C.command(de.indexOf(je)>=0,'unknown parameter "'+je+'"',X.commandStr)})}se(z),se(I)});var j=st(P,_),k=De(P),O=Ze(P,k,X),R=zt(P,X),q=Gt(P,X),Y=pt(P,X,j);function ie(de){var se=O[de];se&&(q[de]=se)}ie(Xo),ie(Ge($f));var ue=Object.keys(q).length>0,Te={framebuffer:k,draw:R,shader:Y,state:q,dirty:ue,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(Te.profile=Le(P),Te.uniforms=vt(F,X),Te.drawVAO=Te.scopeVAO=R.vao,!Te.drawVAO&&Y.program&&!j&&L.angle_instanced_arrays&&R.static.elements){var Je=!0,He=Y.program.attributes.map(function(de){var se=_.static[de];return Je=Je&&!!se,se});if(Je&&He.length>0){var ze=Ee.getVAO(Ee.createVAO({attributes:He,elements:R.static.elements}));Te.drawVAO=new vn(null,null,null,function(de,se){return de.link(ze)}),Te.useVAO=!0}}return j?Te.useVAO=!0:Te.attributes=ln(_,X),Te.context=Ot(U),Te}function cn(P,_,F){var U=P.shared,X=U.context,z=P.scope();Object.keys(F).forEach(function(I){_.save(X,"."+I);var j=F[I],k=j.append(P,_);Array.isArray(k)?z(X,".",I,"=[",k.join(),"];"):z(X,".",I,"=",k,";")}),_(z)}function un(P,_,F,U){var X=P.shared,z=X.gl,I=X.framebuffer,j;Ie&&(j=_.def(X.extensions,".webgl_draw_buffers"));var k=P.constants,O=k.drawBuffer,R=k.backBuffer,q;F?q=F.append(P,_):q=_.def(I,".next"),U||_("if(",q,"!==",I,".cur){"),_("if(",q,"){",z,".bindFramebuffer(",Rx,",",q,".framebuffer);"),Ie&&_(j,".drawBuffersWEBGL(",O,"[",q,".colorAttachments.length]);"),_("}else{",z,".bindFramebuffer(",Rx,",null);"),Ie&&_(j,".drawBuffersWEBGL(",R,");"),_("}",I,".cur=",q,";"),U||_("}")}function bn(P,_,F){var U=P.shared,X=U.gl,z=P.current,I=P.next,j=U.current,k=U.next,O=P.cond(j,".dirty");We.forEach(function(R){var q=Ge(R);if(!(q in F.state)){var Y,ie;if(q in I){Y=I[q],ie=z[q];var ue=wr(Fe[q].length,function(Je){return O.def(Y,"[",Je,"]")});O(P.cond(ue.map(function(Je,He){return Je+"!=="+ie+"["+He+"]"}).join("||")).then(X,".",ae[q],"(",ue,");",ue.map(function(Je,He){return ie+"["+He+"]="+Je}).join(";"),";"))}else{Y=O.def(k,".",q);var Te=P.cond(Y,"!==",j,".",q);O(Te),q in ce?Te(P.cond(Y).then(X,".enable(",ce[q],");").else(X,".disable(",ce[q],");"),j,".",q,"=",Y,";"):Te(X,".",ae[q],"(",Y,");",j,".",q,"=",Y,";")}}}),Object.keys(F.state).length===0&&O(j,".dirty=false;"),_(O)}function An(P,_,F,U){var X=P.shared,z=P.current,I=X.current,j=X.gl;Lx(Object.keys(F)).forEach(function(k){var O=F[k];if(!(U&&!U(O))){var R=O.append(P,_);if(ce[k]){var q=ce[k];_s(O)?R?_(j,".enable(",q,");"):_(j,".disable(",q,");"):_(P.cond(R).then(j,".enable(",q,");").else(j,".disable(",q,");")),_(I,".",k,"=",R,";")}else if(It(R)){var Y=z[k];_(j,".",ae[k],"(",R,");",R.map(function(ie,ue){return Y+"["+ue+"]="+ie}).join(";"),";")}else _(j,".",ae[k],"(",R,");",I,".",k,"=",R,";")}})}function Yt(P,_){be&&(P.instancing=_.def(P.shared.extensions,".angle_instanced_arrays"))}function lt(P,_,F,U,X){var z=P.shared,I=P.stats,j=z.current,k=z.timer,O=F.profile;function R(){return typeof performance>"u"?"Date.now()":"performance.now()"}var q,Y;function ie(de){q=_.def(),de(q,"=",R(),";"),typeof X=="string"?de(I,".count+=",X,";"):de(I,".count++;"),ye&&(U?(Y=_.def(),de(Y,"=",k,".getNumPendingQueries();")):de(k,".beginQuery(",I,");"))}function ue(de){de(I,".cpuTime+=",R(),"-",q,";"),ye&&(U?de(k,".pushScopeStats(",Y,",",k,".getNumPendingQueries(),",I,");"):de(k,".endQuery();"))}function Te(de){var se=_.def(j,".profile");_(j,".profile=",de,";"),_.exit(j,".profile=",se,";")}var Je;if(O){if(_s(O)){O.enable?(ie(_),ue(_.exit),Te("true")):Te("false");return}Je=O.append(P,_),Te(Je)}else Je=_.def(j,".profile");var He=P.block();ie(He),_("if(",Je,"){",He,"}");var ze=P.block();ue(ze),_.exit("if(",Je,"){",ze,"}")}function Tn(P,_,F,U,X){var z=P.shared;function I(k){switch(k){case Cf:case Rf:case Lf:return 2;case Pf:case Nf:case Mf:return 3;case kf:case Of:case Ff:return 4;default:return 1}}function j(k,O,R){var q=z.gl,Y=_.def(k,".location"),ie=_.def(z.attributes,"[",Y,"]"),ue=R.state,Te=R.buffer,Je=[R.x,R.y,R.z,R.w],He=["buffer","normalized","offset","stride"];function ze(){_("if(!",ie,".buffer){",q,".enableVertexAttribArray(",Y,");}");var se=R.type,Ue;if(R.size?Ue=_.def(R.size,"||",O):Ue=O,_("if(",ie,".type!==",se,"||",ie,".size!==",Ue,"||",He.map(function(Qe){return ie+"."+Qe+"!=="+R[Qe]}).join("||"),"){",q,".bindBuffer(",xa,",",Te,".buffer);",q,".vertexAttribPointer(",[Y,Ue,se,R.normalized,R.stride,R.offset],");",ie,".type=",se,";",ie,".size=",Ue,";",He.map(function(Qe){return ie+"."+Qe+"="+R[Qe]+";"}).join(""),"}"),be){var je=R.divisor;_("if(",ie,".divisor!==",je,"){",P.instancing,".vertexAttribDivisorANGLE(",[Y,je],");",ie,".divisor=",je,";}")}}function de(){_("if(",ie,".buffer){",q,".disableVertexAttribArray(",Y,");",ie,".buffer=null;","}if(",va.map(function(se,Ue){return ie+"."+se+"!=="+Je[Ue]}).join("||"),"){",q,".vertexAttrib4f(",Y,",",Je,");",va.map(function(se,Ue){return ie+"."+se+"="+Je[Ue]+";"}).join(""),"}")}ue===ga?ze():ue===$1?de():(_("if(",ue,"===",ga,"){"),ze(),_("}else{"),de(),_("}"))}U.forEach(function(k){var O=k.name,R=F.attributes[O],q;if(R){if(!X(R))return;q=R.append(P,_)}else{if(!X(Mx))return;var Y=P.scopeAttrib(O);C.optional(function(){P.assert(_,Y+".state","missing attribute "+O)}),q={},Object.keys(new H).forEach(function(ie){q[ie]=_.def(Y,".",ie)})}j(P.link(k),I(k.info.type),q)})}function Et(P,_,F,U,X,z){for(var I=P.shared,j=I.gl,k={},O,R=0;R<U.length;++R){var q=U[R],Y=q.name,ie=q.info.type,ue=q.info.size,Te=F.uniforms[Y];if(ue>1){if(!Te)continue;var Je=Y.replace("[0]","");if(k[Je])continue;k[Je]=1}var He=P.link(q),ze=He+".location",de;if(Te){if(!X(Te))continue;if(_s(Te)){var se=Te.value;if(C.command(se!==null&&typeof se<"u",'missing uniform "'+Y+'"',P.commandStr),ie===hc||ie===pc){C.command(typeof se=="function"&&(ie===hc&&(se._reglType==="texture2d"||se._reglType==="framebuffer")||ie===pc&&(se._reglType==="textureCube"||se._reglType==="framebufferCube")),"invalid texture for uniform "+Y,P.commandStr);var Ue=P.link(se._texture||se.color[0]._texture);_(j,".uniform1i(",ze,",",Ue+".bind());"),_.exit(Ue,".unbind();")}else if(ie===uc||ie===fc||ie===dc){C.optional(function(){C.command(It(se),"invalid matrix for uniform "+Y,P.commandStr),C.command(ie===uc&&se.length===4||ie===fc&&se.length===9||ie===dc&&se.length===16,"invalid length for matrix uniform "+Y,P.commandStr)});var je=P.global.def("new Float32Array(["+Array.prototype.slice.call(se)+"])"),Qe=2;ie===fc?Qe=3:ie===dc&&(Qe=4),_(j,".uniformMatrix",Qe,"fv(",ze,",false,",je,");")}else{switch(ie){case j1:ue===1?C.commandType(se,"number","uniform "+Y,P.commandStr):C.command(It(se)&&se.length===ue,"uniform "+Y,P.commandStr),O="1f";break;case Cf:C.command(It(se)&&se.length&&se.length%2===0&&se.length<=ue*2,"uniform "+Y,P.commandStr),O="2f";break;case Pf:C.command(It(se)&&se.length&&se.length%3===0&&se.length<=ue*3,"uniform "+Y,P.commandStr),O="3f";break;case kf:C.command(It(se)&&se.length&&se.length%4===0&&se.length<=ue*4,"uniform "+Y,P.commandStr),O="4f";break;case U1:ue===1?C.commandType(se,"boolean","uniform "+Y,P.commandStr):C.command(It(se)&&se.length===ue,"uniform "+Y,P.commandStr),O="1i";break;case V1:ue===1?C.commandType(se,"number","uniform "+Y,P.commandStr):C.command(It(se)&&se.length===ue,"uniform "+Y,P.commandStr),O="1i";break;case Lf:C.command(It(se)&&se.length&&se.length%2===0&&se.length<=ue*2,"uniform "+Y,P.commandStr),O="2i";break;case Rf:C.command(It(se)&&se.length&&se.length%2===0&&se.length<=ue*2,"uniform "+Y,P.commandStr),O="2i";break;case Mf:C.command(It(se)&&se.length&&se.length%3===0&&se.length<=ue*3,"uniform "+Y,P.commandStr),O="3i";break;case Nf:C.command(It(se)&&se.length&&se.length%3===0&&se.length<=ue*3,"uniform "+Y,P.commandStr),O="3i";break;case Ff:C.command(It(se)&&se.length&&se.length%4===0&&se.length<=ue*4,"uniform "+Y,P.commandStr),O="4i";break;case Of:C.command(It(se)&&se.length&&se.length%4===0&&se.length<=ue*4,"uniform "+Y,P.commandStr),O="4i";break}ue>1?(O+="v",se=P.global.def("["+Array.prototype.slice.call(se)+"]")):se=It(se)?Array.prototype.slice.call(se):se,_(j,".uniform",O,"(",ze,",",se,");")}continue}else de=Te.append(P,_)}else{if(!X(Mx))continue;de=_.def(I.uniforms,"[",T.id(Y),"]")}ie===hc?(C(!Array.isArray(de),"must specify a scalar prop for textures"),_("if(",de,"&&",de,'._reglType==="framebuffer"){',de,"=",de,".color[0];","}")):ie===pc&&(C(!Array.isArray(de),"must specify a scalar prop for cube maps"),_("if(",de,"&&",de,'._reglType==="framebufferCube"){',de,"=",de,".color[0];","}")),C.optional(function(){function br(ir,If){P.assert(_,ir,'bad data or missing for uniform "'+Y+'".  '+If)}function Ti(ir,If){If===1&&C(!Array.isArray(de),"must not specify an array type for uniform"),br("Array.isArray("+de+") && typeof "+de+'[0]===" '+ir+'" || typeof '+de+'==="'+ir+'"',"invalid type, expected "+ir)}function zr(ir,If,zf){Array.isArray(de)?C(de.length&&de.length%ir===0&&de.length<=ir*zf,"must have length of "+(zf===1?"":"n * ")+ir):br(I.isArrayLike+"("+de+")&&"+de+".length && "+de+".length % "+ir+" === 0 && "+de+".length<="+ir*zf,"invalid vector, should have length of "+(zf===1?"":"n * ")+ir,P.commandStr)}function jx(ir){C(!Array.isArray(de),"must not specify a value type"),br("typeof "+de+'==="function"&&'+de+'._reglType==="texture'+(ir===Ax?"2d":"Cube")+'"',"invalid texture type",P.commandStr)}switch(ie){case V1:Ti("number",ue);break;case Rf:zr(2,"number",ue);break;case Nf:zr(3,"number",ue);break;case Of:zr(4,"number",ue);break;case j1:Ti("number",ue);break;case Cf:zr(2,"number",ue);break;case Pf:zr(3,"number",ue);break;case kf:zr(4,"number",ue);break;case U1:Ti("boolean",ue);break;case Lf:zr(2,"boolean",ue);break;case Mf:zr(3,"boolean",ue);break;case Ff:zr(4,"boolean",ue);break;case uc:zr(4,"number",ue);break;case fc:zr(9,"number",ue);break;case dc:zr(16,"number",ue);break;case hc:jx(Ax);break;case pc:jx(yR);break}});var $t=1;switch(ie){case hc:case pc:var Cn=_.def(de,"._texture");_(j,".uniform1i(",ze,",",Cn,".bind());"),_.exit(Cn,".unbind();");continue;case V1:case U1:O="1i";break;case Rf:case Lf:O="2i",$t=2;break;case Nf:case Mf:O="3i",$t=3;break;case Of:case Ff:O="4i",$t=4;break;case j1:O="1f";break;case Cf:O="2f",$t=2;break;case Pf:O="3f",$t=3;break;case kf:O="4f",$t=4;break;case uc:O="Matrix2fv";break;case fc:O="Matrix3fv";break;case dc:O="Matrix4fv";break}if(O.indexOf("Matrix")===-1&&ue>1&&(O+="v",$t=1),O.charAt(0)==="M"){_(j,".uniform",O,"(",ze,",");var $i=Math.pow(ie-uc+2,2),Yo=P.global.def("new Float32Array(",$i,")");Array.isArray(de)?_("false,(",wr($i,function(br){return Yo+"["+br+"]="+de[br]}),",",Yo,")"):_("false,(Array.isArray(",de,")||",de," instanceof Float32Array)?",de,":(",wr($i,function(br){return Yo+"["+br+"]="+de+"["+br+"]"}),",",Yo,")"),_(");")}else if($t>1){for(var Ao=[],$s=[],Ai=0;Ai<$t;++Ai)Array.isArray(de)?$s.push(de[Ai]):$s.push(_.def(de+"["+Ai+"]")),z&&Ao.push(_.def());z&&_("if(!",P.batchId,"||",Ao.map(function(br,Ti){return br+"!=="+$s[Ti]}).join("||"),"){",Ao.map(function(br,Ti){return br+"="+$s[Ti]+";"}).join("")),_(j,".uniform",O,"(",ze,",",$s.join(","),");"),z&&_("}")}else{if(C(!Array.isArray(de),"uniform value must not be an array"),z){var Gx=_.def();_("if(!",P.batchId,"||",Gx,"!==",de,"){",Gx,"=",de,";")}_(j,".uniform",O,"(",ze,",",de,");"),z&&_("}")}}}function Ye(P,_,F,U){var X=P.shared,z=X.gl,I=X.draw,j=U.draw;function k(){var Ue=j.elements,je,Qe=_;return Ue?((Ue.contextDep&&U.contextDynamic||Ue.propDep)&&(Qe=F),je=Ue.append(P,Qe),j.elementsActive&&Qe("if("+je+")"+z+".bindBuffer("+G1+","+je+".buffer.buffer);")):(je=Qe.def(),Qe(je,"=",I,".",xi,";","if(",je,"){",z,".bindBuffer(",G1,",",je,".buffer.buffer);}","else if(",X.vao,".currentVAO){",je,"=",P.shared.elements+".getElements("+X.vao,".currentVAO.elements);",he?"":"if("+je+")"+z+".bindBuffer("+G1+","+je+".buffer.buffer);","}")),je}function O(){var Ue=j.count,je,Qe=_;return Ue?((Ue.contextDep&&U.contextDynamic||Ue.propDep)&&(Qe=F),je=Ue.append(P,Qe),C.optional(function(){Ue.MISSING&&P.assert(_,"false","missing vertex count"),Ue.DYNAMIC&&P.assert(Qe,je+">=0","missing vertex count")})):(je=Qe.def(I,".",Si),C.optional(function(){P.assert(Qe,je+">=0","missing vertex count")})),je}var R=k();function q(Ue){var je=j[Ue];return je?je.contextDep&&U.contextDynamic||je.propDep?je.append(P,F):je.append(P,_):_.def(I,".",Ue)}var Y=q(bi),ie=q(Af),ue=O();if(typeof ue=="number"){if(ue===0)return}else F("if(",ue,"){"),F.exit("}");var Te,Je;be&&(Te=q(Tf),Je=P.instancing);var He=R+".type",ze=j.elements&&_s(j.elements)&&!j.vaoActive;function de(){function Ue(){F(Je,".drawElementsInstancedANGLE(",[Y,ue,He,ie+"<<(("+He+"-"+sx+")>>1)",Te],");")}function je(){F(Je,".drawArraysInstancedANGLE(",[Y,ie,ue,Te],");")}R&&R!=="null"?ze?Ue():(F("if(",R,"){"),Ue(),F("}else{"),je(),F("}")):je()}function se(){function Ue(){F(z+".drawElements("+[Y,ue,He,ie+"<<(("+He+"-"+sx+")>>1)"]+");")}function je(){F(z+".drawArrays("+[Y,ie,ue]+");")}R&&R!=="null"?ze?Ue():(F("if(",R,"){"),Ue(),F("}else{"),je(),F("}")):je()}be&&(typeof Te!="number"||Te>=0)?typeof Te=="string"?(F("if(",Te,">0){"),de(),F("}else if(",Te,"<0){"),se(),F("}")):de():se()}function mt(P,_,F,U,X){var z=tt(),I=z.proc("body",X);return C.optional(function(){z.commandStr=_.commandStr,z.command=z.link(_.commandStr)}),be&&(z.instancing=I.def(z.shared.extensions,".angle_instanced_arrays")),P(z,I,F,U),z.compile().body}function wt(P,_,F,U){Yt(P,_),F.useVAO?F.drawVAO?_(P.shared.vao,".setVAO(",F.drawVAO.append(P,_),");"):_(P.shared.vao,".setVAO(",P.shared.vao,".targetVAO);"):(_(P.shared.vao,".setVAO(null);"),Tn(P,_,F,U.attributes,function(){return!0})),Et(P,_,F,U.uniforms,function(){return!0},!1),Ye(P,_,_,F)}function qt(P,_){var F=P.proc("draw",1);Yt(P,F),cn(P,F,_.context),un(P,F,_.framebuffer),bn(P,F,_),An(P,F,_.state),lt(P,F,_,!1,!0);var U=_.shader.progVar.append(P,F);if(F(P.shared.gl,".useProgram(",U,".program);"),_.shader.program)wt(P,F,_,_.shader.program);else{F(P.shared.vao,".setVAO(null);");var X=P.global.def("{}"),z=F.def(U,".id"),I=F.def(X,"[",z,"]");F(P.cond(I).then(I,".call(this,a0);").else(I,"=",X,"[",z,"]=",P.link(function(j){return mt(wt,P,_,j,1)}),"(",U,");",I,".call(this,a0);"))}Object.keys(_.state).length>0&&F(P.shared.current,".dirty=true;"),P.shared.vao&&F(P.shared.vao,".setVAO(null);")}function $o(P,_,F,U){P.batchId="a1",Yt(P,_);function X(){return!0}Tn(P,_,F,U.attributes,X),Et(P,_,F,U.uniforms,X,!1),Ye(P,_,_,F)}function _i(P,_,F,U){Yt(P,_);var X=F.contextDep,z=_.def(),I="a0",j="a1",k=_.def();P.shared.props=k,P.batchId=z;var O=P.scope(),R=P.scope();_(O.entry,"for(",z,"=0;",z,"<",j,";++",z,"){",k,"=",I,"[",z,"];",R,"}",O.exit);function q(He){return He.contextDep&&X||He.propDep}function Y(He){return!q(He)}if(F.needsContext&&cn(P,R,F.context),F.needsFramebuffer&&un(P,R,F.framebuffer),An(P,R,F.state,q),F.profile&&q(F.profile)&&lt(P,R,F,!1,!0),U)F.useVAO?F.drawVAO?q(F.drawVAO)?R(P.shared.vao,".setVAO(",F.drawVAO.append(P,R),");"):O(P.shared.vao,".setVAO(",F.drawVAO.append(P,O),");"):O(P.shared.vao,".setVAO(",P.shared.vao,".targetVAO);"):(O(P.shared.vao,".setVAO(null);"),Tn(P,O,F,U.attributes,Y),Tn(P,R,F,U.attributes,q)),Et(P,O,F,U.uniforms,Y,!1),Et(P,R,F,U.uniforms,q,!0),Ye(P,O,R,F);else{var ie=P.global.def("{}"),ue=F.shader.progVar.append(P,R),Te=R.def(ue,".id"),Je=R.def(ie,"[",Te,"]");R(P.shared.gl,".useProgram(",ue,".program);","if(!",Je,"){",Je,"=",ie,"[",Te,"]=",P.link(function(He){return mt($o,P,F,He,2)}),"(",ue,");}",Je,".call(this,a0[",z,"],",z,");")}}function N(P,_){var F=P.proc("batch",2);P.batchId="0",Yt(P,F);var U=!1,X=!0;Object.keys(_.context).forEach(function(ie){U=U||_.context[ie].propDep}),U||(cn(P,F,_.context),X=!1);var z=_.framebuffer,I=!1;z?(z.propDep?U=I=!0:z.contextDep&&U&&(I=!0),I||un(P,F,z)):un(P,F,null),_.state.viewport&&_.state.viewport.propDep&&(U=!0);function j(ie){return ie.contextDep&&U||ie.propDep}bn(P,F,_),An(P,F,_.state,function(ie){return!j(ie)}),(!_.profile||!j(_.profile))&&lt(P,F,_,!1,"a1"),_.contextDep=U,_.needsContext=X,_.needsFramebuffer=I;var k=_.shader.progVar;if(k.contextDep&&U||k.propDep)_i(P,F,_,null);else{var O=k.append(P,F);if(F(P.shared.gl,".useProgram(",O,".program);"),_.shader.program)_i(P,F,_,_.shader.program);else{F(P.shared.vao,".setVAO(null);");var R=P.global.def("{}"),q=F.def(O,".id"),Y=F.def(R,"[",q,"]");F(P.cond(Y).then(Y,".call(this,a0,a1);").else(Y,"=",R,"[",q,"]=",P.link(function(ie){return mt(_i,P,_,ie,2)}),"(",O,");",Y,".call(this,a0,a1);"))}}Object.keys(_.state).length>0&&F(P.shared.current,".dirty=true;"),P.shared.vao&&F(P.shared.vao,".setVAO(null);")}function J(P,_){var F=P.proc("scope",3);P.batchId="a2";var U=P.shared,X=U.current;cn(P,F,_.context),_.framebuffer&&_.framebuffer.append(P,F),Lx(Object.keys(_.state)).forEach(function(I){var j=_.state[I],k=j.append(P,F);It(k)?k.forEach(function(O,R){F.set(P.next[I],"["+R+"]",O)}):F.set(U.next,"."+I,k)}),lt(P,F,_,!0,!0),[xi,Af,Si,Tf,bi].forEach(function(I){var j=_.draw[I];j&&F.set(U.draw,"."+I,""+j.append(P,F))}),Object.keys(_.uniforms).forEach(function(I){var j=_.uniforms[I].append(P,F);Array.isArray(j)&&(j="["+j.join()+"]"),F.set(U.uniforms,"["+T.id(I)+"]",j)}),Object.keys(_.attributes).forEach(function(I){var j=_.attributes[I].append(P,F),k=P.scopeAttrib(I);Object.keys(new H).forEach(function(O){F.set(k,"."+O,j[O])})}),_.scopeVAO&&F.set(U.vao,".targetVAO",_.scopeVAO.append(P,F));function z(I){var j=_.shader[I];j&&F.set(U.shader,"."+I,j.append(P,F))}z(ac),z(lc),Object.keys(_.state).length>0&&(F(X,".dirty=true;"),F.exit(X,".dirty=true;")),F("a1(",P.shared.context,",a0,",P.batchId,");")}function Z(P){if(!(typeof P!="object"||It(P))){for(var _=Object.keys(P),F=0;F<_.length;++F)if(yr.isDynamic(P[_[F]]))return!0;return!1}}function Be(P,_,F){var U=_.static[F];if(!U||!Z(U))return;var X=P.global,z=Object.keys(U),I=!1,j=!1,k=!1,O=P.global.def("{}");z.forEach(function(q){var Y=U[q];if(yr.isDynamic(Y)){typeof Y=="function"&&(Y=U[q]=yr.unbox(Y));var ie=sr(Y,null);I=I||ie.thisDep,k=k||ie.propDep,j=j||ie.contextDep}else{switch(X(O,".",q,"="),typeof Y){case"number":X(Y);break;case"string":X('"',Y,'"');break;case"object":Array.isArray(Y)&&X("[",Y.join(),"]");break;default:X(P.link(Y));break}X(";")}});function R(q,Y){z.forEach(function(ie){var ue=U[ie];if(yr.isDynamic(ue)){var Te=q.invoke(Y,ue);Y(O,".",ie,"=",Te,";")}})}_.dynamic[F]=new yr.DynamicVariable(_f,{thisDep:I,contextDep:j,propDep:k,ref:O,append:R}),delete _.static[F]}function ft(P,_,F,U,X){var z=tt();z.stats=z.link(X),Object.keys(_.static).forEach(function(j){Be(z,_,j)}),mR.forEach(function(j){Be(z,P,j)});var I=rn(P,_,F,U,z);return qt(z,I),J(z,I),N(z,I),r(z.compile(),{destroy:function(){I.shader.program.destroy()}})}return{next:Oe,current:Fe,procs:function(){var P=tt(),_=P.proc("poll"),F=P.proc("refresh"),U=P.block();_(U),F(U);var X=P.shared,z=X.gl,I=X.next,j=X.current;U(j,".dirty=false;"),un(P,_),un(P,F,null,!0);var k;be&&(k=P.link(be)),L.oes_vertex_array_object&&F(P.link(L.oes_vertex_array_object),".bindVertexArrayOES(null);");for(var O=0;O<K.maxAttributes;++O){var R=F.def(X.attributes,"[",O,"]"),q=P.cond(R,".buffer");q.then(z,".enableVertexAttribArray(",O,");",z,".bindBuffer(",xa,",",R,".buffer.buffer);",z,".vertexAttribPointer(",O,",",R,".size,",R,".type,",R,".normalized,",R,".stride,",R,".offset);").else(z,".disableVertexAttribArray(",O,");",z,".vertexAttrib4f(",O,",",R,".x,",R,".y,",R,".z,",R,".w);",R,".buffer=null;"),F(q),be&&F(k,".vertexAttribDivisorANGLE(",O,",",R,".divisor);")}return F(P.shared.vao,".currentVAO=null;",P.shared.vao,".setVAO(",P.shared.vao,".targetVAO);"),Object.keys(ce).forEach(function(Y){var ie=ce[Y],ue=U.def(I,".",Y),Te=P.block();Te("if(",ue,"){",z,".enable(",ie,")}else{",z,".disable(",ie,")}",j,".",Y,"=",ue,";"),F(Te),_("if(",ue,"!==",j,".",Y,"){",Te,"}")}),Object.keys(ae).forEach(function(Y){var ie=ae[Y],ue=Fe[Y],Te,Je,He=P.block();if(He(z,".",ie,"("),It(ue)){var ze=ue.length;Te=P.global.def(I,".",Y),Je=P.global.def(j,".",Y),He(wr(ze,function(de){return Te+"["+de+"]"}),");",wr(ze,function(de){return Je+"["+de+"]="+Te+"["+de+"];"}).join("")),_("if(",wr(ze,function(de){return Te+"["+de+"]!=="+Je+"["+de+"]"}).join("||"),"){",He,"}")}else Te=U.def(I,".",Y),Je=U.def(j,".",Y),He(Te,");",j,".",Y,"=",Te,";"),_("if(",Te,"!==",Je,"){",He,"}");F(He)}),P.compile()}(),compile:ft}}function LR(){return{vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0}}var MR=34918,FR=34919,Fx=35007,DR=function(x,T){if(!T.ext_disjoint_timer_query)return null;var L=[];function K(){return L.pop()||T.ext_disjoint_timer_query.createQueryEXT()}function le(be){L.push(be)}var Q=[];function re(be){var Ie=K();T.ext_disjoint_timer_query.beginQueryEXT(Fx,Ie),Q.push(Ie),ye(Q.length-1,Q.length,be)}function ge(){T.ext_disjoint_timer_query.endQueryEXT(Fx)}function ve(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var Ee=[];function Ae(){return Ee.pop()||new ve}function _e(be){Ee.push(be)}var Ce=[];function ye(be,Ie,he){var Fe=Ae();Fe.startQueryIndex=be,Fe.endQueryIndex=Ie,Fe.sum=0,Fe.stats=he,Ce.push(Fe)}var Se=[],H=[];function ne(){var be,Ie,he=Q.length;if(he!==0){H.length=Math.max(H.length,he+1),Se.length=Math.max(Se.length,he+1),Se[0]=0,H[0]=0;var Fe=0;for(be=0,Ie=0;Ie<Q.length;++Ie){var Oe=Q[Ie];T.ext_disjoint_timer_query.getQueryObjectEXT(Oe,FR)?(Fe+=T.ext_disjoint_timer_query.getQueryObjectEXT(Oe,MR),le(Oe)):Q[be++]=Oe,Se[Ie+1]=Fe,H[Ie+1]=be}for(Q.length=be,be=0,Ie=0;Ie<Ce.length;++Ie){var We=Ce[Ie],ce=We.startQueryIndex,ae=We.endQueryIndex;We.sum+=Se[ae]-Se[ce];var Ge=H[ce],Pe=H[ae];Pe===Ge?(We.stats.gpuTime+=We.sum/1e6,_e(We)):(We.startQueryIndex=Ge,We.endQueryIndex=Pe,Ce[be++]=We)}Ce.length=be}}return{beginQuery:re,endQuery:ge,pushScopeStats:ye,update:ne,getNumPendingQueries:function(){return Q.length},clear:function(){L.push.apply(L,Q);for(var be=0;be<L.length;be++)T.ext_disjoint_timer_query.deleteQueryEXT(L[be]);Q.length=0,L.length=0},restore:function(){Q.length=0,L.length=0}}},IR=16384,zR=256,BR=1024,GR=34962,Dx="webglcontextlost",Ix="webglcontextrestored",zx=1,jR=2,VR=3;function Bx(x,T){for(var L=0;L<x.length;++L)if(x[L]===T)return L;return-1}function UR(x){var T=jP(x);if(!T)return null;var L=T.gl,K=L.getContextAttributes(),le=L.isContextLost(),Q=VP(L,T);if(!Q)return null;var re=DP(),ge=LR(),ve=Q.extensions,Ee=DR(L,ve),Ae=Y2(),_e=L.drawingBufferWidth,Ce=L.drawingBufferHeight,ye={tick:0,time:0,viewportWidth:_e,viewportHeight:Ce,framebufferWidth:_e,framebufferHeight:Ce,drawingBufferWidth:_e,drawingBufferHeight:Ce,pixelRatio:T.pixelRatio},Se={},H={elements:null,primitive:4,count:-1,offset:0,instances:-1},ne=kk(L,ve),be=Wk(L,ge,T,Fe),Ie=o8(L,ve,be,ge),he=oR(L,ve,ne,ge,be,Ie,H);function Fe(Ye){return he.destroyBuffer(Ye)}var Oe=lR(L,re,ge,T),We=M8(L,ve,ne,function(){Ge.procs.poll()},ye,ge,T),ce=F8(L,ve,ne,ge,T),ae=nR(L,ve,ne,We,ce,ge),Ge=OR(L,re,ve,ne,be,Ie,We,ae,Se,he,Oe,H,ye,Ee,T),Pe=fR(L,ae,Ge.procs.poll,ye,K,ve,ne),we=Ge.next,ke=L.canvas,Re=[],ot=[],tt=[],Le=[T.onDestroy],De=null;function Ze(){if(Re.length===0){Ee&&Ee.update(),De=null;return}De=Qp.next(Ze),An();for(var Ye=Re.length-1;Ye>=0;--Ye){var mt=Re[Ye];mt&&mt(ye,null,0)}L.flush(),Ee&&Ee.update()}function st(){!De&&Re.length>0&&(De=Qp.next(Ze))}function pt(){De&&(Qp.cancel(Ze),De=null)}function zt(Ye){Ye.preventDefault(),le=!0,pt(),ot.forEach(function(mt){mt()})}function Gt(Ye){L.getError(),le=!1,Q.restore(),Oe.restore(),be.restore(),We.restore(),ce.restore(),ae.restore(),he.restore(),Ee&&Ee.restore(),Ge.procs.refresh(),st(),tt.forEach(function(mt){mt()})}ke&&(ke.addEventListener(Dx,zt,!1),ke.addEventListener(Ix,Gt,!1));function vt(){Re.length=0,pt(),ke&&(ke.removeEventListener(Dx,zt),ke.removeEventListener(Ix,Gt)),Oe.clear(),ae.clear(),ce.clear(),he.clear(),We.clear(),Ie.clear(),be.clear(),Ee&&Ee.clear(),Le.forEach(function(Ye){Ye()})}function ln(Ye){C(!!Ye,"invalid args to regl({...})"),C.type(Ye,"object","invalid args to regl({...})");function mt(X){var z=r({},X);delete z.uniforms,delete z.attributes,delete z.context,delete z.vao,"stencil"in z&&z.stencil.op&&(z.stencil.opBack=z.stencil.opFront=z.stencil.op,delete z.stencil.op);function I(j){if(j in z){var k=z[j];delete z[j],Object.keys(k).forEach(function(O){z[j+"."+O]=k[O]})}}return I("blend"),I("depth"),I("cull"),I("stencil"),I("polygonOffset"),I("scissor"),I("sample"),"vao"in X&&(z.vao=X.vao),z}function wt(X,z){var I={},j={};return Object.keys(X).forEach(function(k){var O=X[k];if(yr.isDynamic(O)){j[k]=yr.unbox(O,k);return}else if(z&&Array.isArray(O)){for(var R=0;R<O.length;++R)if(yr.isDynamic(O[R])){j[k]=yr.unbox(O,k);return}}I[k]=O}),{dynamic:j,static:I}}var qt=wt(Ye.context||{},!0),$o=wt(Ye.uniforms||{},!0),_i=wt(Ye.attributes||{},!1),N=wt(mt(Ye),!1),J={gpuTime:0,cpuTime:0,count:0},Z=Ge.compile(N,_i,$o,qt,J),Be=Z.draw,ft=Z.batch,P=Z.scope,_=[];function F(X){for(;_.length<X;)_.push(null);return _}function U(X,z){var I;if(le&&C.raise("context lost"),typeof X=="function")return P.call(this,null,X,0);if(typeof z=="function")if(typeof X=="number")for(I=0;I<X;++I)P.call(this,null,z,I);else if(Array.isArray(X))for(I=0;I<X.length;++I)P.call(this,X[I],z,I);else return P.call(this,X,z,0);else if(typeof X=="number"){if(X>0)return ft.call(this,F(X|0),X|0)}else if(Array.isArray(X)){if(X.length)return ft.call(this,X,X.length)}else return Be.call(this,X)}return r(U,{stats:J,destroy:function(){Z.destroy()}})}var Ot=ae.setFBO=ln({framebuffer:yr.define.call(null,zx,"framebuffer")});function rn(Ye,mt){var wt=0;Ge.procs.poll();var qt=mt.color;qt&&(L.clearColor(+qt[0]||0,+qt[1]||0,+qt[2]||0,+qt[3]||0),wt|=IR),"depth"in mt&&(L.clearDepth(+mt.depth),wt|=zR),"stencil"in mt&&(L.clearStencil(mt.stencil|0),wt|=BR),C(!!wt,"called regl.clear with no buffer specified"),L.clear(wt)}function cn(Ye){if(C(typeof Ye=="object"&&Ye,"regl.clear() takes an object as input"),"framebuffer"in Ye)if(Ye.framebuffer&&Ye.framebuffer_reglType==="framebufferCube")for(var mt=0;mt<6;++mt)Ot(r({framebuffer:Ye.framebuffer.faces[mt]},Ye),rn);else Ot(Ye,rn);else rn(null,Ye)}function un(Ye){C.type(Ye,"function","regl.frame() callback must be a function"),Re.push(Ye);function mt(){var wt=Bx(Re,Ye);C(wt>=0,"cannot cancel a frame twice");function qt(){var $o=Bx(Re,qt);Re[$o]=Re[Re.length-1],Re.length-=1,Re.length<=0&&pt()}Re[wt]=qt}return st(),{cancel:mt}}function bn(){var Ye=we.viewport,mt=we.scissor_box;Ye[0]=Ye[1]=mt[0]=mt[1]=0,ye.viewportWidth=ye.framebufferWidth=ye.drawingBufferWidth=Ye[2]=mt[2]=L.drawingBufferWidth,ye.viewportHeight=ye.framebufferHeight=ye.drawingBufferHeight=Ye[3]=mt[3]=L.drawingBufferHeight}function An(){ye.tick+=1,ye.time=lt(),bn(),Ge.procs.poll()}function Yt(){We.refresh(),bn(),Ge.procs.refresh(),Ee&&Ee.update()}function lt(){return(Y2()-Ae)/1e3}Yt();function Tn(Ye,mt){C.type(mt,"function","listener callback must be a function");var wt;switch(Ye){case"frame":return un(mt);case"lost":wt=ot;break;case"restore":wt=tt;break;case"destroy":wt=Le;break;default:C.raise("invalid event, must be one of frame,lost,restore,destroy")}return wt.push(mt),{cancel:function(){for(var qt=0;qt<wt.length;++qt)if(wt[qt]===mt){wt[qt]=wt[wt.length-1],wt.pop();return}}}}var Et=r(ln,{clear:cn,prop:yr.define.bind(null,zx),context:yr.define.bind(null,jR),this:yr.define.bind(null,VR),draw:ln({}),buffer:function(Ye){return be.create(Ye,GR,!1,!1)},elements:function(Ye){return Ie.create(Ye,!1)},texture:We.create2D,cube:We.createCube,renderbuffer:ce.create,framebuffer:ae.create,framebufferCube:ae.createCube,vao:he.createVAO,attributes:K,frame:un,on:Tn,limits:ne,hasExtension:function(Ye){return ne.extensions.indexOf(Ye.toLowerCase())>=0},read:Pe,destroy:vt,_gl:L,_refresh:Yt,poll:function(){An(),Ee&&Ee.update()},now:lt,stats:ge});return T.onDone(null,Et),Et}return UR})}(Am)),Am.exports}const Kae=Zae,Jae=Zp,ele=e=>{const n=Object.assign({},{},e.glOptions,{onDone:(i,a)=>{if(i)throw i}}),r=Qae()(n),o=new Map,s=i=>{i.rendering=Object.assign({},Jae,i.rendering),Kae(r)(i,a=>{r.clear({color:i.rendering.background,depth:1}),i.entities&&i.entities.sort((l,c)=>{const u="transparent"in l.visuals?l.visuals.transparent:!1,f="transparent"in c.visuals?c.visuals.transparent:!1;return u===f?0:u?1:-1}).forEach(l=>{const{visuals:c}=l;if(("show"in c?c.show:!0)&&c.drawCmd&&i.drawCommands[c.drawCmd]){let f;c.cacheId?f=o.get(c.cacheId):(c.cacheId=o.size,f=i.drawCommands[c.drawCmd](r,l),o.set(c.cacheId,f));const d={...l,...c,camera:i.camera};f(d)}})})};return function(a){r.poll(),s(a)}};var tle=ele,Tm,PE;function kE(){if(PE)return Tm;PE=1;const e=to;return Tm=(n,r={})=>{const o=[],s={visuals:{color:[0,0,1,1],fadeOut:!1},ticks:1,size:[16,16],centered:!1,lineWidth:2},i=Object.assign({},s.visuals,r.visuals||{}),{fadeOut:a,color:l}=i,{size:c,ticks:u,centered:f,lineWidth:d}=Object.assign({},s,r),h=c[0],v=c[1];if(f){const p=h*.5,g=v*.5,m=p%u,w=-p+m,y=-w,b=g%u,S=-g+b,E=-S,$=0;for(let A=w,B=0;A<=y;A+=u,B+=1)B%$!==0&&(o.push(S,A,0),o.push(E,A,0),o.push(S,A,0));for(let A=S,B=0;A<=E;A+=u,B+=1)B%$!==0&&(o.push(A,w,0),o.push(A,y,0),o.push(A,w,0))}else{for(let p=-h*.5;p<=h*.5;p+=u)o.push(-v*.5,p,0),o.push(v*.5,p,0),o.push(-v*.5,p,0);for(let p=-v*.5;p<=v*.5;p+=u)o.push(p,-h*.5,0),o.push(p,h*.5,0),o.push(p,-h*.5,0)}return n({vert:`precision mediump float;

    uniform float camNear, camFar;
    uniform mat4 model, view, projection;

    attribute vec3 position;
    varying vec3 fragNormal, fragPosition;
    varying vec4 worldPosition;

    void main() {
      fragPosition = position;
      worldPosition = model * vec4(position, 1);
      vec4 glPosition = projection * view * worldPosition;
      gl_Position = glPosition;
    }`,frag:`precision mediump float;
    uniform vec4 color;
    varying vec3 fragNormal, fragPosition;
    varying vec4 worldPosition;

    uniform vec4 fogColor;
    uniform bool fadeOut;
    void main() {
      float dist = .5;
      if(fadeOut){
        dist = distance( vec2(0.,0.), vec2(worldPosition.x, worldPosition.y));
        dist *= 0.0025;
        dist = sqrt(dist);
      }

      gl_FragColor = mix(color, fogColor, dist);
    }
    `,attributes:{position:n.buffer(o)},count:o.length/3,uniforms:{model:(p,g)=>g&&g.model?g.model:e.identity([]),color:(p,g)=>g&&g.color?g.color:l,fogColor:(p,g)=>g&&g.color?[g.color[0],g.color[1],g.color[2],0]:[l[0],l[1],l[2],0],fadeOut:(p,g)=>g&&g.fadeOut!==void 0?g.fadeOut:a},lineWidth:(p,g)=>Math.min(g&&g.lineWidth?g.lineWidth:d,n.limits.lineWidthDims[1]),primitive:"lines",cull:{enable:!0,face:"front"},polygonOffset:{enable:!0,offset:{factor:1,units:Math.random()*10}},blend:{enable:!0,func:{src:"src alpha",dst:"one minus src alpha"}}})},Tm}const nle=(e,t)=>{const n={size:[50,50],ticks:[10,1]},{size:r,ticks:o}=Object.assign({},n,t),s=kE()(e,{size:r,ticks:o[0]}),i=kE()(e,{size:r,ticks:o[1]});return l=>{s(l),i({color:l.subColor,fadeOut:l.fadeOut})}};var rle=nle;const Zn=to,ole=(e,t)=>{const n={xColor:[1,0,0,1],yColor:[0,1,0,1],zColor:[0,0,1,1],size:10,lineWidth:3,alwaysVisible:!0};let{size:r,xColor:o,yColor:s,zColor:i,lineWidth:a,alwaysVisible:l}=Object.assign({},n,t);a>e.limits.lineWidthDims[1]&&(a=e.limits.lineWidthDims[1]);const c=[0,0,0,r,0,0],u={frag:`precision mediump float;
    uniform vec4 color;
    void main() {
      gl_FragColor = color;
    }`,vert:`
    precision mediump float;
    attribute vec3 position;
    uniform mat4 model, view, projection;
    void main() {
      gl_Position = projection * view * model * vec4(position, 1);
    }`,uniforms:{model:(p,g)=>g&&g.model?g.model:Zn.identity([]),color:(p,g)=>g.color,angle:(p,g)=>g.angle},attributes:{position:c},count:c.length/3,primitive:"line loop",lineWidth:a,depth:{enable:!l}},f=Zn.identity([]),d=Zn.rotateZ(Zn.create(),Zn.identity([]),Math.PI/2),h=Zn.rotateY(Zn.create(),Zn.identity([]),-Math.PI/2),v=e(u);return p=>{const g={model:Zn.identity([])};return p=Object.assign({},g,p),v([{color:o,model:Zn.multiply(Zn.create(),p.model,f)},{color:s,model:Zn.multiply(Zn.create(),p.model,d)},{color:i,model:Zn.multiply(Zn.create(),p.model,h)}])}};var sle=ole,Cm,RE;function NE(){return RE||(RE=1,Cm={frag:`
precision mediump float;
varying vec3 surfaceNormal, surfacePosition;

uniform float ambientLightAmount;
uniform float diffuseLightAmount;
uniform float specularLightAmount;

uniform vec3 lightDirection;
uniform vec4 lightColor;
uniform vec3 opacity;
uniform float uMaterialShininess;

varying vec4 vColor;
uniform vec4 ucolor;
uniform float vColorToggler;

uniform vec2 printableArea;
vec4 errorColor = vec4(0.15, 0.15, 0.15, 0.3);//vec4(0.15, 0.15, 0.15, 0.3);
varying vec4 _worldSpacePosition;
varying float ambientAo;

void main () {
  vec4 depth = gl_FragCoord;
  vec4 endColor = vColor * vColorToggler + ucolor * (1.0 - vColorToggler);

  vec3 ambient = ambientLightAmount * endColor.rgb ; //ambientAo * 

  float diffuseWeight = dot(surfaceNormal, lightDirection);
  vec3 diffuse = diffuseLightAmount * endColor.rgb * clamp(diffuseWeight , 0.0, 1.0 );

  //specular
  
  vec4 specularColor = vec4(lightColor);
  vec3 eyeDirection = normalize(surfacePosition.xyz);
  vec3 reflectionDirection = reflect(-lightDirection, -surfaceNormal);
  float specularLightWeight = pow(max(dot(reflectionDirection, eyeDirection), 0.0), uMaterialShininess);
  vec3 specular = specularColor.rgb * specularLightWeight * specularLightAmount;

  gl_FragColor = vec4((ambient + diffuse + specular), endColor.a);
}
`,vert:`
precision mediump float;

uniform float camNear, camFar;
uniform mat4 model, view, projection, unormal;

attribute vec3 position, normal;
attribute vec4 color;

attribute float ao;
varying float ambientAo;

varying vec3 surfaceNormal, surfacePosition;
varying vec4 _worldSpacePosition;
varying vec4 vColor;

void main() {
  surfacePosition = (unormal * vec4(position, 1.0)).xyz;
  surfaceNormal = normalize((unormal * vec4(normal, 1.0)).xyz); //vec4 transformedNormal = uNormalMatrix * vec4(aVertexNormal, 1.0);
  vec4 worldSpacePosition = model * vec4(position, 1);
  _worldSpacePosition = worldSpacePosition;
  //gl_Position = projection * view * worldSpacePosition;

  vColor = color;

  //ambientAo = (1. - ao) * (0.5 * max(normal.x, 0.) + 0.5);

  vec4 glPosition = projection * view * model * vec4(position, 1);
  gl_Position = glPosition;
  //gl_Position = zBufferAdjust(glPosition, camNear, camFar);
}
`}),Cm}var Pm,OE;function LE(){return OE||(OE=1,Pm={vert:`
precision mediump float;

uniform float camNear, camFar;
uniform mat4 model, view, projection;

attribute vec3 position, normal;

varying vec3 surfaceNormal, surfacePosition;
varying vec4 _worldSpacePosition;

void main() {
  surfacePosition = position;
  surfaceNormal = normal;
  vec4 worldSpacePosition = model * vec4(position, 1);
  _worldSpacePosition = worldSpacePosition;

  vec4 glPosition = projection * view * model * vec4(position, 1);
  gl_Position = glPosition;
}
`,frag:`
precision mediump float;
varying vec3 surfaceNormal;
uniform float ambientLightAmount;
uniform float diffuseLightAmount;
uniform vec4 ucolor;
uniform vec3 lightDirection;
uniform vec3 opacity;

varying vec4 _worldSpacePosition;

uniform vec2 printableArea;

vec4 errorColor = vec4(0.15, 0.15, 0.15, 0.3);

void main () {
  vec4 depth = gl_FragCoord;

  float v = 0.8; // shadow value
  vec4 endColor = ucolor;

  vec3 ambient = ambientLightAmount * endColor.rgb;
  float cosTheta = dot(surfaceNormal, lightDirection);
  vec3 diffuse = diffuseLightAmount * endColor.rgb * clamp(cosTheta , 0.0, 1.0 );

  float cosTheta2 = dot(surfaceNormal, vec3(-lightDirection.x, -lightDirection.y, lightDirection.z));
  vec3 diffuse2 = diffuseLightAmount * endColor.rgb * clamp(cosTheta2 , 0.0, 1.0 );

  gl_FragColor = vec4((ambient + diffuse + diffuse2 * v), endColor.a);
}`}),Pm}const Ls=to,{meshColor:ile}=Zp,ale=(e,t={extras:{}})=>{const n={useVertexColors:!0,dynamicCulling:!0,geometry:void 0,color:ile,visuals:{}},{geometry:r,dynamicCulling:o,useVertexColors:s,color:i,visuals:a}=Object.assign({},n,t),l=e.buffer([]),c=!!(r.indices&&r.indices.length>0),u=!!(r.normals&&r.normals.length>0),f="transparent"in a?a.transparent:!1,d=!!(s&&r.colors&&r.colors.length>0),h=r.transforms||Ls.create(),v=Ls.determinant(h)<0,p=o&&v?"front":"back",g=d?NE().vert:LE().vert,m=d?NE().frag:LE().frag,w=Ls.invert(Ls.create(),h);let y={primitive:"triangles",vert:g,frag:m,uniforms:{model:(b,S)=>h,ucolor:(b,S)=>S&&S.color?S.color:i,vColorToggler:(b,S)=>S&&S.useVertexColors&&S.useVertexColors===!0?1:0,unormal:(b,S)=>{const E=Ls.invert(Ls.create(),S.camera.view);return Ls.multiply(E,w,E),Ls.transpose(E,E),E}},attributes:{position:e.buffer({usage:"static",type:"float",data:r.positions}),ao:l},cull:{enable:!0,face:p}};return f&&(y.blend={enable:!0,func:{src:"src alpha",dst:"one minus src alpha"}}),r.cells?y.elements=r.cells:c?y.elements=e.elements({usage:"static",type:"uint16",data:r.indices}):r.triangles?y.elements=r.triangles:y.count=r.positions.length/3,u&&(y.attributes.normal=e.buffer({usage:"static",type:"float",data:r.normals})),d&&(y.attributes.color=e.buffer({usage:"static",type:"float",data:r.colors})),y=Object.assign({},y,t.extras),e(y)};var lle=ale,km,ME;function FE(){return ME||(ME=1,km={frag:`
precision mediump float;
varying vec4 vColor;

void main () {
  gl_FragColor = vColor;
}
`,vert:`
precision mediump float;

uniform float camNear, camFar;
uniform mat4 model, view, projection;

attribute vec3 position, normal;
attribute vec4 color;

varying vec3 surfaceNormal, surfacePosition;
varying vec4 _worldSpacePosition;
varying vec4 vColor;

void main() {
  vColor = color;

  surfacePosition = position;
  surfaceNormal = normal;
  vec4 worldSpacePosition = model * vec4(position, 1);
  _worldSpacePosition = worldSpacePosition;

  vec4 glPosition = projection * view * model * vec4(position, 1);
  gl_Position = glPosition;
}
`}),km}var Rm,DE;function cle(){return DE||(DE=1,Rm={vert:`
precision mediump float;

uniform float camNear, camFar;
uniform mat4 model, view, projection;

attribute vec3 position, normal;


varying vec3 surfaceNormal, surfacePosition;
varying vec4 _worldSpacePosition;


void main() {


  surfacePosition = position;
  surfaceNormal = normal;
  vec4 worldSpacePosition = model * vec4(position, 1);
  _worldSpacePosition = worldSpacePosition;

  vec4 glPosition = projection * view * model * vec4(position, 1);
  gl_Position = glPosition;
}
`,frag:`
precision mediump float;
varying vec3 surfaceNormal;
uniform float ambientLightAmount;
uniform float diffuseLightAmount;
uniform vec4 ucolor;
uniform vec3 lightDirection;
uniform vec3 opacity;

varying vec4 _worldSpacePosition;

uniform vec2 printableArea;

vec4 errorColor = vec4(0.15, 0.15, 0.15, 0.3);

void main () {
  vec4 depth = gl_FragCoord;

  float v = 0.8; // shadow value
  vec4 endColor = ucolor;

  vec3 ambient = ambientLightAmount * endColor.rgb;
  float cosTheta = dot(surfaceNormal, lightDirection);
  vec3 diffuse = diffuseLightAmount * endColor.rgb * clamp(cosTheta , 0.0, 1.0 );

  float cosTheta2 = dot(surfaceNormal, vec3(-lightDirection.x, -lightDirection.y, lightDirection.z));
  vec3 diffuse2 = diffuseLightAmount * endColor.rgb * clamp(cosTheta2 , 0.0, 1.0 );

  gl_FragColor = vec4((ambient + diffuse + diffuse2 * v), endColor.a);
}`}),Rm}var Nm,IE;function ule(){return IE||(IE=1,Nm={frag:`
precision mediump float;
uniform vec4 ucolor;

void main () {
  gl_FragColor = ucolor;
}
`}),Nm}const fle=to,{meshColor:dle}=Zp,hle=(e,t={})=>{const n={color:dle,geometry:void 0};let{geometry:r,color:o,transparent:s}=Object.assign({},n,t);"color"in r&&(o=r.color);const i=!!(r.indices&&r.indices.length>0),a=!!(r.normals&&r.normals.length>0),l=!!(r.colors&&r.colors.length>0),c=l?FE().vert:cle().vert,u=l?FE().frag:ule().frag,f={primitive:"lines",vert:c,frag:u,uniforms:{model:(d,h)=>h.model||r.transforms||fle.create(),ucolor:(d,h)=>h&&h.color?h.color:o},attributes:{position:e.buffer({usage:"static",type:"float",data:r.positions})}};return s&&(f.blend={enable:!0,func:{src:"src alpha",dst:"one minus src alpha"}}),l&&(f.attributes.color=e.buffer({usage:"static",type:"float",data:r.colors})),i&&(f.elements=e.elements({usage:"static",type:"uint16",data:r.indices})),a&&(f.attributes.normal=e.buffer({usage:"static",type:"float",data:r.normals})),e(f)};var ple=hle,xP=1e-6,bP=mle;function mle(){var e=new Float32Array(3);return e[0]=0,e[1]=0,e[2]=0,e}var vle=gle;function gle(e){var t=new Float32Array(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}var SP=yle;function yle(e,t,n){var r=new Float32Array(3);return r[0]=e,r[1]=t,r[2]=n,r}var EP=wle;function wle(e,t){var n=t[0],r=t[1],o=t[2],s=n*n+r*r+o*o;return s>0&&(s=1/Math.sqrt(s),e[0]=t[0]*s,e[1]=t[1]*s,e[2]=t[2]*s),e}var _P=xle;function xle(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}var ble=Ele,zE=SP,BE=EP,Sle=_P;function Ele(e,t){var n=zE(e[0],e[1],e[2]),r=zE(t[0],t[1],t[2]);BE(n,n),BE(r,r);var o=Sle(n,r);return o>1?0:Math.acos(o)}var _le=$le;function $le(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}var Ale=Tle;function Tle(e,t,n,r){return e[0]=t,e[1]=n,e[2]=r,e}var Cle=Ple,Om=xP;function Ple(e,t){var n=e[0],r=e[1],o=e[2],s=t[0],i=t[1],a=t[2];return Math.abs(n-s)<=Om*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(r-i)<=Om*Math.max(1,Math.abs(r),Math.abs(i))&&Math.abs(o-a)<=Om*Math.max(1,Math.abs(o),Math.abs(a))}var kle=Rle;function Rle(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}var Nle=Ole;function Ole(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}var $P=Lle;function Lle(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}var Mle=$P,AP=Fle;function Fle(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e}var Dle=AP,TP=Ile;function Ile(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e}var zle=TP,Ble=Gle;function Gle(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e}var jle=Vle;function Vle(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e}var Ule=Hle;function Hle(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e}var Wle=Xle;function Xle(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e}var Yle=qle;function qle(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e}var Zle=Qle;function Qle(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e}var Kle=Jle;function Jle(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e}var CP=ece;function ece(e,t){var n=t[0]-e[0],r=t[1]-e[1],o=t[2]-e[2];return Math.sqrt(n*n+r*r+o*o)}var tce=CP,PP=nce;function nce(e,t){var n=t[0]-e[0],r=t[1]-e[1],o=t[2]-e[2];return n*n+r*r+o*o}var rce=PP,kP=oce;function oce(e){var t=e[0],n=e[1],r=e[2];return Math.sqrt(t*t+n*n+r*r)}var sce=kP,RP=ice;function ice(e){var t=e[0],n=e[1],r=e[2];return t*t+n*n+r*r}var ace=RP,lce=cce;function cce(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}var uce=fce;function fce(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e}var dce=hce;function hce(e,t,n){var r=t[0],o=t[1],s=t[2],i=n[0],a=n[1],l=n[2];return e[0]=o*l-s*a,e[1]=s*i-r*l,e[2]=r*a-o*i,e}var pce=mce;function mce(e,t,n,r){var o=t[0],s=t[1],i=t[2];return e[0]=o+r*(n[0]-o),e[1]=s+r*(n[1]-s),e[2]=i+r*(n[2]-i),e}var vce=gce;function gce(e,t){t=t||1;var n=Math.random()*2*Math.PI,r=Math.random()*2-1,o=Math.sqrt(1-r*r)*t;return e[0]=Math.cos(n)*o,e[1]=Math.sin(n)*o,e[2]=r*t,e}var yce=wce;function wce(e,t,n){var r=t[0],o=t[1],s=t[2],i=n[3]*r+n[7]*o+n[11]*s+n[15];return i=i||1,e[0]=(n[0]*r+n[4]*o+n[8]*s+n[12])/i,e[1]=(n[1]*r+n[5]*o+n[9]*s+n[13])/i,e[2]=(n[2]*r+n[6]*o+n[10]*s+n[14])/i,e}var xce=bce;function bce(e,t,n){var r=t[0],o=t[1],s=t[2];return e[0]=r*n[0]+o*n[3]+s*n[6],e[1]=r*n[1]+o*n[4]+s*n[7],e[2]=r*n[2]+o*n[5]+s*n[8],e}var Sce=Ece;function Ece(e,t,n){var r=t[0],o=t[1],s=t[2],i=n[0],a=n[1],l=n[2],c=n[3],u=c*r+a*s-l*o,f=c*o+l*r-i*s,d=c*s+i*o-a*r,h=-i*r-a*o-l*s;return e[0]=u*c+h*-i+f*-l-d*-a,e[1]=f*c+h*-a+d*-i-u*-l,e[2]=d*c+h*-l+u*-a-f*-i,e}var _ce=$ce;function $ce(e,t,n,r){var o=n[1],s=n[2],i=t[1]-o,a=t[2]-s,l=Math.sin(r),c=Math.cos(r);return e[0]=t[0],e[1]=o+i*c-a*l,e[2]=s+i*l+a*c,e}var Ace=Tce;function Tce(e,t,n,r){var o=n[0],s=n[2],i=t[0]-o,a=t[2]-s,l=Math.sin(r),c=Math.cos(r);return e[0]=o+a*l+i*c,e[1]=t[1],e[2]=s+a*c-i*l,e}var Cce=Pce;function Pce(e,t,n,r){var o=n[0],s=n[1],i=t[0]-o,a=t[1]-s,l=Math.sin(r),c=Math.cos(r);return e[0]=o+i*c-a*l,e[1]=s+i*l+a*c,e[2]=t[2],e}var kce=Rce,Ms=bP();function Rce(e,t,n,r,o,s){var i,a;for(t||(t=3),n||(n=0),r?a=Math.min(r*t+n,e.length):a=e.length,i=n;i<a;i+=t)Ms[0]=e[i],Ms[1]=e[i+1],Ms[2]=e[i+2],o(Ms,Ms,s),e[i]=Ms[0],e[i+1]=Ms[1],e[i+2]=Ms[2];return e}var rf={EPSILON:xP,create:bP,clone:vle,angle:ble,fromValues:SP,copy:_le,set:Ale,equals:Cle,exactEquals:kle,add:Nle,subtract:$P,sub:Mle,multiply:AP,mul:Dle,divide:TP,div:zle,min:Ble,max:jle,floor:Ule,ceil:Wle,round:Yle,scale:Zle,scaleAndAdd:Kle,distance:CP,dist:tce,squaredDistance:PP,sqrDist:rce,length:kP,len:sce,squaredLength:RP,sqrLen:ace,negate:lce,inverse:uce,normalize:EP,dot:_P,cross:dce,lerp:pce,random:vce,transformMat4:yce,transformMat3:xce,transformQuat:Sce,rotateX:_ce,rotateY:Ace,rotateZ:Cce,forEach:kce};const Wi=to,Lm=rf,NP={view:Wi.identity(new Float32Array(16)),projection:Wi.identity(new Float32Array(16)),matrix:Wi.identity(new Float32Array(16)),near:1,far:18e3,up:[0,0,1],eye:new Float32Array(3),position:[450,550,700],target:[0,0,0],fov:Math.PI/4,aspect:1,viewport:[0,0,0,0],projectionType:"perspective"},OP={},Nce=Object.assign({},NP,OP),Oce=(e,t,n)=>{const r=n.width/n.height,o=Wi.perspective(Wi.identity([]),t.fov,r,t.near,t.far),s=[0,0,n.width,n.height],i=e||{};return i.projection=o,i.aspect=r,i.viewport=s,i},Lce=(e,t)=>{t||(t=e);const{position:n,target:r,up:o}=t,s=Lm.subtract([],n,r),i=Lm.add(Lm.create(),r,s),a=Wi.lookAt(Wi.create(),i,r,o),l=e||{};return l.position=i,l.view=a,l};var ug={cameraState:NP,cameraProps:OP,defaults:Nce,setProjection:Oce,update:Lce};const rh=to,Mce={view:rh.identity(new Float32Array(16)),projection:rh.identity(new Float32Array(16)),matrix:rh.identity(new Float32Array(16)),near:1,far:1300,up:[0,0,1],eye:new Float32Array(3),position:[150,250,200],target:[0,0,0],fov:Math.PI/4,aspect:1,viewport:[0,0,0,0],zoom:1,projectionType:"orthographic"},Fce={},Dce=(e,t)=>{const{width:n,height:r}=t,o=n/r,s=[0,0,n,r],i=e.zoom,a=-n*i,l=n*i,c=-r*i,u=r*i;return{projection:rh.ortho([],a,l,c,u,e.near,e.far),aspect:o,viewport:s}};var Kh={cameraState:Mce,cameraProps:Fce,setProjection:Dce};const cl=rf,Jh=to,Ice=e=>{const{near:t,far:n,fov:r,zoom:o}=e,{viewport:s}=e,i=ug.setProjection(e,{width:s[2],height:s[3]}),{projectionType:a}=ug.cameraState;return Object.assign({},e,i,{projectionType:a},{near:t,far:n,fov:r})},zce=e=>{const{fov:t,aspect:n}=e,r=cl.length(cl.subtract([],e.position,e.target))*.3,o=Math.tan(t)*r*n,s=Math.tan(t)*r,{near:i,far:a,viewport:l}=e,c={zoom:1,near:i,far:a},u=Kh.cameraState,f=Kh.setProjection(c,{width:o,height:s});return Object.assign({},u,e,f,{projectionType:u.projectionType,viewport:l})},Bce=({camera:e})=>{const n=cl.distance(e.position,e.target),r=[n,n,n];return{view:Jh.lookAt(Jh.create(),r,e.target,e.up),position:r}},Gce=(e,{camera:t})=>{const n={top:[0,-1e-6,1],bottom:[0,0,-1],front:[0,1,0],back:[0,-1,0],left:[-1,0,0],right:[1,0,0],undefined:[0,0,0]},r=cl.distance(t.position,t.target),o=cl.add(cl.create(),n[e].map(i=>i*r),t.target);return{view:Jh.lookAt(Jh.create(),o,t.target,t.up),position:o}};var jce={toPerspectiveView:Bce,toPresetView:Gce,fromOrthographicToPerspective:Ice,fromPerspectiveToOrthographic:zce};const Vce=e=>{if(e.length===0)return[[0,0,0],[0,0,0]];const t=Array.isArray(e)&&Array.isArray(e[0]),n=t?e[0].length:3,r=new Array(n),o=new Array(n);for(let s=0;s<n;s+=1)r[s]=1/0,o[s]=-1/0;if(t)e.forEach(s=>{for(let i=0;i<n;i+=1){const a=t?s[i]:s;o[i]=a>o[i]?a:o[i],r[i]=a<r[i]?a:r[i]}});else for(let s=0;s<e.length;s+=n)for(let i=0;i<n;i+=1){const a=e[i+s];o[i]=a>o[i]?a:o[i],r[i]=a<r[i]?a:r[i]}return[r,o]};var Uce=Vce;const $r=rf,{flatten:Hce}=U2,Wce=Uce,Xce=(...e)=>{e=Hce(e);let t;e.forEach(l=>{let c=Wce(l.positions);c=c.map(u=>$r.transformMat4(u,u,l.transforms)),t?($r.min(t[0],t[0],c[0]),$r.max(t[1],t[1],c[1])):t=c});const n=$r.min($r.create(),t[1],t[0]),r=$r.max($r.create(),t[1],t[0]),o=$r.subtract($r.create(),r,n);let s=$r.scale($r.create(),o,.5);return s=$r.add(s,n,s),{dia:$r.distance(s,r),center:[...s],min:[...n],max:[...r],size:[...o]}};var Yce=Xce,Mm,GE;function qce(){if(GE)return Mm;GE=1,Mm=e;function e(t,n,r){var o=n[0],s=n[1],i=n[2],a=r[0],l=r[1],c=r[2],u=r[3],f=r[4],d=r[5],h=r[6],v=r[7],p=r[8],g=r[9],m=r[10],w=r[11],y=r[12],b=r[13],S=r[14],E=r[15],$=1/(o*u+s*v+i*w+E);return t[0]=(o*a+s*f+i*p+y)*$,t[1]=(o*l+s*d+i*g+b)*$,t[2]=(o*c+s*h+i*m+S)*$,t}return Mm}var Fm,jE;function Zce(){if(jE)return Fm;jE=1;var e=qce();Fm=t;function t(n,r,o,s){var i=o[0],a=o[1],l=o[2],c=o[3],u=r[0],f=r[1],d=r[2];return u=u-i,f=c-f-1,f=f-a,n[0]=2*u/l-1,n[1]=2*f/c-1,n[2]=2*d-1,e(n,n,s)}return Fm}const Jn=rf,Ru=to,{max:Dm,min:Im,sqrt:VE,PI:Qce,sin:Da,cos:Od,atan2:Ld}=Math,Kce=Yce,H2={limits:{minDistance:.01,maxDistance:1e4},drag:.27,EPS:1e-6,zoomToFit:{auto:!0,targets:"all",tightness:1.5},userControl:{zoom:!0,zoomSpeed:1,rotate:!0,rotateSpeed:1,pan:!0,panSpeed:1},autoRotate:{enabled:!1,speed:1},autoAdjustPlanes:!0},LP={thetaDelta:0,phiDelta:0,scale:1},Jce=Object.assign({},LP,H2),eue=({controls:e,camera:t},n)=>{const{EPS:r,drag:o}=e,{position:s,target:i}=t,a=e.up?e.up:t.up;let l=e.thetaDelta;const c=e.phiDelta,u=e.scale,f=Jn.subtract([],s,i);let d,h;a[2]===1?(d=Ld(f[0],f[1]),h=Ld(VE(f[0]*f[0]+f[1]*f[1]),f[2])):(d=Ld(f[0],f[2]),h=Ld(VE(f[0]*f[0]+f[2]*f[2]),f[1])),e.autoRotate.enabled&&e.userControl.rotate&&(l+=2*Math.PI/60/60*e.autoRotate.speed),d+=l,h+=c,h=Dm(r,Im(Qce-r,h));const v=Dm(e.limits.minDistance,Im(e.limits.maxDistance,Jn.length(f)*u));a[2]===1?(f[0]=v*Da(h)*Da(d),f[2]=v*Od(h),f[1]=v*Da(h)*Od(d)):(f[0]=v*Da(h)*Da(d),f[1]=v*Od(h),f[2]=v*Da(h)*Od(d));const p=Jn.add(Jn.create(),i,f),g=Ru.lookAt(Ru.create(),p,i,a),m=1-Dm(Im(o,1),.01),w=Jn.distance(s,p)>.001;return{controls:{thetaDelta:l*m,phiDelta:c*m,scale:1,changed:w},camera:{position:p,view:g}}},tue=({controls:e,camera:t,speed:n=1},r)=>{let{thetaDelta:o,phiDelta:s}=e;return e.userControl.rotate&&(o+=r[0]*n,s+=r[1]*n),{controls:{thetaDelta:o,phiDelta:s},camera:t}},nue=({controls:e,camera:t,speed:n=1},r=0)=>{let{scale:o}=e;if(e.userControl.zoom&&t&&r!==void 0&&r!==0&&!isNaN(r)){const s=Math.sign(r)===0?1:Math.sign(r);r=r/r*s*n;const i=r+e.scale,a=Jn.distance(t.position,t.target)*i;if(a>e.limits.minDistance&&a<e.limits.maxDistance&&(o+=r),t.projectionType==="orthographic"){const l=Jn.length(Jn.subtract([],t.position,t.target))*.3,c=Math.tan(t.fov)*l*t.aspect,u=Math.tan(t.fov)*l;t=Kh.setProjection(t,{width:c,height:u})}}return{controls:{scale:o},camera:t}},rue=({controls:e,camera:t,speed:n=1},r)=>{const o=Zce(),{projection:s,view:i,viewport:a}=t,l=Ru.multiply([],s,i),c=Ru.invert([],l),u=[a[2],a[3],0],f=[a[2]-r[0],a[3]+r[1],0],d=o([],u,a,c),h=o([],f,a,c),v=Jn.distance(t.position,t.eye),p=Jn.subtract([],d,h).map(g=>g*n*v*e.scale);return{controls:e,camera:{position:Jn.add(Jn.create(),t.position,p),target:Jn.add(Jn.create(),t.target,p)}}},oue=({controls:e,camera:t,entities:n})=>{const{zoomToFit:r}=e;if(r.targets!=="all")return{controls:e,camera:t};if(n.length===0)return{controls:e,camera:t};const o=n.map(h=>h.geometry),s=Kce(o),{fov:i,target:a,position:l}=t,{tightness:c}=Object.assign({},r,H2.zoomToFit),u=s.dia*c/Math.tan(i/2),f=Jn.distance(a,l),d=u/f;return{camera:{target:s.center},controls:{scale:d}}},sue=({controls:e,camera:t},n)=>({camera:{position:n.camera.position,target:n.camera.target,projection:Ru.perspective([],t.fov,t.aspect,t.near,t.far),view:n.camera.view},controls:{thetaDelta:n.controls.thetaDelta,phiDelta:n.controls.phiDelta,scale:n.controls.scale}});var iue={controlsProps:H2,controlsState:LP,defaults:Jce,update:eue,rotate:tue,zoom:nue,pan:rue,zoomToFit:oue,reset:sue};const UE=to,zm=Math.floor(65535/2),aue=(e,t)=>{let{color:n}=e;const r=t.sides;if(r.length===0)return[];"color"in t&&(n=t.color);const o=n[3]<1,s=[],i=Math.floor(r.length/zm)+1,a=(c,u)=>{s.push(c,u||c)},l=[];for(let c=0;c<i;c++){const u=c*zm,f=Math.min(u+zm,r.length),d=[];for(let g=u;g<f;g++){const m=r[g];if(m.color){if(s.length===0&&d.length>0){const w=d.length;for(let y=0;y<w;y++)s.push(n)}a(m.color,m.endColor)}else s.length&&a(n);d.push([m[0][0],m[0][1],0]),d.push([m[1][0],m[1][1],0])}const h=d.map(g=>[0,0,-1]),v=d.map((g,m)=>m),p=t.transforms?UE.clone(t.transforms):UE.create();l.push({type:"2d",positions:d,normals:h,indices:v,transforms:p,color:n,colors:s,isTransparent:o})}return l};var lue=aue;const Fs=rf,HE=to,cue=65535,uue=(e,t)=>{let{color:n,smoothLighting:r}=e;"color"in t&&(n=t.color);const o=t.polygons,s=t.transforms?HE.clone(t.transforms):HE.create(),i=[];let a=0;for(;a<o.length;){let l=0,c=a;for(let g=a;g<o.length&&(l+=o[g].vertices.length,!(l>cue));g++)c++;const u=[],f=[],d=[],h=[],v=n[3]<1;for(let g=a;g<c;g++){const m=o[g],w=m.vertices,y=due(m),b=fue(m,n),S=[];for(let E=0;E<w.length;E++){const $=w[E];u.push($),f.push(y),h.push(b);const A=u.length-1;S.push(A)}for(let E=2;E<S.length;E++)d.push([S[0],S[E-1],S[E]])}const p={type:"3d",positions:u,normals:f,indices:d,colors:h,transforms:s,isTransparent:v};i.push(p),a=c}return i},fue=(e,t)=>{let n=t;return e.color&&(n=e.color),n&&n.length<4&&n.push(1),n},due=e=>{if(e.plane)return Fs.clone(e.plane);const t=e.vertices,n=Fs.create();Fs.subtract(n,t[1],t[0]);const r=Fs.create();Fs.subtract(r,t[2],t[0]);const o=Fs.create();return Fs.cross(o,n,r),Fs.normalize(o,o),o};var hue=uue;const WE=to,Bm=Math.floor(65535/2)-2,pue=(e,t)=>{let{color:n}=e;const r=t.points;if(r.length===0)return[];"color"in t&&(n=t.color);const o=n[3]<1,s=Math.floor(r.length/Bm)+1,i=[];for(let a=0;a<s;a++){const l=a*Bm,c=Math.min(l+Bm,r.length),u=[];let f;for(let p=l;p<c;p++){const g=r[p];f&&(u.push([f[0],f[1],0]),u.push([g[0],g[1],0])),f=g}if(a+1===s&&t.isClosed&&f){const p=r[0];u.push([f[0],f[1],0]),u.push([p[0],p[1],0])}const d=u.map(p=>[0,0,-1]),h=u.map((p,g)=>g),v=t.transforms?WE.clone(t.transforms):WE.create();i.push({type:"2d",positions:u,normals:d,indices:h,transforms:v,color:n,isTransparent:o})}return i};var mue=pue;const{flatten:vue,toArray:gue}=U2,{meshColor:yue}=Zp,wue=lue,xue=hue,bue=mue,Sue=e=>e.map(n=>{const r={drawCmd:n.type==="2d"?"drawLines":"drawMesh",show:!0,transparent:n.isTransparent,useVertexColors:!0};return{geometry:n,visuals:r}}),Eue=(e,...t)=>{const n={color:yue,smoothNormals:!0},{color:r,smoothNormals:o}=Object.assign({},n,e);t=vue(gue(t)),t=t.filter(i=>i&&i instanceof Object);const s=[];return t.forEach(i=>{let a=[];"sides"in i?a=wue({color:r},i):"points"in i?a=bue({color:r},i):"polygons"in i&&(a=xue({smoothLighting:o,normalThreshold:.3,color:r},i)),s.push(...Sue(a))}),s};var _ue=Eue,Ds={prepareRender:tle,drawCommands:{drawGrid:rle,drawAxis:sle,drawMesh:lle,drawLines:ple},cameras:{camera:jce,orthographic:Kh,perspective:ug},controls:{orbit:iue},entitiesFromSolids:_ue};function $ue(e,t){const n=Ds.cameras.perspective,r=Ds.controls.orbit;for(t=document.getElementById("viewer");t.firstChild;)t.removeChild(t.firstChild);t.style.display="";const o=t.clientWidth,s=t.clientHeight,i={};let a=O0.get();a===null&&(a={...n.defaults,position:[5e3,0,1e3],fov:.1}),i.camera=Object.assign({},a),n.setProjection(i.camera,i.camera,{width:o,height:s}),n.update(i.camera,i.camera),i.controls=r.defaults;const l={glOptions:{container:t}},c=Ds.prepareRender(l),u={visuals:{drawCmd:"drawGrid",show:!1},size:[500,500],ticks:[25,5]},f={visuals:{drawCmd:"drawAxis",show:!0},size:300},d=Ds.entitiesFromSolids({},e),h={camera:i.camera,drawCommands:{drawAxis:Ds.drawCommands.drawAxis,drawGrid:Ds.drawCommands.drawGrid,drawLines:Ds.drawCommands.drawLines,drawMesh:Ds.drawCommands.drawMesh},entities:[u,f,...d]};let v=!0;const p=()=>{if(E[0]||E[1]){const V=r.rotate({controls:i.controls,camera:i.camera,speed:y},E);i.controls={...i.controls,...V.controls},v=!0,E=[0,0]}if($[0]||$[1]){const V=r.pan({controls:i.controls,camera:i.camera,speed:b},$);i.controls={...i.controls,...V.controls},$=[0,0],i.camera.position=V.camera.position,i.camera.target=V.camera.target,v=!0}if(A){const V=r.zoom({controls:i.controls,camera:i.camera,speed:S},A);i.controls={...i.controls,...V.controls},A=0,v=!0}O0.set(i.camera)},g=()=>{if(p(),v){const V=r.update({controls:i.controls,camera:i.camera});i.controls={...i.controls,...V.controls},v=i.controls.changed,i.camera.position=V.camera.position,n.update(i.camera),O0.set(i.camera),c(h)}window.requestAnimationFrame(g)};window.requestAnimationFrame(g);let m=0,w=0;const y=.002,b=1,S=.08;let E=[0,0],$=[0,0],A=0,B=!1;const D=V=>{if(!B)return;const me=m-V.pageX,ee=V.pageY-w;V.shiftKey===!0||V.touches&&V.touches.length>2?($[0]+=me,$[1]+=ee):(E[0]-=me,E[1]-=ee),m=V.pageX,w=V.pageY,V.preventDefault()},W=V=>{B=!0,m=V.pageX,w=V.pageY,t.setPointerCapture(V.pointerId)},te=V=>{B=!1,t.releasePointerCapture(V.pointerId)},pe=V=>{A+=V.deltaY,V.preventDefault()};t.onpointermove=D,t.onpointerdown=W,t.onpointerup=te,t.onwheel=pe}const Aue={},XE=500;function Tue(){const e=M.useRef(null),t=M.useCallback(()=>{const r=xE(Zd.get()),o=xE(Qd.get()),s=$E(r,XE,-Math.PI/4),i=$E(o,XE,Math.PI/4);let a=[];Wv.get()===_u.SIMPLE?a=Gie(s,i):a=jie(s,i),console.log("res",a),$ue(a,e.current),Vv.set(a)},[]),n=M.useMemo(()=>G.jsx("div",{id:"viewer",style:{width:800,height:500,backgroundColor:"green",display:"none"}}),[]);return M.useEffect(()=>{sI(()=>{aI.set(!0)})},[]),G.jsx(CA,{theme:Aue,children:G.jsxs(vo,{padding:"md",navbar:{width:200,breakpoint:"sm",collapsed:{mobile:!1}},children:[G.jsx(vo.Navbar,{p:"xs",children:G.jsx(Ol,{h:"100%",children:G.jsx(Uie,{onGenerate:t})})}),G.jsx(vo.Main,{children:n})]})})}Gm.createRoot(document.getElementById("root")).render(G.jsx(Tue,{}));
