function l6(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in e)){const s=Object.getOwnPropertyDescriptor(r,o);s&&Object.defineProperty(e,o,s.get?s:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();var ca=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ry(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var a$={exports:{}},Rp={},l$={exports:{}},bt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sf=Symbol.for("react.element"),c6=Symbol.for("react.portal"),u6=Symbol.for("react.fragment"),f6=Symbol.for("react.strict_mode"),d6=Symbol.for("react.profiler"),h6=Symbol.for("react.provider"),p6=Symbol.for("react.context"),m6=Symbol.for("react.forward_ref"),v6=Symbol.for("react.suspense"),g6=Symbol.for("react.memo"),y6=Symbol.for("react.lazy"),Qb=Symbol.iterator;function w6(e){return e===null||typeof e!="object"?null:(e=Qb&&e[Qb]||e["@@iterator"],typeof e=="function"?e:null)}var c$={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},u$=Object.assign,f$={};function Jl(e,t,n){this.props=e,this.context=t,this.refs=f$,this.updater=n||c$}Jl.prototype.isReactComponent={};Jl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Jl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function d$(){}d$.prototype=Jl.prototype;function oy(e,t,n){this.props=e,this.context=t,this.refs=f$,this.updater=n||c$}var sy=oy.prototype=new d$;sy.constructor=oy;u$(sy,Jl.prototype);sy.isPureReactComponent=!0;var Kb=Array.isArray,h$=Object.prototype.hasOwnProperty,iy={current:null},p$={key:!0,ref:!0,__self:!0,__source:!0};function m$(e,t,n){var r,o={},s=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(s=""+t.key),t)h$.call(t,r)&&!p$.hasOwnProperty(r)&&(o[r]=t[r]);var a=arguments.length-2;if(a===1)o.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];o.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)o[r]===void 0&&(o[r]=a[r]);return{$$typeof:sf,type:e,key:s,ref:i,props:o,_owner:iy.current}}function x6(e,t){return{$$typeof:sf,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ay(e){return typeof e=="object"&&e!==null&&e.$$typeof===sf}function b6(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Jb=/\/+/g;function N0(e,t){return typeof e=="object"&&e!==null&&e.key!=null?b6(""+e.key):t.toString(36)}function uh(e,t,n,r,o){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case sf:case c6:i=!0}}if(i)return i=e,o=o(i),e=r===""?"."+N0(i,0):r,Kb(o)?(n="",e!=null&&(n=e.replace(Jb,"$&/")+"/"),uh(o,t,n,"",function(c){return c})):o!=null&&(ay(o)&&(o=x6(o,n+(!o.key||i&&i.key===o.key?"":(""+o.key).replace(Jb,"$&/")+"/")+e)),t.push(o)),1;if(i=0,r=r===""?".":r+":",Kb(e))for(var a=0;a<e.length;a++){s=e[a];var l=r+N0(s,a);i+=uh(s,t,n,l,o)}else if(l=w6(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=r+N0(s,a++),i+=uh(s,t,n,l,o);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function pd(e,t,n){if(e==null)return e;var r=[],o=0;return uh(e,r,"","",function(s){return t.call(n,s,o++)}),r}function E6(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ir={current:null},fh={transition:null},S6={ReactCurrentDispatcher:ir,ReactCurrentBatchConfig:fh,ReactCurrentOwner:iy};function v$(){throw Error("act(...) is not supported in production builds of React.")}bt.Children={map:pd,forEach:function(e,t,n){pd(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return pd(e,function(){t++}),t},toArray:function(e){return pd(e,function(t){return t})||[]},only:function(e){if(!ay(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};bt.Component=Jl;bt.Fragment=u6;bt.Profiler=d6;bt.PureComponent=oy;bt.StrictMode=f6;bt.Suspense=v6;bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=S6;bt.act=v$;bt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=u$({},e.props),o=e.key,s=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,i=iy.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)h$.call(t,l)&&!p$.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:sf,type:e.type,key:o,ref:s,props:r,_owner:i}};bt.createContext=function(e){return e={$$typeof:p6,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:h6,_context:e},e.Consumer=e};bt.createElement=m$;bt.createFactory=function(e){var t=m$.bind(null,e);return t.type=e,t};bt.createRef=function(){return{current:null}};bt.forwardRef=function(e){return{$$typeof:m6,render:e}};bt.isValidElement=ay;bt.lazy=function(e){return{$$typeof:y6,_payload:{_status:-1,_result:e},_init:E6}};bt.memo=function(e,t){return{$$typeof:g6,type:e,compare:t===void 0?null:t}};bt.startTransition=function(e){var t=fh.transition;fh.transition={};try{e()}finally{fh.transition=t}};bt.unstable_act=v$;bt.useCallback=function(e,t){return ir.current.useCallback(e,t)};bt.useContext=function(e){return ir.current.useContext(e)};bt.useDebugValue=function(){};bt.useDeferredValue=function(e){return ir.current.useDeferredValue(e)};bt.useEffect=function(e,t){return ir.current.useEffect(e,t)};bt.useId=function(){return ir.current.useId()};bt.useImperativeHandle=function(e,t,n){return ir.current.useImperativeHandle(e,t,n)};bt.useInsertionEffect=function(e,t){return ir.current.useInsertionEffect(e,t)};bt.useLayoutEffect=function(e,t){return ir.current.useLayoutEffect(e,t)};bt.useMemo=function(e,t){return ir.current.useMemo(e,t)};bt.useReducer=function(e,t,n){return ir.current.useReducer(e,t,n)};bt.useRef=function(e){return ir.current.useRef(e)};bt.useState=function(e){return ir.current.useState(e)};bt.useSyncExternalStore=function(e,t,n){return ir.current.useSyncExternalStore(e,t,n)};bt.useTransition=function(){return ir.current.useTransition()};bt.version="18.3.1";l$.exports=bt;var O=l$.exports;const wo=ry(O),_6=l6({__proto__:null,default:wo},[O]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $6=O,A6=Symbol.for("react.element"),T6=Symbol.for("react.fragment"),C6=Object.prototype.hasOwnProperty,P6=$6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,k6={key:!0,ref:!0,__self:!0,__source:!0};function g$(e,t,n){var r,o={},s=null,i=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)C6.call(t,r)&&!k6.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:A6,type:e,key:s,ref:i,props:o,_owner:P6.current}}Rp.Fragment=T6;Rp.jsx=g$;Rp.jsxs=g$;a$.exports=Rp;var F=a$.exports,kv={},y$={exports:{}},Ir={},w$={exports:{}},x$={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(oe,$e){var Ne=oe.length;oe.push($e);e:for(;0<Ne;){var Ye=Ne-1>>>1,rt=oe[Ye];if(0<o(rt,$e))oe[Ye]=$e,oe[Ne]=rt,Ne=Ye;else break e}}function n(oe){return oe.length===0?null:oe[0]}function r(oe){if(oe.length===0)return null;var $e=oe[0],Ne=oe.pop();if(Ne!==$e){oe[0]=Ne;e:for(var Ye=0,rt=oe.length,kt=rt>>>1;Ye<kt;){var At=2*(Ye+1)-1,Ct=oe[At],en=At+1,an=oe[en];if(0>o(Ct,Ne))en<rt&&0>o(an,Ct)?(oe[Ye]=an,oe[en]=Ne,Ye=en):(oe[Ye]=Ct,oe[At]=Ne,Ye=At);else if(en<rt&&0>o(an,Ne))oe[Ye]=an,oe[en]=Ne,Ye=en;else break e}}return $e}function o(oe,$e){var Ne=oe.sortIndex-$e.sortIndex;return Ne!==0?Ne:oe.id-$e.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var i=Date,a=i.now();e.unstable_now=function(){return i.now()-a}}var l=[],c=[],f=1,u=null,d=3,h=!1,m=!1,p=!1,g=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(oe){for(var $e=n(c);$e!==null;){if($e.callback===null)r(c);else if($e.startTime<=oe)r(c),$e.sortIndex=$e.expirationTime,t(l,$e);else break;$e=n(c)}}function b(oe){if(p=!1,w(oe),!m)if(n(l)!==null)m=!0,ee(E);else{var $e=n(c);$e!==null&&we(b,$e.startTime-oe)}}function E(oe,$e){m=!1,p&&(p=!1,v(A),A=-1),h=!0;var Ne=d;try{for(w($e),u=n(l);u!==null&&(!(u.expirationTime>$e)||oe&&!H());){var Ye=u.callback;if(typeof Ye=="function"){u.callback=null,d=u.priorityLevel;var rt=Ye(u.expirationTime<=$e);$e=e.unstable_now(),typeof rt=="function"?u.callback=rt:u===n(l)&&r(l),w($e)}else r(l);u=n(l)}if(u!==null)var kt=!0;else{var At=n(c);At!==null&&we(b,At.startTime-$e),kt=!1}return kt}finally{u=null,d=Ne,h=!1}}var S=!1,$=null,A=-1,G=5,I=-1;function H(){return!(e.unstable_now()-I<G)}function te(){if($!==null){var oe=e.unstable_now();I=oe;var $e=!0;try{$e=$(!0,oe)}finally{$e?pe():(S=!1,$=null)}}else S=!1}var pe;if(typeof y=="function")pe=function(){y(te)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,de=j.port2;j.port1.onmessage=te,pe=function(){de.postMessage(null)}}else pe=function(){g(te,0)};function ee(oe){$=oe,S||(S=!0,pe())}function we(oe,$e){A=g(function(){oe(e.unstable_now())},$e)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(oe){oe.callback=null},e.unstable_continueExecution=function(){m||h||(m=!0,ee(E))},e.unstable_forceFrameRate=function(oe){0>oe||125<oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<oe?Math.floor(1e3/oe):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(oe){switch(d){case 1:case 2:case 3:var $e=3;break;default:$e=d}var Ne=d;d=$e;try{return oe()}finally{d=Ne}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(oe,$e){switch(oe){case 1:case 2:case 3:case 4:case 5:break;default:oe=3}var Ne=d;d=oe;try{return $e()}finally{d=Ne}},e.unstable_scheduleCallback=function(oe,$e,Ne){var Ye=e.unstable_now();switch(typeof Ne=="object"&&Ne!==null?(Ne=Ne.delay,Ne=typeof Ne=="number"&&0<Ne?Ye+Ne:Ye):Ne=Ye,oe){case 1:var rt=-1;break;case 2:rt=250;break;case 5:rt=1073741823;break;case 4:rt=1e4;break;default:rt=5e3}return rt=Ne+rt,oe={id:f++,callback:$e,priorityLevel:oe,startTime:Ne,expirationTime:rt,sortIndex:-1},Ne>Ye?(oe.sortIndex=Ne,t(c,oe),n(l)===null&&oe===n(c)&&(p?(v(A),A=-1):p=!0,we(b,Ne-Ye))):(oe.sortIndex=rt,t(l,oe),m||h||(m=!0,ee(E))),oe},e.unstable_shouldYield=H,e.unstable_wrapCallback=function(oe){var $e=d;return function(){var Ne=d;d=$e;try{return oe.apply(this,arguments)}finally{d=Ne}}}})(x$);w$.exports=x$;var R6=w$.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N6=O,Lr=R6;function Le(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var b$=new Set,Ru={};function wa(e,t){Ll(e,t),Ll(e+"Capture",t)}function Ll(e,t){for(Ru[e]=t,e=0;e<t.length;e++)b$.add(t[e])}var vs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rv=Object.prototype.hasOwnProperty,O6=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,e5={},t5={};function M6(e){return Rv.call(t5,e)?!0:Rv.call(e5,e)?!1:O6.test(e)?t5[e]=!0:(e5[e]=!0,!1)}function L6(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function D6(e,t,n,r){if(t===null||typeof t>"u"||L6(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ar(e,t,n,r,o,s,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var Gn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Gn[e]=new ar(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Gn[t]=new ar(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Gn[e]=new ar(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Gn[e]=new ar(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Gn[e]=new ar(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Gn[e]=new ar(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Gn[e]=new ar(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Gn[e]=new ar(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Gn[e]=new ar(e,5,!1,e.toLowerCase(),null,!1,!1)});var ly=/[\-:]([a-z])/g;function cy(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ly,cy);Gn[t]=new ar(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ly,cy);Gn[t]=new ar(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ly,cy);Gn[t]=new ar(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Gn[e]=new ar(e,1,!1,e.toLowerCase(),null,!1,!1)});Gn.xlinkHref=new ar("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Gn[e]=new ar(e,1,!1,e.toLowerCase(),null,!0,!0)});function uy(e,t,n,r){var o=Gn.hasOwnProperty(t)?Gn[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(D6(t,n,o,r)&&(n=null),r||o===null?M6(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Ss=N6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,md=Symbol.for("react.element"),fl=Symbol.for("react.portal"),dl=Symbol.for("react.fragment"),fy=Symbol.for("react.strict_mode"),Nv=Symbol.for("react.profiler"),E$=Symbol.for("react.provider"),S$=Symbol.for("react.context"),dy=Symbol.for("react.forward_ref"),Ov=Symbol.for("react.suspense"),Mv=Symbol.for("react.suspense_list"),hy=Symbol.for("react.memo"),Zs=Symbol.for("react.lazy"),_$=Symbol.for("react.offscreen"),n5=Symbol.iterator;function jc(e){return e===null||typeof e!="object"?null:(e=n5&&e[n5]||e["@@iterator"],typeof e=="function"?e:null)}var Jt=Object.assign,O0;function fu(e){if(O0===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);O0=t&&t[1]||""}return`
`+O0+e}var M0=!1;function L0(e,t){if(!e||M0)return"";M0=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var o=c.stack.split(`
`),s=r.stack.split(`
`),i=o.length-1,a=s.length-1;1<=i&&0<=a&&o[i]!==s[a];)a--;for(;1<=i&&0<=a;i--,a--)if(o[i]!==s[a]){if(i!==1||a!==1)do if(i--,a--,0>a||o[i]!==s[a]){var l=`
`+o[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=i&&0<=a);break}}}finally{M0=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?fu(e):""}function I6(e){switch(e.tag){case 5:return fu(e.type);case 16:return fu("Lazy");case 13:return fu("Suspense");case 19:return fu("SuspenseList");case 0:case 2:case 15:return e=L0(e.type,!1),e;case 11:return e=L0(e.type.render,!1),e;case 1:return e=L0(e.type,!0),e;default:return""}}function Lv(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case dl:return"Fragment";case fl:return"Portal";case Nv:return"Profiler";case fy:return"StrictMode";case Ov:return"Suspense";case Mv:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case S$:return(e.displayName||"Context")+".Consumer";case E$:return(e._context.displayName||"Context")+".Provider";case dy:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case hy:return t=e.displayName||null,t!==null?t:Lv(e.type)||"Memo";case Zs:t=e._payload,e=e._init;try{return Lv(e(t))}catch{}}return null}function F6(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Lv(t);case 8:return t===fy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function di(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function $$(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function z6(e){var t=$$(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(i){r=""+i,s.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function vd(e){e._valueTracker||(e._valueTracker=z6(e))}function A$(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=$$(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Oh(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Dv(e,t){var n=t.checked;return Jt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function r5(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=di(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function T$(e,t){t=t.checked,t!=null&&uy(e,"checked",t,!1)}function Iv(e,t){T$(e,t);var n=di(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Fv(e,t.type,n):t.hasOwnProperty("defaultValue")&&Fv(e,t.type,di(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function o5(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Fv(e,t,n){(t!=="number"||Oh(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var du=Array.isArray;function _l(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+di(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function zv(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Le(91));return Jt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function s5(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Le(92));if(du(n)){if(1<n.length)throw Error(Le(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:di(n)}}function C$(e,t){var n=di(t.value),r=di(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function i5(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function P$(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Bv(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?P$(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var gd,k$=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(gd=gd||document.createElement("div"),gd.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=gd.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Nu(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Eu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},B6=["Webkit","ms","Moz","O"];Object.keys(Eu).forEach(function(e){B6.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Eu[t]=Eu[e]})});function R$(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Eu.hasOwnProperty(e)&&Eu[e]?(""+t).trim():t+"px"}function N$(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=R$(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var G6=Jt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Gv(e,t){if(t){if(G6[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Le(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Le(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Le(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Le(62))}}function jv(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vv=null;function py(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Uv=null,$l=null,Al=null;function a5(e){if(e=cf(e)){if(typeof Uv!="function")throw Error(Le(280));var t=e.stateNode;t&&(t=Dp(t),Uv(e.stateNode,e.type,t))}}function O$(e){$l?Al?Al.push(e):Al=[e]:$l=e}function M$(){if($l){var e=$l,t=Al;if(Al=$l=null,a5(e),t)for(e=0;e<t.length;e++)a5(t[e])}}function L$(e,t){return e(t)}function D$(){}var D0=!1;function I$(e,t,n){if(D0)return e(t,n);D0=!0;try{return L$(e,t,n)}finally{D0=!1,($l!==null||Al!==null)&&(D$(),M$())}}function Ou(e,t){var n=e.stateNode;if(n===null)return null;var r=Dp(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Le(231,t,typeof n));return n}var Hv=!1;if(vs)try{var Vc={};Object.defineProperty(Vc,"passive",{get:function(){Hv=!0}}),window.addEventListener("test",Vc,Vc),window.removeEventListener("test",Vc,Vc)}catch{Hv=!1}function j6(e,t,n,r,o,s,i,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(f){this.onError(f)}}var Su=!1,Mh=null,Lh=!1,Wv=null,V6={onError:function(e){Su=!0,Mh=e}};function U6(e,t,n,r,o,s,i,a,l){Su=!1,Mh=null,j6.apply(V6,arguments)}function H6(e,t,n,r,o,s,i,a,l){if(U6.apply(this,arguments),Su){if(Su){var c=Mh;Su=!1,Mh=null}else throw Error(Le(198));Lh||(Lh=!0,Wv=c)}}function xa(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function F$(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function l5(e){if(xa(e)!==e)throw Error(Le(188))}function W6(e){var t=e.alternate;if(!t){if(t=xa(e),t===null)throw Error(Le(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var s=o.alternate;if(s===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===n)return l5(o),e;if(s===r)return l5(o),t;s=s.sibling}throw Error(Le(188))}if(n.return!==r.return)n=o,r=s;else{for(var i=!1,a=o.child;a;){if(a===n){i=!0,n=o,r=s;break}if(a===r){i=!0,r=o,n=s;break}a=a.sibling}if(!i){for(a=s.child;a;){if(a===n){i=!0,n=s,r=o;break}if(a===r){i=!0,r=s,n=o;break}a=a.sibling}if(!i)throw Error(Le(189))}}if(n.alternate!==r)throw Error(Le(190))}if(n.tag!==3)throw Error(Le(188));return n.stateNode.current===n?e:t}function z$(e){return e=W6(e),e!==null?B$(e):null}function B$(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=B$(e);if(t!==null)return t;e=e.sibling}return null}var G$=Lr.unstable_scheduleCallback,c5=Lr.unstable_cancelCallback,X6=Lr.unstable_shouldYield,q6=Lr.unstable_requestPaint,hn=Lr.unstable_now,Y6=Lr.unstable_getCurrentPriorityLevel,my=Lr.unstable_ImmediatePriority,j$=Lr.unstable_UserBlockingPriority,Dh=Lr.unstable_NormalPriority,Z6=Lr.unstable_LowPriority,V$=Lr.unstable_IdlePriority,Np=null,Ho=null;function Q6(e){if(Ho&&typeof Ho.onCommitFiberRoot=="function")try{Ho.onCommitFiberRoot(Np,e,void 0,(e.current.flags&128)===128)}catch{}}var bo=Math.clz32?Math.clz32:eO,K6=Math.log,J6=Math.LN2;function eO(e){return e>>>=0,e===0?32:31-(K6(e)/J6|0)|0}var yd=64,wd=4194304;function hu(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ih(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,s=e.pingedLanes,i=n&268435455;if(i!==0){var a=i&~o;a!==0?r=hu(a):(s&=i,s!==0&&(r=hu(s)))}else i=n&~o,i!==0?r=hu(i):s!==0&&(r=hu(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,s=t&-t,o>=s||o===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-bo(t),o=1<<n,r|=e[n],t&=~o;return r}function tO(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nO(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-bo(s),a=1<<i,l=o[i];l===-1?(!(a&n)||a&r)&&(o[i]=tO(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function Xv(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function U$(){var e=yd;return yd<<=1,!(yd&4194240)&&(yd=64),e}function I0(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function af(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-bo(t),e[t]=n}function rO(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-bo(n),s=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~s}}function vy(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-bo(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var Rt=0;function H$(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var W$,gy,X$,q$,Y$,qv=!1,xd=[],ri=null,oi=null,si=null,Mu=new Map,Lu=new Map,Ks=[],oO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function u5(e,t){switch(e){case"focusin":case"focusout":ri=null;break;case"dragenter":case"dragleave":oi=null;break;case"mouseover":case"mouseout":si=null;break;case"pointerover":case"pointerout":Mu.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lu.delete(t.pointerId)}}function Uc(e,t,n,r,o,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[o]},t!==null&&(t=cf(t),t!==null&&gy(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function sO(e,t,n,r,o){switch(t){case"focusin":return ri=Uc(ri,e,t,n,r,o),!0;case"dragenter":return oi=Uc(oi,e,t,n,r,o),!0;case"mouseover":return si=Uc(si,e,t,n,r,o),!0;case"pointerover":var s=o.pointerId;return Mu.set(s,Uc(Mu.get(s)||null,e,t,n,r,o)),!0;case"gotpointercapture":return s=o.pointerId,Lu.set(s,Uc(Lu.get(s)||null,e,t,n,r,o)),!0}return!1}function Z$(e){var t=Ji(e.target);if(t!==null){var n=xa(t);if(n!==null){if(t=n.tag,t===13){if(t=F$(n),t!==null){e.blockedOn=t,Y$(e.priority,function(){X$(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function dh(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yv(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Vv=r,n.target.dispatchEvent(r),Vv=null}else return t=cf(n),t!==null&&gy(t),e.blockedOn=n,!1;t.shift()}return!0}function f5(e,t,n){dh(e)&&n.delete(t)}function iO(){qv=!1,ri!==null&&dh(ri)&&(ri=null),oi!==null&&dh(oi)&&(oi=null),si!==null&&dh(si)&&(si=null),Mu.forEach(f5),Lu.forEach(f5)}function Hc(e,t){e.blockedOn===t&&(e.blockedOn=null,qv||(qv=!0,Lr.unstable_scheduleCallback(Lr.unstable_NormalPriority,iO)))}function Du(e){function t(o){return Hc(o,e)}if(0<xd.length){Hc(xd[0],e);for(var n=1;n<xd.length;n++){var r=xd[n];r.blockedOn===e&&(r.blockedOn=null)}}for(ri!==null&&Hc(ri,e),oi!==null&&Hc(oi,e),si!==null&&Hc(si,e),Mu.forEach(t),Lu.forEach(t),n=0;n<Ks.length;n++)r=Ks[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Ks.length&&(n=Ks[0],n.blockedOn===null);)Z$(n),n.blockedOn===null&&Ks.shift()}var Tl=Ss.ReactCurrentBatchConfig,Fh=!0;function aO(e,t,n,r){var o=Rt,s=Tl.transition;Tl.transition=null;try{Rt=1,yy(e,t,n,r)}finally{Rt=o,Tl.transition=s}}function lO(e,t,n,r){var o=Rt,s=Tl.transition;Tl.transition=null;try{Rt=4,yy(e,t,n,r)}finally{Rt=o,Tl.transition=s}}function yy(e,t,n,r){if(Fh){var o=Yv(e,t,n,r);if(o===null)X0(e,t,r,zh,n),u5(e,r);else if(sO(o,e,t,n,r))r.stopPropagation();else if(u5(e,r),t&4&&-1<oO.indexOf(e)){for(;o!==null;){var s=cf(o);if(s!==null&&W$(s),s=Yv(e,t,n,r),s===null&&X0(e,t,r,zh,n),s===o)break;o=s}o!==null&&r.stopPropagation()}else X0(e,t,r,null,n)}}var zh=null;function Yv(e,t,n,r){if(zh=null,e=py(r),e=Ji(e),e!==null)if(t=xa(e),t===null)e=null;else if(n=t.tag,n===13){if(e=F$(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return zh=e,null}function Q$(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Y6()){case my:return 1;case j$:return 4;case Dh:case Z6:return 16;case V$:return 536870912;default:return 16}default:return 16}}var ti=null,wy=null,hh=null;function K$(){if(hh)return hh;var e,t=wy,n=t.length,r,o="value"in ti?ti.value:ti.textContent,s=o.length;for(e=0;e<n&&t[e]===o[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===o[s-r];r++);return hh=o.slice(e,1<r?1-r:void 0)}function ph(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function bd(){return!0}function d5(){return!1}function Fr(e){function t(n,r,o,s,i){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=s,this.target=i,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?bd:d5,this.isPropagationStopped=d5,this}return Jt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=bd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=bd)},persist:function(){},isPersistent:bd}),t}var ec={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xy=Fr(ec),lf=Jt({},ec,{view:0,detail:0}),cO=Fr(lf),F0,z0,Wc,Op=Jt({},lf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:by,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Wc&&(Wc&&e.type==="mousemove"?(F0=e.screenX-Wc.screenX,z0=e.screenY-Wc.screenY):z0=F0=0,Wc=e),F0)},movementY:function(e){return"movementY"in e?e.movementY:z0}}),h5=Fr(Op),uO=Jt({},Op,{dataTransfer:0}),fO=Fr(uO),dO=Jt({},lf,{relatedTarget:0}),B0=Fr(dO),hO=Jt({},ec,{animationName:0,elapsedTime:0,pseudoElement:0}),pO=Fr(hO),mO=Jt({},ec,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vO=Fr(mO),gO=Jt({},ec,{data:0}),p5=Fr(gO),yO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bO(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=xO[e])?!!t[e]:!1}function by(){return bO}var EO=Jt({},lf,{key:function(e){if(e.key){var t=yO[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ph(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?wO[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:by,charCode:function(e){return e.type==="keypress"?ph(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ph(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),SO=Fr(EO),_O=Jt({},Op,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),m5=Fr(_O),$O=Jt({},lf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:by}),AO=Fr($O),TO=Jt({},ec,{propertyName:0,elapsedTime:0,pseudoElement:0}),CO=Fr(TO),PO=Jt({},Op,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),kO=Fr(PO),RO=[9,13,27,32],Ey=vs&&"CompositionEvent"in window,_u=null;vs&&"documentMode"in document&&(_u=document.documentMode);var NO=vs&&"TextEvent"in window&&!_u,J$=vs&&(!Ey||_u&&8<_u&&11>=_u),v5=" ",g5=!1;function eA(e,t){switch(e){case"keyup":return RO.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tA(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var hl=!1;function OO(e,t){switch(e){case"compositionend":return tA(t);case"keypress":return t.which!==32?null:(g5=!0,v5);case"textInput":return e=t.data,e===v5&&g5?null:e;default:return null}}function MO(e,t){if(hl)return e==="compositionend"||!Ey&&eA(e,t)?(e=K$(),hh=wy=ti=null,hl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return J$&&t.locale!=="ko"?null:t.data;default:return null}}var LO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function y5(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!LO[e.type]:t==="textarea"}function nA(e,t,n,r){O$(r),t=Bh(t,"onChange"),0<t.length&&(n=new xy("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var $u=null,Iu=null;function DO(e){hA(e,0)}function Mp(e){var t=vl(e);if(A$(t))return e}function IO(e,t){if(e==="change")return t}var rA=!1;if(vs){var G0;if(vs){var j0="oninput"in document;if(!j0){var w5=document.createElement("div");w5.setAttribute("oninput","return;"),j0=typeof w5.oninput=="function"}G0=j0}else G0=!1;rA=G0&&(!document.documentMode||9<document.documentMode)}function x5(){$u&&($u.detachEvent("onpropertychange",oA),Iu=$u=null)}function oA(e){if(e.propertyName==="value"&&Mp(Iu)){var t=[];nA(t,Iu,e,py(e)),I$(DO,t)}}function FO(e,t,n){e==="focusin"?(x5(),$u=t,Iu=n,$u.attachEvent("onpropertychange",oA)):e==="focusout"&&x5()}function zO(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Mp(Iu)}function BO(e,t){if(e==="click")return Mp(t)}function GO(e,t){if(e==="input"||e==="change")return Mp(t)}function jO(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _o=typeof Object.is=="function"?Object.is:jO;function Fu(e,t){if(_o(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!Rv.call(t,o)||!_o(e[o],t[o]))return!1}return!0}function b5(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function E5(e,t){var n=b5(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=b5(n)}}function sA(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?sA(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function iA(){for(var e=window,t=Oh();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Oh(e.document)}return t}function Sy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function VO(e){var t=iA(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&sA(n.ownerDocument.documentElement,n)){if(r!==null&&Sy(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,s=Math.min(r.start,o);r=r.end===void 0?s:Math.min(r.end,o),!e.extend&&s>r&&(o=r,r=s,s=o),o=E5(n,s);var i=E5(n,r);o&&i&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var UO=vs&&"documentMode"in document&&11>=document.documentMode,pl=null,Zv=null,Au=null,Qv=!1;function S5(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Qv||pl==null||pl!==Oh(r)||(r=pl,"selectionStart"in r&&Sy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Au&&Fu(Au,r)||(Au=r,r=Bh(Zv,"onSelect"),0<r.length&&(t=new xy("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=pl)))}function Ed(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ml={animationend:Ed("Animation","AnimationEnd"),animationiteration:Ed("Animation","AnimationIteration"),animationstart:Ed("Animation","AnimationStart"),transitionend:Ed("Transition","TransitionEnd")},V0={},aA={};vs&&(aA=document.createElement("div").style,"AnimationEvent"in window||(delete ml.animationend.animation,delete ml.animationiteration.animation,delete ml.animationstart.animation),"TransitionEvent"in window||delete ml.transitionend.transition);function Lp(e){if(V0[e])return V0[e];if(!ml[e])return e;var t=ml[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in aA)return V0[e]=t[n];return e}var lA=Lp("animationend"),cA=Lp("animationiteration"),uA=Lp("animationstart"),fA=Lp("transitionend"),dA=new Map,_5="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function gi(e,t){dA.set(e,t),wa(t,[e])}for(var U0=0;U0<_5.length;U0++){var H0=_5[U0],HO=H0.toLowerCase(),WO=H0[0].toUpperCase()+H0.slice(1);gi(HO,"on"+WO)}gi(lA,"onAnimationEnd");gi(cA,"onAnimationIteration");gi(uA,"onAnimationStart");gi("dblclick","onDoubleClick");gi("focusin","onFocus");gi("focusout","onBlur");gi(fA,"onTransitionEnd");Ll("onMouseEnter",["mouseout","mouseover"]);Ll("onMouseLeave",["mouseout","mouseover"]);Ll("onPointerEnter",["pointerout","pointerover"]);Ll("onPointerLeave",["pointerout","pointerover"]);wa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wa("onBeforeInput",["compositionend","keypress","textInput","paste"]);wa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),XO=new Set("cancel close invalid load scroll toggle".split(" ").concat(pu));function $5(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,H6(r,t,void 0,e),e.currentTarget=null}function hA(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var i=r.length-1;0<=i;i--){var a=r[i],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&o.isPropagationStopped())break e;$5(o,a,c),s=l}else for(i=0;i<r.length;i++){if(a=r[i],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&o.isPropagationStopped())break e;$5(o,a,c),s=l}}}if(Lh)throw e=Wv,Lh=!1,Wv=null,e}function Ut(e,t){var n=t[ng];n===void 0&&(n=t[ng]=new Set);var r=e+"__bubble";n.has(r)||(pA(t,e,2,!1),n.add(r))}function W0(e,t,n){var r=0;t&&(r|=4),pA(n,e,r,t)}var Sd="_reactListening"+Math.random().toString(36).slice(2);function zu(e){if(!e[Sd]){e[Sd]=!0,b$.forEach(function(n){n!=="selectionchange"&&(XO.has(n)||W0(n,!1,e),W0(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Sd]||(t[Sd]=!0,W0("selectionchange",!1,t))}}function pA(e,t,n,r){switch(Q$(t)){case 1:var o=aO;break;case 4:o=lO;break;default:o=yy}n=o.bind(null,t,n,e),o=void 0,!Hv||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function X0(e,t,n,r,o){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var a=r.stateNode.containerInfo;if(a===o||a.nodeType===8&&a.parentNode===o)break;if(i===4)for(i=r.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===o||l.nodeType===8&&l.parentNode===o))return;i=i.return}for(;a!==null;){if(i=Ji(a),i===null)return;if(l=i.tag,l===5||l===6){r=s=i;continue e}a=a.parentNode}}r=r.return}I$(function(){var c=s,f=py(n),u=[];e:{var d=dA.get(e);if(d!==void 0){var h=xy,m=e;switch(e){case"keypress":if(ph(n)===0)break e;case"keydown":case"keyup":h=SO;break;case"focusin":m="focus",h=B0;break;case"focusout":m="blur",h=B0;break;case"beforeblur":case"afterblur":h=B0;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=h5;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=fO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=AO;break;case lA:case cA:case uA:h=pO;break;case fA:h=CO;break;case"scroll":h=cO;break;case"wheel":h=kO;break;case"copy":case"cut":case"paste":h=vO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=m5}var p=(t&4)!==0,g=!p&&e==="scroll",v=p?d!==null?d+"Capture":null:d;p=[];for(var y=c,w;y!==null;){w=y;var b=w.stateNode;if(w.tag===5&&b!==null&&(w=b,v!==null&&(b=Ou(y,v),b!=null&&p.push(Bu(y,b,w)))),g)break;y=y.return}0<p.length&&(d=new h(d,m,null,n,f),u.push({event:d,listeners:p}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",d&&n!==Vv&&(m=n.relatedTarget||n.fromElement)&&(Ji(m)||m[gs]))break e;if((h||d)&&(d=f.window===f?f:(d=f.ownerDocument)?d.defaultView||d.parentWindow:window,h?(m=n.relatedTarget||n.toElement,h=c,m=m?Ji(m):null,m!==null&&(g=xa(m),m!==g||m.tag!==5&&m.tag!==6)&&(m=null)):(h=null,m=c),h!==m)){if(p=h5,b="onMouseLeave",v="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(p=m5,b="onPointerLeave",v="onPointerEnter",y="pointer"),g=h==null?d:vl(h),w=m==null?d:vl(m),d=new p(b,y+"leave",h,n,f),d.target=g,d.relatedTarget=w,b=null,Ji(f)===c&&(p=new p(v,y+"enter",m,n,f),p.target=w,p.relatedTarget=g,b=p),g=b,h&&m)t:{for(p=h,v=m,y=0,w=p;w;w=Va(w))y++;for(w=0,b=v;b;b=Va(b))w++;for(;0<y-w;)p=Va(p),y--;for(;0<w-y;)v=Va(v),w--;for(;y--;){if(p===v||v!==null&&p===v.alternate)break t;p=Va(p),v=Va(v)}p=null}else p=null;h!==null&&A5(u,d,h,p,!1),m!==null&&g!==null&&A5(u,g,m,p,!0)}}e:{if(d=c?vl(c):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var E=IO;else if(y5(d))if(rA)E=GO;else{E=zO;var S=FO}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(E=BO);if(E&&(E=E(e,c))){nA(u,E,n,f);break e}S&&S(e,d,c),e==="focusout"&&(S=d._wrapperState)&&S.controlled&&d.type==="number"&&Fv(d,"number",d.value)}switch(S=c?vl(c):window,e){case"focusin":(y5(S)||S.contentEditable==="true")&&(pl=S,Zv=c,Au=null);break;case"focusout":Au=Zv=pl=null;break;case"mousedown":Qv=!0;break;case"contextmenu":case"mouseup":case"dragend":Qv=!1,S5(u,n,f);break;case"selectionchange":if(UO)break;case"keydown":case"keyup":S5(u,n,f)}var $;if(Ey)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else hl?eA(e,n)&&(A="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(J$&&n.locale!=="ko"&&(hl||A!=="onCompositionStart"?A==="onCompositionEnd"&&hl&&($=K$()):(ti=f,wy="value"in ti?ti.value:ti.textContent,hl=!0)),S=Bh(c,A),0<S.length&&(A=new p5(A,e,null,n,f),u.push({event:A,listeners:S}),$?A.data=$:($=tA(n),$!==null&&(A.data=$)))),($=NO?OO(e,n):MO(e,n))&&(c=Bh(c,"onBeforeInput"),0<c.length&&(f=new p5("onBeforeInput","beforeinput",null,n,f),u.push({event:f,listeners:c}),f.data=$))}hA(u,t)})}function Bu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Bh(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,s=o.stateNode;o.tag===5&&s!==null&&(o=s,s=Ou(e,n),s!=null&&r.unshift(Bu(e,s,o)),s=Ou(e,t),s!=null&&r.push(Bu(e,s,o))),e=e.return}return r}function Va(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function A5(e,t,n,r,o){for(var s=t._reactName,i=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,o?(l=Ou(n,s),l!=null&&i.unshift(Bu(n,l,a))):o||(l=Ou(n,s),l!=null&&i.push(Bu(n,l,a)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var qO=/\r\n?/g,YO=/\u0000|\uFFFD/g;function T5(e){return(typeof e=="string"?e:""+e).replace(qO,`
`).replace(YO,"")}function _d(e,t,n){if(t=T5(t),T5(e)!==t&&n)throw Error(Le(425))}function Gh(){}var Kv=null,Jv=null;function eg(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var tg=typeof setTimeout=="function"?setTimeout:void 0,ZO=typeof clearTimeout=="function"?clearTimeout:void 0,C5=typeof Promise=="function"?Promise:void 0,QO=typeof queueMicrotask=="function"?queueMicrotask:typeof C5<"u"?function(e){return C5.resolve(null).then(e).catch(KO)}:tg;function KO(e){setTimeout(function(){throw e})}function q0(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),Du(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Du(t)}function ii(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function P5(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var tc=Math.random().toString(36).slice(2),jo="__reactFiber$"+tc,Gu="__reactProps$"+tc,gs="__reactContainer$"+tc,ng="__reactEvents$"+tc,JO="__reactListeners$"+tc,eM="__reactHandles$"+tc;function Ji(e){var t=e[jo];if(t)return t;for(var n=e.parentNode;n;){if(t=n[gs]||n[jo]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=P5(e);e!==null;){if(n=e[jo])return n;e=P5(e)}return t}e=n,n=e.parentNode}return null}function cf(e){return e=e[jo]||e[gs],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function vl(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Le(33))}function Dp(e){return e[Gu]||null}var rg=[],gl=-1;function yi(e){return{current:e}}function Wt(e){0>gl||(e.current=rg[gl],rg[gl]=null,gl--)}function Gt(e,t){gl++,rg[gl]=e.current,e.current=t}var hi={},Yn=yi(hi),mr=yi(!1),ua=hi;function Dl(e,t){var n=e.type.contextTypes;if(!n)return hi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},s;for(s in n)o[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function vr(e){return e=e.childContextTypes,e!=null}function jh(){Wt(mr),Wt(Yn)}function k5(e,t,n){if(Yn.current!==hi)throw Error(Le(168));Gt(Yn,t),Gt(mr,n)}function mA(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(Le(108,F6(e)||"Unknown",o));return Jt({},n,r)}function Vh(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hi,ua=Yn.current,Gt(Yn,e),Gt(mr,mr.current),!0}function R5(e,t,n){var r=e.stateNode;if(!r)throw Error(Le(169));n?(e=mA(e,t,ua),r.__reactInternalMemoizedMergedChildContext=e,Wt(mr),Wt(Yn),Gt(Yn,e)):Wt(mr),Gt(mr,n)}var us=null,Ip=!1,Y0=!1;function vA(e){us===null?us=[e]:us.push(e)}function tM(e){Ip=!0,vA(e)}function wi(){if(!Y0&&us!==null){Y0=!0;var e=0,t=Rt;try{var n=us;for(Rt=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}us=null,Ip=!1}catch(o){throw us!==null&&(us=us.slice(e+1)),G$(my,wi),o}finally{Rt=t,Y0=!1}}return null}var yl=[],wl=0,Uh=null,Hh=0,Xr=[],qr=0,fa=null,fs=1,ds="";function Wi(e,t){yl[wl++]=Hh,yl[wl++]=Uh,Uh=e,Hh=t}function gA(e,t,n){Xr[qr++]=fs,Xr[qr++]=ds,Xr[qr++]=fa,fa=e;var r=fs;e=ds;var o=32-bo(r)-1;r&=~(1<<o),n+=1;var s=32-bo(t)+o;if(30<s){var i=o-o%5;s=(r&(1<<i)-1).toString(32),r>>=i,o-=i,fs=1<<32-bo(t)+o|n<<o|r,ds=s+e}else fs=1<<s|n<<o|r,ds=e}function _y(e){e.return!==null&&(Wi(e,1),gA(e,1,0))}function $y(e){for(;e===Uh;)Uh=yl[--wl],yl[wl]=null,Hh=yl[--wl],yl[wl]=null;for(;e===fa;)fa=Xr[--qr],Xr[qr]=null,ds=Xr[--qr],Xr[qr]=null,fs=Xr[--qr],Xr[qr]=null}var Nr=null,kr=null,Xt=!1,yo=null;function yA(e,t){var n=Zr(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function N5(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Nr=e,kr=ii(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Nr=e,kr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=fa!==null?{id:fs,overflow:ds}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Zr(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Nr=e,kr=null,!0):!1;default:return!1}}function og(e){return(e.mode&1)!==0&&(e.flags&128)===0}function sg(e){if(Xt){var t=kr;if(t){var n=t;if(!N5(e,t)){if(og(e))throw Error(Le(418));t=ii(n.nextSibling);var r=Nr;t&&N5(e,t)?yA(r,n):(e.flags=e.flags&-4097|2,Xt=!1,Nr=e)}}else{if(og(e))throw Error(Le(418));e.flags=e.flags&-4097|2,Xt=!1,Nr=e}}}function O5(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Nr=e}function $d(e){if(e!==Nr)return!1;if(!Xt)return O5(e),Xt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!eg(e.type,e.memoizedProps)),t&&(t=kr)){if(og(e))throw wA(),Error(Le(418));for(;t;)yA(e,t),t=ii(t.nextSibling)}if(O5(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Le(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){kr=ii(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}kr=null}}else kr=Nr?ii(e.stateNode.nextSibling):null;return!0}function wA(){for(var e=kr;e;)e=ii(e.nextSibling)}function Il(){kr=Nr=null,Xt=!1}function Ay(e){yo===null?yo=[e]:yo.push(e)}var nM=Ss.ReactCurrentBatchConfig;function Xc(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Le(309));var r=n.stateNode}if(!r)throw Error(Le(147,e));var o=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(i){var a=o.refs;i===null?delete a[s]:a[s]=i},t._stringRef=s,t)}if(typeof e!="string")throw Error(Le(284));if(!n._owner)throw Error(Le(290,e))}return e}function Ad(e,t){throw e=Object.prototype.toString.call(t),Error(Le(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function M5(e){var t=e._init;return t(e._payload)}function xA(e){function t(v,y){if(e){var w=v.deletions;w===null?(v.deletions=[y],v.flags|=16):w.push(y)}}function n(v,y){if(!e)return null;for(;y!==null;)t(v,y),y=y.sibling;return null}function r(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function o(v,y){return v=ui(v,y),v.index=0,v.sibling=null,v}function s(v,y,w){return v.index=w,e?(w=v.alternate,w!==null?(w=w.index,w<y?(v.flags|=2,y):w):(v.flags|=2,y)):(v.flags|=1048576,y)}function i(v){return e&&v.alternate===null&&(v.flags|=2),v}function a(v,y,w,b){return y===null||y.tag!==6?(y=nm(w,v.mode,b),y.return=v,y):(y=o(y,w),y.return=v,y)}function l(v,y,w,b){var E=w.type;return E===dl?f(v,y,w.props.children,b,w.key):y!==null&&(y.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Zs&&M5(E)===y.type)?(b=o(y,w.props),b.ref=Xc(v,y,w),b.return=v,b):(b=bh(w.type,w.key,w.props,null,v.mode,b),b.ref=Xc(v,y,w),b.return=v,b)}function c(v,y,w,b){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=rm(w,v.mode,b),y.return=v,y):(y=o(y,w.children||[]),y.return=v,y)}function f(v,y,w,b,E){return y===null||y.tag!==7?(y=sa(w,v.mode,b,E),y.return=v,y):(y=o(y,w),y.return=v,y)}function u(v,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=nm(""+y,v.mode,w),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case md:return w=bh(y.type,y.key,y.props,null,v.mode,w),w.ref=Xc(v,null,y),w.return=v,w;case fl:return y=rm(y,v.mode,w),y.return=v,y;case Zs:var b=y._init;return u(v,b(y._payload),w)}if(du(y)||jc(y))return y=sa(y,v.mode,w,null),y.return=v,y;Ad(v,y)}return null}function d(v,y,w,b){var E=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return E!==null?null:a(v,y,""+w,b);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case md:return w.key===E?l(v,y,w,b):null;case fl:return w.key===E?c(v,y,w,b):null;case Zs:return E=w._init,d(v,y,E(w._payload),b)}if(du(w)||jc(w))return E!==null?null:f(v,y,w,b,null);Ad(v,w)}return null}function h(v,y,w,b,E){if(typeof b=="string"&&b!==""||typeof b=="number")return v=v.get(w)||null,a(y,v,""+b,E);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case md:return v=v.get(b.key===null?w:b.key)||null,l(y,v,b,E);case fl:return v=v.get(b.key===null?w:b.key)||null,c(y,v,b,E);case Zs:var S=b._init;return h(v,y,w,S(b._payload),E)}if(du(b)||jc(b))return v=v.get(w)||null,f(y,v,b,E,null);Ad(y,b)}return null}function m(v,y,w,b){for(var E=null,S=null,$=y,A=y=0,G=null;$!==null&&A<w.length;A++){$.index>A?(G=$,$=null):G=$.sibling;var I=d(v,$,w[A],b);if(I===null){$===null&&($=G);break}e&&$&&I.alternate===null&&t(v,$),y=s(I,y,A),S===null?E=I:S.sibling=I,S=I,$=G}if(A===w.length)return n(v,$),Xt&&Wi(v,A),E;if($===null){for(;A<w.length;A++)$=u(v,w[A],b),$!==null&&(y=s($,y,A),S===null?E=$:S.sibling=$,S=$);return Xt&&Wi(v,A),E}for($=r(v,$);A<w.length;A++)G=h($,v,A,w[A],b),G!==null&&(e&&G.alternate!==null&&$.delete(G.key===null?A:G.key),y=s(G,y,A),S===null?E=G:S.sibling=G,S=G);return e&&$.forEach(function(H){return t(v,H)}),Xt&&Wi(v,A),E}function p(v,y,w,b){var E=jc(w);if(typeof E!="function")throw Error(Le(150));if(w=E.call(w),w==null)throw Error(Le(151));for(var S=E=null,$=y,A=y=0,G=null,I=w.next();$!==null&&!I.done;A++,I=w.next()){$.index>A?(G=$,$=null):G=$.sibling;var H=d(v,$,I.value,b);if(H===null){$===null&&($=G);break}e&&$&&H.alternate===null&&t(v,$),y=s(H,y,A),S===null?E=H:S.sibling=H,S=H,$=G}if(I.done)return n(v,$),Xt&&Wi(v,A),E;if($===null){for(;!I.done;A++,I=w.next())I=u(v,I.value,b),I!==null&&(y=s(I,y,A),S===null?E=I:S.sibling=I,S=I);return Xt&&Wi(v,A),E}for($=r(v,$);!I.done;A++,I=w.next())I=h($,v,A,I.value,b),I!==null&&(e&&I.alternate!==null&&$.delete(I.key===null?A:I.key),y=s(I,y,A),S===null?E=I:S.sibling=I,S=I);return e&&$.forEach(function(te){return t(v,te)}),Xt&&Wi(v,A),E}function g(v,y,w,b){if(typeof w=="object"&&w!==null&&w.type===dl&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case md:e:{for(var E=w.key,S=y;S!==null;){if(S.key===E){if(E=w.type,E===dl){if(S.tag===7){n(v,S.sibling),y=o(S,w.props.children),y.return=v,v=y;break e}}else if(S.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Zs&&M5(E)===S.type){n(v,S.sibling),y=o(S,w.props),y.ref=Xc(v,S,w),y.return=v,v=y;break e}n(v,S);break}else t(v,S);S=S.sibling}w.type===dl?(y=sa(w.props.children,v.mode,b,w.key),y.return=v,v=y):(b=bh(w.type,w.key,w.props,null,v.mode,b),b.ref=Xc(v,y,w),b.return=v,v=b)}return i(v);case fl:e:{for(S=w.key;y!==null;){if(y.key===S)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){n(v,y.sibling),y=o(y,w.children||[]),y.return=v,v=y;break e}else{n(v,y);break}else t(v,y);y=y.sibling}y=rm(w,v.mode,b),y.return=v,v=y}return i(v);case Zs:return S=w._init,g(v,y,S(w._payload),b)}if(du(w))return m(v,y,w,b);if(jc(w))return p(v,y,w,b);Ad(v,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(n(v,y.sibling),y=o(y,w),y.return=v,v=y):(n(v,y),y=nm(w,v.mode,b),y.return=v,v=y),i(v)):n(v,y)}return g}var Fl=xA(!0),bA=xA(!1),Wh=yi(null),Xh=null,xl=null,Ty=null;function Cy(){Ty=xl=Xh=null}function Py(e){var t=Wh.current;Wt(Wh),e._currentValue=t}function ig(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Cl(e,t){Xh=e,Ty=xl=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(pr=!0),e.firstContext=null)}function eo(e){var t=e._currentValue;if(Ty!==e)if(e={context:e,memoizedValue:t,next:null},xl===null){if(Xh===null)throw Error(Le(308));xl=e,Xh.dependencies={lanes:0,firstContext:e}}else xl=xl.next=e;return t}var ea=null;function ky(e){ea===null?ea=[e]:ea.push(e)}function EA(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,ky(t)):(n.next=o.next,o.next=n),t.interleaved=n,ys(e,r)}function ys(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Qs=!1;function Ry(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function SA(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ms(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ai(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Tt&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,ys(e,n)}return o=r.interleaved,o===null?(t.next=t,ky(r)):(t.next=o.next,o.next=t),r.interleaved=t,ys(e,n)}function mh(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,vy(e,n)}}function L5(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?o=s=i:s=s.next=i,n=n.next}while(n!==null);s===null?o=s=t:s=s.next=t}else o=s=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function qh(e,t,n,r){var o=e.updateQueue;Qs=!1;var s=o.firstBaseUpdate,i=o.lastBaseUpdate,a=o.shared.pending;if(a!==null){o.shared.pending=null;var l=a,c=l.next;l.next=null,i===null?s=c:i.next=c,i=l;var f=e.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==i&&(a===null?f.firstBaseUpdate=c:a.next=c,f.lastBaseUpdate=l))}if(s!==null){var u=o.baseState;i=0,f=c=l=null,a=s;do{var d=a.lane,h=a.eventTime;if((r&d)===d){f!==null&&(f=f.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=e,p=a;switch(d=t,h=n,p.tag){case 1:if(m=p.payload,typeof m=="function"){u=m.call(h,u,d);break e}u=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=p.payload,d=typeof m=="function"?m.call(h,u,d):m,d==null)break e;u=Jt({},u,d);break e;case 2:Qs=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,d=o.effects,d===null?o.effects=[a]:d.push(a))}else h={eventTime:h,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(c=f=h,l=u):f=f.next=h,i|=d;if(a=a.next,a===null){if(a=o.shared.pending,a===null)break;d=a,a=d.next,d.next=null,o.lastBaseUpdate=d,o.shared.pending=null}}while(!0);if(f===null&&(l=u),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=f,t=o.shared.interleaved,t!==null){o=t;do i|=o.lane,o=o.next;while(o!==t)}else s===null&&(o.shared.lanes=0);ha|=i,e.lanes=i,e.memoizedState=u}}function D5(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(Le(191,o));o.call(r)}}}var uf={},Wo=yi(uf),ju=yi(uf),Vu=yi(uf);function ta(e){if(e===uf)throw Error(Le(174));return e}function Ny(e,t){switch(Gt(Vu,t),Gt(ju,e),Gt(Wo,uf),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Bv(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Bv(t,e)}Wt(Wo),Gt(Wo,t)}function zl(){Wt(Wo),Wt(ju),Wt(Vu)}function _A(e){ta(Vu.current);var t=ta(Wo.current),n=Bv(t,e.type);t!==n&&(Gt(ju,e),Gt(Wo,n))}function Oy(e){ju.current===e&&(Wt(Wo),Wt(ju))}var Qt=yi(0);function Yh(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Z0=[];function My(){for(var e=0;e<Z0.length;e++)Z0[e]._workInProgressVersionPrimary=null;Z0.length=0}var vh=Ss.ReactCurrentDispatcher,Q0=Ss.ReactCurrentBatchConfig,da=0,Kt=null,Sn=null,Rn=null,Zh=!1,Tu=!1,Uu=0,rM=0;function Un(){throw Error(Le(321))}function Ly(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!_o(e[n],t[n]))return!1;return!0}function Dy(e,t,n,r,o,s){if(da=s,Kt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,vh.current=e===null||e.memoizedState===null?aM:lM,e=n(r,o),Tu){s=0;do{if(Tu=!1,Uu=0,25<=s)throw Error(Le(301));s+=1,Rn=Sn=null,t.updateQueue=null,vh.current=cM,e=n(r,o)}while(Tu)}if(vh.current=Qh,t=Sn!==null&&Sn.next!==null,da=0,Rn=Sn=Kt=null,Zh=!1,t)throw Error(Le(300));return e}function Iy(){var e=Uu!==0;return Uu=0,e}function Go(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rn===null?Kt.memoizedState=Rn=e:Rn=Rn.next=e,Rn}function to(){if(Sn===null){var e=Kt.alternate;e=e!==null?e.memoizedState:null}else e=Sn.next;var t=Rn===null?Kt.memoizedState:Rn.next;if(t!==null)Rn=t,Sn=e;else{if(e===null)throw Error(Le(310));Sn=e,e={memoizedState:Sn.memoizedState,baseState:Sn.baseState,baseQueue:Sn.baseQueue,queue:Sn.queue,next:null},Rn===null?Kt.memoizedState=Rn=e:Rn=Rn.next=e}return Rn}function Hu(e,t){return typeof t=="function"?t(e):t}function K0(e){var t=to(),n=t.queue;if(n===null)throw Error(Le(311));n.lastRenderedReducer=e;var r=Sn,o=r.baseQueue,s=n.pending;if(s!==null){if(o!==null){var i=o.next;o.next=s.next,s.next=i}r.baseQueue=o=s,n.pending=null}if(o!==null){s=o.next,r=r.baseState;var a=i=null,l=null,c=s;do{var f=c.lane;if((da&f)===f)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var u={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=u,i=r):l=l.next=u,Kt.lanes|=f,ha|=f}c=c.next}while(c!==null&&c!==s);l===null?i=r:l.next=a,_o(r,t.memoizedState)||(pr=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do s=o.lane,Kt.lanes|=s,ha|=s,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function J0(e){var t=to(),n=t.queue;if(n===null)throw Error(Le(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,s=t.memoizedState;if(o!==null){n.pending=null;var i=o=o.next;do s=e(s,i.action),i=i.next;while(i!==o);_o(s,t.memoizedState)||(pr=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function $A(){}function AA(e,t){var n=Kt,r=to(),o=t(),s=!_o(r.memoizedState,o);if(s&&(r.memoizedState=o,pr=!0),r=r.queue,Fy(PA.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Rn!==null&&Rn.memoizedState.tag&1){if(n.flags|=2048,Wu(9,CA.bind(null,n,r,o,t),void 0,null),Nn===null)throw Error(Le(349));da&30||TA(n,t,o)}return o}function TA(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Kt.updateQueue,t===null?(t={lastEffect:null,stores:null},Kt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function CA(e,t,n,r){t.value=n,t.getSnapshot=r,kA(t)&&RA(e)}function PA(e,t,n){return n(function(){kA(t)&&RA(e)})}function kA(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!_o(e,n)}catch{return!0}}function RA(e){var t=ys(e,1);t!==null&&Eo(t,e,1,-1)}function I5(e){var t=Go();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hu,lastRenderedState:e},t.queue=e,e=e.dispatch=iM.bind(null,Kt,e),[t.memoizedState,e]}function Wu(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Kt.updateQueue,t===null?(t={lastEffect:null,stores:null},Kt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function NA(){return to().memoizedState}function gh(e,t,n,r){var o=Go();Kt.flags|=e,o.memoizedState=Wu(1|t,n,void 0,r===void 0?null:r)}function Fp(e,t,n,r){var o=to();r=r===void 0?null:r;var s=void 0;if(Sn!==null){var i=Sn.memoizedState;if(s=i.destroy,r!==null&&Ly(r,i.deps)){o.memoizedState=Wu(t,n,s,r);return}}Kt.flags|=e,o.memoizedState=Wu(1|t,n,s,r)}function F5(e,t){return gh(8390656,8,e,t)}function Fy(e,t){return Fp(2048,8,e,t)}function OA(e,t){return Fp(4,2,e,t)}function MA(e,t){return Fp(4,4,e,t)}function LA(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function DA(e,t,n){return n=n!=null?n.concat([e]):null,Fp(4,4,LA.bind(null,t,e),n)}function zy(){}function IA(e,t){var n=to();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ly(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function FA(e,t){var n=to();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ly(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function zA(e,t,n){return da&21?(_o(n,t)||(n=U$(),Kt.lanes|=n,ha|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,pr=!0),e.memoizedState=n)}function oM(e,t){var n=Rt;Rt=n!==0&&4>n?n:4,e(!0);var r=Q0.transition;Q0.transition={};try{e(!1),t()}finally{Rt=n,Q0.transition=r}}function BA(){return to().memoizedState}function sM(e,t,n){var r=ci(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},GA(e))jA(t,n);else if(n=EA(e,t,n,r),n!==null){var o=sr();Eo(n,e,r,o),VA(n,t,r)}}function iM(e,t,n){var r=ci(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(GA(e))jA(t,o);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var i=t.lastRenderedState,a=s(i,n);if(o.hasEagerState=!0,o.eagerState=a,_o(a,i)){var l=t.interleaved;l===null?(o.next=o,ky(t)):(o.next=l.next,l.next=o),t.interleaved=o;return}}catch{}finally{}n=EA(e,t,o,r),n!==null&&(o=sr(),Eo(n,e,r,o),VA(n,t,r))}}function GA(e){var t=e.alternate;return e===Kt||t!==null&&t===Kt}function jA(e,t){Tu=Zh=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function VA(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,vy(e,n)}}var Qh={readContext:eo,useCallback:Un,useContext:Un,useEffect:Un,useImperativeHandle:Un,useInsertionEffect:Un,useLayoutEffect:Un,useMemo:Un,useReducer:Un,useRef:Un,useState:Un,useDebugValue:Un,useDeferredValue:Un,useTransition:Un,useMutableSource:Un,useSyncExternalStore:Un,useId:Un,unstable_isNewReconciler:!1},aM={readContext:eo,useCallback:function(e,t){return Go().memoizedState=[e,t===void 0?null:t],e},useContext:eo,useEffect:F5,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,gh(4194308,4,LA.bind(null,t,e),n)},useLayoutEffect:function(e,t){return gh(4194308,4,e,t)},useInsertionEffect:function(e,t){return gh(4,2,e,t)},useMemo:function(e,t){var n=Go();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Go();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=sM.bind(null,Kt,e),[r.memoizedState,e]},useRef:function(e){var t=Go();return e={current:e},t.memoizedState=e},useState:I5,useDebugValue:zy,useDeferredValue:function(e){return Go().memoizedState=e},useTransition:function(){var e=I5(!1),t=e[0];return e=oM.bind(null,e[1]),Go().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Kt,o=Go();if(Xt){if(n===void 0)throw Error(Le(407));n=n()}else{if(n=t(),Nn===null)throw Error(Le(349));da&30||TA(r,t,n)}o.memoizedState=n;var s={value:n,getSnapshot:t};return o.queue=s,F5(PA.bind(null,r,s,e),[e]),r.flags|=2048,Wu(9,CA.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Go(),t=Nn.identifierPrefix;if(Xt){var n=ds,r=fs;n=(r&~(1<<32-bo(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Uu++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=rM++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},lM={readContext:eo,useCallback:IA,useContext:eo,useEffect:Fy,useImperativeHandle:DA,useInsertionEffect:OA,useLayoutEffect:MA,useMemo:FA,useReducer:K0,useRef:NA,useState:function(){return K0(Hu)},useDebugValue:zy,useDeferredValue:function(e){var t=to();return zA(t,Sn.memoizedState,e)},useTransition:function(){var e=K0(Hu)[0],t=to().memoizedState;return[e,t]},useMutableSource:$A,useSyncExternalStore:AA,useId:BA,unstable_isNewReconciler:!1},cM={readContext:eo,useCallback:IA,useContext:eo,useEffect:Fy,useImperativeHandle:DA,useInsertionEffect:OA,useLayoutEffect:MA,useMemo:FA,useReducer:J0,useRef:NA,useState:function(){return J0(Hu)},useDebugValue:zy,useDeferredValue:function(e){var t=to();return Sn===null?t.memoizedState=e:zA(t,Sn.memoizedState,e)},useTransition:function(){var e=J0(Hu)[0],t=to().memoizedState;return[e,t]},useMutableSource:$A,useSyncExternalStore:AA,useId:BA,unstable_isNewReconciler:!1};function vo(e,t){if(e&&e.defaultProps){t=Jt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ag(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Jt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var zp={isMounted:function(e){return(e=e._reactInternals)?xa(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=sr(),o=ci(e),s=ms(r,o);s.payload=t,n!=null&&(s.callback=n),t=ai(e,s,o),t!==null&&(Eo(t,e,o,r),mh(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=sr(),o=ci(e),s=ms(r,o);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=ai(e,s,o),t!==null&&(Eo(t,e,o,r),mh(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=sr(),r=ci(e),o=ms(n,r);o.tag=2,t!=null&&(o.callback=t),t=ai(e,o,r),t!==null&&(Eo(t,e,r,n),mh(t,e,r))}};function z5(e,t,n,r,o,s,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,i):t.prototype&&t.prototype.isPureReactComponent?!Fu(n,r)||!Fu(o,s):!0}function UA(e,t,n){var r=!1,o=hi,s=t.contextType;return typeof s=="object"&&s!==null?s=eo(s):(o=vr(t)?ua:Yn.current,r=t.contextTypes,s=(r=r!=null)?Dl(e,o):hi),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=zp,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=s),t}function B5(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&zp.enqueueReplaceState(t,t.state,null)}function lg(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Ry(e);var s=t.contextType;typeof s=="object"&&s!==null?o.context=eo(s):(s=vr(t)?ua:Yn.current,o.context=Dl(e,s)),o.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(ag(e,t,s,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&zp.enqueueReplaceState(o,o.state,null),qh(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function Bl(e,t){try{var n="",r=t;do n+=I6(r),r=r.return;while(r);var o=n}catch(s){o=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:o,digest:null}}function em(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function cg(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var uM=typeof WeakMap=="function"?WeakMap:Map;function HA(e,t,n){n=ms(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Jh||(Jh=!0,wg=r),cg(e,t)},n}function WA(e,t,n){n=ms(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){cg(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){cg(e,t),typeof r!="function"&&(li===null?li=new Set([this]):li.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function G5(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new uM;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=_M.bind(null,e,t,n),t.then(e,e))}function j5(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function V5(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ms(-1,1),t.tag=2,ai(n,t,1))),n.lanes|=1),e)}var fM=Ss.ReactCurrentOwner,pr=!1;function er(e,t,n,r){t.child=e===null?bA(t,null,n,r):Fl(t,e.child,n,r)}function U5(e,t,n,r,o){n=n.render;var s=t.ref;return Cl(t,o),r=Dy(e,t,n,r,s,o),n=Iy(),e!==null&&!pr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,ws(e,t,o)):(Xt&&n&&_y(t),t.flags|=1,er(e,t,r,o),t.child)}function H5(e,t,n,r,o){if(e===null){var s=n.type;return typeof s=="function"&&!Xy(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,XA(e,t,s,r,o)):(e=bh(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&o)){var i=s.memoizedProps;if(n=n.compare,n=n!==null?n:Fu,n(i,r)&&e.ref===t.ref)return ws(e,t,o)}return t.flags|=1,e=ui(s,r),e.ref=t.ref,e.return=t,t.child=e}function XA(e,t,n,r,o){if(e!==null){var s=e.memoizedProps;if(Fu(s,r)&&e.ref===t.ref)if(pr=!1,t.pendingProps=r=s,(e.lanes&o)!==0)e.flags&131072&&(pr=!0);else return t.lanes=e.lanes,ws(e,t,o)}return ug(e,t,n,r,o)}function qA(e,t,n){var r=t.pendingProps,o=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Gt(El,Pr),Pr|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Gt(El,Pr),Pr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Gt(El,Pr),Pr|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Gt(El,Pr),Pr|=r;return er(e,t,o,n),t.child}function YA(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ug(e,t,n,r,o){var s=vr(n)?ua:Yn.current;return s=Dl(t,s),Cl(t,o),n=Dy(e,t,n,r,s,o),r=Iy(),e!==null&&!pr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,ws(e,t,o)):(Xt&&r&&_y(t),t.flags|=1,er(e,t,n,o),t.child)}function W5(e,t,n,r,o){if(vr(n)){var s=!0;Vh(t)}else s=!1;if(Cl(t,o),t.stateNode===null)yh(e,t),UA(t,n,r),lg(t,n,r,o),r=!0;else if(e===null){var i=t.stateNode,a=t.memoizedProps;i.props=a;var l=i.context,c=n.contextType;typeof c=="object"&&c!==null?c=eo(c):(c=vr(n)?ua:Yn.current,c=Dl(t,c));var f=n.getDerivedStateFromProps,u=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function";u||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==r||l!==c)&&B5(t,i,r,c),Qs=!1;var d=t.memoizedState;i.state=d,qh(t,r,i,o),l=t.memoizedState,a!==r||d!==l||mr.current||Qs?(typeof f=="function"&&(ag(t,n,f,r),l=t.memoizedState),(a=Qs||z5(t,n,a,r,d,l,c))?(u||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),i.props=r,i.state=l,i.context=c,r=a):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,SA(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:vo(t.type,a),i.props=c,u=t.pendingProps,d=i.context,l=n.contextType,typeof l=="object"&&l!==null?l=eo(l):(l=vr(n)?ua:Yn.current,l=Dl(t,l));var h=n.getDerivedStateFromProps;(f=typeof h=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==u||d!==l)&&B5(t,i,r,l),Qs=!1,d=t.memoizedState,i.state=d,qh(t,r,i,o);var m=t.memoizedState;a!==u||d!==m||mr.current||Qs?(typeof h=="function"&&(ag(t,n,h,r),m=t.memoizedState),(c=Qs||z5(t,n,c,r,d,m,l)||!1)?(f||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,m,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,m,l)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),i.props=r,i.state=m,i.context=l,r=c):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return fg(e,t,n,r,s,o)}function fg(e,t,n,r,o,s){YA(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return o&&R5(t,n,!1),ws(e,t,s);r=t.stateNode,fM.current=t;var a=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=Fl(t,e.child,null,s),t.child=Fl(t,null,a,s)):er(e,t,a,s),t.memoizedState=r.state,o&&R5(t,n,!0),t.child}function ZA(e){var t=e.stateNode;t.pendingContext?k5(e,t.pendingContext,t.pendingContext!==t.context):t.context&&k5(e,t.context,!1),Ny(e,t.containerInfo)}function X5(e,t,n,r,o){return Il(),Ay(o),t.flags|=256,er(e,t,n,r),t.child}var dg={dehydrated:null,treeContext:null,retryLane:0};function hg(e){return{baseLanes:e,cachePool:null,transitions:null}}function QA(e,t,n){var r=t.pendingProps,o=Qt.current,s=!1,i=(t.flags&128)!==0,a;if((a=i)||(a=e!==null&&e.memoizedState===null?!1:(o&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),Gt(Qt,o&1),e===null)return sg(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,s?(r=t.mode,s=t.child,i={mode:"hidden",children:i},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=i):s=jp(i,r,0,null),e=sa(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=hg(n),t.memoizedState=dg,e):By(t,i));if(o=e.memoizedState,o!==null&&(a=o.dehydrated,a!==null))return dM(e,t,i,r,a,o,n);if(s){s=r.fallback,i=t.mode,o=e.child,a=o.sibling;var l={mode:"hidden",children:r.children};return!(i&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=ui(o,l),r.subtreeFlags=o.subtreeFlags&14680064),a!==null?s=ui(a,s):(s=sa(s,i,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,i=e.child.memoizedState,i=i===null?hg(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},s.memoizedState=i,s.childLanes=e.childLanes&~n,t.memoizedState=dg,r}return s=e.child,e=s.sibling,r=ui(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function By(e,t){return t=jp({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Td(e,t,n,r){return r!==null&&Ay(r),Fl(t,e.child,null,n),e=By(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function dM(e,t,n,r,o,s,i){if(n)return t.flags&256?(t.flags&=-257,r=em(Error(Le(422))),Td(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,o=t.mode,r=jp({mode:"visible",children:r.children},o,0,null),s=sa(s,o,i,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Fl(t,e.child,null,i),t.child.memoizedState=hg(i),t.memoizedState=dg,s);if(!(t.mode&1))return Td(e,t,i,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Le(419)),r=em(s,r,void 0),Td(e,t,i,r)}if(a=(i&e.childLanes)!==0,pr||a){if(r=Nn,r!==null){switch(i&-i){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|i)?0:o,o!==0&&o!==s.retryLane&&(s.retryLane=o,ys(e,o),Eo(r,e,o,-1))}return Wy(),r=em(Error(Le(421))),Td(e,t,i,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=$M.bind(null,e),o._reactRetry=t,null):(e=s.treeContext,kr=ii(o.nextSibling),Nr=t,Xt=!0,yo=null,e!==null&&(Xr[qr++]=fs,Xr[qr++]=ds,Xr[qr++]=fa,fs=e.id,ds=e.overflow,fa=t),t=By(t,r.children),t.flags|=4096,t)}function q5(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),ig(e.return,t,n)}function tm(e,t,n,r,o){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=o)}function KA(e,t,n){var r=t.pendingProps,o=r.revealOrder,s=r.tail;if(er(e,t,r.children,n),r=Qt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&q5(e,n,t);else if(e.tag===19)q5(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Gt(Qt,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Yh(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),tm(t,!1,o,n,s);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Yh(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}tm(t,!0,n,null,s);break;case"together":tm(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function yh(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ws(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ha|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Le(153));if(t.child!==null){for(e=t.child,n=ui(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ui(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function hM(e,t,n){switch(t.tag){case 3:ZA(t),Il();break;case 5:_A(t);break;case 1:vr(t.type)&&Vh(t);break;case 4:Ny(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;Gt(Wh,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Gt(Qt,Qt.current&1),t.flags|=128,null):n&t.child.childLanes?QA(e,t,n):(Gt(Qt,Qt.current&1),e=ws(e,t,n),e!==null?e.sibling:null);Gt(Qt,Qt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return KA(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Gt(Qt,Qt.current),r)break;return null;case 22:case 23:return t.lanes=0,qA(e,t,n)}return ws(e,t,n)}var JA,pg,eT,tT;JA=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};pg=function(){};eT=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,ta(Wo.current);var s=null;switch(n){case"input":o=Dv(e,o),r=Dv(e,r),s=[];break;case"select":o=Jt({},o,{value:void 0}),r=Jt({},r,{value:void 0}),s=[];break;case"textarea":o=zv(e,o),r=zv(e,r),s=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Gh)}Gv(n,r);var i;n=null;for(c in o)if(!r.hasOwnProperty(c)&&o.hasOwnProperty(c)&&o[c]!=null)if(c==="style"){var a=o[c];for(i in a)a.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ru.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=o!=null?o[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(i in a)!a.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in l)l.hasOwnProperty(i)&&a[i]!==l[i]&&(n||(n={}),n[i]=l[i])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ru.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ut("scroll",e),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}};tT=function(e,t,n,r){n!==r&&(t.flags|=4)};function qc(e,t){if(!Xt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Hn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function pM(e,t,n){var r=t.pendingProps;switch($y(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hn(t),null;case 1:return vr(t.type)&&jh(),Hn(t),null;case 3:return r=t.stateNode,zl(),Wt(mr),Wt(Yn),My(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&($d(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,yo!==null&&(Eg(yo),yo=null))),pg(e,t),Hn(t),null;case 5:Oy(t);var o=ta(Vu.current);if(n=t.type,e!==null&&t.stateNode!=null)eT(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Le(166));return Hn(t),null}if(e=ta(Wo.current),$d(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[jo]=t,r[Gu]=s,e=(t.mode&1)!==0,n){case"dialog":Ut("cancel",r),Ut("close",r);break;case"iframe":case"object":case"embed":Ut("load",r);break;case"video":case"audio":for(o=0;o<pu.length;o++)Ut(pu[o],r);break;case"source":Ut("error",r);break;case"img":case"image":case"link":Ut("error",r),Ut("load",r);break;case"details":Ut("toggle",r);break;case"input":r5(r,s),Ut("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ut("invalid",r);break;case"textarea":s5(r,s),Ut("invalid",r)}Gv(n,s),o=null;for(var i in s)if(s.hasOwnProperty(i)){var a=s[i];i==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&_d(r.textContent,a,e),o=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&_d(r.textContent,a,e),o=["children",""+a]):Ru.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&Ut("scroll",r)}switch(n){case"input":vd(r),o5(r,s,!0);break;case"textarea":vd(r),i5(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Gh)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=P$(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[jo]=t,e[Gu]=r,JA(e,t,!1,!1),t.stateNode=e;e:{switch(i=jv(n,r),n){case"dialog":Ut("cancel",e),Ut("close",e),o=r;break;case"iframe":case"object":case"embed":Ut("load",e),o=r;break;case"video":case"audio":for(o=0;o<pu.length;o++)Ut(pu[o],e);o=r;break;case"source":Ut("error",e),o=r;break;case"img":case"image":case"link":Ut("error",e),Ut("load",e),o=r;break;case"details":Ut("toggle",e),o=r;break;case"input":r5(e,r),o=Dv(e,r),Ut("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=Jt({},r,{value:void 0}),Ut("invalid",e);break;case"textarea":s5(e,r),o=zv(e,r),Ut("invalid",e);break;default:o=r}Gv(n,o),a=o;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?N$(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&k$(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Nu(e,l):typeof l=="number"&&Nu(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ru.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ut("scroll",e):l!=null&&uy(e,s,l,i))}switch(n){case"input":vd(e),o5(e,r,!1);break;case"textarea":vd(e),i5(e);break;case"option":r.value!=null&&e.setAttribute("value",""+di(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?_l(e,!!r.multiple,s,!1):r.defaultValue!=null&&_l(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=Gh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Hn(t),null;case 6:if(e&&t.stateNode!=null)tT(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Le(166));if(n=ta(Vu.current),ta(Wo.current),$d(t)){if(r=t.stateNode,n=t.memoizedProps,r[jo]=t,(s=r.nodeValue!==n)&&(e=Nr,e!==null))switch(e.tag){case 3:_d(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&_d(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[jo]=t,t.stateNode=r}return Hn(t),null;case 13:if(Wt(Qt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Xt&&kr!==null&&t.mode&1&&!(t.flags&128))wA(),Il(),t.flags|=98560,s=!1;else if(s=$d(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(Le(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Le(317));s[jo]=t}else Il(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Hn(t),s=!1}else yo!==null&&(Eg(yo),yo=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Qt.current&1?_n===0&&(_n=3):Wy())),t.updateQueue!==null&&(t.flags|=4),Hn(t),null);case 4:return zl(),pg(e,t),e===null&&zu(t.stateNode.containerInfo),Hn(t),null;case 10:return Py(t.type._context),Hn(t),null;case 17:return vr(t.type)&&jh(),Hn(t),null;case 19:if(Wt(Qt),s=t.memoizedState,s===null)return Hn(t),null;if(r=(t.flags&128)!==0,i=s.rendering,i===null)if(r)qc(s,!1);else{if(_n!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Yh(e),i!==null){for(t.flags|=128,qc(s,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,i=s.alternate,i===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,s.type=i.type,e=i.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Gt(Qt,Qt.current&1|2),t.child}e=e.sibling}s.tail!==null&&hn()>Gl&&(t.flags|=128,r=!0,qc(s,!1),t.lanes=4194304)}else{if(!r)if(e=Yh(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),qc(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!Xt)return Hn(t),null}else 2*hn()-s.renderingStartTime>Gl&&n!==1073741824&&(t.flags|=128,r=!0,qc(s,!1),t.lanes=4194304);s.isBackwards?(i.sibling=t.child,t.child=i):(n=s.last,n!==null?n.sibling=i:t.child=i,s.last=i)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=hn(),t.sibling=null,n=Qt.current,Gt(Qt,r?n&1|2:n&1),t):(Hn(t),null);case 22:case 23:return Hy(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Pr&1073741824&&(Hn(t),t.subtreeFlags&6&&(t.flags|=8192)):Hn(t),null;case 24:return null;case 25:return null}throw Error(Le(156,t.tag))}function mM(e,t){switch($y(t),t.tag){case 1:return vr(t.type)&&jh(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return zl(),Wt(mr),Wt(Yn),My(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Oy(t),null;case 13:if(Wt(Qt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Le(340));Il()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Wt(Qt),null;case 4:return zl(),null;case 10:return Py(t.type._context),null;case 22:case 23:return Hy(),null;case 24:return null;default:return null}}var Cd=!1,Wn=!1,vM=typeof WeakSet=="function"?WeakSet:Set,Xe=null;function bl(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){sn(e,t,r)}else n.current=null}function mg(e,t,n){try{n()}catch(r){sn(e,t,r)}}var Y5=!1;function gM(e,t){if(Kv=Fh,e=iA(),Sy(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var i=0,a=-1,l=-1,c=0,f=0,u=e,d=null;t:for(;;){for(var h;u!==n||o!==0&&u.nodeType!==3||(a=i+o),u!==s||r!==0&&u.nodeType!==3||(l=i+r),u.nodeType===3&&(i+=u.nodeValue.length),(h=u.firstChild)!==null;)d=u,u=h;for(;;){if(u===e)break t;if(d===n&&++c===o&&(a=i),d===s&&++f===r&&(l=i),(h=u.nextSibling)!==null)break;u=d,d=u.parentNode}u=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Jv={focusedElem:e,selectionRange:n},Fh=!1,Xe=t;Xe!==null;)if(t=Xe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Xe=e;else for(;Xe!==null;){t=Xe;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var p=m.memoizedProps,g=m.memoizedState,v=t.stateNode,y=v.getSnapshotBeforeUpdate(t.elementType===t.type?p:vo(t.type,p),g);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Le(163))}}catch(b){sn(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,Xe=e;break}Xe=t.return}return m=Y5,Y5=!1,m}function Cu(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var s=o.destroy;o.destroy=void 0,s!==void 0&&mg(t,n,s)}o=o.next}while(o!==r)}}function Bp(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function vg(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function nT(e){var t=e.alternate;t!==null&&(e.alternate=null,nT(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[jo],delete t[Gu],delete t[ng],delete t[JO],delete t[eM])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function rT(e){return e.tag===5||e.tag===3||e.tag===4}function Z5(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||rT(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function gg(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Gh));else if(r!==4&&(e=e.child,e!==null))for(gg(e,t,n),e=e.sibling;e!==null;)gg(e,t,n),e=e.sibling}function yg(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(yg(e,t,n),e=e.sibling;e!==null;)yg(e,t,n),e=e.sibling}var Fn=null,go=!1;function Is(e,t,n){for(n=n.child;n!==null;)oT(e,t,n),n=n.sibling}function oT(e,t,n){if(Ho&&typeof Ho.onCommitFiberUnmount=="function")try{Ho.onCommitFiberUnmount(Np,n)}catch{}switch(n.tag){case 5:Wn||bl(n,t);case 6:var r=Fn,o=go;Fn=null,Is(e,t,n),Fn=r,go=o,Fn!==null&&(go?(e=Fn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Fn.removeChild(n.stateNode));break;case 18:Fn!==null&&(go?(e=Fn,n=n.stateNode,e.nodeType===8?q0(e.parentNode,n):e.nodeType===1&&q0(e,n),Du(e)):q0(Fn,n.stateNode));break;case 4:r=Fn,o=go,Fn=n.stateNode.containerInfo,go=!0,Is(e,t,n),Fn=r,go=o;break;case 0:case 11:case 14:case 15:if(!Wn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var s=o,i=s.destroy;s=s.tag,i!==void 0&&(s&2||s&4)&&mg(n,t,i),o=o.next}while(o!==r)}Is(e,t,n);break;case 1:if(!Wn&&(bl(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){sn(n,t,a)}Is(e,t,n);break;case 21:Is(e,t,n);break;case 22:n.mode&1?(Wn=(r=Wn)||n.memoizedState!==null,Is(e,t,n),Wn=r):Is(e,t,n);break;default:Is(e,t,n)}}function Q5(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new vM),t.forEach(function(r){var o=AM.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function po(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var s=e,i=t,a=i;e:for(;a!==null;){switch(a.tag){case 5:Fn=a.stateNode,go=!1;break e;case 3:Fn=a.stateNode.containerInfo,go=!0;break e;case 4:Fn=a.stateNode.containerInfo,go=!0;break e}a=a.return}if(Fn===null)throw Error(Le(160));oT(s,i,o),Fn=null,go=!1;var l=o.alternate;l!==null&&(l.return=null),o.return=null}catch(c){sn(o,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)sT(t,e),t=t.sibling}function sT(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(po(t,e),Mo(e),r&4){try{Cu(3,e,e.return),Bp(3,e)}catch(p){sn(e,e.return,p)}try{Cu(5,e,e.return)}catch(p){sn(e,e.return,p)}}break;case 1:po(t,e),Mo(e),r&512&&n!==null&&bl(n,n.return);break;case 5:if(po(t,e),Mo(e),r&512&&n!==null&&bl(n,n.return),e.flags&32){var o=e.stateNode;try{Nu(o,"")}catch(p){sn(e,e.return,p)}}if(r&4&&(o=e.stateNode,o!=null)){var s=e.memoizedProps,i=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&T$(o,s),jv(a,i);var c=jv(a,s);for(i=0;i<l.length;i+=2){var f=l[i],u=l[i+1];f==="style"?N$(o,u):f==="dangerouslySetInnerHTML"?k$(o,u):f==="children"?Nu(o,u):uy(o,f,u,c)}switch(a){case"input":Iv(o,s);break;case"textarea":C$(o,s);break;case"select":var d=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?_l(o,!!s.multiple,h,!1):d!==!!s.multiple&&(s.defaultValue!=null?_l(o,!!s.multiple,s.defaultValue,!0):_l(o,!!s.multiple,s.multiple?[]:"",!1))}o[Gu]=s}catch(p){sn(e,e.return,p)}}break;case 6:if(po(t,e),Mo(e),r&4){if(e.stateNode===null)throw Error(Le(162));o=e.stateNode,s=e.memoizedProps;try{o.nodeValue=s}catch(p){sn(e,e.return,p)}}break;case 3:if(po(t,e),Mo(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Du(t.containerInfo)}catch(p){sn(e,e.return,p)}break;case 4:po(t,e),Mo(e);break;case 13:po(t,e),Mo(e),o=e.child,o.flags&8192&&(s=o.memoizedState!==null,o.stateNode.isHidden=s,!s||o.alternate!==null&&o.alternate.memoizedState!==null||(Vy=hn())),r&4&&Q5(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(Wn=(c=Wn)||f,po(t,e),Wn=c):po(t,e),Mo(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!f&&e.mode&1)for(Xe=e,f=e.child;f!==null;){for(u=Xe=f;Xe!==null;){switch(d=Xe,h=d.child,d.tag){case 0:case 11:case 14:case 15:Cu(4,d,d.return);break;case 1:bl(d,d.return);var m=d.stateNode;if(typeof m.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(p){sn(r,n,p)}}break;case 5:bl(d,d.return);break;case 22:if(d.memoizedState!==null){J5(u);continue}}h!==null?(h.return=d,Xe=h):J5(u)}f=f.sibling}e:for(f=null,u=e;;){if(u.tag===5){if(f===null){f=u;try{o=u.stateNode,c?(s=o.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=u.stateNode,l=u.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=R$("display",i))}catch(p){sn(e,e.return,p)}}}else if(u.tag===6){if(f===null)try{u.stateNode.nodeValue=c?"":u.memoizedProps}catch(p){sn(e,e.return,p)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===e)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===e)break e;for(;u.sibling===null;){if(u.return===null||u.return===e)break e;f===u&&(f=null),u=u.return}f===u&&(f=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:po(t,e),Mo(e),r&4&&Q5(e);break;case 21:break;default:po(t,e),Mo(e)}}function Mo(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(rT(n)){var r=n;break e}n=n.return}throw Error(Le(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(Nu(o,""),r.flags&=-33);var s=Z5(e);yg(e,s,o);break;case 3:case 4:var i=r.stateNode.containerInfo,a=Z5(e);gg(e,a,i);break;default:throw Error(Le(161))}}catch(l){sn(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function yM(e,t,n){Xe=e,iT(e)}function iT(e,t,n){for(var r=(e.mode&1)!==0;Xe!==null;){var o=Xe,s=o.child;if(o.tag===22&&r){var i=o.memoizedState!==null||Cd;if(!i){var a=o.alternate,l=a!==null&&a.memoizedState!==null||Wn;a=Cd;var c=Wn;if(Cd=i,(Wn=l)&&!c)for(Xe=o;Xe!==null;)i=Xe,l=i.child,i.tag===22&&i.memoizedState!==null?eE(o):l!==null?(l.return=i,Xe=l):eE(o);for(;s!==null;)Xe=s,iT(s),s=s.sibling;Xe=o,Cd=a,Wn=c}K5(e)}else o.subtreeFlags&8772&&s!==null?(s.return=o,Xe=s):K5(e)}}function K5(e){for(;Xe!==null;){var t=Xe;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Wn||Bp(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Wn)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:vo(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&D5(t,s,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}D5(t,i,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var u=f.dehydrated;u!==null&&Du(u)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Le(163))}Wn||t.flags&512&&vg(t)}catch(d){sn(t,t.return,d)}}if(t===e){Xe=null;break}if(n=t.sibling,n!==null){n.return=t.return,Xe=n;break}Xe=t.return}}function J5(e){for(;Xe!==null;){var t=Xe;if(t===e){Xe=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Xe=n;break}Xe=t.return}}function eE(e){for(;Xe!==null;){var t=Xe;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Bp(4,t)}catch(l){sn(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(l){sn(t,o,l)}}var s=t.return;try{vg(t)}catch(l){sn(t,s,l)}break;case 5:var i=t.return;try{vg(t)}catch(l){sn(t,i,l)}}}catch(l){sn(t,t.return,l)}if(t===e){Xe=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Xe=a;break}Xe=t.return}}var wM=Math.ceil,Kh=Ss.ReactCurrentDispatcher,Gy=Ss.ReactCurrentOwner,Qr=Ss.ReactCurrentBatchConfig,Tt=0,Nn=null,bn=null,zn=0,Pr=0,El=yi(0),_n=0,Xu=null,ha=0,Gp=0,jy=0,Pu=null,fr=null,Vy=0,Gl=1/0,cs=null,Jh=!1,wg=null,li=null,Pd=!1,ni=null,ep=0,ku=0,xg=null,wh=-1,xh=0;function sr(){return Tt&6?hn():wh!==-1?wh:wh=hn()}function ci(e){return e.mode&1?Tt&2&&zn!==0?zn&-zn:nM.transition!==null?(xh===0&&(xh=U$()),xh):(e=Rt,e!==0||(e=window.event,e=e===void 0?16:Q$(e.type)),e):1}function Eo(e,t,n,r){if(50<ku)throw ku=0,xg=null,Error(Le(185));af(e,n,r),(!(Tt&2)||e!==Nn)&&(e===Nn&&(!(Tt&2)&&(Gp|=n),_n===4&&Js(e,zn)),gr(e,r),n===1&&Tt===0&&!(t.mode&1)&&(Gl=hn()+500,Ip&&wi()))}function gr(e,t){var n=e.callbackNode;nO(e,t);var r=Ih(e,e===Nn?zn:0);if(r===0)n!==null&&c5(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&c5(n),t===1)e.tag===0?tM(tE.bind(null,e)):vA(tE.bind(null,e)),QO(function(){!(Tt&6)&&wi()}),n=null;else{switch(H$(r)){case 1:n=my;break;case 4:n=j$;break;case 16:n=Dh;break;case 536870912:n=V$;break;default:n=Dh}n=pT(n,aT.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function aT(e,t){if(wh=-1,xh=0,Tt&6)throw Error(Le(327));var n=e.callbackNode;if(Pl()&&e.callbackNode!==n)return null;var r=Ih(e,e===Nn?zn:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=tp(e,r);else{t=r;var o=Tt;Tt|=2;var s=cT();(Nn!==e||zn!==t)&&(cs=null,Gl=hn()+500,oa(e,t));do try{EM();break}catch(a){lT(e,a)}while(!0);Cy(),Kh.current=s,Tt=o,bn!==null?t=0:(Nn=null,zn=0,t=_n)}if(t!==0){if(t===2&&(o=Xv(e),o!==0&&(r=o,t=bg(e,o))),t===1)throw n=Xu,oa(e,0),Js(e,r),gr(e,hn()),n;if(t===6)Js(e,r);else{if(o=e.current.alternate,!(r&30)&&!xM(o)&&(t=tp(e,r),t===2&&(s=Xv(e),s!==0&&(r=s,t=bg(e,s))),t===1))throw n=Xu,oa(e,0),Js(e,r),gr(e,hn()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(Le(345));case 2:Xi(e,fr,cs);break;case 3:if(Js(e,r),(r&130023424)===r&&(t=Vy+500-hn(),10<t)){if(Ih(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){sr(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=tg(Xi.bind(null,e,fr,cs),t);break}Xi(e,fr,cs);break;case 4:if(Js(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var i=31-bo(r);s=1<<i,i=t[i],i>o&&(o=i),r&=~s}if(r=o,r=hn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*wM(r/1960))-r,10<r){e.timeoutHandle=tg(Xi.bind(null,e,fr,cs),r);break}Xi(e,fr,cs);break;case 5:Xi(e,fr,cs);break;default:throw Error(Le(329))}}}return gr(e,hn()),e.callbackNode===n?aT.bind(null,e):null}function bg(e,t){var n=Pu;return e.current.memoizedState.isDehydrated&&(oa(e,t).flags|=256),e=tp(e,t),e!==2&&(t=fr,fr=n,t!==null&&Eg(t)),e}function Eg(e){fr===null?fr=e:fr.push.apply(fr,e)}function xM(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],s=o.getSnapshot;o=o.value;try{if(!_o(s(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Js(e,t){for(t&=~jy,t&=~Gp,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-bo(t),r=1<<n;e[n]=-1,t&=~r}}function tE(e){if(Tt&6)throw Error(Le(327));Pl();var t=Ih(e,0);if(!(t&1))return gr(e,hn()),null;var n=tp(e,t);if(e.tag!==0&&n===2){var r=Xv(e);r!==0&&(t=r,n=bg(e,r))}if(n===1)throw n=Xu,oa(e,0),Js(e,t),gr(e,hn()),n;if(n===6)throw Error(Le(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Xi(e,fr,cs),gr(e,hn()),null}function Uy(e,t){var n=Tt;Tt|=1;try{return e(t)}finally{Tt=n,Tt===0&&(Gl=hn()+500,Ip&&wi())}}function pa(e){ni!==null&&ni.tag===0&&!(Tt&6)&&Pl();var t=Tt;Tt|=1;var n=Qr.transition,r=Rt;try{if(Qr.transition=null,Rt=1,e)return e()}finally{Rt=r,Qr.transition=n,Tt=t,!(Tt&6)&&wi()}}function Hy(){Pr=El.current,Wt(El)}function oa(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,ZO(n)),bn!==null)for(n=bn.return;n!==null;){var r=n;switch($y(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&jh();break;case 3:zl(),Wt(mr),Wt(Yn),My();break;case 5:Oy(r);break;case 4:zl();break;case 13:Wt(Qt);break;case 19:Wt(Qt);break;case 10:Py(r.type._context);break;case 22:case 23:Hy()}n=n.return}if(Nn=e,bn=e=ui(e.current,null),zn=Pr=t,_n=0,Xu=null,jy=Gp=ha=0,fr=Pu=null,ea!==null){for(t=0;t<ea.length;t++)if(n=ea[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,s=n.pending;if(s!==null){var i=s.next;s.next=o,r.next=i}n.pending=r}ea=null}return e}function lT(e,t){do{var n=bn;try{if(Cy(),vh.current=Qh,Zh){for(var r=Kt.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Zh=!1}if(da=0,Rn=Sn=Kt=null,Tu=!1,Uu=0,Gy.current=null,n===null||n.return===null){_n=1,Xu=t,bn=null;break}e:{var s=e,i=n.return,a=n,l=t;if(t=zn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,f=a,u=f.tag;if(!(f.mode&1)&&(u===0||u===11||u===15)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var h=j5(i);if(h!==null){h.flags&=-257,V5(h,i,a,s,t),h.mode&1&&G5(s,c,t),t=h,l=c;var m=t.updateQueue;if(m===null){var p=new Set;p.add(l),t.updateQueue=p}else m.add(l);break e}else{if(!(t&1)){G5(s,c,t),Wy();break e}l=Error(Le(426))}}else if(Xt&&a.mode&1){var g=j5(i);if(g!==null){!(g.flags&65536)&&(g.flags|=256),V5(g,i,a,s,t),Ay(Bl(l,a));break e}}s=l=Bl(l,a),_n!==4&&(_n=2),Pu===null?Pu=[s]:Pu.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var v=HA(s,l,t);L5(s,v);break e;case 1:a=l;var y=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(li===null||!li.has(w)))){s.flags|=65536,t&=-t,s.lanes|=t;var b=WA(s,a,t);L5(s,b);break e}}s=s.return}while(s!==null)}fT(n)}catch(E){t=E,bn===n&&n!==null&&(bn=n=n.return);continue}break}while(!0)}function cT(){var e=Kh.current;return Kh.current=Qh,e===null?Qh:e}function Wy(){(_n===0||_n===3||_n===2)&&(_n=4),Nn===null||!(ha&268435455)&&!(Gp&268435455)||Js(Nn,zn)}function tp(e,t){var n=Tt;Tt|=2;var r=cT();(Nn!==e||zn!==t)&&(cs=null,oa(e,t));do try{bM();break}catch(o){lT(e,o)}while(!0);if(Cy(),Tt=n,Kh.current=r,bn!==null)throw Error(Le(261));return Nn=null,zn=0,_n}function bM(){for(;bn!==null;)uT(bn)}function EM(){for(;bn!==null&&!X6();)uT(bn)}function uT(e){var t=hT(e.alternate,e,Pr);e.memoizedProps=e.pendingProps,t===null?fT(e):bn=t,Gy.current=null}function fT(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=mM(n,t),n!==null){n.flags&=32767,bn=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{_n=6,bn=null;return}}else if(n=pM(n,t,Pr),n!==null){bn=n;return}if(t=t.sibling,t!==null){bn=t;return}bn=t=e}while(t!==null);_n===0&&(_n=5)}function Xi(e,t,n){var r=Rt,o=Qr.transition;try{Qr.transition=null,Rt=1,SM(e,t,n,r)}finally{Qr.transition=o,Rt=r}return null}function SM(e,t,n,r){do Pl();while(ni!==null);if(Tt&6)throw Error(Le(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Le(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(rO(e,s),e===Nn&&(bn=Nn=null,zn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Pd||(Pd=!0,pT(Dh,function(){return Pl(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Qr.transition,Qr.transition=null;var i=Rt;Rt=1;var a=Tt;Tt|=4,Gy.current=null,gM(e,n),sT(n,e),VO(Jv),Fh=!!Kv,Jv=Kv=null,e.current=n,yM(n),q6(),Tt=a,Rt=i,Qr.transition=s}else e.current=n;if(Pd&&(Pd=!1,ni=e,ep=o),s=e.pendingLanes,s===0&&(li=null),Q6(n.stateNode),gr(e,hn()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Jh)throw Jh=!1,e=wg,wg=null,e;return ep&1&&e.tag!==0&&Pl(),s=e.pendingLanes,s&1?e===xg?ku++:(ku=0,xg=e):ku=0,wi(),null}function Pl(){if(ni!==null){var e=H$(ep),t=Qr.transition,n=Rt;try{if(Qr.transition=null,Rt=16>e?16:e,ni===null)var r=!1;else{if(e=ni,ni=null,ep=0,Tt&6)throw Error(Le(331));var o=Tt;for(Tt|=4,Xe=e.current;Xe!==null;){var s=Xe,i=s.child;if(Xe.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Xe=c;Xe!==null;){var f=Xe;switch(f.tag){case 0:case 11:case 15:Cu(8,f,s)}var u=f.child;if(u!==null)u.return=f,Xe=u;else for(;Xe!==null;){f=Xe;var d=f.sibling,h=f.return;if(nT(f),f===c){Xe=null;break}if(d!==null){d.return=h,Xe=d;break}Xe=h}}}var m=s.alternate;if(m!==null){var p=m.child;if(p!==null){m.child=null;do{var g=p.sibling;p.sibling=null,p=g}while(p!==null)}}Xe=s}}if(s.subtreeFlags&2064&&i!==null)i.return=s,Xe=i;else e:for(;Xe!==null;){if(s=Xe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Cu(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,Xe=v;break e}Xe=s.return}}var y=e.current;for(Xe=y;Xe!==null;){i=Xe;var w=i.child;if(i.subtreeFlags&2064&&w!==null)w.return=i,Xe=w;else e:for(i=y;Xe!==null;){if(a=Xe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Bp(9,a)}}catch(E){sn(a,a.return,E)}if(a===i){Xe=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,Xe=b;break e}Xe=a.return}}if(Tt=o,wi(),Ho&&typeof Ho.onPostCommitFiberRoot=="function")try{Ho.onPostCommitFiberRoot(Np,e)}catch{}r=!0}return r}finally{Rt=n,Qr.transition=t}}return!1}function nE(e,t,n){t=Bl(n,t),t=HA(e,t,1),e=ai(e,t,1),t=sr(),e!==null&&(af(e,1,t),gr(e,t))}function sn(e,t,n){if(e.tag===3)nE(e,e,n);else for(;t!==null;){if(t.tag===3){nE(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(li===null||!li.has(r))){e=Bl(n,e),e=WA(t,e,1),t=ai(t,e,1),e=sr(),t!==null&&(af(t,1,e),gr(t,e));break}}t=t.return}}function _M(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=sr(),e.pingedLanes|=e.suspendedLanes&n,Nn===e&&(zn&n)===n&&(_n===4||_n===3&&(zn&130023424)===zn&&500>hn()-Vy?oa(e,0):jy|=n),gr(e,t)}function dT(e,t){t===0&&(e.mode&1?(t=wd,wd<<=1,!(wd&130023424)&&(wd=4194304)):t=1);var n=sr();e=ys(e,t),e!==null&&(af(e,t,n),gr(e,n))}function $M(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),dT(e,n)}function AM(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Le(314))}r!==null&&r.delete(t),dT(e,n)}var hT;hT=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||mr.current)pr=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return pr=!1,hM(e,t,n);pr=!!(e.flags&131072)}else pr=!1,Xt&&t.flags&1048576&&gA(t,Hh,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;yh(e,t),e=t.pendingProps;var o=Dl(t,Yn.current);Cl(t,n),o=Dy(null,t,r,e,o,n);var s=Iy();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,vr(r)?(s=!0,Vh(t)):s=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Ry(t),o.updater=zp,t.stateNode=o,o._reactInternals=t,lg(t,r,e,n),t=fg(null,t,r,!0,s,n)):(t.tag=0,Xt&&s&&_y(t),er(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(yh(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=CM(r),e=vo(r,e),o){case 0:t=ug(null,t,r,e,n);break e;case 1:t=W5(null,t,r,e,n);break e;case 11:t=U5(null,t,r,e,n);break e;case 14:t=H5(null,t,r,vo(r.type,e),n);break e}throw Error(Le(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:vo(r,o),ug(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:vo(r,o),W5(e,t,r,o,n);case 3:e:{if(ZA(t),e===null)throw Error(Le(387));r=t.pendingProps,s=t.memoizedState,o=s.element,SA(e,t),qh(t,r,null,n);var i=t.memoizedState;if(r=i.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){o=Bl(Error(Le(423)),t),t=X5(e,t,r,n,o);break e}else if(r!==o){o=Bl(Error(Le(424)),t),t=X5(e,t,r,n,o);break e}else for(kr=ii(t.stateNode.containerInfo.firstChild),Nr=t,Xt=!0,yo=null,n=bA(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Il(),r===o){t=ws(e,t,n);break e}er(e,t,r,n)}t=t.child}return t;case 5:return _A(t),e===null&&sg(t),r=t.type,o=t.pendingProps,s=e!==null?e.memoizedProps:null,i=o.children,eg(r,o)?i=null:s!==null&&eg(r,s)&&(t.flags|=32),YA(e,t),er(e,t,i,n),t.child;case 6:return e===null&&sg(t),null;case 13:return QA(e,t,n);case 4:return Ny(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Fl(t,null,r,n):er(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:vo(r,o),U5(e,t,r,o,n);case 7:return er(e,t,t.pendingProps,n),t.child;case 8:return er(e,t,t.pendingProps.children,n),t.child;case 12:return er(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,s=t.memoizedProps,i=o.value,Gt(Wh,r._currentValue),r._currentValue=i,s!==null)if(_o(s.value,i)){if(s.children===o.children&&!mr.current){t=ws(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){i=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=ms(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?l.next=l:(l.next=f.next,f.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),ig(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)i=s.type===t.type?null:s.child;else if(s.tag===18){if(i=s.return,i===null)throw Error(Le(341));i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),ig(i,n,t),i=s.sibling}else i=s.child;if(i!==null)i.return=s;else for(i=s;i!==null;){if(i===t){i=null;break}if(s=i.sibling,s!==null){s.return=i.return,i=s;break}i=i.return}s=i}er(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Cl(t,n),o=eo(o),r=r(o),t.flags|=1,er(e,t,r,n),t.child;case 14:return r=t.type,o=vo(r,t.pendingProps),o=vo(r.type,o),H5(e,t,r,o,n);case 15:return XA(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:vo(r,o),yh(e,t),t.tag=1,vr(r)?(e=!0,Vh(t)):e=!1,Cl(t,n),UA(t,r,o),lg(t,r,o,n),fg(null,t,r,!0,e,n);case 19:return KA(e,t,n);case 22:return qA(e,t,n)}throw Error(Le(156,t.tag))};function pT(e,t){return G$(e,t)}function TM(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zr(e,t,n,r){return new TM(e,t,n,r)}function Xy(e){return e=e.prototype,!(!e||!e.isReactComponent)}function CM(e){if(typeof e=="function")return Xy(e)?1:0;if(e!=null){if(e=e.$$typeof,e===dy)return 11;if(e===hy)return 14}return 2}function ui(e,t){var n=e.alternate;return n===null?(n=Zr(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function bh(e,t,n,r,o,s){var i=2;if(r=e,typeof e=="function")Xy(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case dl:return sa(n.children,o,s,t);case fy:i=8,o|=8;break;case Nv:return e=Zr(12,n,t,o|2),e.elementType=Nv,e.lanes=s,e;case Ov:return e=Zr(13,n,t,o),e.elementType=Ov,e.lanes=s,e;case Mv:return e=Zr(19,n,t,o),e.elementType=Mv,e.lanes=s,e;case _$:return jp(n,o,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case E$:i=10;break e;case S$:i=9;break e;case dy:i=11;break e;case hy:i=14;break e;case Zs:i=16,r=null;break e}throw Error(Le(130,e==null?e:typeof e,""))}return t=Zr(i,n,t,o),t.elementType=e,t.type=r,t.lanes=s,t}function sa(e,t,n,r){return e=Zr(7,e,r,t),e.lanes=n,e}function jp(e,t,n,r){return e=Zr(22,e,r,t),e.elementType=_$,e.lanes=n,e.stateNode={isHidden:!1},e}function nm(e,t,n){return e=Zr(6,e,null,t),e.lanes=n,e}function rm(e,t,n){return t=Zr(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function PM(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=I0(0),this.expirationTimes=I0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=I0(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function qy(e,t,n,r,o,s,i,a,l){return e=new PM(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Zr(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ry(s),e}function kM(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fl,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function mT(e){if(!e)return hi;e=e._reactInternals;e:{if(xa(e)!==e||e.tag!==1)throw Error(Le(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(vr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Le(171))}if(e.tag===1){var n=e.type;if(vr(n))return mA(e,n,t)}return t}function vT(e,t,n,r,o,s,i,a,l){return e=qy(n,r,!0,e,o,s,i,a,l),e.context=mT(null),n=e.current,r=sr(),o=ci(n),s=ms(r,o),s.callback=t??null,ai(n,s,o),e.current.lanes=o,af(e,o,r),gr(e,r),e}function Vp(e,t,n,r){var o=t.current,s=sr(),i=ci(o);return n=mT(n),t.context===null?t.context=n:t.pendingContext=n,t=ms(s,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=ai(o,t,i),e!==null&&(Eo(e,o,i,s),mh(e,o,i)),i}function np(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function rE(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Yy(e,t){rE(e,t),(e=e.alternate)&&rE(e,t)}function RM(){return null}var gT=typeof reportError=="function"?reportError:function(e){console.error(e)};function Zy(e){this._internalRoot=e}Up.prototype.render=Zy.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Le(409));Vp(e,t,null,null)};Up.prototype.unmount=Zy.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;pa(function(){Vp(null,e,null,null)}),t[gs]=null}};function Up(e){this._internalRoot=e}Up.prototype.unstable_scheduleHydration=function(e){if(e){var t=q$();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ks.length&&t!==0&&t<Ks[n].priority;n++);Ks.splice(n,0,e),n===0&&Z$(e)}};function Qy(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Hp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function oE(){}function NM(e,t,n,r,o){if(o){if(typeof r=="function"){var s=r;r=function(){var c=np(i);s.call(c)}}var i=vT(t,r,e,0,null,!1,!1,"",oE);return e._reactRootContainer=i,e[gs]=i.current,zu(e.nodeType===8?e.parentNode:e),pa(),i}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var a=r;r=function(){var c=np(l);a.call(c)}}var l=qy(e,0,!1,null,null,!1,!1,"",oE);return e._reactRootContainer=l,e[gs]=l.current,zu(e.nodeType===8?e.parentNode:e),pa(function(){Vp(t,l,n,r)}),l}function Wp(e,t,n,r,o){var s=n._reactRootContainer;if(s){var i=s;if(typeof o=="function"){var a=o;o=function(){var l=np(i);a.call(l)}}Vp(t,i,e,o)}else i=NM(n,t,e,o,r);return np(i)}W$=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=hu(t.pendingLanes);n!==0&&(vy(t,n|1),gr(t,hn()),!(Tt&6)&&(Gl=hn()+500,wi()))}break;case 13:pa(function(){var r=ys(e,1);if(r!==null){var o=sr();Eo(r,e,1,o)}}),Yy(e,1)}};gy=function(e){if(e.tag===13){var t=ys(e,134217728);if(t!==null){var n=sr();Eo(t,e,134217728,n)}Yy(e,134217728)}};X$=function(e){if(e.tag===13){var t=ci(e),n=ys(e,t);if(n!==null){var r=sr();Eo(n,e,t,r)}Yy(e,t)}};q$=function(){return Rt};Y$=function(e,t){var n=Rt;try{return Rt=e,t()}finally{Rt=n}};Uv=function(e,t,n){switch(t){case"input":if(Iv(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=Dp(r);if(!o)throw Error(Le(90));A$(r),Iv(r,o)}}}break;case"textarea":C$(e,n);break;case"select":t=n.value,t!=null&&_l(e,!!n.multiple,t,!1)}};L$=Uy;D$=pa;var OM={usingClientEntryPoint:!1,Events:[cf,vl,Dp,O$,M$,Uy]},Yc={findFiberByHostInstance:Ji,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},MM={bundleType:Yc.bundleType,version:Yc.version,rendererPackageName:Yc.rendererPackageName,rendererConfig:Yc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ss.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=z$(e),e===null?null:e.stateNode},findFiberByHostInstance:Yc.findFiberByHostInstance||RM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kd.isDisabled&&kd.supportsFiber)try{Np=kd.inject(MM),Ho=kd}catch{}}Ir.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=OM;Ir.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qy(t))throw Error(Le(200));return kM(e,t,null,n)};Ir.createRoot=function(e,t){if(!Qy(e))throw Error(Le(299));var n=!1,r="",o=gT;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=qy(e,1,!1,null,null,n,!1,r,o),e[gs]=t.current,zu(e.nodeType===8?e.parentNode:e),new Zy(t)};Ir.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Le(188)):(e=Object.keys(e).join(","),Error(Le(268,e)));return e=z$(t),e=e===null?null:e.stateNode,e};Ir.flushSync=function(e){return pa(e)};Ir.hydrate=function(e,t,n){if(!Hp(t))throw Error(Le(200));return Wp(null,e,t,!0,n)};Ir.hydrateRoot=function(e,t,n){if(!Qy(e))throw Error(Le(405));var r=n!=null&&n.hydratedSources||null,o=!1,s="",i=gT;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=vT(t,null,e,1,n??null,o,!1,s,i),e[gs]=t.current,zu(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Up(t)};Ir.render=function(e,t,n){if(!Hp(t))throw Error(Le(200));return Wp(null,e,t,!1,n)};Ir.unmountComponentAtNode=function(e){if(!Hp(e))throw Error(Le(40));return e._reactRootContainer?(pa(function(){Wp(null,null,e,!1,function(){e._reactRootContainer=null,e[gs]=null})}),!0):!1};Ir.unstable_batchedUpdates=Uy;Ir.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Hp(n))throw Error(Le(200));if(e==null||e._reactInternals===void 0)throw Error(Le(38));return Wp(e,t,n,!1,r)};Ir.version="18.3.1-next-f1338f8080-20240426";function yT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(yT)}catch(e){console.error(e)}}yT(),y$.exports=Ir;var Xp=y$.exports;const mu=ry(Xp);var sE=Xp;kv.createRoot=sE.createRoot,kv.hydrateRoot=sE.hydrateRoot;var Vo=function(){return Vo=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Vo.apply(this,arguments)};function wT(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function LM(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,s;r<o;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}var Eh="right-scroll-bar-position",Sh="width-before-scroll-bar",DM="with-scroll-bars-hidden",IM="--removed-body-scroll-bar-size";function om(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function FM(e,t){var n=O.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=t,n.facade}var zM=typeof window<"u"?O.useLayoutEffect:O.useEffect,iE=new WeakMap;function BM(e,t){var n=FM(null,function(r){return e.forEach(function(o){return om(o,r)})});return zM(function(){var r=iE.get(n);if(r){var o=new Set(r),s=new Set(e),i=n.current;o.forEach(function(a){s.has(a)||om(a,null)}),s.forEach(function(a){o.has(a)||om(a,i)})}iE.set(n,e)},[e]),n}function GM(e){return e}function jM(e,t){t===void 0&&(t=GM);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(s){var i=t(s,r);return n.push(i),function(){n=n.filter(function(a){return a!==i})}},assignSyncMedium:function(s){for(r=!0;n.length;){var i=n;n=[],i.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var i=[];if(n.length){var a=n;n=[],a.forEach(s),i=n}var l=function(){var f=i;i=[],f.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(f){i.push(f),c()},filter:function(f){return i=i.filter(f),n}}}};return o}function VM(e){e===void 0&&(e={});var t=jM(null);return t.options=Vo({async:!0,ssr:!1},e),t}var xT=function(e){var t=e.sideCar,n=wT(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return O.createElement(r,Vo({},n))};xT.isSideCarExport=!0;function UM(e,t){return e.useMedium(t),xT}var bT=VM(),sm=function(){},qp=O.forwardRef(function(e,t){var n=O.useRef(null),r=O.useState({onScrollCapture:sm,onWheelCapture:sm,onTouchMoveCapture:sm}),o=r[0],s=r[1],i=e.forwardProps,a=e.children,l=e.className,c=e.removeScrollBar,f=e.enabled,u=e.shards,d=e.sideCar,h=e.noIsolation,m=e.inert,p=e.allowPinchZoom,g=e.as,v=g===void 0?"div":g,y=e.gapMode,w=wT(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),b=d,E=BM([n,t]),S=Vo(Vo({},w),o);return O.createElement(O.Fragment,null,f&&O.createElement(b,{sideCar:bT,removeScrollBar:c,shards:u,noIsolation:h,inert:m,setCallbacks:s,allowPinchZoom:!!p,lockRef:n,gapMode:y}),i?O.cloneElement(O.Children.only(a),Vo(Vo({},S),{ref:E})):O.createElement(v,Vo({},S,{className:l,ref:E}),a))});qp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};qp.classNames={fullWidth:Sh,zeroRight:Eh};var HM=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function WM(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=HM();return t&&e.setAttribute("nonce",t),e}function XM(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function qM(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var YM=function(){var e=0,t=null;return{add:function(n){e==0&&(t=WM())&&(XM(t,n),qM(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},ZM=function(){var e=YM();return function(t,n){O.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},ET=function(){var e=ZM(),t=function(n){var r=n.styles,o=n.dynamic;return e(r,o),null};return t},QM={left:0,top:0,right:0,gap:0},im=function(e){return parseInt(e||"",10)||0},KM=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[im(n),im(r),im(o)]},JM=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return QM;var t=KM(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},eL=ET(),kl="data-scroll-locked",tL=function(e,t,n,r){var o=e.left,s=e.top,i=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(DM,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(kl,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Eh,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Sh,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Eh," .").concat(Eh,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Sh," .").concat(Sh,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(kl,`] {
    `).concat(IM,": ").concat(a,`px;
  }
`)},aE=function(){var e=parseInt(document.body.getAttribute(kl)||"0",10);return isFinite(e)?e:0},nL=function(){O.useEffect(function(){return document.body.setAttribute(kl,(aE()+1).toString()),function(){var e=aE()-1;e<=0?document.body.removeAttribute(kl):document.body.setAttribute(kl,e.toString())}},[])},rL=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,o=r===void 0?"margin":r;nL();var s=O.useMemo(function(){return JM(o)},[o]);return O.createElement(eL,{styles:tL(s,!t,o,n?"":"!important")})},Sg=!1;if(typeof window<"u")try{var Rd=Object.defineProperty({},"passive",{get:function(){return Sg=!0,!0}});window.addEventListener("test",Rd,Rd),window.removeEventListener("test",Rd,Rd)}catch{Sg=!1}var Ua=Sg?{passive:!1}:!1,oL=function(e){return e.tagName==="TEXTAREA"},ST=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!oL(e)&&n[t]==="visible")},sL=function(e){return ST(e,"overflowY")},iL=function(e){return ST(e,"overflowX")},lE=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var o=_T(e,r);if(o){var s=$T(e,r),i=s[1],a=s[2];if(i>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},aL=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},lL=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},_T=function(e,t){return e==="v"?sL(t):iL(t)},$T=function(e,t){return e==="v"?aL(t):lL(t)},cL=function(e,t){return e==="h"&&t==="rtl"?-1:1},uL=function(e,t,n,r,o){var s=cL(e,window.getComputedStyle(t).direction),i=s*r,a=n.target,l=t.contains(a),c=!1,f=i>0,u=0,d=0;do{var h=$T(e,a),m=h[0],p=h[1],g=h[2],v=p-g-s*m;(m||v)&&_T(e,a)&&(u+=v,d+=m),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(f&&(Math.abs(u)<1||!o)||!f&&(Math.abs(d)<1||!o))&&(c=!0),c},Nd=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},cE=function(e){return[e.deltaX,e.deltaY]},uE=function(e){return e&&"current"in e?e.current:e},fL=function(e,t){return e[0]===t[0]&&e[1]===t[1]},dL=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},hL=0,Ha=[];function pL(e){var t=O.useRef([]),n=O.useRef([0,0]),r=O.useRef(),o=O.useState(hL++)[0],s=O.useState(ET)[0],i=O.useRef(e);O.useEffect(function(){i.current=e},[e]),O.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var p=LM([e.lockRef.current],(e.shards||[]).map(uE),!0).filter(Boolean);return p.forEach(function(g){return g.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),p.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var a=O.useCallback(function(p,g){if("touches"in p&&p.touches.length===2)return!i.current.allowPinchZoom;var v=Nd(p),y=n.current,w="deltaX"in p?p.deltaX:y[0]-v[0],b="deltaY"in p?p.deltaY:y[1]-v[1],E,S=p.target,$=Math.abs(w)>Math.abs(b)?"h":"v";if("touches"in p&&$==="h"&&S.type==="range")return!1;var A=lE($,S);if(!A)return!0;if(A?E=$:(E=$==="v"?"h":"v",A=lE($,S)),!A)return!1;if(!r.current&&"changedTouches"in p&&(w||b)&&(r.current=E),!E)return!0;var G=r.current||E;return uL(G,g,p,G==="h"?w:b,!0)},[]),l=O.useCallback(function(p){var g=p;if(!(!Ha.length||Ha[Ha.length-1]!==s)){var v="deltaY"in g?cE(g):Nd(g),y=t.current.filter(function(E){return E.name===g.type&&(E.target===g.target||g.target===E.shadowParent)&&fL(E.delta,v)})[0];if(y&&y.should){g.cancelable&&g.preventDefault();return}if(!y){var w=(i.current.shards||[]).map(uE).filter(Boolean).filter(function(E){return E.contains(g.target)}),b=w.length>0?a(g,w[0]):!i.current.noIsolation;b&&g.cancelable&&g.preventDefault()}}},[]),c=O.useCallback(function(p,g,v,y){var w={name:p,delta:g,target:v,should:y,shadowParent:mL(v)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(b){return b!==w})},1)},[]),f=O.useCallback(function(p){n.current=Nd(p),r.current=void 0},[]),u=O.useCallback(function(p){c(p.type,cE(p),p.target,a(p,e.lockRef.current))},[]),d=O.useCallback(function(p){c(p.type,Nd(p),p.target,a(p,e.lockRef.current))},[]);O.useEffect(function(){return Ha.push(s),e.setCallbacks({onScrollCapture:u,onWheelCapture:u,onTouchMoveCapture:d}),document.addEventListener("wheel",l,Ua),document.addEventListener("touchmove",l,Ua),document.addEventListener("touchstart",f,Ua),function(){Ha=Ha.filter(function(p){return p!==s}),document.removeEventListener("wheel",l,Ua),document.removeEventListener("touchmove",l,Ua),document.removeEventListener("touchstart",f,Ua)}},[]);var h=e.removeScrollBar,m=e.inert;return O.createElement(O.Fragment,null,m?O.createElement(s,{styles:dL(o)}):null,h?O.createElement(rL,{gapMode:e.gapMode}):null)}function mL(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const vL=UM(bT,pL);var Ky=O.forwardRef(function(e,t){return O.createElement(qp,Vo({},e,{ref:t,sideCar:vL}))});Ky.classNames=qp.classNames;function Bn(e){return Object.keys(e)}function am(e){return e&&typeof e=="object"&&!Array.isArray(e)}function Jy(e,t){const n={...e},r=t;return am(e)&&am(t)&&Object.keys(t).forEach(o=>{am(r[o])&&o in e?n[o]=Jy(n[o],r[o]):n[o]=r[o]}),n}function gL(e){return e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}function yL(e){var t;return typeof e!="string"||!e.includes("var(--mantine-scale)")?e:(t=e.match(/^calc\((.*?)\)$/))==null?void 0:t[1].split("*")[0].trim()}function _g(e){const t=yL(e);return typeof t=="number"?t:typeof t=="string"?t.includes("calc")||t.includes("var")?t:t.includes("px")?Number(t.replace("px","")):t.includes("rem")?Number(t.replace("rem",""))*16:t.includes("em")?Number(t.replace("em",""))*16:Number(t):NaN}function lm(e){return e==="0rem"?"0rem":`calc(${e} * var(--mantine-scale))`}function AT(e,{shouldScale:t=!1}={}){function n(r){if(r===0||r==="0")return`0${e}`;if(typeof r=="number"){const o=`${r/16}${e}`;return t?lm(o):o}if(typeof r=="string"){if(r===""||r.startsWith("calc(")||r.startsWith("clamp(")||r.includes("rgba("))return r;if(r.includes(","))return r.split(",").map(s=>n(s)).join(",");if(r.includes(" "))return r.split(" ").map(s=>n(s)).join(" ");if(r.includes(e))return t?lm(r):r;const o=r.replace("px","");if(!Number.isNaN(Number(o))){const s=`${Number(o)/16}${e}`;return t?lm(s):s}}return r}return n}const fe=AT("rem",{shouldScale:!0}),rp=AT("em");function e2(e){return Object.keys(e).reduce((t,n)=>(e[n]!==void 0&&(t[n]=e[n]),t),{})}function TT(e){return typeof e=="number"?!0:typeof e=="string"?e.startsWith("calc(")||e.startsWith("var(")||e.includes(" ")&&e.trim()!==""?!0:/[0-9]/.test(e.trim().replace("-","")[0]):!1}function ff(e){return Array.isArray(e)||e===null?!1:typeof e=="object"?e.type!==O.Fragment:!1}function df(e){const t=O.createContext(null);return[({children:o,value:s})=>F.jsx(t.Provider,{value:s,children:o}),()=>{const o=O.useContext(t);if(o===null)throw new Error(e);return o}]}function Yp(e=null){const t=O.createContext(e);return[({children:o,value:s})=>F.jsx(t.Provider,{value:s,children:o}),()=>O.useContext(t)]}const wL={app:100,modal:200,popover:300,overlay:400,max:9999};function t2(e){return wL[e]}const xL=()=>{};function bL(e,t={active:!0}){return typeof e!="function"||!t.active?t.onKeyDown||xL:n=>{var r;n.key==="Escape"&&(e(n),(r=t.onTrigger)==null||r.call(t))}}function mn(e,t="size",n=!0){if(e!==void 0)return TT(e)?n?fe(e):e:`var(--${t}-${e})`}function Zp(e){return mn(e,"mantine-spacing")}function To(e){return e===void 0?"var(--mantine-radius-default)":mn(e,"mantine-radius")}function Or(e){return mn(e,"mantine-font-size")}function EL(e){return mn(e,"mantine-line-height",!1)}function SL(e){if(e)return mn(e,"mantine-shadow",!1)}function n2(e,t){return e in t.breakpoints?_g(t.breakpoints[e]):_g(e)}function fE(e,t){const n=e.map(r=>({value:r,px:n2(r,t)}));return n.sort((r,o)=>r.px-o.px),n}function r2(){return`mantine-${Math.random().toString(36).slice(2,11)}`}function Zi(e){const t=O.useRef(e);return O.useEffect(()=>{t.current=e}),O.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function Qp(e,t){const n=Zi(e),r=O.useRef(0);return O.useEffect(()=>()=>window.clearTimeout(r.current),[]),O.useCallback((...o)=>{window.clearTimeout(r.current),r.current=window.setTimeout(()=>n(...o),t)},[n,t])}const dE=["mousedown","touchstart"];function _L(e,t,n){const r=O.useRef();return O.useEffect(()=>{const o=s=>{const{target:i}=s??{};if(Array.isArray(n)){const a=(i==null?void 0:i.hasAttribute("data-ignore-outside-clicks"))||!document.body.contains(i)&&i.tagName!=="HTML";n.every(c=>!!c&&!s.composedPath().includes(c))&&!a&&e()}else r.current&&!r.current.contains(i)&&e()};return(t||dE).forEach(s=>document.addEventListener(s,o)),()=>{(t||dE).forEach(s=>document.removeEventListener(s,o))}},[r,e,n]),r}function $L(e,t){try{return e.addEventListener("change",t),()=>e.removeEventListener("change",t)}catch{return e.addListener(t),()=>e.removeListener(t)}}function AL(e,t){return typeof window<"u"&&"matchMedia"in window?window.matchMedia(e).matches:!1}function TL(e,t,{getInitialValueInEffect:n}={getInitialValueInEffect:!0}){const[r,o]=O.useState(n?t:AL(e)),s=O.useRef();return O.useEffect(()=>{if("matchMedia"in window)return s.current=window.matchMedia(e),o(s.current.matches),$L(s.current,i=>o(i.matches))},[e]),r}const nc=typeof document<"u"?O.useLayoutEffect:O.useEffect;function ma(e,t){const n=O.useRef(!1);O.useEffect(()=>()=>{n.current=!1},[]),O.useEffect(()=>{if(n.current)return e();n.current=!0},t)}function CL({opened:e,shouldReturnFocus:t=!0}){const n=O.useRef(),r=()=>{var o;n.current&&"focus"in n.current&&typeof n.current.focus=="function"&&((o=n.current)==null||o.focus({preventScroll:!0}))};return ma(()=>{let o=-1;const s=i=>{i.key==="Tab"&&window.clearTimeout(o)};return document.addEventListener("keydown",s),e?n.current=document.activeElement:t&&(o=window.setTimeout(r,10)),()=>{window.clearTimeout(o),document.removeEventListener("keydown",s)}},[e,t]),r}function PL(e,t="body > :not(script)"){const n=r2(),r=Array.from(document.querySelectorAll(t)).map(o=>{var l;if((l=o==null?void 0:o.shadowRoot)!=null&&l.contains(e)||o.contains(e))return;const s=o.getAttribute("aria-hidden"),i=o.getAttribute("data-hidden"),a=o.getAttribute("data-focus-id");return o.setAttribute("data-focus-id",n),s===null||s==="false"?o.setAttribute("aria-hidden","true"):!i&&!a&&o.setAttribute("data-hidden",s),{node:o,ariaHidden:i||null}});return()=>{r.forEach(o=>{!o||n!==o.node.getAttribute("data-focus-id")||(o.ariaHidden===null?o.node.removeAttribute("aria-hidden"):o.node.setAttribute("aria-hidden",o.ariaHidden),o.node.removeAttribute("data-focus-id"),o.node.removeAttribute("data-hidden"))})}}const kL=/input|select|textarea|button|object/,CT="a, input, select, textarea, button, object, [tabindex]";function RL(e){return e.style.display==="none"}function NL(e){if(e.getAttribute("aria-hidden")||e.getAttribute("hidden")||e.getAttribute("type")==="hidden")return!1;let n=e;for(;n&&!(n===document.body||n.nodeType===11);){if(RL(n))return!1;n=n.parentNode}return!0}function PT(e){let t=e.getAttribute("tabindex");return t===null&&(t=void 0),parseInt(t,10)}function $g(e){const t=e.nodeName.toLowerCase(),n=!Number.isNaN(PT(e));return(kL.test(t)&&!e.disabled||e instanceof HTMLAnchorElement&&e.href||n)&&NL(e)}function kT(e){const t=PT(e);return(Number.isNaN(t)||t>=0)&&$g(e)}function OL(e){return Array.from(e.querySelectorAll(CT)).filter(kT)}function ML(e,t){const n=OL(e);if(!n.length){t.preventDefault();return}const r=n[t.shiftKey?0:n.length-1],o=e.getRootNode();let s=r===o.activeElement||e===o.activeElement;const i=o.activeElement;if(i.tagName==="INPUT"&&i.getAttribute("type")==="radio"&&(s=n.filter(f=>f.getAttribute("type")==="radio"&&f.getAttribute("name")===i.getAttribute("name")).includes(r)),!s)return;t.preventDefault();const l=n[t.shiftKey?n.length-1:0];l&&l.focus()}function LL(e=!0){const t=O.useRef(),n=O.useRef(null),r=s=>{let i=s.querySelector("[data-autofocus]");if(!i){const a=Array.from(s.querySelectorAll(CT));i=a.find(kT)||a.find($g)||null,!i&&$g(s)&&(i=s)}i&&i.focus({preventScroll:!0})},o=O.useCallback(s=>{if(e){if(s===null){n.current&&(n.current(),n.current=null);return}n.current=PL(s),t.current!==s&&(s?(setTimeout(()=>{s.getRootNode()&&r(s)}),t.current=s):t.current=null)}},[e]);return O.useEffect(()=>{if(!e)return;t.current&&setTimeout(()=>r(t.current));const s=i=>{i.key==="Tab"&&t.current&&ML(t.current,i)};return document.addEventListener("keydown",s),()=>{document.removeEventListener("keydown",s),n.current&&n.current()}},[e]),o}const DL=e=>(e+1)%1e6;function IL(){const[,e]=O.useReducer(DL,0);return e}const FL=wo.useId||(()=>{});function zL(){const e=FL();return e?`mantine-${e.replace(/:/g,"")}`:""}function ba(e){const t=zL(),[n,r]=O.useState(t);return nc(()=>{r(r2())},[]),typeof e=="string"?e:typeof window>"u"?t:n}function BL(e,t,n){O.useEffect(()=>(window.addEventListener(e,t,n),()=>window.removeEventListener(e,t,n)),[e,t])}function RT(e,t){typeof e=="function"?e(t):typeof e=="object"&&e!==null&&"current"in e&&(e.current=t)}function GL(...e){return t=>{e.forEach(n=>RT(n,t))}}function ro(...e){return O.useCallback(GL(...e),e)}function jl({value:e,defaultValue:t,finalValue:n,onChange:r=()=>{}}){const[o,s]=O.useState(t!==void 0?t:n),i=(a,...l)=>{s(a),r==null||r(a,...l)};return e!==void 0?[e,r,!0]:[o,i,!1]}function NT(e,t){return TL("(prefers-reduced-motion: reduce)",e,t)}function jL(e){const t=O.useRef();return O.useEffect(()=>{t.current=e},[e]),t.current}function OT(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=OT(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Co(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=OT(e))&&(r&&(r+=" "),r+=t);return r}const VL={};function UL(e){const t={};return e.forEach(n=>{Object.entries(n).forEach(([r,o])=>{t[r]?t[r]=Co(t[r],o):t[r]=o})}),t}function Kp({theme:e,classNames:t,props:n,stylesCtx:r}){const s=(Array.isArray(t)?t:[t]).map(i=>typeof i=="function"?i(e,n,r):i||VL);return UL(s)}function op({theme:e,styles:t,props:n,stylesCtx:r}){return(Array.isArray(t)?t:[t]).reduce((s,i)=>typeof i=="function"?{...s,...i(e,n,r)}:{...s,...i},{})}const MT=O.createContext(null);function xi(){const e=O.useContext(MT);if(!e)throw new Error("[@mantine/core] MantineProvider was not found in tree");return e}function HL(){return xi().cssVariablesResolver}function WL(){return xi().classNamesPrefix}function o2(){return xi().getStyleNonce}function XL(){return xi().withStaticClasses}function qL(){return xi().headless}function YL(){var e;return(e=xi().stylesTransform)==null?void 0:e.sx}function ZL(){var e;return(e=xi().stylesTransform)==null?void 0:e.styles}function QL(e){return/^#?([0-9A-F]{3}){1,2}([0-9A-F]{2})?$/i.test(e)}function KL(e){let t=e.replace("#","");if(t.length===3){const i=t.split("");t=[i[0],i[0],i[1],i[1],i[2],i[2]].join("")}if(t.length===8){const i=parseInt(t.slice(6,8),16)/255;return{r:parseInt(t.slice(0,2),16),g:parseInt(t.slice(2,4),16),b:parseInt(t.slice(4,6),16),a:i}}const n=parseInt(t,16),r=n>>16&255,o=n>>8&255,s=n&255;return{r,g:o,b:s,a:1}}function JL(e){const[t,n,r,o]=e.replace(/[^0-9,./]/g,"").split(/[/,]/).map(Number);return{r:t,g:n,b:r,a:o||1}}function eD(e){const t=/^hsla?\(\s*(\d+)\s*,\s*(\d+%)\s*,\s*(\d+%)\s*(,\s*(0?\.\d+|\d+(\.\d+)?))?\s*\)$/i,n=e.match(t);if(!n)return{r:0,g:0,b:0,a:1};const r=parseInt(n[1],10),o=parseInt(n[2],10)/100,s=parseInt(n[3],10)/100,i=n[5]?parseFloat(n[5]):void 0,a=(1-Math.abs(2*s-1))*o,l=r/60,c=a*(1-Math.abs(l%2-1)),f=s-a/2;let u,d,h;return l>=0&&l<1?(u=a,d=c,h=0):l>=1&&l<2?(u=c,d=a,h=0):l>=2&&l<3?(u=0,d=a,h=c):l>=3&&l<4?(u=0,d=c,h=a):l>=4&&l<5?(u=c,d=0,h=a):(u=a,d=0,h=c),{r:Math.round((u+f)*255),g:Math.round((d+f)*255),b:Math.round((h+f)*255),a:i||1}}function s2(e){return QL(e)?KL(e):e.startsWith("rgb")?JL(e):e.startsWith("hsl")?eD(e):{r:0,g:0,b:0,a:1}}function Od(e,t){if(e.startsWith("var("))return`color-mix(in srgb, ${e}, black ${t*100}%)`;const{r:n,g:r,b:o,a:s}=s2(e),i=1-t,a=l=>Math.round(l*i);return`rgba(${a(n)}, ${a(r)}, ${a(o)}, ${s})`}function qu(e,t){return typeof e.primaryShade=="number"?e.primaryShade:t==="dark"?e.primaryShade.dark:e.primaryShade.light}function cm(e){return e<=.03928?e/12.92:((e+.055)/1.055)**2.4}function tD(e){const t=e.match(/oklch\((.*?)%\s/);return t?parseFloat(t[1]):null}function nD(e){if(e.startsWith("oklch("))return(tD(e)||0)/100;const{r:t,g:n,b:r}=s2(e),o=t/255,s=n/255,i=r/255,a=cm(o),l=cm(s),c=cm(i);return .2126*a+.7152*l+.0722*c}function Zc(e,t=.179){return e.startsWith("var(")?!1:nD(e)>t}function _s({color:e,theme:t,colorScheme:n}){if(typeof e!="string")throw new Error(`[@mantine/core] Failed to parse color. Expected color to be a string, instead got ${typeof e}`);if(e==="bright")return{color:e,value:n==="dark"?t.white:t.black,shade:void 0,isThemeColor:!1,isLight:Zc(n==="dark"?t.white:t.black,t.luminanceThreshold),variable:"--mantine-color-bright"};if(e==="dimmed")return{color:e,value:n==="dark"?t.colors.dark[2]:t.colors.gray[7],shade:void 0,isThemeColor:!1,isLight:Zc(n==="dark"?t.colors.dark[2]:t.colors.gray[6],t.luminanceThreshold),variable:"--mantine-color-dimmed"};if(e==="white"||e==="black")return{color:e,value:e==="white"?t.white:t.black,shade:void 0,isThemeColor:!1,isLight:Zc(e==="white"?t.white:t.black,t.luminanceThreshold),variable:`--mantine-color-${e}`};const[r,o]=e.split("."),s=o?Number(o):void 0,i=r in t.colors;if(i){const a=s!==void 0?t.colors[r][s]:t.colors[r][qu(t,n||"light")];return{color:r,value:a,shade:s,isThemeColor:i,isLight:Zc(a,t.luminanceThreshold),variable:o?`--mantine-color-${r}-${s}`:`--mantine-color-${r}-filled`}}return{color:e,value:e,isThemeColor:i,isLight:Zc(e,t.luminanceThreshold),shade:s,variable:void 0}}function Dr(e,t){const n=_s({color:e||t.primaryColor,theme:t});return n.variable?`var(${n.variable})`:e}function Ag(e,t){const n={from:(e==null?void 0:e.from)||t.defaultGradient.from,to:(e==null?void 0:e.to)||t.defaultGradient.to,deg:(e==null?void 0:e.deg)||t.defaultGradient.deg||0},r=Dr(n.from,t),o=Dr(n.to,t);return`linear-gradient(${n.deg}deg, ${r} 0%, ${o} 100%)`}function as(e,t){if(typeof e!="string"||t>1||t<0)return"rgba(0, 0, 0, 1)";if(e.startsWith("var(")){const s=(1-t)*100;return`color-mix(in srgb, ${e}, transparent ${s}%)`}if(e.startsWith("oklch"))return e.includes("/")?e.replace(/\/\s*[\d.]+\s*\)/,`/ ${t})`):e.replace(")",` / ${t})`);const{r:n,g:r,b:o}=s2(e);return`rgba(${n}, ${r}, ${o}, ${t})`}const Wa=as,rD=({color:e,theme:t,variant:n,gradient:r,autoContrast:o})=>{const s=_s({color:e,theme:t}),i=typeof o=="boolean"?o:t.autoContrast;if(n==="filled"){const a=i&&s.isLight?"var(--mantine-color-black)":"var(--mantine-color-white)";return s.isThemeColor?s.shade===void 0?{background:`var(--mantine-color-${e}-filled)`,hover:`var(--mantine-color-${e}-filled-hover)`,color:a,border:`${fe(1)} solid transparent`}:{background:`var(--mantine-color-${s.color}-${s.shade})`,hover:`var(--mantine-color-${s.color}-${s.shade===9?8:s.shade+1})`,color:a,border:`${fe(1)} solid transparent`}:{background:e,hover:Od(e,.1),color:a,border:`${fe(1)} solid transparent`}}if(n==="light"){if(s.isThemeColor){if(s.shade===void 0)return{background:`var(--mantine-color-${e}-light)`,hover:`var(--mantine-color-${e}-light-hover)`,color:`var(--mantine-color-${e}-light-color)`,border:`${fe(1)} solid transparent`};const a=t.colors[s.color][s.shade];return{background:as(a,.1),hover:as(a,.12),color:`var(--mantine-color-${s.color}-${Math.min(s.shade,6)})`,border:`${fe(1)} solid transparent`}}return{background:as(e,.1),hover:as(e,.12),color:e,border:`${fe(1)} solid transparent`}}if(n==="outline")return s.isThemeColor?s.shade===void 0?{background:"transparent",hover:`var(--mantine-color-${e}-outline-hover)`,color:`var(--mantine-color-${e}-outline)`,border:`${fe(1)} solid var(--mantine-color-${e}-outline)`}:{background:"transparent",hover:as(t.colors[s.color][s.shade],.05),color:`var(--mantine-color-${s.color}-${s.shade})`,border:`${fe(1)} solid var(--mantine-color-${s.color}-${s.shade})`}:{background:"transparent",hover:as(e,.05),color:e,border:`${fe(1)} solid ${e}`};if(n==="subtle"){if(s.isThemeColor){if(s.shade===void 0)return{background:"transparent",hover:`var(--mantine-color-${e}-light-hover)`,color:`var(--mantine-color-${e}-light-color)`,border:`${fe(1)} solid transparent`};const a=t.colors[s.color][s.shade];return{background:"transparent",hover:as(a,.12),color:`var(--mantine-color-${s.color}-${Math.min(s.shade,6)})`,border:`${fe(1)} solid transparent`}}return{background:"transparent",hover:as(e,.12),color:e,border:`${fe(1)} solid transparent`}}return n==="transparent"?s.isThemeColor?s.shade===void 0?{background:"transparent",hover:"transparent",color:`var(--mantine-color-${e}-light-color)`,border:`${fe(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:`var(--mantine-color-${s.color}-${Math.min(s.shade,6)})`,border:`${fe(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:e,border:`${fe(1)} solid transparent`}:n==="white"?s.isThemeColor?s.shade===void 0?{background:"var(--mantine-color-white)",hover:Od(t.white,.01),color:`var(--mantine-color-${e}-filled)`,border:`${fe(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:Od(t.white,.01),color:`var(--mantine-color-${s.color}-${s.shade})`,border:`${fe(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:Od(t.white,.01),color:e,border:`${fe(1)} solid transparent`}:n==="gradient"?{background:Ag(r,t),hover:Ag(r,t),color:"var(--mantine-color-white)",border:"none"}:n==="default"?{background:"var(--mantine-color-default)",hover:"var(--mantine-color-default-hover)",color:"var(--mantine-color-default-color)",border:`${fe(1)} solid var(--mantine-color-default-border)`}:{}},oD={dark:["#C9C9C9","#b8b8b8","#828282","#696969","#424242","#3b3b3b","#2e2e2e","#242424","#1f1f1f","#141414"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]},hE="-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",i2={scale:1,fontSmoothing:!0,focusRing:"auto",white:"#fff",black:"#000",colors:oD,primaryShade:{light:6,dark:8},primaryColor:"blue",variantColorResolver:rD,autoContrast:!1,luminanceThreshold:.3,fontFamily:hE,fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",respectReducedMotion:!1,cursorType:"default",defaultGradient:{from:"blue",to:"cyan",deg:45},defaultRadius:"sm",activeClassName:"mantine-active",focusClassName:"",headings:{fontFamily:hE,fontWeight:"700",textWrap:"wrap",sizes:{h1:{fontSize:fe(34),lineHeight:"1.3"},h2:{fontSize:fe(26),lineHeight:"1.35"},h3:{fontSize:fe(22),lineHeight:"1.4"},h4:{fontSize:fe(18),lineHeight:"1.45"},h5:{fontSize:fe(16),lineHeight:"1.5"},h6:{fontSize:fe(14),lineHeight:"1.5"}}},fontSizes:{xs:fe(12),sm:fe(14),md:fe(16),lg:fe(18),xl:fe(20)},lineHeights:{xs:"1.4",sm:"1.45",md:"1.55",lg:"1.6",xl:"1.65"},radius:{xs:fe(2),sm:fe(4),md:fe(8),lg:fe(16),xl:fe(32)},spacing:{xs:fe(10),sm:fe(12),md:fe(16),lg:fe(20),xl:fe(32)},breakpoints:{xs:"36em",sm:"48em",md:"62em",lg:"75em",xl:"88em"},shadows:{xs:`0 ${fe(1)} ${fe(3)} rgba(0, 0, 0, 0.05), 0 ${fe(1)} ${fe(2)} rgba(0, 0, 0, 0.1)`,sm:`0 ${fe(1)} ${fe(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${fe(10)} ${fe(15)} ${fe(-5)}, rgba(0, 0, 0, 0.04) 0 ${fe(7)} ${fe(7)} ${fe(-5)}`,md:`0 ${fe(1)} ${fe(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${fe(20)} ${fe(25)} ${fe(-5)}, rgba(0, 0, 0, 0.04) 0 ${fe(10)} ${fe(10)} ${fe(-5)}`,lg:`0 ${fe(1)} ${fe(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${fe(28)} ${fe(23)} ${fe(-7)}, rgba(0, 0, 0, 0.04) 0 ${fe(12)} ${fe(12)} ${fe(-7)}`,xl:`0 ${fe(1)} ${fe(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${fe(36)} ${fe(28)} ${fe(-7)}, rgba(0, 0, 0, 0.04) 0 ${fe(17)} ${fe(17)} ${fe(-7)}`},other:{},components:{}};function pE(e){return e==="auto"||e==="dark"||e==="light"}function sD({key:e="mantine-color-scheme-value"}={}){let t;return{get:n=>{if(typeof window>"u")return n;try{const r=window.localStorage.getItem(e);return pE(r)?r:n}catch{return n}},set:n=>{try{window.localStorage.setItem(e,n)}catch(r){console.warn("[@mantine/core] Local storage color scheme manager was unable to save color scheme.",r)}},subscribe:n=>{t=r=>{r.storageArea===window.localStorage&&r.key===e&&pE(r.newValue)&&n(r.newValue)},window.addEventListener("storage",t)},unsubscribe:()=>{window.removeEventListener("storage",t)},clear:()=>{window.localStorage.removeItem(e)}}}const iD="[@mantine/core] MantineProvider: Invalid theme.primaryColor, it accepts only key of theme.colors, learn more  https://mantine.dev/theming/colors/#primary-color",mE="[@mantine/core] MantineProvider: Invalid theme.primaryShade, it accepts only 0-9 integers or an object { light: 0-9, dark: 0-9 }";function um(e){return e<0||e>9?!1:parseInt(e.toString(),10)===e}function vE(e){if(!(e.primaryColor in e.colors))throw new Error(iD);if(typeof e.primaryShade=="object"&&(!um(e.primaryShade.dark)||!um(e.primaryShade.light)))throw new Error(mE);if(typeof e.primaryShade=="number"&&!um(e.primaryShade))throw new Error(mE)}function aD(e,t){var r;if(!t)return vE(e),e;const n=Jy(e,t);return t.fontFamily&&!((r=t.headings)!=null&&r.fontFamily)&&(n.headings.fontFamily=t.fontFamily),vE(n),n}const a2=O.createContext(null),lD=()=>O.useContext(a2)||i2;function Yo(){const e=O.useContext(a2);if(!e)throw new Error("@mantine/core: MantineProvider was not found in component tree, make sure you have it in your app");return e}function LT({theme:e,children:t,inherit:n=!0}){const r=lD(),o=O.useMemo(()=>aD(n?r:i2,e),[e,r,n]);return F.jsx(a2.Provider,{value:o,children:t})}LT.displayName="@mantine/core/MantineThemeProvider";function cD(){const e=Yo(),t=o2(),n=Bn(e.breakpoints).reduce((r,o)=>{const s=e.breakpoints[o].includes("px"),i=_g(e.breakpoints[o]),a=s?`${i-.1}px`:rp(i-.1),l=s?`${i}px`:rp(i);return`${r}@media (max-width: ${a}) {.mantine-visible-from-${o} {display: none !important;}}@media (min-width: ${l}) {.mantine-hidden-from-${o} {display: none !important;}}`},"");return F.jsx("style",{"data-mantine-styles":"classes",nonce:t==null?void 0:t(),dangerouslySetInnerHTML:{__html:n}})}function fm(e){return Object.entries(e).map(([t,n])=>`${t}: ${n};`).join("")}function Qc(e,t){return(Array.isArray(e)?e:[e]).reduce((r,o)=>`${o}{${r}}`,t)}function uD(e,t){const n=fm(e.variables),r=n?Qc(t,n):"",o=fm(e.dark),s=fm(e.light),i=o?Qc(t===":host"?`${t}([data-mantine-color-scheme="dark"])`:`${t}[data-mantine-color-scheme="dark"]`,o):"",a=s?Qc(t===":host"?`${t}([data-mantine-color-scheme="light"])`:`${t}[data-mantine-color-scheme="light"]`,s):"";return`${r}${i}${a}`}function hf({color:e,theme:t,autoContrast:n}){return(typeof n=="boolean"?n:t.autoContrast)&&_s({color:e||t.primaryColor,theme:t}).isLight?"var(--mantine-color-black)":"var(--mantine-color-white)"}function gE(e,t){return hf({color:e.colors[e.primaryColor][qu(e,t)],theme:e,autoContrast:null})}function Md({theme:e,color:t,colorScheme:n,name:r=t,withColorValues:o=!0}){if(!e.colors[t])return{};if(n==="light"){const a=qu(e,"light"),l={[`--mantine-color-${r}-text`]:`var(--mantine-color-${r}-filled)`,[`--mantine-color-${r}-filled`]:`var(--mantine-color-${r}-${a})`,[`--mantine-color-${r}-filled-hover`]:`var(--mantine-color-${r}-${a===9?8:a+1})`,[`--mantine-color-${r}-light`]:Wa(e.colors[t][a],.1),[`--mantine-color-${r}-light-hover`]:Wa(e.colors[t][a],.12),[`--mantine-color-${r}-light-color`]:`var(--mantine-color-${r}-${a})`,[`--mantine-color-${r}-outline`]:`var(--mantine-color-${r}-${a})`,[`--mantine-color-${r}-outline-hover`]:Wa(e.colors[t][a],.05)};return o?{[`--mantine-color-${r}-0`]:e.colors[t][0],[`--mantine-color-${r}-1`]:e.colors[t][1],[`--mantine-color-${r}-2`]:e.colors[t][2],[`--mantine-color-${r}-3`]:e.colors[t][3],[`--mantine-color-${r}-4`]:e.colors[t][4],[`--mantine-color-${r}-5`]:e.colors[t][5],[`--mantine-color-${r}-6`]:e.colors[t][6],[`--mantine-color-${r}-7`]:e.colors[t][7],[`--mantine-color-${r}-8`]:e.colors[t][8],[`--mantine-color-${r}-9`]:e.colors[t][9],...l}:l}const s=qu(e,"dark"),i={[`--mantine-color-${r}-text`]:`var(--mantine-color-${r}-4)`,[`--mantine-color-${r}-filled`]:`var(--mantine-color-${r}-${s})`,[`--mantine-color-${r}-filled-hover`]:`var(--mantine-color-${r}-${s===9?8:s+1})`,[`--mantine-color-${r}-light`]:Wa(e.colors[t][Math.max(0,s-2)],.15),[`--mantine-color-${r}-light-hover`]:Wa(e.colors[t][Math.max(0,s-2)],.2),[`--mantine-color-${r}-light-color`]:`var(--mantine-color-${r}-${Math.max(s-5,0)})`,[`--mantine-color-${r}-outline`]:`var(--mantine-color-${r}-${Math.max(s-4,0)})`,[`--mantine-color-${r}-outline-hover`]:Wa(e.colors[t][Math.max(s-4,0)],.05)};return o?{[`--mantine-color-${r}-0`]:e.colors[t][0],[`--mantine-color-${r}-1`]:e.colors[t][1],[`--mantine-color-${r}-2`]:e.colors[t][2],[`--mantine-color-${r}-3`]:e.colors[t][3],[`--mantine-color-${r}-4`]:e.colors[t][4],[`--mantine-color-${r}-5`]:e.colors[t][5],[`--mantine-color-${r}-6`]:e.colors[t][6],[`--mantine-color-${r}-7`]:e.colors[t][7],[`--mantine-color-${r}-8`]:e.colors[t][8],[`--mantine-color-${r}-9`]:e.colors[t][9],...i}:i}function fD(e){return!!e&&typeof e=="object"&&"mantine-virtual-color"in e}function Xa(e,t,n){Bn(t).forEach(r=>Object.assign(e,{[`--mantine-${n}-${r}`]:t[r]}))}const DT=e=>{const t=qu(e,"light"),n=e.defaultRadius in e.radius?e.radius[e.defaultRadius]:fe(e.defaultRadius),r={variables:{"--mantine-scale":e.scale.toString(),"--mantine-cursor-type":e.cursorType,"--mantine-color-scheme":"light dark","--mantine-webkit-font-smoothing":e.fontSmoothing?"antialiased":"unset","--mantine-moz-font-smoothing":e.fontSmoothing?"grayscale":"unset","--mantine-color-white":e.white,"--mantine-color-black":e.black,"--mantine-line-height":e.lineHeights.md,"--mantine-font-family":e.fontFamily,"--mantine-font-family-monospace":e.fontFamilyMonospace,"--mantine-font-family-headings":e.headings.fontFamily,"--mantine-heading-font-weight":e.headings.fontWeight,"--mantine-heading-text-wrap":e.headings.textWrap,"--mantine-radius-default":n,"--mantine-primary-color-filled":`var(--mantine-color-${e.primaryColor}-filled)`,"--mantine-primary-color-filled-hover":`var(--mantine-color-${e.primaryColor}-filled-hover)`,"--mantine-primary-color-light":`var(--mantine-color-${e.primaryColor}-light)`,"--mantine-primary-color-light-hover":`var(--mantine-color-${e.primaryColor}-light-hover)`,"--mantine-primary-color-light-color":`var(--mantine-color-${e.primaryColor}-light-color)`},light:{"--mantine-primary-color-contrast":gE(e,"light"),"--mantine-color-bright":"var(--mantine-color-black)","--mantine-color-text":e.black,"--mantine-color-body":e.white,"--mantine-color-error":"var(--mantine-color-red-6)","--mantine-color-placeholder":"var(--mantine-color-gray-5)","--mantine-color-anchor":`var(--mantine-color-${e.primaryColor}-${t})`,"--mantine-color-default":"var(--mantine-color-white)","--mantine-color-default-hover":"var(--mantine-color-gray-0)","--mantine-color-default-color":"var(--mantine-color-black)","--mantine-color-default-border":"var(--mantine-color-gray-4)","--mantine-color-dimmed":"var(--mantine-color-gray-6)"},dark:{"--mantine-primary-color-contrast":gE(e,"dark"),"--mantine-color-bright":"var(--mantine-color-white)","--mantine-color-text":"var(--mantine-color-dark-0)","--mantine-color-body":"var(--mantine-color-dark-7)","--mantine-color-error":"var(--mantine-color-red-8)","--mantine-color-placeholder":"var(--mantine-color-dark-3)","--mantine-color-anchor":`var(--mantine-color-${e.primaryColor}-4)`,"--mantine-color-default":"var(--mantine-color-dark-6)","--mantine-color-default-hover":"var(--mantine-color-dark-5)","--mantine-color-default-color":"var(--mantine-color-white)","--mantine-color-default-border":"var(--mantine-color-dark-4)","--mantine-color-dimmed":"var(--mantine-color-dark-2)"}};Xa(r.variables,e.breakpoints,"breakpoint"),Xa(r.variables,e.spacing,"spacing"),Xa(r.variables,e.fontSizes,"font-size"),Xa(r.variables,e.lineHeights,"line-height"),Xa(r.variables,e.shadows,"shadow"),Xa(r.variables,e.radius,"radius"),e.colors[e.primaryColor].forEach((s,i)=>{r.variables[`--mantine-primary-color-${i}`]=`var(--mantine-color-${e.primaryColor}-${i})`}),Bn(e.colors).forEach(s=>{const i=e.colors[s];if(fD(i)){Object.assign(r.light,Md({theme:e,name:i.name,color:i.light,colorScheme:"light",withColorValues:!0})),Object.assign(r.dark,Md({theme:e,name:i.name,color:i.dark,colorScheme:"dark",withColorValues:!0}));return}i.forEach((a,l)=>{r.variables[`--mantine-color-${s}-${l}`]=a}),Object.assign(r.light,Md({theme:e,color:s,colorScheme:"light",withColorValues:!1})),Object.assign(r.dark,Md({theme:e,color:s,colorScheme:"dark",withColorValues:!1}))});const o=e.headings.sizes;return Bn(o).forEach(s=>{r.variables[`--mantine-${s}-font-size`]=o[s].fontSize,r.variables[`--mantine-${s}-line-height`]=o[s].lineHeight,r.variables[`--mantine-${s}-font-weight`]=o[s].fontWeight||e.headings.fontWeight}),r};function dD({theme:e,generator:t}){const n=DT(e),r=t==null?void 0:t(e);return r?Jy(n,r):n}const dm=DT(i2);function hD(e){const t={variables:{},light:{},dark:{}};return Bn(e.variables).forEach(n=>{dm.variables[n]!==e.variables[n]&&(t.variables[n]=e.variables[n])}),Bn(e.light).forEach(n=>{dm.light[n]!==e.light[n]&&(t.light[n]=e.light[n])}),Bn(e.dark).forEach(n=>{dm.dark[n]!==e.dark[n]&&(t.dark[n]=e.dark[n])}),t}function pD(e){return`
  ${e}[data-mantine-color-scheme="dark"] { --mantine-color-scheme: dark; }
  ${e}[data-mantine-color-scheme="light"] { --mantine-color-scheme: light; }
`}function IT({cssVariablesSelector:e,deduplicateCssVariables:t}){const n=Yo(),r=o2(),o=HL(),s=dD({theme:n,generator:o}),i=e===":root"&&t,a=i?hD(s):s,l=uD(a,e);return l?F.jsx("style",{"data-mantine-styles":!0,nonce:r==null?void 0:r(),dangerouslySetInnerHTML:{__html:`${l}${i?"":pD(e)}`}}):null}IT.displayName="@mantine/CssVariables";function mD(){const e=console.error;console.error=(...t)=>{t.length>1&&typeof t[0]=="string"&&t[0].toLowerCase().includes("extra attributes from the server")&&typeof t[1]=="string"&&t[1].toLowerCase().includes("data-mantine-color-scheme")||e(...t)}}function qa(e,t){var r;const n=e!=="auto"?e:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";(r=t())==null||r.setAttribute("data-mantine-color-scheme",n)}function vD({manager:e,defaultColorScheme:t,getRootElement:n,forceColorScheme:r}){const o=O.useRef(),[s,i]=O.useState(()=>e.get(t)),a=r||s,l=O.useCallback(f=>{r||(qa(f,n),i(f),e.set(f))},[e.set,a,r]),c=O.useCallback(()=>{i(t),qa(t,n),e.clear()},[e.clear,t]);return O.useEffect(()=>(e.subscribe(l),e.unsubscribe),[e.subscribe,e.unsubscribe]),nc(()=>{qa(e.get(t),n)},[]),O.useEffect(()=>{var u;if(r)return qa(r,n),()=>{};r===void 0&&qa(s,n),o.current=window.matchMedia("(prefers-color-scheme: dark)");const f=d=>{s==="auto"&&qa(d.matches?"dark":"light",n)};return(u=o.current)==null||u.addEventListener("change",f),()=>{var d;return(d=o.current)==null?void 0:d.removeEventListener("change",f)}},[s,r]),{colorScheme:a,setColorScheme:l,clearColorScheme:c}}function gD({respectReducedMotion:e,getRootElement:t}){nc(()=>{var n;e&&((n=t())==null||n.setAttribute("data-respect-reduced-motion","true"))},[e])}mD();function FT({theme:e,children:t,getStyleNonce:n,withStaticClasses:r=!0,withGlobalClasses:o=!0,deduplicateCssVariables:s=!0,withCssVariables:i=!0,cssVariablesSelector:a=":root",classNamesPrefix:l="mantine",colorSchemeManager:c=sD(),defaultColorScheme:f="light",getRootElement:u=()=>document.documentElement,cssVariablesResolver:d,forceColorScheme:h,stylesTransform:m}){const{colorScheme:p,setColorScheme:g,clearColorScheme:v}=vD({defaultColorScheme:f,forceColorScheme:h,manager:c,getRootElement:u});return gD({respectReducedMotion:(e==null?void 0:e.respectReducedMotion)||!1,getRootElement:u}),F.jsx(MT.Provider,{value:{colorScheme:p,setColorScheme:g,clearColorScheme:v,getRootElement:u,classNamesPrefix:l,getStyleNonce:n,cssVariablesResolver:d,cssVariablesSelector:a,withStaticClasses:r,stylesTransform:m},children:F.jsxs(LT,{theme:e,children:[i&&F.jsx(IT,{cssVariablesSelector:a,deduplicateCssVariables:s}),o&&F.jsx(cD,{}),t]})})}FT.displayName="@mantine/core/MantineProvider";function yD({classNames:e,styles:t,props:n,stylesCtx:r}){const o=Yo();return{resolvedClassNames:Kp({theme:o,classNames:e,props:n,stylesCtx:r||void 0}),resolvedStyles:op({theme:o,styles:t,props:n,stylesCtx:r||void 0})}}const wD={always:"mantine-focus-always",auto:"mantine-focus-auto",never:"mantine-focus-never"};function xD({theme:e,options:t,unstyled:n}){return Co((t==null?void 0:t.focusable)&&!n&&(e.focusClassName||wD[e.focusRing]),(t==null?void 0:t.active)&&!n&&e.activeClassName)}function bD({selector:e,stylesCtx:t,options:n,props:r,theme:o}){return Kp({theme:o,classNames:n==null?void 0:n.classNames,props:(n==null?void 0:n.props)||r,stylesCtx:t})[e]}function yE({selector:e,stylesCtx:t,theme:n,classNames:r,props:o}){return Kp({theme:n,classNames:r,props:o,stylesCtx:t})[e]}function ED({rootSelector:e,selector:t,className:n}){return e===t?n:void 0}function SD({selector:e,classes:t,unstyled:n}){return n?void 0:t[e]}function _D({themeName:e,classNamesPrefix:t,selector:n,withStaticClass:r}){return r===!1?[]:e.map(o=>`${t}-${o}-${n}`)}function $D({themeName:e,theme:t,selector:n,props:r,stylesCtx:o}){return e.map(s=>{var i,a;return(a=Kp({theme:t,classNames:(i=t.components[s])==null?void 0:i.classNames,props:r,stylesCtx:o}))==null?void 0:a[n]})}function AD({options:e,classes:t,selector:n,unstyled:r}){return e!=null&&e.variant&&!r?t[`${n}--${e.variant}`]:void 0}function TD({theme:e,options:t,themeName:n,selector:r,classNamesPrefix:o,classNames:s,classes:i,unstyled:a,className:l,rootSelector:c,props:f,stylesCtx:u,withStaticClasses:d,headless:h,transformedStyles:m}){return Co(xD({theme:e,options:t,unstyled:a||h}),$D({theme:e,themeName:n,selector:r,props:f,stylesCtx:u}),AD({options:t,classes:i,selector:r,unstyled:a}),yE({selector:r,stylesCtx:u,theme:e,classNames:s,props:f}),yE({selector:r,stylesCtx:u,theme:e,classNames:m,props:f}),bD({selector:r,stylesCtx:u,options:t,props:f,theme:e}),ED({rootSelector:c,selector:r,className:l}),SD({selector:r,classes:i,unstyled:a||h}),d&&!h&&_D({themeName:n,classNamesPrefix:o,selector:r,withStaticClass:t==null?void 0:t.withStaticClass}),t==null?void 0:t.className)}function CD({theme:e,themeName:t,props:n,stylesCtx:r,selector:o}){return t.map(s=>{var i;return op({theme:e,styles:(i=e.components[s])==null?void 0:i.styles,props:n,stylesCtx:r})[o]}).reduce((s,i)=>({...s,...i}),{})}function Tg({style:e,theme:t}){return Array.isArray(e)?[...e].reduce((n,r)=>({...n,...Tg({style:r,theme:t})}),{}):typeof e=="function"?e(t):e??{}}function PD(e){return e.reduce((t,n)=>(n&&Object.keys(n).forEach(r=>{t[r]={...t[r],...e2(n[r])}}),t),{})}function kD({vars:e,varsResolver:t,theme:n,props:r,stylesCtx:o,selector:s,themeName:i,headless:a}){var l;return(l=PD([a?{}:t==null?void 0:t(n,r,o),...i.map(c=>{var f,u,d;return(d=(u=(f=n.components)==null?void 0:f[c])==null?void 0:u.vars)==null?void 0:d.call(u,n,r,o)}),e==null?void 0:e(n,r,o)]))==null?void 0:l[s]}function RD({theme:e,themeName:t,selector:n,options:r,props:o,stylesCtx:s,rootSelector:i,styles:a,style:l,vars:c,varsResolver:f,headless:u,withStylesTransform:d}){return{...!d&&CD({theme:e,themeName:t,props:o,stylesCtx:s,selector:n}),...!d&&op({theme:e,styles:a,props:o,stylesCtx:s})[n],...!d&&op({theme:e,styles:r==null?void 0:r.styles,props:(r==null?void 0:r.props)||o,stylesCtx:s})[n],...kD({theme:e,props:o,stylesCtx:s,vars:c,varsResolver:f,selector:n,themeName:t,headless:u}),...i===n?Tg({style:l,theme:e}):null,...Tg({style:r==null?void 0:r.style,theme:e})}}function ND({props:e,stylesCtx:t,themeName:n}){var i;const r=Yo(),o=(i=ZL())==null?void 0:i();return{getTransformedStyles:a=>o?[...a.map(c=>o(c,{props:e,theme:r,ctx:t})),...n.map(c=>{var f;return o((f=r.components[c])==null?void 0:f.styles,{props:e,theme:r,ctx:t})})].filter(Boolean):[],withStylesTransform:!!o}}function Nt({name:e,classes:t,props:n,stylesCtx:r,className:o,style:s,rootSelector:i="root",unstyled:a,classNames:l,styles:c,vars:f,varsResolver:u}){const d=Yo(),h=WL(),m=XL(),p=qL(),g=(Array.isArray(e)?e:[e]).filter(w=>w),{withStylesTransform:v,getTransformedStyles:y}=ND({props:n,stylesCtx:r,themeName:g});return(w,b)=>({className:TD({theme:d,options:b,themeName:g,selector:w,classNamesPrefix:h,classNames:l,classes:t,unstyled:a,className:o,rootSelector:i,props:n,stylesCtx:r,withStaticClasses:m,headless:p,transformedStyles:y([b==null?void 0:b.styles,c])}),style:RD({theme:d,themeName:g,selector:w,options:b,props:n,stylesCtx:r,rootSelector:i,styles:c,style:s,vars:f,varsResolver:u,headless:p,withStylesTransform:v})})}function Jp(e,t){return typeof e=="boolean"?e:t.autoContrast}function tt(e,t,n){var i;const r=Yo(),o=(i=r.components[e])==null?void 0:i.defaultProps,s=typeof o=="function"?o(r):o;return{...t,...s,...e2(n)}}function hm(e){return Bn(e).reduce((t,n)=>e[n]!==void 0?`${t}${gL(n)}:${e[n]};`:t,"").trim()}function OD({selector:e,styles:t,media:n,container:r}){const o=t?hm(t):"",s=Array.isArray(n)?n.map(a=>`@media${a.query}{${e}{${hm(a.styles)}}}`):[],i=Array.isArray(r)?r.map(a=>`@container ${a.query}{${e}{${hm(a.styles)}}}`):[];return`${o?`${e}{${o}}`:""}${s.join("")}${i.join("")}`.trim()}function zT(e){const t=o2();return F.jsx("style",{"data-mantine-styles":"inline",nonce:t==null?void 0:t(),dangerouslySetInnerHTML:{__html:OD(e)}})}function pf(e){const{m:t,mx:n,my:r,mt:o,mb:s,ml:i,mr:a,me:l,ms:c,p:f,px:u,py:d,pt:h,pb:m,pl:p,pr:g,pe:v,ps:y,bd:w,bg:b,c:E,opacity:S,ff:$,fz:A,fw:G,lts:I,ta:H,lh:te,fs:pe,tt:j,td:de,w:ee,miw:we,maw:oe,h:$e,mih:Ne,mah:Ye,bgsz:rt,bgp:kt,bgr:At,bga:Ct,pos:en,top:an,left:Vn,bottom:lo,right:Br,inset:Po,display:co,flex:Gr,hiddenFrom:It,visibleFrom:jr,lightHidden:Qo,darkHidden:Ln,sx:ln,...Ko}=e;return{styleProps:e2({m:t,mx:n,my:r,mt:o,mb:s,ml:i,mr:a,me:l,ms:c,p:f,px:u,py:d,pt:h,pb:m,pl:p,pr:g,pe:v,ps:y,bd:w,bg:b,c:E,opacity:S,ff:$,fz:A,fw:G,lts:I,ta:H,lh:te,fs:pe,tt:j,td:de,w:ee,miw:we,maw:oe,h:$e,mih:Ne,mah:Ye,bgsz:rt,bgp:kt,bgr:At,bga:Ct,pos:en,top:an,left:Vn,bottom:lo,right:Br,inset:Po,display:co,flex:Gr,hiddenFrom:It,visibleFrom:jr,lightHidden:Qo,darkHidden:Ln,sx:ln}),rest:Ko}}const MD={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},ms:{type:"spacing",property:"marginInlineStart"},me:{type:"spacing",property:"marginInlineEnd"},mx:{type:"spacing",property:"marginInline"},my:{type:"spacing",property:"marginBlock"},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},ps:{type:"spacing",property:"paddingInlineStart"},pe:{type:"spacing",property:"paddingInlineEnd"},px:{type:"spacing",property:"paddingInline"},py:{type:"spacing",property:"paddingBlock"},bd:{type:"border",property:"border"},bg:{type:"color",property:"background"},c:{type:"textColor",property:"color"},opacity:{type:"identity",property:"opacity"},ff:{type:"fontFamily",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"identity",property:"fontWeight"},lts:{type:"size",property:"letterSpacing"},ta:{type:"identity",property:"textAlign"},lh:{type:"lineHeight",property:"lineHeight"},fs:{type:"identity",property:"fontStyle"},tt:{type:"identity",property:"textTransform"},td:{type:"identity",property:"textDecoration"},w:{type:"spacing",property:"width"},miw:{type:"spacing",property:"minWidth"},maw:{type:"spacing",property:"maxWidth"},h:{type:"spacing",property:"height"},mih:{type:"spacing",property:"minHeight"},mah:{type:"spacing",property:"maxHeight"},bgsz:{type:"size",property:"backgroundSize"},bgp:{type:"identity",property:"backgroundPosition"},bgr:{type:"identity",property:"backgroundRepeat"},bga:{type:"identity",property:"backgroundAttachment"},pos:{type:"identity",property:"position"},top:{type:"identity",property:"top"},left:{type:"size",property:"left"},bottom:{type:"size",property:"bottom"},right:{type:"size",property:"right"},inset:{type:"size",property:"inset"},display:{type:"identity",property:"display"},flex:{type:"identity",property:"flex"}};function l2(e,t){const n=_s({color:e,theme:t});return n.color==="dimmed"?"var(--mantine-color-dimmed)":n.color==="bright"?"var(--mantine-color-bright)":n.variable?`var(${n.variable})`:n.color}function LD(e,t){const n=_s({color:e,theme:t});return n.isThemeColor&&n.shade===void 0?`var(--mantine-color-${n.color}-text)`:l2(e,t)}function DD(e,t){if(typeof e=="number")return fe(e);if(typeof e=="string"){const[n,r,...o]=e.split(" ").filter(i=>i.trim()!=="");let s=`${fe(n)}`;return r&&(s+=` ${r}`),o.length>0&&(s+=` ${l2(o.join(" "),t)}`),s.trim()}return e}const wE={text:"var(--mantine-font-family)",mono:"var(--mantine-font-family-monospace)",monospace:"var(--mantine-font-family-monospace)",heading:"var(--mantine-font-family-headings)",headings:"var(--mantine-font-family-headings)"};function ID(e){return typeof e=="string"&&e in wE?wE[e]:e}const FD=["h1","h2","h3","h4","h5","h6"];function zD(e,t){return typeof e=="string"&&e in t.fontSizes?`var(--mantine-font-size-${e})`:typeof e=="string"&&FD.includes(e)?`var(--mantine-${e}-font-size)`:typeof e=="number"||typeof e=="string"?fe(e):e}function BD(e){return e}const GD=["h1","h2","h3","h4","h5","h6"];function jD(e,t){return typeof e=="string"&&e in t.lineHeights?`var(--mantine-line-height-${e})`:typeof e=="string"&&GD.includes(e)?`var(--mantine-${e}-line-height)`:e}function VD(e){return typeof e=="number"?fe(e):e}function UD(e,t){if(typeof e=="number")return fe(e);if(typeof e=="string"){const n=e.replace("-","");if(!(n in t.spacing))return fe(e);const r=`--mantine-spacing-${n}`;return e.startsWith("-")?`calc(var(${r}) * -1)`:`var(${r})`}return e}const pm={color:l2,textColor:LD,fontSize:zD,spacing:UD,identity:BD,size:VD,lineHeight:jD,fontFamily:ID,border:DD};function xE(e){return e.replace("(min-width: ","").replace("em)","")}function HD({media:e,...t}){const r=Object.keys(e).sort((o,s)=>Number(xE(o))-Number(xE(s))).map(o=>({query:o,styles:e[o]}));return{...t,media:r}}function WD(e){if(typeof e!="object"||e===null)return!1;const t=Object.keys(e);return!(t.length===1&&t[0]==="base")}function XD(e){return typeof e=="object"&&e!==null?"base"in e?e.base:void 0:e}function qD(e){return typeof e=="object"&&e!==null?Bn(e).filter(t=>t!=="base"):[]}function YD(e,t){return typeof e=="object"&&e!==null&&t in e?e[t]:e}function ZD({styleProps:e,data:t,theme:n}){return HD(Bn(e).reduce((r,o)=>{if(o==="hiddenFrom"||o==="visibleFrom"||o==="sx")return r;const s=t[o],i=Array.isArray(s.property)?s.property:[s.property],a=XD(e[o]);if(!WD(e[o]))return i.forEach(c=>{r.inlineStyles[c]=pm[s.type](a,n)}),r;r.hasResponsiveStyles=!0;const l=qD(e[o]);return i.forEach(c=>{a&&(r.styles[c]=pm[s.type](a,n)),l.forEach(f=>{const u=`(min-width: ${n.breakpoints[f]})`;r.media[u]={...r.media[u],[c]:pm[s.type](YD(e[o],f),n)}})}),r},{hasResponsiveStyles:!1,styles:{},inlineStyles:{},media:{}}))}function QD(){return`__m__-${O.useId().replace(/:/g,"")}`}function BT(e){return e.startsWith("data-")?e:`data-${e}`}function KD(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];return r===void 0||r===""||r===!1||r===null||(t[BT(n)]=e[n]),t},{})}function GT(e){return e?typeof e=="string"?{[BT(e)]:!0}:Array.isArray(e)?[...e].reduce((t,n)=>({...t,...GT(n)}),{}):KD(e):null}function Cg(e,t){return Array.isArray(e)?[...e].reduce((n,r)=>({...n,...Cg(r,t)}),{}):typeof e=="function"?e(t):e??{}}function JD({theme:e,style:t,vars:n,styleProps:r}){const o=Cg(t,e),s=Cg(n,e);return{...o,...s,...r}}const jT=O.forwardRef(({component:e,style:t,__vars:n,className:r,variant:o,mod:s,size:i,hiddenFrom:a,visibleFrom:l,lightHidden:c,darkHidden:f,renderRoot:u,__size:d,...h},m)=>{var A;const p=Yo(),g=e||"div",{styleProps:v,rest:y}=pf(h),w=YL(),b=(A=w==null?void 0:w())==null?void 0:A(v.sx),E=QD(),S=ZD({styleProps:v,theme:p,data:MD}),$={ref:m,style:JD({theme:p,style:t,vars:n,styleProps:S.inlineStyles}),className:Co(r,b,{[E]:S.hasResponsiveStyles,"mantine-light-hidden":c,"mantine-dark-hidden":f,[`mantine-hidden-from-${a}`]:a,[`mantine-visible-from-${l}`]:l}),"data-variant":o,"data-size":TT(i)?void 0:i||void 0,size:d,...GT(s),...y};return F.jsxs(F.Fragment,{children:[S.hasResponsiveStyles&&F.jsx(zT,{selector:`.${E}`,styles:S.styles,media:S.media}),typeof u=="function"?u($):F.jsx(g,{...$})]})});jT.displayName="@mantine/core/Box";const at=jT;function VT(e){return e}function gt(e){const t=O.forwardRef(e);return t.extend=VT,t.withProps=n=>{const r=O.forwardRef((o,s)=>F.jsx(t,{...n,...o,ref:s}));return r.extend=t.extend,r.displayName=`WithProps(${t.displayName})`,r},t}function Ea(e){const t=O.forwardRef(e);return t.withProps=n=>{const r=O.forwardRef((o,s)=>F.jsx(t,{...n,...o,ref:s}));return r.extend=t.extend,r.displayName=`WithProps(${t.displayName})`,r},t.extend=VT,t}const eI=O.createContext({dir:"ltr",toggleDirection:()=>{},setDirection:()=>{}});function e1(){return O.useContext(eI)}const[tI,oo]=df("ScrollArea.Root component was not found in tree");function Vl(e,t){const n=Zi(t);nc(()=>{let r=0;if(e){const o=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return o.observe(e),()=>{window.cancelAnimationFrame(r),o.unobserve(e)}}},[e,n])}const nI=O.forwardRef((e,t)=>{const{style:n,...r}=e,o=oo(),[s,i]=O.useState(0),[a,l]=O.useState(0),c=!!(s&&a);return Vl(o.scrollbarX,()=>{var u;const f=((u=o.scrollbarX)==null?void 0:u.offsetHeight)||0;o.onCornerHeightChange(f),l(f)}),Vl(o.scrollbarY,()=>{var u;const f=((u=o.scrollbarY)==null?void 0:u.offsetWidth)||0;o.onCornerWidthChange(f),i(f)}),c?F.jsx("div",{...r,ref:t,style:{...n,width:s,height:a}}):null}),rI=O.forwardRef((e,t)=>{const n=oo(),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?F.jsx(nI,{...e,ref:t}):null}),oI={scrollHideDelay:1e3,type:"hover"},UT=O.forwardRef((e,t)=>{const n=tt("ScrollAreaRoot",oI,e),{type:r,scrollHideDelay:o,scrollbars:s,...i}=n,[a,l]=O.useState(null),[c,f]=O.useState(null),[u,d]=O.useState(null),[h,m]=O.useState(null),[p,g]=O.useState(null),[v,y]=O.useState(0),[w,b]=O.useState(0),[E,S]=O.useState(!1),[$,A]=O.useState(!1),G=ro(t,I=>l(I));return F.jsx(tI,{value:{type:r,scrollHideDelay:o,scrollArea:a,viewport:c,onViewportChange:f,content:u,onContentChange:d,scrollbarX:h,onScrollbarXChange:m,scrollbarXEnabled:E,onScrollbarXEnabledChange:S,scrollbarY:p,onScrollbarYChange:g,scrollbarYEnabled:$,onScrollbarYEnabledChange:A,onCornerWidthChange:y,onCornerHeightChange:b},children:F.jsx(at,{...i,ref:G,__vars:{"--sa-corner-width":s!=="xy"?"0px":`${v}px`,"--sa-corner-height":s!=="xy"?"0px":`${w}px`}})})});UT.displayName="@mantine/core/ScrollAreaRoot";function HT(e,t){const n=e/t;return Number.isNaN(n)?0:n}function t1(e){const t=HT(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function WT(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function sI(e,[t,n]){return Math.min(n,Math.max(t,e))}function bE(e,t,n="ltr"){const r=t1(t),o=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-o,i=t.content-t.viewport,a=s-r,l=n==="ltr"?[0,i]:[i*-1,0],c=sI(e,l);return WT([0,i],[0,a])(c)}function iI(e,t,n,r="ltr"){const o=t1(n),s=o/2,i=t||s,a=o-i,l=n.scrollbar.paddingStart+i,c=n.scrollbar.size-n.scrollbar.paddingEnd-a,f=n.content-n.viewport,u=r==="ltr"?[0,f]:[f*-1,0];return WT([l,c],u)(e)}function XT(e,t){return e>0&&e<t}function sp(e){return e?parseInt(e,10):0}function ia(e,t,{checkForDefaultPrevented:n=!0}={}){return r=>{e==null||e(r),(n===!1||!r.defaultPrevented)&&(t==null||t(r))}}const[aI,qT]=df("ScrollAreaScrollbar was not found in tree"),YT=O.forwardRef((e,t)=>{const{sizes:n,hasThumb:r,onThumbChange:o,onThumbPointerUp:s,onThumbPointerDown:i,onThumbPositionChange:a,onDragScroll:l,onWheelScroll:c,onResize:f,...u}=e,d=oo(),[h,m]=O.useState(null),p=ro(t,A=>m(A)),g=O.useRef(null),v=O.useRef(""),{viewport:y}=d,w=n.content-n.viewport,b=Zi(c),E=Zi(a),S=Qp(f,10),$=A=>{if(g.current){const G=A.clientX-g.current.left,I=A.clientY-g.current.top;l({x:G,y:I})}};return O.useEffect(()=>{const A=G=>{const I=G.target;(h==null?void 0:h.contains(I))&&b(G,w)};return document.addEventListener("wheel",A,{passive:!1}),()=>document.removeEventListener("wheel",A,{passive:!1})},[y,h,w,b]),O.useEffect(E,[n,E]),Vl(h,S),Vl(d.content,S),F.jsx(aI,{value:{scrollbar:h,hasThumb:r,onThumbChange:Zi(o),onThumbPointerUp:Zi(s),onThumbPositionChange:E,onThumbPointerDown:Zi(i)},children:F.jsx("div",{...u,ref:p,"data-mantine-scrollbar":!0,style:{position:"absolute",...u.style},onPointerDown:ia(e.onPointerDown,A=>{A.preventDefault(),A.button===0&&(A.target.setPointerCapture(A.pointerId),g.current=h.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",document.body.style.pointerEvents="none",$(A))}),onPointerMove:ia(e.onPointerMove,$),onPointerUp:ia(e.onPointerUp,A=>{A.preventDefault();const G=A.target;G.hasPointerCapture(A.pointerId)&&G.releasePointerCapture(A.pointerId),document.body.style.webkitUserSelect=v.current,document.body.style.pointerEvents="auto",g.current=null})})})}),lI=O.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,style:o,...s}=e,i=oo(),[a,l]=O.useState(),c=O.useRef(null),f=ro(t,c,i.onScrollbarXChange);return O.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),F.jsx(YT,{"data-orientation":"horizontal",...s,ref:f,sizes:n,style:{...o,"--sa-thumb-width":`${t1(n)}px`},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,d)=>{if(i.viewport){const h=i.viewport.scrollLeft+u.deltaX;e.onWheelScroll(h),XT(h,d)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&a&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:sp(a.paddingLeft),paddingEnd:sp(a.paddingRight)}})}})}),cI=O.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,style:o,...s}=e,i=oo(),[a,l]=O.useState(),c=O.useRef(null),f=ro(t,c,i.onScrollbarYChange);return O.useEffect(()=>{c.current&&l(window.getComputedStyle(c.current))},[]),F.jsx(YT,{...s,"data-orientation":"vertical",ref:f,sizes:n,style:{"--sa-thumb-height":`${t1(n)}px`,...o},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,d)=>{if(i.viewport){const h=i.viewport.scrollTop+u.deltaY;e.onWheelScroll(h),XT(h,d)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&a&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:sp(a.paddingTop),paddingEnd:sp(a.paddingBottom)}})}})}),c2=O.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,{dir:o}=e1(),s=oo(),i=O.useRef(null),a=O.useRef(0),[l,c]=O.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),f=HT(l.viewport,l.content),u={...r,sizes:l,onSizesChange:c,hasThumb:f>0&&f<1,onThumbChange:h=>{i.current=h},onThumbPointerUp:()=>{a.current=0},onThumbPointerDown:h=>{a.current=h}},d=(h,m)=>iI(h,a.current,l,m);return n==="horizontal"?F.jsx(lI,{...u,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const h=s.viewport.scrollLeft,m=bE(h,l,o);i.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollLeft=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollLeft=d(h,o))}}):n==="vertical"?F.jsx(cI,{...u,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const h=s.viewport.scrollTop,m=bE(h,l);l.scrollbar.size===0?i.current.style.opacity="0":i.current.style.opacity="1",i.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollTop=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollTop=d(h))}}):null}),ZT=O.forwardRef((e,t)=>{const n=oo(),{forceMount:r,...o}=e,[s,i]=O.useState(!1),a=e.orientation==="horizontal",l=Qp(()=>{if(n.viewport){const c=n.viewport.offsetWidth<n.viewport.scrollWidth,f=n.viewport.offsetHeight<n.viewport.scrollHeight;i(a?c:f)}},10);return Vl(n.viewport,l),Vl(n.content,l),r||s?F.jsx(c2,{"data-state":s?"visible":"hidden",...o,ref:t}):null}),uI=O.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=oo(),[s,i]=O.useState(!1);return O.useEffect(()=>{const{scrollArea:a}=o;let l=0;if(a){const c=()=>{window.clearTimeout(l),i(!0)},f=()=>{l=window.setTimeout(()=>i(!1),o.scrollHideDelay)};return a.addEventListener("pointerenter",c),a.addEventListener("pointerleave",f),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",c),a.removeEventListener("pointerleave",f)}}},[o.scrollArea,o.scrollHideDelay]),n||s?F.jsx(ZT,{"data-state":s?"visible":"hidden",...r,ref:t}):null}),fI=O.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=oo(),s=e.orientation==="horizontal",[i,a]=O.useState("hidden"),l=Qp(()=>a("idle"),100);return O.useEffect(()=>{if(i==="idle"){const c=window.setTimeout(()=>a("hidden"),o.scrollHideDelay);return()=>window.clearTimeout(c)}},[i,o.scrollHideDelay]),O.useEffect(()=>{const{viewport:c}=o,f=s?"scrollLeft":"scrollTop";if(c){let u=c[f];const d=()=>{const h=c[f];u!==h&&(a("scrolling"),l()),u=h};return c.addEventListener("scroll",d),()=>c.removeEventListener("scroll",d)}},[o.viewport,s,l]),n||i!=="hidden"?F.jsx(c2,{"data-state":i==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:ia(e.onPointerEnter,()=>a("interacting")),onPointerLeave:ia(e.onPointerLeave,()=>a("idle"))}):null}),EE=O.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=oo(),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:i}=o,a=e.orientation==="horizontal";return O.useEffect(()=>(a?s(!0):i(!0),()=>{a?s(!1):i(!1)}),[a,s,i]),o.type==="hover"?F.jsx(uI,{...r,ref:t,forceMount:n}):o.type==="scroll"?F.jsx(fI,{...r,ref:t,forceMount:n}):o.type==="auto"?F.jsx(ZT,{...r,ref:t,forceMount:n}):o.type==="always"?F.jsx(c2,{...r,ref:t}):null});function dI(e,t=()=>{}){let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function o(){const s={left:e.scrollLeft,top:e.scrollTop},i=n.left!==s.left,a=n.top!==s.top;(i||a)&&t(),n=s,r=window.requestAnimationFrame(o)}(),()=>window.cancelAnimationFrame(r)}const hI=O.forwardRef((e,t)=>{const{style:n,...r}=e,o=oo(),s=qT(),{onThumbPositionChange:i}=s,a=ro(t,f=>s.onThumbChange(f)),l=O.useRef(),c=Qp(()=>{l.current&&(l.current(),l.current=void 0)},100);return O.useEffect(()=>{const{viewport:f}=o;if(f){const u=()=>{if(c(),!l.current){const d=dI(f,i);l.current=d,i()}};return i(),f.addEventListener("scroll",u),()=>f.removeEventListener("scroll",u)}},[o.viewport,c,i]),F.jsx("div",{"data-state":s.hasThumb?"visible":"hidden",...r,ref:a,style:{width:"var(--sa-thumb-width)",height:"var(--sa-thumb-height)",...n},onPointerDownCapture:ia(e.onPointerDownCapture,f=>{const d=f.target.getBoundingClientRect(),h=f.clientX-d.left,m=f.clientY-d.top;s.onThumbPointerDown({x:h,y:m})}),onPointerUp:ia(e.onPointerUp,s.onThumbPointerUp)})}),SE=O.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=qT();return n||o.hasThumb?F.jsx(hI,{ref:t,...r}):null}),QT=O.forwardRef(({children:e,style:t,...n},r)=>{const o=oo(),s=ro(r,o.onViewportChange);return F.jsx(at,{...n,ref:s,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t},children:F.jsx("div",{style:{minWidth:"100%",display:"table"},ref:o.onContentChange,children:e})})});QT.displayName="@mantine/core/ScrollAreaViewport";var u2={root:"m_d57069b5",viewport:"m_c0783ff9",viewportInner:"m_f8f631dd",scrollbar:"m_c44ba933",thumb:"m_d8b5e363",corner:"m_21657268"};const KT={scrollHideDelay:1e3,type:"hover",scrollbars:"xy"},pI=(e,{scrollbarSize:t})=>({root:{"--scrollarea-scrollbar-size":fe(t)}}),rc=gt((e,t)=>{const n=tt("ScrollArea",KT,e),{classNames:r,className:o,style:s,styles:i,unstyled:a,scrollbarSize:l,vars:c,type:f,scrollHideDelay:u,viewportProps:d,viewportRef:h,onScrollPositionChange:m,children:p,offsetScrollbars:g,scrollbars:v,...y}=n,[w,b]=O.useState(!1),E=Nt({name:"ScrollArea",props:n,classes:u2,className:o,style:s,classNames:r,styles:i,unstyled:a,vars:c,varsResolver:pI});return F.jsxs(UT,{type:f==="never"?"always":f,scrollHideDelay:u,ref:t,scrollbars:v,...E("root"),...y,children:[F.jsx(QT,{...d,...E("viewport",{style:d==null?void 0:d.style}),ref:h,"data-offset-scrollbars":g===!0?"xy":g||void 0,"data-scrollbars":v||void 0,onScroll:S=>{var $;($=d==null?void 0:d.onScroll)==null||$.call(d,S),m==null||m({x:S.currentTarget.scrollLeft,y:S.currentTarget.scrollTop})},children:p}),(v==="xy"||v==="x")&&F.jsx(EE,{...E("scrollbar"),orientation:"horizontal","data-hidden":f==="never"||void 0,forceMount:!0,onMouseEnter:()=>b(!0),onMouseLeave:()=>b(!1),children:F.jsx(SE,{...E("thumb")})}),(v==="xy"||v==="y")&&F.jsx(EE,{...E("scrollbar"),orientation:"vertical","data-hidden":f==="never"||void 0,forceMount:!0,onMouseEnter:()=>b(!0),onMouseLeave:()=>b(!1),children:F.jsx(SE,{...E("thumb")})}),F.jsx(rI,{...E("corner"),"data-hovered":w||void 0,"data-hidden":f==="never"||void 0})]})});rc.displayName="@mantine/core/ScrollArea";const f2=gt((e,t)=>{const{children:n,classNames:r,styles:o,scrollbarSize:s,scrollHideDelay:i,type:a,dir:l,offsetScrollbars:c,viewportRef:f,onScrollPositionChange:u,unstyled:d,variant:h,viewportProps:m,scrollbars:p,style:g,vars:v,...y}=tt("ScrollAreaAutosize",KT,e);return F.jsx(at,{...y,ref:t,style:[{display:"flex",overflow:"auto"},g],children:F.jsx(at,{style:{display:"flex",flexDirection:"column",flex:1},children:F.jsx(rc,{classNames:r,styles:o,scrollHideDelay:i,scrollbarSize:s,type:a,dir:l,offsetScrollbars:c,viewportRef:f,onScrollPositionChange:u,unstyled:d,variant:h,viewportProps:m,vars:v,scrollbars:p,children:n})})})});rc.classes=u2;f2.displayName="@mantine/core/ScrollAreaAutosize";f2.classes=u2;rc.Autosize=f2;var JT={root:"m_87cf2631"};const mI={__staticSelector:"UnstyledButton"},oc=Ea((e,t)=>{const n=tt("UnstyledButton",mI,e),{className:r,component:o="button",__staticSelector:s,unstyled:i,classNames:a,styles:l,style:c,...f}=n,u=Nt({name:s,props:n,classes:JT,className:r,style:c,classNames:a,styles:l,unstyled:i});return F.jsx(at,{...u("root",{focusable:!0}),component:o,ref:t,type:o==="button"?"button":void 0,...f})});oc.classes=JT;oc.displayName="@mantine/core/UnstyledButton";var e4={root:"m_515a97f8"};const vI={},d2=gt((e,t)=>{const n=tt("VisuallyHidden",vI,e),{classNames:r,className:o,style:s,styles:i,unstyled:a,vars:l,...c}=n,f=Nt({name:"VisuallyHidden",classes:e4,props:n,className:o,style:s,classNames:r,styles:i,unstyled:a});return F.jsx(at,{component:"span",ref:t,...f("root"),...c})});d2.classes=e4;d2.displayName="@mantine/core/VisuallyHidden";function sc(e){return t4(e)?(e.nodeName||"").toLowerCase():"#document"}function Mr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function $s(e){var t;return(t=(t4(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function t4(e){return e instanceof Node||e instanceof Mr(e).Node}function or(e){return e instanceof Element||e instanceof Mr(e).Element}function Xo(e){return e instanceof HTMLElement||e instanceof Mr(e).HTMLElement}function _E(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Mr(e).ShadowRoot}function mf(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=$o(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function gI(e){return["table","td","th"].includes(sc(e))}function n1(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function h2(e){const t=p2(),n=or(e)?$o(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function yI(e){let t=pi(e);for(;Xo(t)&&!Ul(t);){if(h2(t))return t;if(n1(t))return null;t=pi(t)}return null}function p2(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ul(e){return["html","body","#document"].includes(sc(e))}function $o(e){return Mr(e).getComputedStyle(e)}function r1(e){return or(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function pi(e){if(sc(e)==="html")return e;const t=e.assignedSlot||e.parentNode||_E(e)&&e.host||$s(e);return _E(t)?t.host:t}function n4(e){const t=pi(e);return Ul(t)?e.ownerDocument?e.ownerDocument.body:e.body:Xo(t)&&mf(t)?t:n4(t)}function Yu(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=n4(e),s=o===((r=e.ownerDocument)==null?void 0:r.body),i=Mr(o);return s?t.concat(i,i.visualViewport||[],mf(o)?o:[],i.frameElement&&n?Yu(i.frameElement):[]):t.concat(o,Yu(o,[],n))}const Rr=Math.min,Xn=Math.max,ip=Math.round,Ld=Math.floor,mi=e=>({x:e,y:e}),wI={left:"right",right:"left",bottom:"top",top:"bottom"},xI={start:"end",end:"start"};function Pg(e,t,n){return Xn(e,Rr(t,n))}function xs(e,t){return typeof e=="function"?e(t):e}function Ao(e){return e.split("-")[0]}function ic(e){return e.split("-")[1]}function m2(e){return e==="x"?"y":"x"}function v2(e){return e==="y"?"height":"width"}function bs(e){return["top","bottom"].includes(Ao(e))?"y":"x"}function g2(e){return m2(bs(e))}function bI(e,t,n){n===void 0&&(n=!1);const r=ic(e),o=g2(e),s=v2(o);let i=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(i=ap(i)),[i,ap(i)]}function EI(e){const t=ap(e);return[kg(e),t,kg(t)]}function kg(e){return e.replace(/start|end/g,t=>xI[t])}function SI(e,t,n){const r=["left","right"],o=["right","left"],s=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:r:t?r:o;case"left":case"right":return t?s:i;default:return[]}}function _I(e,t,n,r){const o=ic(e);let s=SI(Ao(e),n==="start",r);return o&&(s=s.map(i=>i+"-"+o),t&&(s=s.concat(s.map(kg)))),s}function ap(e){return e.replace(/left|right|bottom|top/g,t=>wI[t])}function $I(e){return{top:0,right:0,bottom:0,left:0,...e}}function y2(e){return typeof e!="number"?$I(e):{top:e,right:e,bottom:e,left:e}}function Hl(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function $E(e,t,n){let{reference:r,floating:o}=e;const s=bs(t),i=g2(t),a=v2(i),l=Ao(t),c=s==="y",f=r.x+r.width/2-o.width/2,u=r.y+r.height/2-o.height/2,d=r[a]/2-o[a]/2;let h;switch(l){case"top":h={x:f,y:r.y-o.height};break;case"bottom":h={x:f,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:u};break;case"left":h={x:r.x-o.width,y:u};break;default:h={x:r.x,y:r.y}}switch(ic(t)){case"start":h[i]-=d*(n&&c?-1:1);break;case"end":h[i]+=d*(n&&c?-1:1);break}return h}const AI=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:s=[],platform:i}=n,a=s.filter(Boolean),l=await(i.isRTL==null?void 0:i.isRTL(t));let c=await i.getElementRects({reference:e,floating:t,strategy:o}),{x:f,y:u}=$E(c,r,l),d=r,h={},m=0;for(let p=0;p<a.length;p++){const{name:g,fn:v}=a[p],{x:y,y:w,data:b,reset:E}=await v({x:f,y:u,initialPlacement:r,placement:d,strategy:o,middlewareData:h,rects:c,platform:i,elements:{reference:e,floating:t}});f=y??f,u=w??u,h={...h,[g]:{...h[g],...b}},E&&m<=50&&(m++,typeof E=="object"&&(E.placement&&(d=E.placement),E.rects&&(c=E.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:o}):E.rects),{x:f,y:u}=$E(c,d,l)),p=-1)}return{x:f,y:u,placement:d,strategy:o,middlewareData:h}};async function w2(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:s,rects:i,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:f="viewport",elementContext:u="floating",altBoundary:d=!1,padding:h=0}=xs(t,e),m=y2(h),g=a[d?u==="floating"?"reference":"floating":u],v=Hl(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(g)))==null||n?g:g.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:f,strategy:l})),y=u==="floating"?{x:r,y:o,width:i.floating.width,height:i.floating.height}:i.reference,w=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),b=await(s.isElement==null?void 0:s.isElement(w))?await(s.getScale==null?void 0:s.getScale(w))||{x:1,y:1}:{x:1,y:1},E=Hl(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:w,strategy:l}):y);return{top:(v.top-E.top+m.top)/b.y,bottom:(E.bottom-v.bottom+m.bottom)/b.y,left:(v.left-E.left+m.left)/b.x,right:(E.right-v.right+m.right)/b.x}}const TI=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:s,platform:i,elements:a,middlewareData:l}=t,{element:c,padding:f=0}=xs(e,t)||{};if(c==null)return{};const u=y2(f),d={x:n,y:r},h=g2(o),m=v2(h),p=await i.getDimensions(c),g=h==="y",v=g?"top":"left",y=g?"bottom":"right",w=g?"clientHeight":"clientWidth",b=s.reference[m]+s.reference[h]-d[h]-s.floating[m],E=d[h]-s.reference[h],S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c));let $=S?S[w]:0;(!$||!await(i.isElement==null?void 0:i.isElement(S)))&&($=a.floating[w]||s.floating[m]);const A=b/2-E/2,G=$/2-p[m]/2-1,I=Rr(u[v],G),H=Rr(u[y],G),te=I,pe=$-p[m]-H,j=$/2-p[m]/2+A,de=Pg(te,j,pe),ee=!l.arrow&&ic(o)!=null&&j!==de&&s.reference[m]/2-(j<te?I:H)-p[m]/2<0,we=ee?j<te?j-te:j-pe:0;return{[h]:d[h]+we,data:{[h]:de,centerOffset:j-de-we,...ee&&{alignmentOffset:we}},reset:ee}}}),CI=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:s,rects:i,initialPlacement:a,platform:l,elements:c}=t,{mainAxis:f=!0,crossAxis:u=!0,fallbackPlacements:d,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:p=!0,...g}=xs(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const v=Ao(o),y=bs(a),w=Ao(a)===a,b=await(l.isRTL==null?void 0:l.isRTL(c.floating)),E=d||(w||!p?[ap(a)]:EI(a)),S=m!=="none";!d&&S&&E.push(..._I(a,p,m,b));const $=[a,...E],A=await w2(t,g),G=[];let I=((r=s.flip)==null?void 0:r.overflows)||[];if(f&&G.push(A[v]),u){const j=bI(o,i,b);G.push(A[j[0]],A[j[1]])}if(I=[...I,{placement:o,overflows:G}],!G.every(j=>j<=0)){var H,te;const j=(((H=s.flip)==null?void 0:H.index)||0)+1,de=$[j];if(de)return{data:{index:j,overflows:I},reset:{placement:de}};let ee=(te=I.filter(we=>we.overflows[0]<=0).sort((we,oe)=>we.overflows[1]-oe.overflows[1])[0])==null?void 0:te.placement;if(!ee)switch(h){case"bestFit":{var pe;const we=(pe=I.filter(oe=>{if(S){const $e=bs(oe.placement);return $e===y||$e==="y"}return!0}).map(oe=>[oe.placement,oe.overflows.filter($e=>$e>0).reduce(($e,Ne)=>$e+Ne,0)]).sort((oe,$e)=>oe[1]-$e[1])[0])==null?void 0:pe[0];we&&(ee=we);break}case"initialPlacement":ee=a;break}if(o!==ee)return{reset:{placement:ee}}}return{}}}};function r4(e){const t=Rr(...e.map(s=>s.left)),n=Rr(...e.map(s=>s.top)),r=Xn(...e.map(s=>s.right)),o=Xn(...e.map(s=>s.bottom));return{x:t,y:n,width:r-t,height:o-n}}function PI(e){const t=e.slice().sort((o,s)=>o.y-s.y),n=[];let r=null;for(let o=0;o<t.length;o++){const s=t[o];!r||s.y-r.y>r.height/2?n.push([s]):n[n.length-1].push(s),r=s}return n.map(o=>Hl(r4(o)))}const kI=function(e){return e===void 0&&(e={}),{name:"inline",options:e,async fn(t){const{placement:n,elements:r,rects:o,platform:s,strategy:i}=t,{padding:a=2,x:l,y:c}=xs(e,t),f=Array.from(await(s.getClientRects==null?void 0:s.getClientRects(r.reference))||[]),u=PI(f),d=Hl(r4(f)),h=y2(a);function m(){if(u.length===2&&u[0].left>u[1].right&&l!=null&&c!=null)return u.find(g=>l>g.left-h.left&&l<g.right+h.right&&c>g.top-h.top&&c<g.bottom+h.bottom)||d;if(u.length>=2){if(bs(n)==="y"){const I=u[0],H=u[u.length-1],te=Ao(n)==="top",pe=I.top,j=H.bottom,de=te?I.left:H.left,ee=te?I.right:H.right,we=ee-de,oe=j-pe;return{top:pe,bottom:j,left:de,right:ee,width:we,height:oe,x:de,y:pe}}const g=Ao(n)==="left",v=Xn(...u.map(I=>I.right)),y=Rr(...u.map(I=>I.left)),w=u.filter(I=>g?I.left===y:I.right===v),b=w[0].top,E=w[w.length-1].bottom,S=y,$=v,A=$-S,G=E-b;return{top:b,bottom:E,left:S,right:$,width:A,height:G,x:S,y:b}}return d}const p=await s.getElementRects({reference:{getBoundingClientRect:m},floating:r.floating,strategy:i});return o.reference.x!==p.reference.x||o.reference.y!==p.reference.y||o.reference.width!==p.reference.width||o.reference.height!==p.reference.height?{reset:{rects:p}}:{}}}};async function RI(e,t){const{placement:n,platform:r,elements:o}=e,s=await(r.isRTL==null?void 0:r.isRTL(o.floating)),i=Ao(n),a=ic(n),l=bs(n)==="y",c=["left","top"].includes(i)?-1:1,f=s&&l?-1:1,u=xs(t,e);let{mainAxis:d,crossAxis:h,alignmentAxis:m}=typeof u=="number"?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...u};return a&&typeof m=="number"&&(h=a==="end"?m*-1:m),l?{x:h*f,y:d*c}:{x:d*c,y:h*f}}const NI=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:s,placement:i,middlewareData:a}=t,l=await RI(t,e);return i===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:o+l.x,y:s+l.y,data:{...l,placement:i}}}}},OI=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:s=!0,crossAxis:i=!1,limiter:a={fn:g=>{let{x:v,y}=g;return{x:v,y}}},...l}=xs(e,t),c={x:n,y:r},f=await w2(t,l),u=bs(Ao(o)),d=m2(u);let h=c[d],m=c[u];if(s){const g=d==="y"?"top":"left",v=d==="y"?"bottom":"right",y=h+f[g],w=h-f[v];h=Pg(y,h,w)}if(i){const g=u==="y"?"top":"left",v=u==="y"?"bottom":"right",y=m+f[g],w=m-f[v];m=Pg(y,m,w)}const p=a.fn({...t,[d]:h,[u]:m});return{...p,data:{x:p.x-n,y:p.y-r}}}}},MI=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:o,rects:s,middlewareData:i}=t,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=xs(e,t),f={x:n,y:r},u=bs(o),d=m2(u);let h=f[d],m=f[u];const p=xs(a,t),g=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(l){const w=d==="y"?"height":"width",b=s.reference[d]-s.floating[w]+g.mainAxis,E=s.reference[d]+s.reference[w]-g.mainAxis;h<b?h=b:h>E&&(h=E)}if(c){var v,y;const w=d==="y"?"width":"height",b=["top","left"].includes(Ao(o)),E=s.reference[u]-s.floating[w]+(b&&((v=i.offset)==null?void 0:v[u])||0)+(b?0:g.crossAxis),S=s.reference[u]+s.reference[w]+(b?0:((y=i.offset)==null?void 0:y[u])||0)-(b?g.crossAxis:0);m<E?m=E:m>S&&(m=S)}return{[d]:h,[u]:m}}}},LI=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:r,platform:o,elements:s}=t,{apply:i=()=>{},...a}=xs(e,t),l=await w2(t,a),c=Ao(n),f=ic(n),u=bs(n)==="y",{width:d,height:h}=r.floating;let m,p;c==="top"||c==="bottom"?(m=c,p=f===(await(o.isRTL==null?void 0:o.isRTL(s.floating))?"start":"end")?"left":"right"):(p=c,m=f==="end"?"top":"bottom");const g=h-l.top-l.bottom,v=d-l.left-l.right,y=Rr(h-l[m],g),w=Rr(d-l[p],v),b=!t.middlewareData.shift;let E=y,S=w;if(u?S=f||b?Rr(w,v):v:E=f||b?Rr(y,g):g,b&&!f){const A=Xn(l.left,0),G=Xn(l.right,0),I=Xn(l.top,0),H=Xn(l.bottom,0);u?S=d-2*(A!==0||G!==0?A+G:Xn(l.left,l.right)):E=h-2*(I!==0||H!==0?I+H:Xn(l.top,l.bottom))}await i({...t,availableWidth:S,availableHeight:E});const $=await o.getDimensions(s.floating);return d!==$.width||h!==$.height?{reset:{rects:!0}}:{}}}};function o4(e){const t=$o(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=Xo(e),s=o?e.offsetWidth:n,i=o?e.offsetHeight:r,a=ip(n)!==s||ip(r)!==i;return a&&(n=s,r=i),{width:n,height:r,$:a}}function x2(e){return or(e)?e:e.contextElement}function Rl(e){const t=x2(e);if(!Xo(t))return mi(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:s}=o4(t);let i=(s?ip(n.width):n.width)/r,a=(s?ip(n.height):n.height)/o;return(!i||!Number.isFinite(i))&&(i=1),(!a||!Number.isFinite(a))&&(a=1),{x:i,y:a}}const DI=mi(0);function s4(e){const t=Mr(e);return!p2()||!t.visualViewport?DI:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function II(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Mr(e)?!1:t}function va(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),s=x2(e);let i=mi(1);t&&(r?or(r)&&(i=Rl(r)):i=Rl(e));const a=II(s,n,r)?s4(s):mi(0);let l=(o.left+a.x)/i.x,c=(o.top+a.y)/i.y,f=o.width/i.x,u=o.height/i.y;if(s){const d=Mr(s),h=r&&or(r)?Mr(r):r;let m=d,p=m.frameElement;for(;p&&r&&h!==m;){const g=Rl(p),v=p.getBoundingClientRect(),y=$o(p),w=v.left+(p.clientLeft+parseFloat(y.paddingLeft))*g.x,b=v.top+(p.clientTop+parseFloat(y.paddingTop))*g.y;l*=g.x,c*=g.y,f*=g.x,u*=g.y,l+=w,c+=b,m=Mr(p),p=m.frameElement}}return Hl({width:f,height:u,x:l,y:c})}function FI(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const s=o==="fixed",i=$s(r),a=t?n1(t.floating):!1;if(r===i||a&&s)return n;let l={scrollLeft:0,scrollTop:0},c=mi(1);const f=mi(0),u=Xo(r);if((u||!u&&!s)&&((sc(r)!=="body"||mf(i))&&(l=r1(r)),Xo(r))){const d=va(r);c=Rl(r),f.x=d.x+r.clientLeft,f.y=d.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+f.x,y:n.y*c.y-l.scrollTop*c.y+f.y}}function zI(e){return Array.from(e.getClientRects())}function i4(e){return va($s(e)).left+r1(e).scrollLeft}function BI(e){const t=$s(e),n=r1(e),r=e.ownerDocument.body,o=Xn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=Xn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+i4(e);const a=-n.scrollTop;return $o(r).direction==="rtl"&&(i+=Xn(t.clientWidth,r.clientWidth)-o),{width:o,height:s,x:i,y:a}}function GI(e,t){const n=Mr(e),r=$s(e),o=n.visualViewport;let s=r.clientWidth,i=r.clientHeight,a=0,l=0;if(o){s=o.width,i=o.height;const c=p2();(!c||c&&t==="fixed")&&(a=o.offsetLeft,l=o.offsetTop)}return{width:s,height:i,x:a,y:l}}function jI(e,t){const n=va(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,s=Xo(e)?Rl(e):mi(1),i=e.clientWidth*s.x,a=e.clientHeight*s.y,l=o*s.x,c=r*s.y;return{width:i,height:a,x:l,y:c}}function AE(e,t,n){let r;if(t==="viewport")r=GI(e,n);else if(t==="document")r=BI($s(e));else if(or(t))r=jI(t,n);else{const o=s4(e);r={...t,x:t.x-o.x,y:t.y-o.y}}return Hl(r)}function a4(e,t){const n=pi(e);return n===t||!or(n)||Ul(n)?!1:$o(n).position==="fixed"||a4(n,t)}function VI(e,t){const n=t.get(e);if(n)return n;let r=Yu(e,[],!1).filter(a=>or(a)&&sc(a)!=="body"),o=null;const s=$o(e).position==="fixed";let i=s?pi(e):e;for(;or(i)&&!Ul(i);){const a=$o(i),l=h2(i);!l&&a.position==="fixed"&&(o=null),(s?!l&&!o:!l&&a.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||mf(i)&&!l&&a4(e,i))?r=r.filter(f=>f!==i):o=a,i=pi(i)}return t.set(e,r),r}function UI(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const i=[...n==="clippingAncestors"?n1(t)?[]:VI(t,this._c):[].concat(n),r],a=i[0],l=i.reduce((c,f)=>{const u=AE(t,f,o);return c.top=Xn(u.top,c.top),c.right=Rr(u.right,c.right),c.bottom=Rr(u.bottom,c.bottom),c.left=Xn(u.left,c.left),c},AE(t,a,o));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function HI(e){const{width:t,height:n}=o4(e);return{width:t,height:n}}function WI(e,t,n){const r=Xo(t),o=$s(t),s=n==="fixed",i=va(e,!0,s,t);let a={scrollLeft:0,scrollTop:0};const l=mi(0);if(r||!r&&!s)if((sc(t)!=="body"||mf(o))&&(a=r1(t)),r){const u=va(t,!0,s,t);l.x=u.x+t.clientLeft,l.y=u.y+t.clientTop}else o&&(l.x=i4(o));const c=i.left+a.scrollLeft-l.x,f=i.top+a.scrollTop-l.y;return{x:c,y:f,width:i.width,height:i.height}}function mm(e){return $o(e).position==="static"}function TE(e,t){return!Xo(e)||$o(e).position==="fixed"?null:t?t(e):e.offsetParent}function l4(e,t){const n=Mr(e);if(n1(e))return n;if(!Xo(e)){let o=pi(e);for(;o&&!Ul(o);){if(or(o)&&!mm(o))return o;o=pi(o)}return n}let r=TE(e,t);for(;r&&gI(r)&&mm(r);)r=TE(r,t);return r&&Ul(r)&&mm(r)&&!h2(r)?n:r||yI(e)||n}const XI=async function(e){const t=this.getOffsetParent||l4,n=this.getDimensions,r=await n(e.floating);return{reference:WI(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function qI(e){return $o(e).direction==="rtl"}const YI={convertOffsetParentRelativeRectToViewportRelativeRect:FI,getDocumentElement:$s,getClippingRect:UI,getOffsetParent:l4,getElementRects:XI,getClientRects:zI,getDimensions:HI,getScale:Rl,isElement:or,isRTL:qI};function ZI(e,t){let n=null,r;const o=$s(e);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function i(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:c,top:f,width:u,height:d}=e.getBoundingClientRect();if(a||t(),!u||!d)return;const h=Ld(f),m=Ld(o.clientWidth-(c+u)),p=Ld(o.clientHeight-(f+d)),g=Ld(c),y={rootMargin:-h+"px "+-m+"px "+-p+"px "+-g+"px",threshold:Xn(0,Rr(1,l))||1};let w=!0;function b(E){const S=E[0].intersectionRatio;if(S!==l){if(!w)return i();S?i(!1,S):r=setTimeout(()=>{i(!1,1e-7)},1e3)}w=!1}try{n=new IntersectionObserver(b,{...y,root:o.ownerDocument})}catch{n=new IntersectionObserver(b,y)}n.observe(e)}return i(!0),s}function QI(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:s=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=x2(e),f=o||s?[...c?Yu(c):[],...Yu(t)]:[];f.forEach(v=>{o&&v.addEventListener("scroll",n,{passive:!0}),s&&v.addEventListener("resize",n)});const u=c&&a?ZI(c,n):null;let d=-1,h=null;i&&(h=new ResizeObserver(v=>{let[y]=v;y&&y.target===c&&h&&(h.unobserve(t),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var w;(w=h)==null||w.observe(t)})),n()}),c&&!l&&h.observe(c),h.observe(t));let m,p=l?va(e):null;l&&g();function g(){const v=va(e);p&&(v.x!==p.x||v.y!==p.y||v.width!==p.width||v.height!==p.height)&&n(),p=v,m=requestAnimationFrame(g)}return n(),()=>{var v;f.forEach(y=>{o&&y.removeEventListener("scroll",n),s&&y.removeEventListener("resize",n)}),u==null||u(),(v=h)==null||v.disconnect(),h=null,l&&cancelAnimationFrame(m)}}const KI=NI,JI=OI,eF=CI,tF=LI,CE=TI,nF=kI,rF=MI,oF=(e,t,n)=>{const r=new Map,o={platform:YI,...n},s={...o.platform,_c:r};return AI(e,t,{...o,platform:s})};var _h=typeof document<"u"?O.useLayoutEffect:O.useEffect;function lp(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!lp(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const s=o[r];if(!(s==="_owner"&&e.$$typeof)&&!lp(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function c4(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function PE(e,t){const n=c4(e);return Math.round(t*n)/n}function kE(e){const t=O.useRef(e);return _h(()=>{t.current=e}),t}function sF(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:s,floating:i}={},transform:a=!0,whileElementsMounted:l,open:c}=e,[f,u]=O.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[d,h]=O.useState(r);lp(d,r)||h(r);const[m,p]=O.useState(null),[g,v]=O.useState(null),y=O.useCallback(we=>{we!==S.current&&(S.current=we,p(we))},[]),w=O.useCallback(we=>{we!==$.current&&($.current=we,v(we))},[]),b=s||m,E=i||g,S=O.useRef(null),$=O.useRef(null),A=O.useRef(f),G=l!=null,I=kE(l),H=kE(o),te=O.useCallback(()=>{if(!S.current||!$.current)return;const we={placement:t,strategy:n,middleware:d};H.current&&(we.platform=H.current),oF(S.current,$.current,we).then(oe=>{const $e={...oe,isPositioned:!0};pe.current&&!lp(A.current,$e)&&(A.current=$e,Xp.flushSync(()=>{u($e)}))})},[d,t,n,H]);_h(()=>{c===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,u(we=>({...we,isPositioned:!1})))},[c]);const pe=O.useRef(!1);_h(()=>(pe.current=!0,()=>{pe.current=!1}),[]),_h(()=>{if(b&&(S.current=b),E&&($.current=E),b&&E){if(I.current)return I.current(b,E,te);te()}},[b,E,te,I,G]);const j=O.useMemo(()=>({reference:S,floating:$,setReference:y,setFloating:w}),[y,w]),de=O.useMemo(()=>({reference:b,floating:E}),[b,E]),ee=O.useMemo(()=>{const we={position:n,left:0,top:0};if(!de.floating)return we;const oe=PE(de.floating,f.x),$e=PE(de.floating,f.y);return a?{...we,transform:"translate("+oe+"px, "+$e+"px)",...c4(de.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:oe,top:$e}},[n,a,de.floating,f.x,f.y]);return O.useMemo(()=>({...f,update:te,refs:j,elements:de,floatingStyles:ee}),[f,te,j,de,ee])}const iF=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:o}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?CE({element:r.current,padding:o}).fn(n):{}:r?CE({element:r,padding:o}).fn(n):{}}}},aF=(e,t)=>({...KI(e),options:[e,t]}),lF=(e,t)=>({...JI(e),options:[e,t]}),RE=(e,t)=>({...rF(e),options:[e,t]}),NE=(e,t)=>({...eF(e),options:[e,t]}),cF=(e,t)=>({...tF(e),options:[e,t]}),OE=(e,t)=>({...nF(e),options:[e,t]}),uF=(e,t)=>({...iF(e),options:[e,t]}),u4={..._6},fF=u4.useInsertionEffect,dF=fF||(e=>e());function hF(e){const t=O.useRef(()=>{});return dF(()=>{t.current=e}),O.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}var Rg=typeof document<"u"?O.useLayoutEffect:O.useEffect;let ME=!1,pF=0;const LE=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+pF++;function mF(){const[e,t]=O.useState(()=>ME?LE():void 0);return Rg(()=>{e==null&&t(LE())},[]),O.useEffect(()=>{ME=!0},[]),e}const vF=u4.useId,gF=vF||mF;function yF(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(o=>o(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,((r=e.get(t))==null?void 0:r.filter(o=>o!==n))||[])}}}const wF=O.createContext(null),xF=O.createContext(null),bF=()=>{var e;return((e=O.useContext(wF))==null?void 0:e.id)||null},EF=()=>O.useContext(xF);function SF(e){const{open:t=!1,onOpenChange:n,elements:r}=e,o=gF(),s=O.useRef({}),[i]=O.useState(()=>yF()),a=bF()!=null,[l,c]=O.useState(r.reference),f=hF((h,m,p)=>{s.current.openEvent=h?m:void 0,i.emit("openchange",{open:h,event:m,reason:p,nested:a}),n==null||n(h,m,p)}),u=O.useMemo(()=>({setPositionReference:c}),[]),d=O.useMemo(()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference}),[l,r.reference,r.floating]);return O.useMemo(()=>({dataRef:s,open:t,onOpenChange:f,elements:d,events:i,floatingId:o,refs:u}),[t,f,d,i,o,u])}function _F(e){e===void 0&&(e={});const{nodeId:t}=e,n=SF({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,o=r.elements,[s,i]=O.useState(null),[a,l]=O.useState(null),f=(o==null?void 0:o.reference)||s,u=O.useRef(null),d=EF();Rg(()=>{f&&(u.current=f)},[f]);const h=sF({...e,elements:{...o,...a&&{reference:a}}}),m=O.useCallback(w=>{const b=or(w)?{getBoundingClientRect:()=>w.getBoundingClientRect(),contextElement:w}:w;l(b),h.refs.setReference(b)},[h.refs]),p=O.useCallback(w=>{(or(w)||w===null)&&(u.current=w,i(w)),(or(h.refs.reference.current)||h.refs.reference.current===null||w!==null&&!or(w))&&h.refs.setReference(w)},[h.refs]),g=O.useMemo(()=>({...h.refs,setReference:p,setPositionReference:m,domReference:u}),[h.refs,p,m]),v=O.useMemo(()=>({...h.elements,domReference:f}),[h.elements,f]),y=O.useMemo(()=>({...h,...r,refs:g,elements:v,nodeId:t}),[h,g,v,t,r]);return Rg(()=>{r.dataRef.current.floatingContext=y;const w=d==null?void 0:d.nodesRef.current.find(b=>b.id===t);w&&(w.context=y)}),O.useMemo(()=>({...h,context:y,refs:g,elements:v}),[h,g,v,y])}function $F(e,t){if(e==="rtl"&&(t.includes("right")||t.includes("left"))){const[n,r]=t.split("-"),o=n==="right"?"left":"right";return r===void 0?o:`${o}-${r}`}return t}function DE(e,t,n,r){return e==="center"||r==="center"?{top:t}:e==="end"?{bottom:n}:e==="start"?{top:n}:{}}function IE(e,t,n,r,o){return e==="center"||r==="center"?{left:t}:e==="end"?{[o==="ltr"?"right":"left"]:n}:e==="start"?{[o==="ltr"?"left":"right"]:n}:{}}const AF={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function TF({position:e,arrowSize:t,arrowOffset:n,arrowRadius:r,arrowPosition:o,arrowX:s,arrowY:i,dir:a}){const[l,c="center"]=e.split("-"),f={width:t,height:t,transform:"rotate(45deg)",position:"absolute",[AF[l]]:r},u=-t/2;return l==="left"?{...f,...DE(c,i,n,o),right:u,borderLeftColor:"transparent",borderBottomColor:"transparent"}:l==="right"?{...f,...DE(c,i,n,o),left:u,borderRightColor:"transparent",borderTopColor:"transparent"}:l==="top"?{...f,...IE(c,s,n,o,a),bottom:u,borderTopColor:"transparent",borderLeftColor:"transparent"}:l==="bottom"?{...f,...IE(c,s,n,o,a),top:u,borderBottomColor:"transparent",borderRightColor:"transparent"}:{}}const f4=O.forwardRef(({position:e,arrowSize:t,arrowOffset:n,arrowRadius:r,arrowPosition:o,visible:s,arrowX:i,arrowY:a,style:l,...c},f)=>{const{dir:u}=e1();return s?F.jsx("div",{...c,ref:f,style:{...l,...TF({position:e,arrowSize:t,arrowOffset:n,arrowRadius:r,arrowPosition:o,dir:u,arrowX:i,arrowY:a})}}):null});f4.displayName="@mantine/core/FloatingArrow";const[CF,d4]=df("Popover component was not found in the tree");function b2({children:e,active:t=!0,refProp:n="ref",innerRef:r}){const o=LL(t),s=ro(o,r);return ff(e)?O.cloneElement(e,{[n]:s}):e}function h4(e){return F.jsx(d2,{tabIndex:-1,"data-autofocus":!0,...e})}b2.displayName="@mantine/core/FocusTrap";h4.displayName="@mantine/core/FocusTrapInitialFocus";b2.InitialFocus=h4;function PF(e){const t=document.createElement("div");return t.setAttribute("data-portal","true"),typeof e.className=="string"&&t.classList.add(...e.className.split(" ").filter(Boolean)),typeof e.style=="object"&&Object.assign(t.style,e.style),typeof e.id=="string"&&t.setAttribute("id",e.id),t}const kF={},p4=O.forwardRef((e,t)=>{const{children:n,target:r,...o}=tt("Portal",kF,e),[s,i]=O.useState(!1),a=O.useRef(null);return nc(()=>(i(!0),a.current=r?typeof r=="string"?document.querySelector(r):r:PF(o),RT(t,a.current),!r&&a.current&&document.body.appendChild(a.current),()=>{!r&&a.current&&document.body.removeChild(a.current)}),[r]),!s||!a.current?null:Xp.createPortal(F.jsx(F.Fragment,{children:n}),a.current)});p4.displayName="@mantine/core/Portal";function E2({withinPortal:e=!0,children:t,...n}){return e?F.jsx(p4,{...n,children:t}):F.jsx(F.Fragment,{children:t})}E2.displayName="@mantine/core/OptionalPortal";const Kc=e=>({in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:`scale(.9) translateY(${fe(e==="bottom"?10:-10)})`},transitionProperty:"transform, opacity"}),Dd={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},"fade-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:`translateY(${fe(30)}`},transitionProperty:"opacity, transform"},"fade-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:`translateY(${fe(-30)}`},transitionProperty:"opacity, transform"},"fade-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:`translateX(${fe(30)}`},transitionProperty:"opacity, transform"},"fade-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:`translateX(${fe(-30)}`},transitionProperty:"opacity, transform"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:`translateY(${fe(-20)}) skew(-10deg, -5deg)`},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:`translateY(${fe(20)}) skew(-10deg, -5deg)`},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:`translateY(${fe(20)}) rotate(-5deg)`},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:`translateY(${fe(20)}) rotate(5deg)`},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:{...Kc("bottom"),common:{transformOrigin:"center center"}},"pop-bottom-left":{...Kc("bottom"),common:{transformOrigin:"bottom left"}},"pop-bottom-right":{...Kc("bottom"),common:{transformOrigin:"bottom right"}},"pop-top-left":{...Kc("top"),common:{transformOrigin:"top left"}},"pop-top-right":{...Kc("top"),common:{transformOrigin:"top right"}}},FE={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function RF({transition:e,state:t,duration:n,timingFunction:r}){const o={transitionDuration:`${n}ms`,transitionTimingFunction:r};return typeof e=="string"?e in Dd?{transitionProperty:Dd[e].transitionProperty,...o,...Dd[e].common,...Dd[e][FE[t]]}:{}:{transitionProperty:e.transitionProperty,...o,...e.common,...e[FE[t]]}}function NF({duration:e,exitDuration:t,timingFunction:n,mounted:r,onEnter:o,onExit:s,onEntered:i,onExited:a,enterDelay:l,exitDelay:c}){const f=Yo(),u=NT(),d=f.respectReducedMotion?u:!1,[h,m]=O.useState(d?0:e),[p,g]=O.useState(r?"entered":"exited"),v=O.useRef(-1),y=O.useRef(-1),w=O.useRef(-1),b=S=>{const $=S?o:s,A=S?i:a;window.clearTimeout(v.current);const G=d?0:S?e:t;m(G),G===0?(typeof $=="function"&&$(),typeof A=="function"&&A(),g(S?"entered":"exited")):w.current=requestAnimationFrame(()=>{mu.flushSync(()=>{g(S?"pre-entering":"pre-exiting")}),w.current=requestAnimationFrame(()=>{typeof $=="function"&&$(),g(S?"entering":"exiting"),v.current=window.setTimeout(()=>{typeof A=="function"&&A(),g(S?"entered":"exited")},G)})})},E=S=>{if(window.clearTimeout(y.current),typeof(S?l:c)!="number"){b(S);return}y.current=window.setTimeout(()=>{b(S)},S?l:c)};return ma(()=>{E(r)},[r]),O.useEffect(()=>()=>{window.clearTimeout(v.current),cancelAnimationFrame(w.current)},[]),{transitionDuration:h,transitionStatus:p,transitionTimingFunction:n||"ease"}}function S2({keepMounted:e,transition:t="fade",duration:n=250,exitDuration:r=n,mounted:o,children:s,timingFunction:i="ease",onExit:a,onEntered:l,onEnter:c,onExited:f,enterDelay:u,exitDelay:d}){const{transitionDuration:h,transitionStatus:m,transitionTimingFunction:p}=NF({mounted:o,exitDuration:r,duration:n,timingFunction:i,onExit:a,onEntered:l,onEnter:c,onExited:f,enterDelay:u,exitDelay:d});return h===0?o?F.jsx(F.Fragment,{children:s({})}):e?s({display:"none"}):null:m==="exited"?e?s({display:"none"}):null:F.jsx(F.Fragment,{children:s(RF({transition:t,duration:h,state:m,timingFunction:p}))})}S2.displayName="@mantine/core/Transition";var m4={dropdown:"m_38a85659",arrow:"m_a31dc6c1"};const OF={},_2=gt((e,t)=>{var g,v,y,w;const n=tt("PopoverDropdown",OF,e),{className:r,style:o,vars:s,children:i,onKeyDownCapture:a,variant:l,classNames:c,styles:f,...u}=n,d=d4(),h=CL({opened:d.opened,shouldReturnFocus:d.returnFocus}),m=d.withRoles?{"aria-labelledby":d.getTargetId(),id:d.getDropdownId(),role:"dialog",tabIndex:-1}:{},p=ro(t,d.floating);return d.disabled?null:F.jsx(E2,{...d.portalProps,withinPortal:d.withinPortal,children:F.jsx(S2,{mounted:d.opened,...d.transitionProps,transition:((g=d.transitionProps)==null?void 0:g.transition)||"fade",duration:((v=d.transitionProps)==null?void 0:v.duration)??150,keepMounted:d.keepMounted,exitDuration:typeof((y=d.transitionProps)==null?void 0:y.exitDuration)=="number"?d.transitionProps.exitDuration:(w=d.transitionProps)==null?void 0:w.duration,children:b=>F.jsx(b2,{active:d.trapFocus,innerRef:p,children:F.jsxs(at,{...m,...u,variant:l,onKeyDownCapture:bL(d.onClose,{active:d.closeOnEscape,onTrigger:h,onKeyDown:a}),"data-position":d.placement,"data-fixed":d.floatingStrategy==="fixed"||void 0,...d.getStyles("dropdown",{className:r,props:n,classNames:c,styles:f,style:[{...b,zIndex:d.zIndex,top:d.y??0,left:d.x??0,width:d.width==="target"?void 0:fe(d.width)},o]}),children:[i,F.jsx(f4,{ref:d.arrowRef,arrowX:d.arrowX,arrowY:d.arrowY,visible:d.withArrow,position:d.placement,arrowSize:d.arrowSize,arrowRadius:d.arrowRadius,arrowOffset:d.arrowOffset,arrowPosition:d.arrowPosition,...d.getStyles("arrow",{props:n,classNames:c,styles:f})})]})})})})});_2.classes=m4;_2.displayName="@mantine/core/PopoverDropdown";const MF={refProp:"ref",popupType:"dialog"},v4=gt((e,t)=>{const{children:n,refProp:r,popupType:o,...s}=tt("PopoverTarget",MF,e);if(!ff(n))throw new Error("Popover.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const i=s,a=d4(),l=ro(a.reference,n.ref,t),c=a.withRoles?{"aria-haspopup":o,"aria-expanded":a.opened,"aria-controls":a.getDropdownId(),id:a.getTargetId()}:{};return O.cloneElement(n,{...i,...c,...a.targetProps,className:Co(a.targetProps.className,i.className,n.props.className),[r]:l,...a.controlled?null:{onClick:a.onToggle}})});v4.displayName="@mantine/core/PopoverTarget";function LF({opened:e,floating:t,position:n,positionDependencies:r}){const[o,s]=O.useState(0);O.useEffect(()=>{if(t.refs.reference.current&&t.refs.floating.current)return QI(t.refs.reference.current,t.refs.floating.current,t.update)},[t.refs.reference.current,t.refs.floating.current,e,o,n]),ma(()=>{t.update()},r),ma(()=>{s(i=>i+1)},[e])}function DF(e){if(e===void 0)return{shift:!0,flip:!0};const t={...e};return e.shift===void 0&&(t.shift=!0),e.flip===void 0&&(t.flip=!0),t}function IF(e,t){const n=DF(e.middlewares),r=[aF(e.offset)];return n.shift&&r.push(lF(typeof n.shift=="boolean"?{limiter:RE(),padding:5}:{limiter:RE(),padding:5,...n.shift})),n.flip&&r.push(typeof n.flip=="boolean"?NE():NE(n.flip)),n.inline&&r.push(typeof n.inline=="boolean"?OE():OE(n.inline)),r.push(uF({element:e.arrowRef,padding:e.arrowOffset})),(n.size||e.width==="target")&&r.push(cF({...typeof n.size=="boolean"?{}:n.size,apply({rects:o,availableWidth:s,availableHeight:i}){var c;const l=((c=t().refs.floating.current)==null?void 0:c.style)??{};n.size&&Object.assign(l,{maxWidth:`${s}px`,maxHeight:`${i}px`}),e.width==="target"&&Object.assign(l,{width:`${o.reference.width}px`})}})),r}function FF(e){const[t,n]=jl({value:e.opened,defaultValue:e.defaultOpened,finalValue:!1,onChange:e.onChange}),r=()=>{var i;t&&((i=e.onClose)==null||i.call(e),n(!1))},o=()=>{var i,a;t?((i=e.onClose)==null||i.call(e),n(!1)):((a=e.onOpen)==null||a.call(e),n(!0))},s=_F({strategy:e.strategy,placement:e.position,middleware:IF(e,()=>s)});return LF({opened:e.opened,position:e.position,positionDependencies:e.positionDependencies||[],floating:s}),ma(()=>{var i;(i=e.onPositionChange)==null||i.call(e,s.placement)},[s.placement]),ma(()=>{var i,a;e.opened?(a=e.onOpen)==null||a.call(e):(i=e.onClose)==null||i.call(e)},[e.opened]),{floating:s,controlled:typeof e.opened=="boolean",opened:t,onClose:r,onToggle:o}}const zF={position:"bottom",offset:8,positionDependencies:[],transitionProps:{transition:"fade",duration:150},middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,arrowPosition:"side",closeOnClickOutside:!0,withinPortal:!0,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,clickOutsideEvents:["mousedown","touchstart"],zIndex:t2("popover"),__staticSelector:"Popover",width:"max-content"},BF=(e,{radius:t,shadow:n})=>({dropdown:{"--popover-radius":t===void 0?void 0:To(t),"--popover-shadow":SL(n)}});function bi(e){var Ln,ln,Ko,vn,uo,Ps;const t=tt("Popover",zF,e),{children:n,position:r,offset:o,onPositionChange:s,positionDependencies:i,opened:a,transitionProps:l,width:c,middlewares:f,withArrow:u,arrowSize:d,arrowOffset:h,arrowRadius:m,arrowPosition:p,unstyled:g,classNames:v,styles:y,closeOnClickOutside:w,withinPortal:b,portalProps:E,closeOnEscape:S,clickOutsideEvents:$,trapFocus:A,onClose:G,onOpen:I,onChange:H,zIndex:te,radius:pe,shadow:j,id:de,defaultOpened:ee,__staticSelector:we,withRoles:oe,disabled:$e,returnFocus:Ne,variant:Ye,keepMounted:rt,vars:kt,floatingStrategy:At,...Ct}=t,en=Nt({name:we,props:t,classes:m4,classNames:v,styles:y,unstyled:g,rootSelector:"dropdown",vars:kt,varsResolver:BF}),an=O.useRef(null),[Vn,lo]=O.useState(null),[Br,Po]=O.useState(null),{dir:co}=e1(),Gr=ba(de),It=FF({middlewares:f,width:c,position:$F(co,r),offset:typeof o=="number"?o+(u?d/2:0):o,arrowRef:an,arrowOffset:h,onPositionChange:s,positionDependencies:i,opened:a,defaultOpened:ee,onChange:H,onOpen:I,onClose:G,strategy:At});_L(()=>w&&It.onClose(),$,[Vn,Br]);const jr=O.useCallback(C=>{lo(C),It.floating.refs.setReference(C)},[It.floating.refs.setReference]),Qo=O.useCallback(C=>{Po(C),It.floating.refs.setFloating(C)},[It.floating.refs.setFloating]);return F.jsx(CF,{value:{returnFocus:Ne,disabled:$e,controlled:It.controlled,reference:jr,floating:Qo,x:It.floating.x,y:It.floating.y,arrowX:(Ko=(ln=(Ln=It.floating)==null?void 0:Ln.middlewareData)==null?void 0:ln.arrow)==null?void 0:Ko.x,arrowY:(Ps=(uo=(vn=It.floating)==null?void 0:vn.middlewareData)==null?void 0:uo.arrow)==null?void 0:Ps.y,opened:It.opened,arrowRef:an,transitionProps:l,width:c,withArrow:u,arrowSize:d,arrowOffset:h,arrowRadius:m,arrowPosition:p,placement:It.floating.placement,trapFocus:A,withinPortal:b,portalProps:E,zIndex:te,radius:pe,shadow:j,closeOnEscape:S,onClose:It.onClose,onToggle:It.onToggle,getTargetId:()=>`${Gr}-target`,getDropdownId:()=>`${Gr}-dropdown`,withRoles:oe,targetProps:Ct,__staticSelector:we,classNames:v,styles:y,unstyled:g,variant:Ye,keepMounted:rt,getStyles:en,floatingStrategy:At},children:n})}bi.Target=v4;bi.Dropdown=_2;bi.displayName="@mantine/core/Popover";bi.extend=e=>e;var xo={root:"m_5ae2e3c",barsLoader:"m_7a2bd4cd",bar:"m_870bb79","bars-loader-animation":"m_5d2b3b9d",dotsLoader:"m_4e3f22d7",dot:"m_870c4af","loader-dots-animation":"m_aac34a1",ovalLoader:"m_b34414df","oval-loader-animation":"m_f8e89c4b"};const GF=O.forwardRef(({className:e,...t},n)=>F.jsxs(at,{component:"span",className:Co(xo.barsLoader,e),...t,ref:n,children:[F.jsx("span",{className:xo.bar}),F.jsx("span",{className:xo.bar}),F.jsx("span",{className:xo.bar})]})),jF=O.forwardRef(({className:e,...t},n)=>F.jsxs(at,{component:"span",className:Co(xo.dotsLoader,e),...t,ref:n,children:[F.jsx("span",{className:xo.dot}),F.jsx("span",{className:xo.dot}),F.jsx("span",{className:xo.dot})]})),VF=O.forwardRef(({className:e,...t},n)=>F.jsx(at,{component:"span",className:Co(xo.ovalLoader,e),...t,ref:n})),g4={bars:GF,oval:VF,dots:jF},UF={loaders:g4,type:"oval"},HF=(e,{size:t,color:n})=>({root:{"--loader-size":mn(t,"loader-size"),"--loader-color":n?Dr(n,e):void 0}}),ac=gt((e,t)=>{const n=tt("Loader",UF,e),{size:r,color:o,type:s,vars:i,className:a,style:l,classNames:c,styles:f,unstyled:u,loaders:d,variant:h,children:m,...p}=n,g=Nt({name:"Loader",props:n,classes:xo,className:a,style:l,classNames:c,styles:f,unstyled:u,vars:i,varsResolver:HF});return m?F.jsx(at,{...g("root"),ref:t,...p,children:m}):F.jsx(at,{...g("root"),ref:t,component:d[s],variant:h,size:r,...p})});ac.defaultLoaders=g4;ac.classes=xo;ac.displayName="@mantine/core/Loader";const y4=O.forwardRef(({size:e="var(--cb-icon-size, 70%)",style:t,...n},r)=>F.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...t,width:e,height:e},ref:r,...n,children:F.jsx("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}));y4.displayName="@mantine/core/CloseIcon";var w4={root:"m_86a44da5","root--subtle":"m_220c80f2"};const WF={variant:"subtle"},XF=(e,{size:t,radius:n,iconSize:r})=>({root:{"--cb-size":mn(t,"cb-size"),"--cb-radius":n===void 0?void 0:To(n),"--cb-icon-size":fe(r)}}),o1=Ea((e,t)=>{const n=tt("CloseButton",WF,e),{iconSize:r,children:o,vars:s,radius:i,className:a,classNames:l,style:c,styles:f,unstyled:u,"data-disabled":d,disabled:h,variant:m,icon:p,mod:g,...v}=n,y=Nt({name:"CloseButton",props:n,className:a,style:c,classes:w4,classNames:l,styles:f,unstyled:u,vars:s,varsResolver:XF});return F.jsxs(oc,{ref:t,...v,unstyled:u,variant:m,disabled:h,mod:[{disabled:h||d},g],...y("root",{variant:m,active:!h&&!d}),children:[p||F.jsx(y4,{}),o]})});o1.classes=w4;o1.displayName="@mantine/core/CloseButton";function qF(e){return O.Children.toArray(e).filter(Boolean)}var x4={root:"m_4081bf90"};const YF={preventGrowOverflow:!0,gap:"md",align:"center",justify:"flex-start",wrap:"wrap"},ZF=(e,{grow:t,preventGrowOverflow:n,gap:r,align:o,justify:s,wrap:i},{childWidth:a})=>({root:{"--group-child-width":t&&n?a:void 0,"--group-gap":Zp(r),"--group-align":o,"--group-justify":s,"--group-wrap":i}}),$2=gt((e,t)=>{const n=tt("Group",YF,e),{classNames:r,className:o,style:s,styles:i,unstyled:a,children:l,gap:c,align:f,justify:u,wrap:d,grow:h,preventGrowOverflow:m,vars:p,variant:g,__size:v,mod:y,...w}=n,b=qF(l),E=b.length,S=Zp(c??"md"),A={childWidth:`calc(${100/E}% - (${S} - ${S} / ${E}))`},G=Nt({name:"Group",props:n,stylesCtx:A,className:o,style:s,classes:x4,classNames:r,styles:i,unstyled:a,vars:p,varsResolver:ZF});return F.jsx(at,{...G("root"),ref:t,variant:g,mod:[{grow:h},y],size:v,...w,children:b})});$2.classes=x4;$2.displayName="@mantine/core/Group";const[QF,vf]=Yp({offsetBottom:!1,offsetTop:!1,describedBy:void 0,getStyles:null,inputId:void 0,labelId:void 0});var so={wrapper:"m_6c018570",input:"m_8fb7ebe7",section:"m_82577fc2",placeholder:"m_88bacfd0",root:"m_46b77525",label:"m_8fdc1311",required:"m_78a94662",error:"m_8f816625",description:"m_fe47ce59"};const zE={},KF=(e,{size:t})=>({description:{"--input-description-size":t===void 0?void 0:`calc(${Or(t)} - ${fe(2)})`}}),s1=gt((e,t)=>{const n=tt("InputDescription",zE,e),{classNames:r,className:o,style:s,styles:i,unstyled:a,vars:l,size:c,__staticSelector:f,__inheritStyles:u=!0,variant:d,...h}=tt("InputDescription",zE,n),m=vf(),p=Nt({name:["InputWrapper",f],props:n,classes:so,className:o,style:s,classNames:r,styles:i,unstyled:a,rootSelector:"description",vars:l,varsResolver:KF}),g=u&&(m==null?void 0:m.getStyles)||p;return F.jsx(at,{component:"p",ref:t,variant:d,size:c,...g("description",m!=null&&m.getStyles?{className:o,style:s}:void 0),...h})});s1.classes=so;s1.displayName="@mantine/core/InputDescription";const JF={},e7=(e,{size:t})=>({error:{"--input-error-size":t===void 0?void 0:`calc(${Or(t)} - ${fe(2)})`}}),i1=gt((e,t)=>{const n=tt("InputError",JF,e),{classNames:r,className:o,style:s,styles:i,unstyled:a,vars:l,size:c,__staticSelector:f,__inheritStyles:u=!0,variant:d,...h}=n,m=Nt({name:["InputWrapper",f],props:n,classes:so,className:o,style:s,classNames:r,styles:i,unstyled:a,rootSelector:"error",vars:l,varsResolver:e7}),p=vf(),g=u&&(p==null?void 0:p.getStyles)||m;return F.jsx(at,{component:"p",ref:t,variant:d,size:c,...g("error",p!=null&&p.getStyles?{className:o,style:s}:void 0),...h})});i1.classes=so;i1.displayName="@mantine/core/InputError";const BE={labelElement:"label"},t7=(e,{size:t})=>({label:{"--input-label-size":Or(t),"--input-asterisk-color":void 0}}),a1=gt((e,t)=>{const n=tt("InputLabel",BE,e),{classNames:r,className:o,style:s,styles:i,unstyled:a,vars:l,labelElement:c,size:f,required:u,htmlFor:d,onMouseDown:h,children:m,__staticSelector:p,variant:g,mod:v,...y}=tt("InputLabel",BE,n),w=Nt({name:["InputWrapper",p],props:n,classes:so,className:o,style:s,classNames:r,styles:i,unstyled:a,rootSelector:"label",vars:l,varsResolver:t7}),b=vf(),E=(b==null?void 0:b.getStyles)||w;return F.jsxs(at,{...E("label",b!=null&&b.getStyles?{className:o,style:s}:void 0),component:c,variant:g,size:f,ref:t,htmlFor:c==="label"?d:void 0,mod:[{required:u},v],onMouseDown:S=>{h==null||h(S),!S.defaultPrevented&&S.detail>1&&S.preventDefault()},...y,children:[m,u&&F.jsx("span",{...E("required"),"aria-hidden":!0,children:" *"})]})});a1.classes=so;a1.displayName="@mantine/core/InputLabel";const GE={},A2=gt((e,t)=>{const n=tt("InputPlaceholder",GE,e),{classNames:r,className:o,style:s,styles:i,unstyled:a,vars:l,__staticSelector:c,variant:f,error:u,mod:d,...h}=tt("InputPlaceholder",GE,n),m=Nt({name:["InputPlaceholder",c],props:n,classes:so,className:o,style:s,classNames:r,styles:i,unstyled:a,rootSelector:"placeholder"});return F.jsx(at,{...m("placeholder"),mod:[{error:!!u},d],component:"span",variant:f,ref:t,...h})});A2.classes=so;A2.displayName="@mantine/core/InputPlaceholder";function n7(e,{hasDescription:t,hasError:n}){const r=e.findIndex(l=>l==="input"),o=e.slice(0,r),s=e.slice(r+1),i=t&&o.includes("description")||n&&o.includes("error");return{offsetBottom:t&&s.includes("description")||n&&s.includes("error"),offsetTop:i}}const r7={labelElement:"label",inputContainer:e=>e,inputWrapperOrder:["label","description","input","error"]},o7=(e,{size:t})=>({label:{"--input-label-size":Or(t),"--input-asterisk-color":void 0},error:{"--input-error-size":t===void 0?void 0:`calc(${Or(t)} - ${fe(2)})`},description:{"--input-description-size":t===void 0?void 0:`calc(${Or(t)} - ${fe(2)})`}}),T2=gt((e,t)=>{const n=tt("InputWrapper",r7,e),{classNames:r,className:o,style:s,styles:i,unstyled:a,vars:l,size:c,variant:f,__staticSelector:u,inputContainer:d,inputWrapperOrder:h,label:m,error:p,description:g,labelProps:v,descriptionProps:y,errorProps:w,labelElement:b,children:E,withAsterisk:S,id:$,required:A,__stylesApiProps:G,mod:I,...H}=n,te=Nt({name:["InputWrapper",u],props:G||n,classes:so,className:o,style:s,classNames:r,styles:i,unstyled:a,vars:l,varsResolver:o7}),pe={size:c,variant:f,__staticSelector:u},j=ba($),de=typeof S=="boolean"?S:A,ee=(w==null?void 0:w.id)||`${j}-error`,we=(y==null?void 0:y.id)||`${j}-description`,oe=j,$e=!!p&&typeof p!="boolean",Ne=!!g,Ye=`${$e?ee:""} ${Ne?we:""}`,rt=Ye.trim().length>0?Ye.trim():void 0,kt=(v==null?void 0:v.id)||`${j}-label`,At=m&&F.jsx(a1,{labelElement:b,id:kt,htmlFor:oe,required:de,...pe,...v,children:m},"label"),Ct=Ne&&F.jsx(s1,{...y,...pe,size:(y==null?void 0:y.size)||pe.size,id:(y==null?void 0:y.id)||we,children:g},"description"),en=F.jsx(O.Fragment,{children:d(E)},"input"),an=$e&&O.createElement(i1,{...w,...pe,size:(w==null?void 0:w.size)||pe.size,key:"error",id:(w==null?void 0:w.id)||ee},p),Vn=h.map(lo=>{switch(lo){case"label":return At;case"input":return en;case"description":return Ct;case"error":return an;default:return null}});return F.jsx(QF,{value:{getStyles:te,describedBy:rt,inputId:oe,labelId:kt,...n7(h,{hasDescription:Ne,hasError:$e})},children:F.jsx(at,{ref:t,variant:f,size:c,mod:[{error:!!p},I],...te("root"),...H,children:Vn})})});T2.classes=so;T2.displayName="@mantine/core/InputWrapper";const s7={variant:"default",leftSectionPointerEvents:"none",rightSectionPointerEvents:"none",withAria:!0,withErrorStyles:!0},i7=(e,t,n)=>({wrapper:{"--input-margin-top":n.offsetTop?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-margin-bottom":n.offsetBottom?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-height":mn(t.size,"input-height"),"--input-fz":Or(t.size),"--input-radius":t.radius===void 0?void 0:To(t.radius),"--input-left-section-width":t.leftSectionWidth!==void 0?fe(t.leftSectionWidth):void 0,"--input-right-section-width":t.rightSectionWidth!==void 0?fe(t.rightSectionWidth):void 0,"--input-padding-y":t.multiline?mn(t.size,"input-padding-y"):void 0,"--input-left-section-pointer-events":t.leftSectionPointerEvents,"--input-right-section-pointer-events":t.rightSectionPointerEvents}}),On=Ea((e,t)=>{const n=tt("Input",s7,e),{classNames:r,className:o,style:s,styles:i,unstyled:a,required:l,__staticSelector:c,__stylesApiProps:f,size:u,wrapperProps:d,error:h,disabled:m,leftSection:p,leftSectionProps:g,leftSectionWidth:v,rightSection:y,rightSectionProps:w,rightSectionWidth:b,rightSectionPointerEvents:E,leftSectionPointerEvents:S,variant:$,vars:A,pointer:G,multiline:I,radius:H,id:te,withAria:pe,withErrorStyles:j,mod:de,inputSize:ee,...we}=n,{styleProps:oe,rest:$e}=pf(we),Ne=vf(),Ye={offsetBottom:Ne==null?void 0:Ne.offsetBottom,offsetTop:Ne==null?void 0:Ne.offsetTop},rt=Nt({name:["Input",c],props:f||n,classes:so,className:o,style:s,classNames:r,styles:i,unstyled:a,stylesCtx:Ye,rootSelector:"wrapper",vars:A,varsResolver:i7}),kt=pe?{required:l,disabled:m,"aria-invalid":!!h,"aria-describedby":Ne==null?void 0:Ne.describedBy,id:(Ne==null?void 0:Ne.inputId)||te}:{};return F.jsxs(at,{...rt("wrapper"),...oe,...d,mod:[{error:!!h&&j,pointer:G,disabled:m,multiline:I,"data-with-right-section":!!y,"data-with-left-section":!!p},de],variant:$,size:u,children:[p&&F.jsx("div",{...g,"data-position":"left",...rt("section",{className:g==null?void 0:g.className,style:g==null?void 0:g.style}),children:p}),F.jsx(at,{component:"input",...$e,...kt,ref:t,required:l,mod:{disabled:m,error:!!h&&j},variant:$,__size:ee,...rt("input")}),y&&F.jsx("div",{...w,"data-position":"right",...rt("section",{className:w==null?void 0:w.className,style:w==null?void 0:w.style}),children:y})]})});On.classes=so;On.Wrapper=T2;On.Label=a1;On.Error=i1;On.Description=s1;On.Placeholder=A2;On.displayName="@mantine/core/Input";function a7(e,t,n){const r=tt(e,t,n),{label:o,description:s,error:i,required:a,classNames:l,styles:c,className:f,unstyled:u,__staticSelector:d,__stylesApiProps:h,errorProps:m,labelProps:p,descriptionProps:g,wrapperProps:v,id:y,size:w,style:b,inputContainer:E,inputWrapperOrder:S,withAsterisk:$,variant:A,vars:G,mod:I,...H}=r,{styleProps:te,rest:pe}=pf(H),j={label:o,description:s,error:i,required:a,classNames:l,className:f,__staticSelector:d,__stylesApiProps:h||r,errorProps:m,labelProps:p,descriptionProps:g,unstyled:u,styles:c,size:w,style:b,inputContainer:E,inputWrapperOrder:S,withAsterisk:$,variant:A,id:y,mod:I,...v};return{...pe,classNames:l,styles:c,unstyled:u,wrapperProps:{...j,...te},inputProps:{required:a,classNames:l,styles:c,unstyled:u,size:w,__staticSelector:d,__stylesApiProps:h||r,error:i,variant:A,id:y}}}const l7={__staticSelector:"InputBase",withAria:!0},lc=Ea((e,t)=>{const{inputProps:n,wrapperProps:r,...o}=a7("InputBase",l7,e);return F.jsx(On.Wrapper,{...r,children:F.jsx(On,{...n,...o,ref:t})})});lc.classes={...On.classes,...On.Wrapper.classes};lc.displayName="@mantine/core/InputBase";var b4={root:"m_b6d8b162"};function c7(e){if(e==="start")return"start";if(e==="end"||e)return"end"}const u7={inherit:!1},f7=(e,{variant:t,lineClamp:n,gradient:r,size:o,color:s})=>({root:{"--text-fz":Or(o),"--text-lh":EL(o),"--text-gradient":t==="gradient"?Ag(r,e):void 0,"--text-line-clamp":typeof n=="number"?n.toString():void 0,"--text-color":s?Dr(s,e):void 0}}),C2=Ea((e,t)=>{const n=tt("Text",u7,e),{lineClamp:r,truncate:o,inline:s,inherit:i,gradient:a,span:l,__staticSelector:c,vars:f,className:u,style:d,classNames:h,styles:m,unstyled:p,variant:g,mod:v,size:y,...w}=n,b=Nt({name:["Text",c],props:n,classes:b4,className:u,style:d,classNames:h,styles:m,unstyled:p,vars:f,varsResolver:f7});return F.jsx(at,{...b("root",{focusable:!0}),ref:t,component:l?"span":"p",variant:g,mod:[{"data-truncate":c7(o),"data-line-clamp":typeof r=="number","data-inline":s,"data-inherit":i},v],size:y,...w})});C2.classes=b4;C2.displayName="@mantine/core/Text";const[d7,cc]=df("AppShell was not found in tree");var Ei={root:"m_89ab340",navbar:"m_45252eee",aside:"m_9cdde9a",header:"m_3b16f56b",main:"m_8983817",footer:"m_3840c879",section:"m_6dcfc7c7"};const h7={},P2=gt((e,t)=>{const n=tt("AppShellAside",h7,e),{classNames:r,className:o,style:s,styles:i,unstyled:a,vars:l,withBorder:c,zIndex:f,mod:u,...d}=n,h=cc();return h.disabled?null:F.jsx(at,{component:"aside",ref:t,mod:[{"with-border":c??h.withBorder},u],...h.getStyles("aside",{className:o,classNames:r,styles:i,style:s}),...d,__vars:{"--app-shell-aside-z-index":`calc(${f??h.zIndex} + 1)`}})});P2.classes=Ei;P2.displayName="@mantine/core/AppShellAside";const p7={},k2=gt((e,t)=>{var m;const n=tt("AppShellFooter",p7,e),{classNames:r,className:o,style:s,styles:i,unstyled:a,vars:l,withBorder:c,zIndex:f,mod:u,...d}=n,h=cc();return h.disabled?null:F.jsx(at,{component:"footer",ref:t,mod:[{"with-border":c??h.withBorder},u],...h.getStyles("footer",{className:Co({[Ky.classNames.zeroRight]:h.offsetScrollbars},o),classNames:r,styles:i,style:s}),...d,__vars:{"--app-shell-footer-z-index":(m=f??h.zIndex)==null?void 0:m.toString()}})});k2.classes=Ei;k2.displayName="@mantine/core/AppShellFooter";const m7={},R2=gt((e,t)=>{var m;const n=tt("AppShellHeader",m7,e),{classNames:r,className:o,style:s,styles:i,unstyled:a,vars:l,withBorder:c,zIndex:f,mod:u,...d}=n,h=cc();return h.disabled?null:F.jsx(at,{component:"header",ref:t,mod:[{"with-border":c??h.withBorder},u],...h.getStyles("header",{className:Co({[Ky.classNames.zeroRight]:h.offsetScrollbars},o),classNames:r,styles:i,style:s}),...d,__vars:{"--app-shell-header-z-index":(m=f??h.zIndex)==null?void 0:m.toString()}})});R2.classes=Ei;R2.displayName="@mantine/core/AppShellHeader";const v7={},N2=gt((e,t)=>{const n=tt("AppShellMain",v7,e),{classNames:r,className:o,style:s,styles:i,vars:a,...l}=n,c=cc();return F.jsx(at,{component:"main",ref:t,...c.getStyles("main",{className:o,style:s,classNames:r,styles:i}),...l})});N2.classes=Ei;N2.displayName="@mantine/core/AppShellMain";function gf(e){return typeof e=="object"?e.base:e}function yf(e){const t=typeof e=="object"&&e!==null&&typeof e.base<"u"&&Object.keys(e).length===1;return typeof e=="number"||typeof e=="string"||t}function wf(e){return!(typeof e!="object"||e===null||Object.keys(e).length===1&&"base"in e)}function g7({baseStyles:e,minMediaStyles:t,maxMediaStyles:n,aside:r,theme:o}){var l,c,f;const s=r==null?void 0:r.width,i="translateX(var(--app-shell-aside-width))",a="translateX(calc(var(--app-shell-aside-width) * -1))";if(r!=null&&r.breakpoint&&!((l=r==null?void 0:r.collapsed)!=null&&l.mobile)&&(n[r==null?void 0:r.breakpoint]=n[r==null?void 0:r.breakpoint]||{},n[r==null?void 0:r.breakpoint]["--app-shell-aside-width"]="100%",n[r==null?void 0:r.breakpoint]["--app-shell-aside-offset"]="0px"),yf(s)){const u=fe(gf(s));e["--app-shell-aside-width"]=u,e["--app-shell-aside-offset"]=u}if(wf(s)&&(typeof s.base<"u"&&(e["--app-shell-aside-width"]=fe(s.base),e["--app-shell-aside-offset"]=fe(s.base)),Bn(s).forEach(u=>{u!=="base"&&(t[u]=t[u]||{},t[u]["--app-shell-aside-width"]=fe(s[u]),t[u]["--app-shell-aside-offset"]=fe(s[u]))})),(c=r==null?void 0:r.collapsed)!=null&&c.desktop){const u=r.breakpoint;t[u]=t[u]||{},t[u]["--app-shell-aside-transform"]=i,t[u]["--app-shell-aside-transform-rtl"]=a,t[u]["--app-shell-aside-offset"]="0px !important"}if((f=r==null?void 0:r.collapsed)!=null&&f.mobile){const u=n2(r.breakpoint,o)-.1;n[u]=n[u]||{},n[u]["--app-shell-aside-width"]="100%",n[u]["--app-shell-aside-offset"]="0px",n[u]["--app-shell-aside-transform"]=i,n[u]["--app-shell-aside-transform-rtl"]=a}}function y7({baseStyles:e,minMediaStyles:t,footer:n}){const r=n==null?void 0:n.height,o="translateY(var(--app-shell-footer-height))",s=(n==null?void 0:n.offset)??!0;if(yf(r)){const i=fe(gf(r));e["--app-shell-footer-height"]=i,s&&(e["--app-shell-footer-offset"]=i)}wf(r)&&(typeof r.base<"u"&&(e["--app-shell-footer-height"]=fe(r.base),s&&(e["--app-shell-footer-offset"]=fe(r.base))),Bn(r).forEach(i=>{i!=="base"&&(t[i]=t[i]||{},t[i]["--app-shell-footer-height"]=fe(r[i]),s&&(t[i]["--app-shell-footer-offset"]=fe(r[i])))})),n!=null&&n.collapsed&&(e["--app-shell-footer-transform"]=o,e["--app-shell-footer-offset"]="0px !important")}function w7({baseStyles:e,minMediaStyles:t,header:n}){const r=n==null?void 0:n.height,o="translateY(calc(var(--app-shell-header-height) * -1))",s=(n==null?void 0:n.offset)??!0;if(yf(r)){const i=fe(gf(r));e["--app-shell-header-height"]=i,s&&(e["--app-shell-header-offset"]=i)}wf(r)&&(typeof r.base<"u"&&(e["--app-shell-header-height"]=fe(r.base),s&&(e["--app-shell-header-offset"]=fe(r.base))),Bn(r).forEach(i=>{i!=="base"&&(t[i]=t[i]||{},t[i]["--app-shell-header-height"]=fe(r[i]),s&&(t[i]["--app-shell-header-offset"]=fe(r[i])))})),n!=null&&n.collapsed&&(e["--app-shell-header-transform"]=o,e["--app-shell-header-offset"]="0px !important")}function x7({baseStyles:e,minMediaStyles:t,maxMediaStyles:n,navbar:r,theme:o}){var l,c,f;const s=r==null?void 0:r.width,i="translateX(calc(var(--app-shell-navbar-width) * -1))",a="translateX(var(--app-shell-navbar-width))";if(r!=null&&r.breakpoint&&!((l=r==null?void 0:r.collapsed)!=null&&l.mobile)&&(n[r==null?void 0:r.breakpoint]=n[r==null?void 0:r.breakpoint]||{},n[r==null?void 0:r.breakpoint]["--app-shell-navbar-width"]="100%",n[r==null?void 0:r.breakpoint]["--app-shell-navbar-offset"]="0px"),yf(s)){const u=fe(gf(s));e["--app-shell-navbar-width"]=u,e["--app-shell-navbar-offset"]=u}if(wf(s)&&(typeof s.base<"u"&&(e["--app-shell-navbar-width"]=fe(s.base),e["--app-shell-navbar-offset"]=fe(s.base)),Bn(s).forEach(u=>{u!=="base"&&(t[u]=t[u]||{},t[u]["--app-shell-navbar-width"]=fe(s[u]),t[u]["--app-shell-navbar-offset"]=fe(s[u]))})),(c=r==null?void 0:r.collapsed)!=null&&c.desktop){const u=r.breakpoint;t[u]=t[u]||{},t[u]["--app-shell-navbar-transform"]=i,t[u]["--app-shell-navbar-transform-rtl"]=a,t[u]["--app-shell-navbar-offset"]="0px !important"}if((f=r==null?void 0:r.collapsed)!=null&&f.mobile){const u=n2(r.breakpoint,o)-.1;n[u]=n[u]||{},n[u]["--app-shell-navbar-width"]="100%",n[u]["--app-shell-navbar-offset"]="0px",n[u]["--app-shell-navbar-transform"]=i,n[u]["--app-shell-navbar-transform-rtl"]=a}}function vm(e){return Number(e)===0?"0px":Zp(e)}function b7({padding:e,baseStyles:t,minMediaStyles:n}){yf(e)&&(t["--app-shell-padding"]=vm(gf(e))),wf(e)&&(e.base&&(t["--app-shell-padding"]=vm(e.base)),Bn(e).forEach(r=>{r!=="base"&&(n[r]=n[r]||{},n[r]["--app-shell-padding"]=vm(e[r]))}))}function E7({navbar:e,header:t,footer:n,aside:r,padding:o,theme:s}){const i={},a={},l={};x7({baseStyles:l,minMediaStyles:i,maxMediaStyles:a,navbar:e,theme:s}),g7({baseStyles:l,minMediaStyles:i,maxMediaStyles:a,aside:r,theme:s}),w7({baseStyles:l,minMediaStyles:i,header:t}),y7({baseStyles:l,minMediaStyles:i,footer:n}),b7({baseStyles:l,minMediaStyles:i,padding:o});const c=fE(Bn(i),s).map(d=>({query:`(min-width: ${rp(d.px)})`,styles:i[d.value]})),f=fE(Bn(a),s).map(d=>({query:`(max-width: ${rp(d.px)})`,styles:a[d.value]})),u=[...c,...f];return{baseStyles:l,media:u}}function S7({navbar:e,header:t,aside:n,footer:r,padding:o}){const s=Yo(),i=xi(),{media:a,baseStyles:l}=E7({navbar:e,header:t,footer:r,aside:n,padding:o,theme:s});return F.jsx(zT,{media:a,styles:l,selector:i.cssVariablesSelector})}const _7={},O2=gt((e,t)=>{const n=tt("AppShellNavbar",_7,e),{classNames:r,className:o,style:s,styles:i,unstyled:a,vars:l,withBorder:c,zIndex:f,mod:u,...d}=n,h=cc();return h.disabled?null:F.jsx(at,{component:"nav",ref:t,mod:[{"with-border":c??h.withBorder},u],...h.getStyles("navbar",{className:o,classNames:r,styles:i,style:s}),...d,__vars:{"--app-shell-navbar-z-index":`calc(${f??h.zIndex} + 1)`}})});O2.classes=Ei;O2.displayName="@mantine/core/AppShellNavbar";const $7={},M2=Ea((e,t)=>{const n=tt("AppShellSection",$7,e),{classNames:r,className:o,style:s,styles:i,vars:a,grow:l,mod:c,...f}=n,u=cc();return F.jsx(at,{ref:t,mod:[{grow:l},c],...u.getStyles("section",{className:o,style:s,classNames:r,styles:i}),...f})});M2.classes=Ei;M2.displayName="@mantine/core/AppShellSection";function A7({transitionDuration:e,disabled:t}){const[n,r]=O.useState(!0),o=O.useRef(),s=O.useRef();return BL("resize",()=>{r(!0),clearTimeout(o.current),o.current=window.setTimeout(()=>r(!1),200)}),nc(()=>{O.startTransition(()=>{r(!0),clearTimeout(s.current),s.current=window.setTimeout(()=>r(!1),e||0)})},[t,e]),n}const T7={withBorder:!0,offsetScrollbars:!0,padding:0,transitionDuration:200,transitionTimingFunction:"ease",zIndex:t2("app")},C7=(e,{transitionDuration:t,transitionTimingFunction:n})=>({root:{"--app-shell-transition-duration":`${t}ms`,"--app-shell-transition-timing-function":n}}),So=gt((e,t)=>{const n=tt("AppShell",T7,e),{classNames:r,className:o,style:s,styles:i,unstyled:a,vars:l,navbar:c,withBorder:f,padding:u,transitionDuration:d,transitionTimingFunction:h,header:m,zIndex:p,layout:g,disabled:v,aside:y,footer:w,offsetScrollbars:b,mod:E,...S}=n,$=Nt({name:"AppShell",classes:Ei,props:n,className:o,style:s,classNames:r,styles:i,unstyled:a,vars:l,varsResolver:C7}),A=A7({disabled:v,transitionDuration:d});return F.jsxs(d7,{value:{getStyles:$,withBorder:f,zIndex:p,disabled:v,offsetScrollbars:b},children:[F.jsx(S7,{navbar:c,header:m,aside:y,footer:w,padding:u}),F.jsx(at,{ref:t,...$("root"),mod:[{resizing:A,layout:g,disabled:v},E],...S})]})});So.classes=Ei;So.displayName="@mantine/core/AppShell";So.Navbar=O2;So.Header=R2;So.Main=N2;So.Aside=P2;So.Footer=k2;So.Section=M2;function E4(e){return typeof e=="string"?{value:e,label:e}:"value"in e&&!("label"in e)?{value:e.value,label:e.value,disabled:e.disabled}:typeof e=="number"?{value:e.toString(),label:e.toString()}:"group"in e?{group:e.group,items:e.items.map(t=>E4(t))}:e}function P7(e){return e?e.map(t=>E4(t)):[]}function S4(e){return e.reduce((t,n)=>"group"in n?{...t,...S4(n.items)}:(t[n.value]=n,t),{})}var wr={dropdown:"m_88b62a41",options:"m_b2821a6e",option:"m_92253aa5",search:"m_985517d8",empty:"m_2530cd1d",header:"m_858f94bd",footer:"m_82b967cb",group:"m_254f3e4f",groupLabel:"m_2bb2e9e5",chevron:"m_2943220b",optionsDropdownOption:"m_390b5f4",optionsDropdownCheckIcon:"m_8ee53fc2"};const k7={error:null},R7=(e,{size:t})=>({chevron:{"--combobox-chevron-size":mn(t,"combobox-chevron-size")}}),L2=gt((e,t)=>{const n=tt("ComboboxChevron",k7,e),{size:r,error:o,style:s,className:i,classNames:a,styles:l,unstyled:c,vars:f,mod:u,...d}=n,h=Nt({name:"ComboboxChevron",classes:wr,props:n,style:s,className:i,classNames:a,styles:l,unstyled:c,vars:f,varsResolver:R7,rootSelector:"chevron"});return F.jsx(at,{component:"svg",...d,...h("chevron"),size:r,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",mod:["combobox-chevron",{error:o},u],ref:t,children:F.jsx("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})});L2.classes=wr;L2.displayName="@mantine/core/ComboboxChevron";const[N7,io]=df("Combobox component was not found in tree"),_4=O.forwardRef(({size:e,onMouseDown:t,onClick:n,onClear:r,...o},s)=>F.jsx(o1,{ref:s,size:e||"sm",variant:"transparent",tabIndex:-1,"aria-hidden":!0,...o,onMouseDown:i=>{i.preventDefault(),t==null||t(i)},onClick:i=>{r(),n==null||n(i)}}));_4.displayName="@mantine/core/ComboboxClearButton";const O7={},D2=gt((e,t)=>{const{classNames:n,styles:r,className:o,style:s,hidden:i,...a}=tt("ComboboxDropdown",O7,e),l=io();return F.jsx(bi.Dropdown,{...a,ref:t,role:"presentation","data-hidden":i||void 0,...l.getStyles("dropdown",{className:o,style:s,classNames:n,styles:r})})});D2.classes=wr;D2.displayName="@mantine/core/ComboboxDropdown";const M7={refProp:"ref"},$4=gt((e,t)=>{const{children:n,refProp:r}=tt("ComboboxDropdownTarget",M7,e);if(io(),!ff(n))throw new Error("Combobox.DropdownTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");return F.jsx(bi.Target,{ref:t,refProp:r,children:n})});$4.displayName="@mantine/core/ComboboxDropdownTarget";const L7={},I2=gt((e,t)=>{const{classNames:n,className:r,style:o,styles:s,vars:i,...a}=tt("ComboboxEmpty",L7,e),l=io();return F.jsx(at,{ref:t,...l.getStyles("empty",{className:r,classNames:n,styles:s,style:o}),...a})});I2.classes=wr;I2.displayName="@mantine/core/ComboboxEmpty";function F2({onKeyDown:e,withKeyboardNavigation:t,withAriaAttributes:n,withExpandedAttribute:r,targetType:o,autoComplete:s}){const i=io(),[a,l]=O.useState(null),c=u=>{if(e==null||e(u),!i.readOnly&&t){if(u.nativeEvent.isComposing)return;if(u.nativeEvent.code==="ArrowDown"&&(u.preventDefault(),i.store.dropdownOpened?l(i.store.selectNextOption()):(i.store.openDropdown("keyboard"),l(i.store.selectActiveOption()))),u.nativeEvent.code==="ArrowUp"&&(u.preventDefault(),i.store.dropdownOpened?l(i.store.selectPreviousOption()):(i.store.openDropdown("keyboard"),l(i.store.selectActiveOption()))),u.nativeEvent.code==="Enter"||u.nativeEvent.code==="NumpadEnter"){if(u.nativeEvent.keyCode===229)return;const d=i.store.getSelectedOptionIndex();i.store.dropdownOpened&&d!==-1?(u.preventDefault(),i.store.clickSelectedOption()):o==="button"&&(u.preventDefault(),i.store.openDropdown("keyboard"))}u.nativeEvent.code==="Escape"&&i.store.closeDropdown("keyboard"),u.nativeEvent.code==="Space"&&o==="button"&&(u.preventDefault(),i.store.toggleDropdown("keyboard"))}};return{...n?{"aria-haspopup":"listbox","aria-expanded":r&&!!(i.store.listId&&i.store.dropdownOpened)||void 0,"aria-controls":i.store.listId,"aria-activedescendant":i.store.dropdownOpened&&a||void 0,autoComplete:s,"data-expanded":i.store.dropdownOpened||void 0,"data-mantine-stop-propagation":i.store.dropdownOpened||void 0}:{},onKeyDown:c}}const D7={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},A4=gt((e,t)=>{const{children:n,refProp:r,withKeyboardNavigation:o,withAriaAttributes:s,withExpandedAttribute:i,targetType:a,autoComplete:l,...c}=tt("ComboboxEventsTarget",D7,e);if(!ff(n))throw new Error("Combobox.EventsTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const f=io(),u=F2({targetType:a,withAriaAttributes:s,withKeyboardNavigation:o,withExpandedAttribute:i,onKeyDown:n.props.onKeyDown,autoComplete:l});return O.cloneElement(n,{...u,...c,[r]:ro(t,f.store.targetRef,n==null?void 0:n.ref)})});A4.displayName="@mantine/core/ComboboxEventsTarget";const I7={},z2=gt((e,t)=>{const{classNames:n,className:r,style:o,styles:s,vars:i,...a}=tt("ComboboxFooter",I7,e),l=io();return F.jsx(at,{ref:t,...l.getStyles("footer",{className:r,classNames:n,style:o,styles:s}),...a,onMouseDown:c=>{c.preventDefault()}})});z2.classes=wr;z2.displayName="@mantine/core/ComboboxFooter";const F7={},B2=gt((e,t)=>{const{classNames:n,className:r,style:o,styles:s,vars:i,children:a,label:l,...c}=tt("ComboboxGroup",F7,e),f=io();return F.jsxs(at,{ref:t,...f.getStyles("group",{className:r,classNames:n,style:o,styles:s}),...c,children:[l&&F.jsx("div",{...f.getStyles("groupLabel",{classNames:n,styles:s}),children:l}),a]})});B2.classes=wr;B2.displayName="@mantine/core/ComboboxGroup";const z7={},G2=gt((e,t)=>{const{classNames:n,className:r,style:o,styles:s,vars:i,...a}=tt("ComboboxHeader",z7,e),l=io();return F.jsx(at,{ref:t,...l.getStyles("header",{className:r,classNames:n,style:o,styles:s}),...a,onMouseDown:c=>{c.preventDefault()}})});G2.classes=wr;G2.displayName="@mantine/core/ComboboxHeader";function T4({value:e,valuesDivider:t=",",...n}){return F.jsx("input",{type:"hidden",value:Array.isArray(e)?e.join(t):e||"",...n})}T4.displayName="@mantine/core/ComboboxHiddenInput";const B7={},j2=gt((e,t)=>{const n=tt("ComboboxOption",B7,e),{classNames:r,className:o,style:s,styles:i,vars:a,onClick:l,id:c,active:f,onMouseDown:u,onMouseOver:d,disabled:h,selected:m,mod:p,...g}=n,v=io(),y=O.useId(),w=c||y;return F.jsx(at,{...v.getStyles("option",{className:o,classNames:r,styles:i,style:s}),...g,ref:t,id:w,mod:["combobox-option",{"combobox-active":f,"combobox-disabled":h,"combobox-selected":m},p],role:"option",onClick:b=>{var E;h?b.preventDefault():((E=v.onOptionSubmit)==null||E.call(v,n.value,n),l==null||l(b))},onMouseDown:b=>{b.preventDefault(),u==null||u(b)},onMouseOver:b=>{v.resetSelectionOnOptionHover&&v.store.resetSelectedOption(),d==null||d(b)}})});j2.classes=wr;j2.displayName="@mantine/core/ComboboxOption";const G7={},V2=gt((e,t)=>{const n=tt("ComboboxOptions",G7,e),{classNames:r,className:o,style:s,styles:i,id:a,onMouseDown:l,labelledBy:c,...f}=n,u=io(),d=ba(a);return O.useEffect(()=>{u.store.setListId(d)},[d]),F.jsx(at,{ref:t,...u.getStyles("options",{className:o,style:s,classNames:r,styles:i}),...f,id:d,role:"listbox","aria-labelledby":c,onMouseDown:h=>{h.preventDefault(),l==null||l(h)}})});V2.classes=wr;V2.displayName="@mantine/core/ComboboxOptions";const j7={withAriaAttributes:!0,withKeyboardNavigation:!0},U2=gt((e,t)=>{const n=tt("ComboboxSearch",j7,e),{classNames:r,styles:o,unstyled:s,vars:i,withAriaAttributes:a,onKeyDown:l,withKeyboardNavigation:c,size:f,...u}=n,d=io(),h=d.getStyles("search"),m=F2({targetType:"input",withAriaAttributes:a,withKeyboardNavigation:c,withExpandedAttribute:!1,onKeyDown:l,autoComplete:"off"});return F.jsx(On,{ref:ro(t,d.store.searchRef),classNames:[{input:h.className},r],styles:[{input:h.style},o],size:f||d.size,...m,...u,__staticSelector:"Combobox"})});U2.classes=wr;U2.displayName="@mantine/core/ComboboxSearch";const V7={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},C4=gt((e,t)=>{const{children:n,refProp:r,withKeyboardNavigation:o,withAriaAttributes:s,withExpandedAttribute:i,targetType:a,autoComplete:l,...c}=tt("ComboboxTarget",V7,e);if(!ff(n))throw new Error("Combobox.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const f=io(),u=F2({targetType:a,withAriaAttributes:s,withKeyboardNavigation:o,withExpandedAttribute:i,onKeyDown:n.props.onKeyDown,autoComplete:l}),d=O.cloneElement(n,{...u,...c});return F.jsx(bi.Target,{ref:ro(t,f.store.targetRef),children:d})});C4.displayName="@mantine/core/ComboboxTarget";function U7(e,t,n){for(let r=e-1;r>=0;r-=1)if(!t[r].hasAttribute("data-combobox-disabled"))return r;if(n){for(let r=t.length-1;r>-1;r-=1)if(!t[r].hasAttribute("data-combobox-disabled"))return r}return e}function H7(e,t,n){for(let r=e+1;r<t.length;r+=1)if(!t[r].hasAttribute("data-combobox-disabled"))return r;if(n){for(let r=0;r<t.length;r+=1)if(!t[r].hasAttribute("data-combobox-disabled"))return r}return e}function W7(e){for(let t=0;t<e.length;t+=1)if(!e[t].hasAttribute("data-combobox-disabled"))return t;return-1}function P4({defaultOpened:e,opened:t,onOpenedChange:n,onDropdownClose:r,onDropdownOpen:o,loop:s=!0,scrollBehavior:i="instant"}={}){const[a,l]=jl({value:t,defaultValue:e,finalValue:!1,onChange:n}),c=O.useRef(null),f=O.useRef(-1),u=O.useRef(null),d=O.useRef(null),h=O.useRef(-1),m=O.useRef(-1),p=O.useRef(-1),g=O.useCallback((ee="unknown")=>{a||(l(!0),o==null||o(ee))},[l,o,a]),v=O.useCallback((ee="unknown")=>{a&&(l(!1),r==null||r(ee))},[l,r,a]),y=O.useCallback((ee="unknown")=>{a?v(ee):g(ee)},[v,g,a]),w=O.useCallback(()=>{const ee=document.querySelector(`#${c.current} [data-combobox-selected]`);ee==null||ee.removeAttribute("data-combobox-selected"),ee==null||ee.removeAttribute("aria-selected")},[]),b=O.useCallback(ee=>{const we=document.getElementById(c.current),oe=we==null?void 0:we.querySelectorAll("[data-combobox-option]");if(!oe)return null;const $e=ee>=oe.length?0:ee<0?oe.length-1:ee;return f.current=$e,oe!=null&&oe[$e]&&!oe[$e].hasAttribute("data-combobox-disabled")?(w(),oe[$e].setAttribute("data-combobox-selected","true"),oe[$e].setAttribute("aria-selected","true"),oe[$e].scrollIntoView({block:"nearest",behavior:i}),oe[$e].id):null},[i,w]),E=O.useCallback(()=>{const ee=document.querySelector(`#${c.current} [data-combobox-active]`);if(ee){const we=document.querySelectorAll(`#${c.current} [data-combobox-option]`),oe=Array.from(we).findIndex($e=>$e===ee);return b(oe)}return b(0)},[b]),S=O.useCallback(()=>b(H7(f.current,document.querySelectorAll(`#${c.current} [data-combobox-option]`),s)),[b,s]),$=O.useCallback(()=>b(U7(f.current,document.querySelectorAll(`#${c.current} [data-combobox-option]`),s)),[b,s]),A=O.useCallback(()=>b(W7(document.querySelectorAll(`#${c.current} [data-combobox-option]`))),[b]),G=O.useCallback((ee="selected",we)=>{p.current=window.setTimeout(()=>{var Ne;const oe=document.querySelectorAll(`#${c.current} [data-combobox-option]`),$e=Array.from(oe).findIndex(Ye=>Ye.hasAttribute(`data-combobox-${ee}`));f.current=$e,we!=null&&we.scrollIntoView&&((Ne=oe[$e])==null||Ne.scrollIntoView({block:"nearest",behavior:i}))},0)},[]),I=O.useCallback(()=>{f.current=-1,w()},[w]),H=O.useCallback(()=>{const ee=document.querySelectorAll(`#${c.current} [data-combobox-option]`),we=ee==null?void 0:ee[f.current];we==null||we.click()},[]),te=O.useCallback(ee=>{c.current=ee},[]),pe=O.useCallback(()=>{h.current=window.setTimeout(()=>u.current.focus(),0)},[]),j=O.useCallback(()=>{m.current=window.setTimeout(()=>d.current.focus(),0)},[]),de=O.useCallback(()=>f.current,[]);return O.useEffect(()=>()=>{window.clearTimeout(h.current),window.clearTimeout(m.current),window.clearTimeout(p.current)},[]),{dropdownOpened:a,openDropdown:g,closeDropdown:v,toggleDropdown:y,selectedOptionIndex:f.current,getSelectedOptionIndex:de,selectOption:b,selectFirstOption:A,selectActiveOption:E,selectNextOption:S,selectPreviousOption:$,resetSelectedOption:I,updateSelectedOptionIndex:G,listId:c.current,setListId:te,clickSelectedOption:H,searchRef:u,focusSearchInput:pe,targetRef:d,focusTarget:j}}const X7={keepMounted:!0,withinPortal:!0,resetSelectionOnOptionHover:!1,width:"target",transitionProps:{transition:"fade",duration:0}},q7=(e,{size:t,dropdownPadding:n})=>({options:{"--combobox-option-fz":Or(t),"--combobox-option-padding":mn(t,"combobox-option-padding")},dropdown:{"--combobox-padding":n===void 0?void 0:fe(n),"--combobox-option-fz":Or(t),"--combobox-option-padding":mn(t,"combobox-option-padding")}});function Lt(e){const t=tt("Combobox",X7,e),{classNames:n,styles:r,unstyled:o,children:s,store:i,vars:a,onOptionSubmit:l,onClose:c,size:f,dropdownPadding:u,resetSelectionOnOptionHover:d,__staticSelector:h,readOnly:m,...p}=t,g=P4(),v=i||g,y=Nt({name:h||"Combobox",classes:wr,props:t,classNames:n,styles:r,unstyled:o,vars:a,varsResolver:q7}),w=()=>{c==null||c(),v.closeDropdown()};return F.jsx(N7,{value:{getStyles:y,store:v,onOptionSubmit:l,size:f,resetSelectionOnOptionHover:d,readOnly:m},children:F.jsx(bi,{opened:v.dropdownOpened,...p,onClose:w,withRoles:!1,unstyled:o,children:s})})}const Y7=e=>e;Lt.extend=Y7;Lt.classes=wr;Lt.displayName="@mantine/core/Combobox";Lt.Target=C4;Lt.Dropdown=D2;Lt.Options=V2;Lt.Option=j2;Lt.Search=U2;Lt.Empty=I2;Lt.Chevron=L2;Lt.Footer=z2;Lt.Header=G2;Lt.EventsTarget=A4;Lt.DropdownTarget=$4;Lt.Group=B2;Lt.ClearButton=_4;Lt.HiddenInput=T4;var k4={root:"m_5f75b09e",body:"m_5f6e695e",labelWrapper:"m_d3ea56bb",label:"m_8ee546b8",description:"m_328f68c0",error:"m_8e8a99cc"};const Z7=k4,H2=O.forwardRef(({__staticSelector:e,__stylesApiProps:t,className:n,classNames:r,styles:o,unstyled:s,children:i,label:a,description:l,id:c,disabled:f,error:u,size:d,labelPosition:h="left",bodyElement:m="div",labelElement:p="label",variant:g,style:v,vars:y,mod:w,...b},E)=>{const S=Nt({name:e,props:t,className:n,style:v,classes:k4,classNames:r,styles:o,unstyled:s});return F.jsx(at,{...S("root"),ref:E,__vars:{"--label-fz":Or(d),"--label-lh":mn(d,"label-lh")},mod:[{"label-position":h},w],variant:g,size:d,...b,children:F.jsxs(at,{component:m,htmlFor:m==="label"?c:void 0,...S("body"),children:[i,F.jsxs("div",{...S("labelWrapper"),"data-disabled":f||void 0,children:[a&&F.jsx(at,{component:p,htmlFor:p==="label"?c:void 0,...S("label"),"data-disabled":f||void 0,children:a}),l&&F.jsx(On.Description,{size:d,__inheritStyles:!1,...S("description"),children:l}),u&&typeof u!="boolean"&&F.jsx(On.Error,{size:d,__inheritStyles:!1,...S("error"),children:u})]})]})})});H2.displayName="@mantine/core/InlineInput";const R4=O.createContext(null),Q7=R4.Provider,N4=()=>O.useContext(R4),[K7,J7]=Yp();var O4={card:"m_26775b0a"};const e9={withBorder:!0},t9=(e,{radius:t})=>({card:{"--card-radius":To(t)}}),W2=gt((e,t)=>{const n=tt("CheckboxCard",e9,e),{classNames:r,className:o,style:s,styles:i,unstyled:a,vars:l,checked:c,mod:f,withBorder:u,value:d,onClick:h,...m}=n,p=Nt({name:"CheckboxCard",classes:O4,props:n,className:o,style:s,classNames:r,styles:i,unstyled:a,vars:l,varsResolver:t9,rootSelector:"card"}),g=N4(),v=typeof c=="boolean"?c:(g==null?void 0:g.value.includes(d||""))||!1;return F.jsx(K7,{value:{checked:v},children:F.jsx(oc,{ref:t,mod:[{"with-border":u,checked:v},f],...p("card"),...m,role:"checkbox","aria-checked":v,onClick:y=>{h==null||h(y),g==null||g.onChange(d||"")}})})});W2.displayName="@mantine/core/CheckboxCard";W2.classes=O4;function M4({children:e,role:t}){const n=vf();return n?F.jsx("div",{role:t,"aria-labelledby":n.labelId,"aria-describedby":n.describedBy,children:e}):F.jsx(F.Fragment,{children:e})}const n9={},X2=gt((e,t)=>{const{value:n,defaultValue:r,onChange:o,size:s,wrapperProps:i,children:a,readOnly:l,...c}=tt("CheckboxGroup",n9,e),[f,u]=jl({value:n,defaultValue:r,finalValue:[],onChange:o}),d=h=>{const m=typeof h=="string"?h:h.currentTarget.value;!l&&u(f.includes(m)?f.filter(p=>p!==m):[...f,m])};return F.jsx(Q7,{value:{value:f,onChange:d,size:s},children:F.jsx(On.Wrapper,{size:s,ref:t,...i,...c,labelElement:"div",__staticSelector:"CheckboxGroup",children:F.jsx(M4,{role:"group",children:a})})})});X2.classes=On.Wrapper.classes;X2.displayName="@mantine/core/CheckboxGroup";function L4({size:e,style:t,...n}){const r=e!==void 0?{width:fe(e),height:fe(e),...t}:t;return F.jsx("svg",{viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:r,"aria-hidden":!0,...n,children:F.jsx("path",{d:"M4 4.586L1.707 2.293A1 1 0 1 0 .293 3.707l3 3a.997.997 0 0 0 1.414 0l5-5A1 1 0 1 0 8.293.293L4 4.586z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}function D4({indeterminate:e,...t}){return e?F.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 6","aria-hidden":!0,...t,children:F.jsx("rect",{width:"32",height:"6",fill:"currentColor",rx:"3"})}):F.jsx(L4,{...t})}var I4={indicator:"m_5e5256ee",icon:"m_1b1c543a","indicator--outline":"m_76e20374"};const r9={icon:D4},o9=(e,{radius:t,color:n,size:r,iconColor:o,variant:s,autoContrast:i})=>{const a=_s({color:n||e.primaryColor,theme:e}),l=a.isThemeColor&&a.shade===void 0?`var(--mantine-color-${a.color}-outline)`:a.color;return{indicator:{"--checkbox-size":mn(r,"checkbox-size"),"--checkbox-radius":t===void 0?void 0:To(t),"--checkbox-color":s==="outline"?l:Dr(n,e),"--checkbox-icon-color":o?Dr(o,e):Jp(i,e)?hf({color:n,theme:e,autoContrast:i}):void 0}}},q2=gt((e,t)=>{const n=tt("CheckboxIndicator",r9,e),{classNames:r,className:o,style:s,styles:i,unstyled:a,vars:l,icon:c,indeterminate:f,radius:u,color:d,iconColor:h,autoContrast:m,checked:p,mod:g,variant:v,disabled:y,...w}=n,b=c,E=Nt({name:"CheckboxIndicator",classes:I4,props:n,className:o,style:s,classNames:r,styles:i,unstyled:a,vars:l,varsResolver:o9,rootSelector:"indicator"}),S=J7(),$=typeof p=="boolean"||typeof f=="boolean"?p||f:(S==null?void 0:S.checked)||!1;return F.jsx(at,{ref:t,...E("indicator",{variant:v}),variant:v,mod:[{checked:$,disabled:y},g],...w,children:F.jsx(b,{indeterminate:f,...E("icon")})})});q2.displayName="@mantine/core/CheckboxIndicator";q2.classes=I4;var F4={root:"m_bf2d988c",inner:"m_26062bec",input:"m_26063560",icon:"m_bf295423","input--outline":"m_215c4542"};const s9={labelPosition:"right",icon:D4},i9=(e,{radius:t,color:n,size:r,iconColor:o,variant:s,autoContrast:i})=>{const a=_s({color:n||e.primaryColor,theme:e}),l=a.isThemeColor&&a.shade===void 0?`var(--mantine-color-${a.color}-outline)`:a.color;return{root:{"--checkbox-size":mn(r,"checkbox-size"),"--checkbox-radius":t===void 0?void 0:To(t),"--checkbox-color":s==="outline"?l:Dr(n,e),"--checkbox-icon-color":o?Dr(o,e):Jp(i,e)?hf({color:n,theme:e,autoContrast:i}):void 0}}},ga=gt((e,t)=>{const n=tt("Checkbox",s9,e),{classNames:r,className:o,style:s,styles:i,unstyled:a,vars:l,color:c,label:f,id:u,size:d,radius:h,wrapperProps:m,children:p,checked:g,labelPosition:v,description:y,error:w,disabled:b,variant:E,indeterminate:S,icon:$,rootRef:A,iconColor:G,onChange:I,autoContrast:H,mod:te,...pe}=n,j=N4(),de=d||(j==null?void 0:j.size),ee=$,we=Nt({name:"Checkbox",props:n,classes:F4,className:o,style:s,classNames:r,styles:i,unstyled:a,vars:l,varsResolver:i9}),{styleProps:oe,rest:$e}=pf(pe),Ne=ba(u),Ye=j?{checked:j.value.includes($e.value),onChange:rt=>{j.onChange(rt),I==null||I(rt)}}:{};return F.jsx(H2,{...we("root"),__staticSelector:"Checkbox",__stylesApiProps:n,id:Ne,size:de,labelPosition:v,label:f,description:y,error:w,disabled:b,classNames:r,styles:i,unstyled:a,"data-checked":Ye.checked||g||void 0,variant:E,ref:A,mod:te,...oe,...m,children:F.jsxs(at,{...we("inner"),mod:{"data-label-position":v},children:[F.jsx(at,{component:"input",id:Ne,ref:t,checked:g,disabled:b,mod:{error:!!w,indeterminate:S},...we("input",{focusable:!0,variant:E}),onChange:I,...$e,...Ye,type:"checkbox"}),F.jsx(ee,{indeterminate:S,...we("icon")})]})})});ga.classes={...F4,...Z7};ga.displayName="@mantine/core/Checkbox";ga.Group=X2;ga.Indicator=q2;ga.Card=W2;function Zu(e){return"group"in e}function z4({options:e,search:t,limit:n}){const r=t.trim().toLowerCase(),o=[];for(let s=0;s<e.length;s+=1){const i=e[s];if(o.length===n)return o;Zu(i)&&o.push({group:i.group,items:z4({options:i.items,search:t,limit:n-o.length})}),Zu(i)||i.label.toLowerCase().includes(r)&&o.push(i)}return o}function a9(e){if(e.length===0)return!0;for(const t of e)if(!("group"in t)||t.items.length>0)return!1;return!0}function B4(e,t=new Set){if(Array.isArray(e))for(const n of e)if(Zu(n))B4(n.items,t);else{if(typeof n.value>"u")throw new Error("[@mantine/core] Each option must have value property");if(typeof n.value!="string")throw new Error(`[@mantine/core] Option value must be a string, other data formats are not supported, got ${typeof n.value}`);if(t.has(n.value))throw new Error(`[@mantine/core] Duplicate options are not supported. Option with value "${n.value}" was provided more than once`);t.add(n.value)}}function l9(e,t){return Array.isArray(e)?e.includes(t):e===t}function G4({data:e,withCheckIcon:t,value:n,checkIconPosition:r,unstyled:o,renderOption:s}){if(!Zu(e)){const a=l9(n,e.value),l=t&&a&&F.jsx(L4,{className:wr.optionsDropdownCheckIcon}),c=F.jsxs(F.Fragment,{children:[r==="left"&&l,F.jsx("span",{children:e.label}),r==="right"&&l]});return F.jsx(Lt.Option,{value:e.value,disabled:e.disabled,className:Co({[wr.optionsDropdownOption]:!o}),"data-reverse":r==="right"||void 0,"data-checked":a||void 0,"aria-selected":a,active:a,children:typeof s=="function"?s({option:e,checked:a}):c})}const i=e.items.map(a=>F.jsx(G4,{data:a,value:n,unstyled:o,withCheckIcon:t,checkIconPosition:r,renderOption:s},a.value));return F.jsx(Lt.Group,{label:e.group,children:i})}function c9({data:e,hidden:t,hiddenWhenEmpty:n,filter:r,search:o,limit:s,maxDropdownHeight:i,withScrollArea:a=!0,filterOptions:l=!0,withCheckIcon:c=!1,value:f,checkIconPosition:u,nothingFoundMessage:d,unstyled:h,labelId:m,renderOption:p,scrollAreaProps:g,"aria-label":v}){B4(e);const w=typeof o=="string"?(r||z4)({options:e,search:l?o:"",limit:s??1/0}):e,b=a9(w),E=w.map(S=>F.jsx(G4,{data:S,withCheckIcon:c,value:f,checkIconPosition:u,unstyled:h,renderOption:p},Zu(S)?S.group:S.value));return F.jsx(Lt.Dropdown,{hidden:t||n&&b,children:F.jsxs(Lt.Options,{labelledBy:m,"aria-label":v,children:[a?F.jsx(rc.Autosize,{mah:i??220,type:"scroll",scrollbarSize:"var(--combobox-padding)",offsetScrollbars:"y",...g,children:E}):E,b&&d&&F.jsx(Lt.Empty,{children:d})]})})}var l1={root:"m_77c9d27d",inner:"m_80f1301b",label:"m_811560b9",section:"m_a74036a",loader:"m_a25b86ee",group:"m_80d6d844"};const jE={orientation:"horizontal"},u9=(e,{borderWidth:t})=>({group:{"--button-border-width":fe(t)}}),Y2=gt((e,t)=>{const n=tt("ButtonGroup",jE,e),{className:r,style:o,classNames:s,styles:i,unstyled:a,orientation:l,vars:c,borderWidth:f,variant:u,mod:d,...h}=tt("ButtonGroup",jE,e),m=Nt({name:"ButtonGroup",props:n,classes:l1,className:r,style:o,classNames:s,styles:i,unstyled:a,vars:c,varsResolver:u9,rootSelector:"group"});return F.jsx(at,{...m("group"),ref:t,variant:u,mod:[{"data-orientation":l},d],role:"group",...h})});Y2.classes=l1;Y2.displayName="@mantine/core/ButtonGroup";const f9={in:{opacity:1,transform:`translate(-50%, calc(-50% + ${fe(1)}))`},out:{opacity:0,transform:"translate(-50%, -200%)"},common:{transformOrigin:"center"},transitionProperty:"transform, opacity"},d9={},h9=(e,{radius:t,color:n,gradient:r,variant:o,size:s,justify:i,autoContrast:a})=>{const l=e.variantColorResolver({color:n||e.primaryColor,theme:e,gradient:r,variant:o||"filled",autoContrast:a});return{root:{"--button-justify":i,"--button-height":mn(s,"button-height"),"--button-padding-x":mn(s,"button-padding-x"),"--button-fz":s!=null&&s.includes("compact")?Or(s.replace("compact-","")):Or(s),"--button-radius":t===void 0?void 0:To(t),"--button-bg":n||o?l.background:void 0,"--button-hover":n||o?l.hover:void 0,"--button-color":l.color,"--button-bd":n||o?l.border:void 0,"--button-hover-color":n||o?l.hoverColor:void 0}}},Qu=Ea((e,t)=>{const n=tt("Button",d9,e),{style:r,vars:o,className:s,color:i,disabled:a,children:l,leftSection:c,rightSection:f,fullWidth:u,variant:d,radius:h,loading:m,loaderProps:p,gradient:g,classNames:v,styles:y,unstyled:w,"data-disabled":b,autoContrast:E,mod:S,...$}=n,A=Nt({name:"Button",props:n,classes:l1,className:s,style:r,classNames:v,styles:y,unstyled:w,vars:o,varsResolver:h9}),G=!!c,I=!!f;return F.jsxs(oc,{ref:t,...A("root",{active:!a&&!m&&!b}),unstyled:w,variant:d,disabled:a||m,mod:[{disabled:a||b,loading:m,block:u,"with-left-section":G,"with-right-section":I},S],...$,children:[F.jsx(S2,{mounted:!!m,transition:f9,duration:150,children:H=>F.jsx(at,{component:"span",...A("loader",{style:H}),"aria-hidden":!0,children:F.jsx(ac,{color:"var(--button-color)",size:"calc(var(--button-height) / 1.8)",...p})})}),F.jsxs("span",{...A("inner"),children:[c&&F.jsx(at,{component:"span",...A("section"),mod:{position:"left"},children:c}),F.jsx(at,{component:"span",mod:{loading:m},...A("label"),children:l}),f&&F.jsx(at,{component:"span",...A("section"),mod:{position:"right"},children:f})]})]})});Qu.classes=l1;Qu.displayName="@mantine/core/Button";Qu.Group=Y2;function Ng(){return Ng=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ng.apply(null,arguments)}function j4(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var V4={root:"m_a513464",icon:"m_a4ceffb",loader:"m_b0920b15",body:"m_a49ed24",title:"m_3feedf16",description:"m_3d733a3a",closeButton:"m_919a4d88"};const p9={withCloseButton:!0},m9=(e,{radius:t,color:n})=>({root:{"--notification-radius":t===void 0?void 0:To(t),"--notification-color":n?Dr(n,e):void 0}}),Z2=gt((e,t)=>{const n=tt("Notification",p9,e),{className:r,color:o,radius:s,loading:i,withCloseButton:a,withBorder:l,title:c,icon:f,children:u,onClose:d,closeButtonProps:h,classNames:m,style:p,styles:g,unstyled:v,variant:y,vars:w,mod:b,...E}=n,S=Nt({name:"Notification",classes:V4,props:n,className:r,style:p,classNames:m,styles:g,unstyled:v,vars:w,varsResolver:m9});return F.jsxs(at,{...S("root"),mod:[{"data-with-icon":!!f||i,"data-with-border":l},b],ref:t,variant:y,...E,role:"alert",children:[f&&!i&&F.jsx("div",{...S("icon"),children:f}),i&&F.jsx(ac,{size:28,color:o,...S("loader")}),F.jsxs("div",{...S("body"),children:[c&&F.jsx("div",{...S("title"),children:c}),F.jsx(at,{...S("description"),mod:{"data-with-title":!!c},children:u})]}),a&&F.jsx(o1,{iconSize:16,color:"gray",...h,unstyled:v,onClick:d,...S("closeButton")})]})});Z2.classes=V4;Z2.displayName="@mantine/core/Notification";const[v9,U4]=Yp(),[g9,y9]=Yp();var H4={card:"m_9dc8ae12"};const w9={withBorder:!0},x9=(e,{radius:t})=>({card:{"--card-radius":To(t)}}),Q2=gt((e,t)=>{const n=tt("RadioCard",w9,e),{classNames:r,className:o,style:s,styles:i,unstyled:a,vars:l,checked:c,mod:f,withBorder:u,value:d,onClick:h,name:m,onKeyDown:p,...g}=n,v=Nt({name:"RadioCard",classes:H4,props:n,className:o,style:s,classNames:r,styles:i,unstyled:a,vars:l,varsResolver:x9,rootSelector:"card"}),{dir:y}=e1(),w=U4(),b=typeof c=="boolean"?c:(w==null?void 0:w.value)===d||!1,E=m||(w==null?void 0:w.name),S=$=>{if(p==null||p($),["ArrowDown","ArrowUp","ArrowLeft","ArrowRight"].includes($.nativeEvent.code)){$.preventDefault();const A=Array.from(document.querySelectorAll(`[role="radio"][name="${E||"__mantine"}"]`)),G=A.findIndex(te=>te===$.target),I=G+1>=A.length?0:G+1,H=G-1<0?A.length-1:G-1;$.nativeEvent.code==="ArrowDown"&&(A[I].focus(),A[I].click()),$.nativeEvent.code==="ArrowUp"&&(A[H].focus(),A[H].click()),$.nativeEvent.code==="ArrowLeft"&&(A[y==="ltr"?H:I].focus(),A[y==="ltr"?H:I].click()),$.nativeEvent.code==="ArrowRight"&&(A[y==="ltr"?I:H].focus(),A[y==="ltr"?I:H].click())}};return F.jsx(g9,{value:{checked:b},children:F.jsx(oc,{ref:t,mod:[{"with-border":u,checked:b},f],...v("card"),...g,role:"radio","aria-checked":b,name:E,onClick:$=>{h==null||h($),w==null||w.onChange(d||"")},onKeyDown:S})})});Q2.displayName="@mantine/core/RadioCard";Q2.classes=H4;const b9={},K2=gt((e,t)=>{const{value:n,defaultValue:r,onChange:o,size:s,wrapperProps:i,children:a,name:l,readOnly:c,...f}=tt("RadioGroup",b9,e),u=ba(l),[d,h]=jl({value:n,defaultValue:r,finalValue:"",onChange:o}),m=p=>!c&&h(typeof p=="string"?p:p.currentTarget.value);return F.jsx(v9,{value:{value:d,onChange:m,size:s,name:u},children:F.jsx(On.Wrapper,{size:s,ref:t,...i,...f,labelElement:"div",__staticSelector:"RadioGroup",children:F.jsx(M4,{role:"radiogroup",children:a})})})});K2.classes=On.Wrapper.classes;K2.displayName="@mantine/core/RadioGroup";function W4({size:e,style:t,...n}){return F.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 5 5",style:{width:fe(e),height:fe(e),...t},"aria-hidden":!0,...n,children:F.jsx("circle",{cx:"2.5",cy:"2.5",r:"2.5",fill:"currentColor"})})}var X4={indicator:"m_717d7ff6",icon:"m_3e4da632","indicator--outline":"m_2980836c"};const E9={icon:W4},S9=(e,{radius:t,color:n,size:r,iconColor:o,variant:s,autoContrast:i})=>{const a=_s({color:n||e.primaryColor,theme:e}),l=a.isThemeColor&&a.shade===void 0?`var(--mantine-color-${a.color}-outline)`:a.color;return{indicator:{"--radio-size":mn(r,"radio-size"),"--radio-radius":t===void 0?void 0:To(t),"--radio-color":s==="outline"?l:Dr(n,e),"--radio-icon-size":mn(r,"radio-icon-size"),"--radio-icon-color":o?Dr(o,e):Jp(i,e)?hf({color:n,theme:e,autoContrast:i}):void 0}}},J2=gt((e,t)=>{const n=tt("RadioIndicator",E9,e),{classNames:r,className:o,style:s,styles:i,unstyled:a,vars:l,icon:c,radius:f,color:u,iconColor:d,autoContrast:h,checked:m,mod:p,variant:g,disabled:v,...y}=n,w=c,b=Nt({name:"RadioIndicator",classes:X4,props:n,className:o,style:s,classNames:r,styles:i,unstyled:a,vars:l,varsResolver:S9,rootSelector:"indicator"}),E=y9(),S=typeof m=="boolean"?m:(E==null?void 0:E.checked)||!1;return F.jsx(at,{ref:t,...b("indicator",{variant:g}),variant:g,mod:[{checked:S,disabled:v},p],...y,children:F.jsx(w,{...b("icon")})})});J2.displayName="@mantine/core/RadioIndicator";J2.classes=X4;var q4={root:"m_f3f1af94",inner:"m_89c4f5e4",icon:"m_f3ed6b2b",radio:"m_8a3dbb89","radio--outline":"m_1bfe9d39"};const _9={labelPosition:"right"},$9=(e,{size:t,radius:n,color:r,iconColor:o,variant:s,autoContrast:i})=>{const a=_s({color:r||e.primaryColor,theme:e}),l=a.isThemeColor&&a.shade===void 0?`var(--mantine-color-${a.color}-outline)`:a.color;return{root:{"--radio-size":mn(t,"radio-size"),"--radio-radius":n===void 0?void 0:To(n),"--radio-color":s==="outline"?l:Dr(r,e),"--radio-icon-color":o?Dr(o,e):Jp(i,e)?hf({color:r,theme:e,autoContrast:i}):void 0,"--radio-icon-size":mn(t,"radio-icon-size")}}},hs=gt((e,t)=>{const n=tt("Radio",_9,e),{classNames:r,className:o,style:s,styles:i,unstyled:a,vars:l,id:c,size:f,label:u,labelPosition:d,description:h,error:m,radius:p,color:g,variant:v,disabled:y,wrapperProps:w,icon:b=W4,rootRef:E,iconColor:S,onChange:$,mod:A,...G}=n,I=Nt({name:"Radio",classes:q4,props:n,className:o,style:s,classNames:r,styles:i,unstyled:a,vars:l,varsResolver:$9}),H=U4(),te=(H==null?void 0:H.size)??f,pe=n.size?f:te,{styleProps:j,rest:de}=pf(G),ee=ba(c),we=H?{checked:H.value===de.value,name:de.name??H.name,onChange:oe=>{H.onChange(oe),$==null||$(oe)}}:{};return F.jsx(H2,{...I("root"),__staticSelector:"Radio",__stylesApiProps:n,id:ee,size:pe,labelPosition:d,label:u,description:h,error:m,disabled:y,classNames:r,styles:i,unstyled:a,"data-checked":we.checked||void 0,variant:v,ref:E,mod:A,...j,...w,children:F.jsxs(at,{...I("inner"),mod:{"label-position":d},children:[F.jsx(at,{...I("radio",{focusable:!0,variant:v}),onChange:$,...de,...we,component:"input",mod:{error:!!m},ref:t,id:ee,disabled:y,type:"radio"}),F.jsx(b,{...I("icon"),"aria-hidden":!0})]})})});hs.classes=q4;hs.displayName="@mantine/core/Radio";hs.Group=K2;hs.Card=Q2;hs.Indicator=J2;const A9={searchable:!1,withCheckIcon:!0,allowDeselect:!0,checkIconPosition:"left"},ew=gt((e,t)=>{const n=tt("Select",A9,e),{classNames:r,styles:o,unstyled:s,vars:i,dropdownOpened:a,defaultDropdownOpened:l,onDropdownClose:c,onDropdownOpen:f,onFocus:u,onBlur:d,onClick:h,onChange:m,data:p,value:g,defaultValue:v,selectFirstOptionOnChange:y,onOptionSubmit:w,comboboxProps:b,readOnly:E,disabled:S,filter:$,limit:A,withScrollArea:G,maxDropdownHeight:I,size:H,searchable:te,rightSection:pe,checkIconPosition:j,withCheckIcon:de,nothingFoundMessage:ee,name:we,form:oe,searchValue:$e,defaultSearchValue:Ne,onSearchChange:Ye,allowDeselect:rt,error:kt,rightSectionPointerEvents:At,id:Ct,clearable:en,clearButtonProps:an,hiddenInputProps:Vn,renderOption:lo,onClear:Br,autoComplete:Po,scrollAreaProps:co,...Gr}=n,It=O.useMemo(()=>P7(p),[p]),jr=O.useMemo(()=>S4(It),[It]),Qo=ba(Ct),[Ln,ln,Ko]=jl({value:g,defaultValue:v,finalValue:null,onChange:m}),vn=typeof Ln=="string"?jr[Ln]:void 0,uo=jL(vn),[Ps,C]=jl({value:$e,defaultValue:Ne,finalValue:vn?vn.label:"",onChange:Ye}),xr=P4({opened:a,defaultOpened:l,onDropdownOpen:()=>{f==null||f(),xr.updateSelectedOptionIndex("active",{scrollIntoView:!0})},onDropdownClose:()=>{c==null||c(),xr.resetSelectedOption()}}),{resolvedClassNames:Of,resolvedStyles:Mf}=yD({props:n,styles:o,classNames:r});O.useEffect(()=>{y&&xr.selectFirstOption()},[y,Ln]),O.useEffect(()=>{g===null&&C(""),typeof g=="string"&&vn&&((uo==null?void 0:uo.value)!==vn.value||(uo==null?void 0:uo.label)!==vn.label)&&C(vn.label)},[g,vn]);const Lf=en&&!!Ln&&!S&&!E&&F.jsx(Lt.ClearButton,{size:H,...an,onClear:()=>{ln(null,null),C(""),Br==null||Br()}});return F.jsxs(F.Fragment,{children:[F.jsxs(Lt,{store:xr,__staticSelector:"Select",classNames:Of,styles:Mf,unstyled:s,readOnly:E,onOptionSubmit:gn=>{w==null||w(gn);const Vr=rt&&jr[gn].value===Ln?null:jr[gn],Jo=Vr?Vr.value:null;Jo!==Ln&&ln(Jo,Vr),!Ko&&C(typeof Jo=="string"&&(Vr==null?void 0:Vr.label)||""),xr.closeDropdown()},size:H,...b,children:[F.jsx(Lt.Target,{targetType:te?"input":"button",autoComplete:Po,children:F.jsx(lc,{id:Qo,ref:t,rightSection:pe||Lf||F.jsx(Lt.Chevron,{size:H,error:kt,unstyled:s}),rightSectionPointerEvents:At||(Lf?"all":"none"),...Gr,size:H,__staticSelector:"Select",disabled:S,readOnly:E||!te,value:Ps,onChange:gn=>{C(gn.currentTarget.value),xr.openDropdown(),y&&xr.selectFirstOption()},onFocus:gn=>{te&&xr.openDropdown(),u==null||u(gn)},onBlur:gn=>{var Vr;te&&xr.closeDropdown(),C(Ln!=null&&((Vr=jr[Ln])==null?void 0:Vr.label)||""),d==null||d(gn)},onClick:gn=>{te?xr.openDropdown():xr.toggleDropdown(),h==null||h(gn)},classNames:Of,styles:Mf,unstyled:s,pointer:!te,error:kt})}),F.jsx(c9,{data:It,hidden:E||S,filter:$,search:Ps,limit:A,hiddenWhenEmpty:!ee,withScrollArea:G,maxDropdownHeight:I,filterOptions:te&&(vn==null?void 0:vn.label)!==Ps,value:Ln,checkIconPosition:j,withCheckIcon:de,nothingFoundMessage:ee,unstyled:s,labelId:Gr.label?`${Qo}-label`:void 0,"aria-label":Gr.label?void 0:Gr["aria-label"],renderOption:lo,scrollAreaProps:co})]}),F.jsx(Lt.HiddenInput,{value:Ln,name:we,form:oe,disabled:S,...Vn})]})});ew.classes={...lc.classes,...Lt.classes};ew.displayName="@mantine/core/Select";var Y4={root:"m_6d731127"};const T9={gap:"md",align:"stretch",justify:"flex-start"},C9=(e,{gap:t,align:n,justify:r})=>({root:{"--stack-gap":Zp(t),"--stack-align":n,"--stack-justify":r}}),cp=gt((e,t)=>{const n=tt("Stack",T9,e),{classNames:r,className:o,style:s,styles:i,unstyled:a,vars:l,align:c,justify:f,gap:u,variant:d,...h}=n,m=Nt({name:"Stack",props:n,classes:Y4,className:o,style:s,classNames:r,styles:i,unstyled:a,vars:l,varsResolver:C9});return F.jsx(at,{ref:t,...m("root"),variant:d,...h})});cp.classes=Y4;cp.displayName="@mantine/core/Stack";const P9={},up=gt((e,t)=>{const n=tt("TextInput",P9,e);return F.jsx(lc,{component:"input",ref:t,...n,__staticSelector:"TextInput"})});up.classes=lc.classes;up.displayName="@mantine/core/TextInput";function k9(e){const t=document.createElement("script");t.setAttribute("async",""),t.setAttribute("type","text/javascript"),t.addEventListener("load",()=>{if(window.cv)e();else{let o=0;const s=()=>{o++,window.cv?e():o>100?console.error("Failed to load OpenCV.js"):setTimeout(s,10)};s()}}),t.src="https://docs.opencv.org/4.5.2/opencv.js";const n=document.getElementsByTagName("script")[0];n&&n.parentNode?n.parentNode.insertBefore(t,n):document.head.appendChild(t)}let Dn=[],As=(e,t)=>{let n=[],r={get(){return r.lc||r.listen(()=>{})(),r.value},l:0,lc:0,listen(o,s){return r.lc=n.push(o,s||r.l)/2,()=>{let i=n.indexOf(o);~i&&(n.splice(i,2),--r.lc||r.off())}},notify(o,s){let i=!Dn.length;for(let a=0;a<n.length;a+=2)Dn.push(n[a],n[a+1],r.value,o,s);if(i){for(let a=0;a<Dn.length;a+=5){let l;for(let c=a+1;!l&&(c+=5)<Dn.length;)Dn[c]<Dn[a+1]&&(l=Dn.push(Dn[a],Dn[a+1],Dn[a+2],Dn[a+3],Dn[a+4]));l||Dn[a](Dn[a+2],Dn[a+3],Dn[a+4])}Dn.length=0}},off(){},set(o){let s=r.value;s!==o&&(r.value=o,r.notify(s))},subscribe(o,s){let i=r.listen(o,s);return o(r.value),i},value:e};return r};function R9(e,t,n){let r=new Set([...t,void 0]);return e.listen((o,s,i)=>{r.has(i)&&n(o,s,i)})}function ls(e,t={}){let n=O.useCallback(o=>t.keys?R9(e,t.keys,o):e.listen(o),[t.keys,e]),r=e.get.bind(e);return O.useSyncExternalStore(n,r,r)}var aa=(e=>(e.NONE="NONE",e.SIMPLE="SIMPLE",e.ADVANCED="ADVANCED",e))(aa||{});const $h=As("POKEMON"),Ah=As("PILLOW"),Og=As("Arial"),Mg=As(!1),Lg=As([]),gm=As(null),Dg=As(!1),Ig=As(!1),fp=As(aa.SIMPLE),Z4=e=>e.reduce((t,n)=>Array.isArray(n)?t.concat(Z4(n)):t.concat(n),[]);var ut=Z4;const N9=e=>Object.assign({},e);var O9=N9;const M9=(e,t,n)=>(e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e[9]=t[9]+n[9],e[10]=t[10]+n[10],e[11]=t[11]+n[11],e[12]=t[12]+n[12],e[13]=t[13]+n[13],e[14]=t[14]+n[14],e[15]=t[15]+n[15],e);var L9=M9;const D9=()=>[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];var tw=D9;const I9=tw,F9=e=>{const t=I9();return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t};var z9=F9;const B9=(e,t)=>(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e);var Q4=B9;const G9=(e,t)=>{const n=t[0],r=t[1],o=t[2],s=t[3],i=t[4],a=t[5],l=t[6],c=t[7],f=t[8],u=t[9],d=t[10],h=t[11],m=t[12],p=t[13],g=t[14],v=t[15],y=n*a-r*i,w=n*l-o*i,b=n*c-s*i,E=r*l-o*a,S=r*c-s*a,$=o*c-s*l,A=f*p-u*m,G=f*g-d*m,I=f*v-h*m,H=u*g-d*p,te=u*v-h*p,pe=d*v-h*g;let j=y*pe-w*te+b*H+E*I-S*G+$*A;return j?(j=1/j,e[0]=(a*pe-l*te+c*H)*j,e[1]=(o*te-r*pe-s*H)*j,e[2]=(p*$-g*S+v*E)*j,e[3]=(d*S-u*$-h*E)*j,e[4]=(l*I-i*pe-c*G)*j,e[5]=(n*pe-o*I+s*G)*j,e[6]=(g*b-m*$-v*w)*j,e[7]=(f*$-d*b+h*w)*j,e[8]=(i*te-a*I+c*A)*j,e[9]=(r*I-n*te-s*A)*j,e[10]=(m*S-p*b+v*y)*j,e[11]=(u*b-f*S-h*y)*j,e[12]=(a*G-i*H-l*A)*j,e[13]=(n*H-r*G+o*A)*j,e[14]=(p*w-m*E-g*y)*j,e[15]=(f*E-u*w+d*y)*j,e):null};var j9=G9;const V9=(e,t)=>e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15];var U9=V9;const H9=1e5,W9=1e-5,X9=1e-13,q9=Math.PI*2;var Et={EPS:W9,NEPS:X9,TAU:q9,spatialResolution:H9};const{NEPS:Y9}=Et,K4=e=>Math.abs(e)<Y9?0:e,Z9=e=>K4(Math.sin(e)),Q9=e=>K4(Math.cos(e));var jn={sin:Z9,cos:Q9};const K9=e=>(e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e);var J4=K9;const{EPS:J9}=Et,{sin:ez,cos:tz}=jn,nz=J4,rz=(e,t,n)=>{let[r,o,s]=n;const i=r*r+o*o+s*s;if(Math.abs(i)<J9)return nz(e);const a=1/Math.sqrt(i);r*=a,o*=a,s*=a;const l=ez(t),c=tz(t),f=1-c;return e[0]=r*r*f+c,e[1]=o*r*f+s*l,e[2]=s*r*f-o*l,e[3]=0,e[4]=r*o*f-s*l,e[5]=o*o*f+c,e[6]=s*o*f+r*l,e[7]=0,e[8]=r*s*f+o*l,e[9]=o*s*f-r*l,e[10]=s*s*f+c,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e};var eC=rz;const oz=(e,t)=>(e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e);var sz=oz;const{sin:ym,cos:wm}=jn,iz=(e,t,n,r)=>{const o=ym(t),s=wm(t),i=ym(n),a=wm(n),l=ym(r),c=wm(r);return e[0]=a*s,e[1]=a*o,e[2]=-i,e[3]=0,e[4]=l*i*s-c*o,e[5]=c*s+l*i*o,e[6]=l*a,e[7]=0,e[8]=l*o+c*i*s,e[9]=c*i*o-l*s,e[10]=c*a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e};var az=iz;const lz=(e,t)=>(e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e);var cz=lz;const uz=tw,fz=(e,t,n,r,o,s,i,a,l,c,f,u,d,h,m,p)=>{const g=uz();return g[0]=e,g[1]=t,g[2]=n,g[3]=r,g[4]=o,g[5]=s,g[6]=i,g[7]=a,g[8]=l,g[9]=c,g[10]=f,g[11]=u,g[12]=d,g[13]=h,g[14]=m,g[15]=p,g};var dz=fz;const hz=(e,t)=>(e[0]=Math.abs(t[0]),e[1]=Math.abs(t[1]),e[2]=Math.abs(t[2]),e);var tC=hz;const pz=(e,t,n)=>(e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e);var nC=pz;const mz=(e,t)=>e[0]*t[0]+e[1]*t[1]+e[2]*t[2];var c1=mz;const vz=c1,gz=(e,t)=>{const n=e[0],r=e[1],o=e[2],s=t[0],i=t[1],a=t[2],l=Math.sqrt(n*n+r*r+o*o),c=Math.sqrt(s*s+i*i+a*a),f=l*c,u=f&&vz(e,t)/f;return Math.acos(Math.min(Math.max(u,-1),1))};var yz=gz;const wz=()=>[0,0,0];var u1=wz;const xz=u1,bz=e=>{const t=xz();return t[0]=e[0],t[1]=e[1],t[2]=e[2],t};var Ez=bz;const Sz=(e,t)=>(e[0]=t[0],e[1]=t[1],e[2]=t[2],e);var rC=Sz;const _z=(e,t,n)=>{const r=t[0],o=t[1],s=t[2],i=n[0],a=n[1],l=n[2];return e[0]=o*l-s*a,e[1]=s*i-r*l,e[2]=r*a-o*i,e};var xf=_z;const $z=(e,t)=>{const n=t[0]-e[0],r=t[1]-e[1],o=t[2]-e[2];return Math.sqrt(n*n+r*r+o*o)};var oC=$z;const Az=(e,t,n)=>(e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e);var Tz=Az;const Cz=(e,t)=>e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2];var Pz=Cz;const kz=(e,t)=>(e[0]=t,e[1]=t,e[2]=t,e);var Rz=kz;const Nz=u1,Oz=(e,t,n)=>{const r=Nz();return r[0]=e,r[1]=t,r[2]=n,r};var Mz=Oz;const Lz=(e,t,n=0)=>(e[0]=t[0],e[1]=t[1],e[2]=n,e);var Dz=Lz;const Iz=e=>{const t=e[0],n=e[1],r=e[2];return Math.sqrt(t*t+n*n+r*r)};var sC=Iz;const Fz=(e,t,n,r)=>(e[0]=t[0]+r*(n[0]-t[0]),e[1]=t[1]+r*(n[1]-t[1]),e[2]=t[2]+r*(n[2]-t[2]),e);var zz=Fz;const Bz=(e,t,n)=>(e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e);var iC=Bz;const Gz=(e,t,n)=>(e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e);var aC=Gz;const jz=(e,t,n)=>(e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e);var Vz=jz;const Uz=(e,t)=>(e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e);var Hz=Uz;const Wz=(e,t)=>{const n=t[0],r=t[1],o=t[2];let s=n*n+r*r+o*o;return s>0&&(s=1/Math.sqrt(s)),e[0]=n*s,e[1]=r*s,e[2]=o*s,e};var nw=Wz;const Xz=tC,qz=u1,Yz=xf,Zz=(e,t)=>{const n=Xz(qz(),t),r=0+(n[0]<n[1]&&n[0]<n[2]),o=0+(n[1]<=n[0]&&n[1]<n[2]),s=0+(n[2]<=n[0]&&n[2]<=n[1]);return Yz(e,t,[r,o,s])};var Qz=Zz;const Kz=(e,t,n,r)=>{const o=[],s=[];return o[0]=t[0]-n[0],o[1]=t[1]-n[1],o[2]=t[2]-n[2],s[0]=o[0],s[1]=o[1]*Math.cos(r)-o[2]*Math.sin(r),s[2]=o[1]*Math.sin(r)+o[2]*Math.cos(r),e[0]=s[0]+n[0],e[1]=s[1]+n[1],e[2]=s[2]+n[2],e};var Jz=Kz;const eB=(e,t,n,r)=>{const o=[],s=[];return o[0]=t[0]-n[0],o[1]=t[1]-n[1],o[2]=t[2]-n[2],s[0]=o[2]*Math.sin(r)+o[0]*Math.cos(r),s[1]=o[1],s[2]=o[2]*Math.cos(r)-o[0]*Math.sin(r),e[0]=s[0]+n[0],e[1]=s[1]+n[1],e[2]=s[2]+n[2],e};var tB=eB;const nB=(e,t,n,r)=>{const o=[],s=[];return o[0]=t[0]-n[0],o[1]=t[1]-n[1],s[0]=o[0]*Math.cos(r)-o[1]*Math.sin(r),s[1]=o[0]*Math.sin(r)+o[1]*Math.cos(r),e[0]=s[0]+n[0],e[1]=s[1]+n[1],e[2]=t[2],e};var rB=nB;const oB=(e,t,n)=>(e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e);var lC=oB;const sB=(e,t,n)=>(e[0]=Math.round(t[0]/n)*n+0,e[1]=Math.round(t[1]/n)*n+0,e[2]=Math.round(t[2]/n)*n+0,e);var iB=sB;const aB=(e,t)=>{const n=t[0]-e[0],r=t[1]-e[1],o=t[2]-e[2];return n*n+r*r+o*o};var cC=aB;const lB=e=>{const t=e[0],n=e[1],r=e[2];return t*t+n*n+r*r};var uC=lB;const cB=(e,t,n)=>(e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e);var f1=cB;const uB=e=>`[${e[0].toFixed(7)}, ${e[1].toFixed(7)}, ${e[2].toFixed(7)}]`;var fB=uB;const dB=(e,t,n)=>{const r=t[0],o=t[1],s=t[2];let i=n[3]*r+n[7]*o+n[11]*s+n[15];return i=i||1,e[0]=(n[0]*r+n[4]*o+n[8]*s+n[12])/i,e[1]=(n[1]*r+n[5]*o+n[9]*s+n[13])/i,e[2]=(n[2]*r+n[6]*o+n[10]*s+n[14])/i,e};var hB=dB,Ke={abs:tC,add:nC,angle:yz,clone:Ez,copy:rC,create:u1,cross:xf,distance:oC,divide:Tz,dot:c1,equals:Pz,fromScalar:Rz,fromValues:Mz,fromVec2:Dz,length:sC,lerp:zz,max:iC,min:aC,multiply:Vz,negate:Hz,normalize:nw,orthogonal:Qz,rotateX:Jz,rotateY:tB,rotateZ:rB,scale:lC,snap:iB,squaredDistance:cC,squaredLength:uC,subtract:f1,toString:fB,transform:hB};const Fs=Ke,pB=eC,mB=(e,t,n)=>{const r=Fs.normalize(Fs.create(),t),o=Fs.normalize(Fs.create(),n),s=Fs.cross(Fs.create(),o,r),i=Fs.dot(o,r);if(i===-1)return pB(e,Math.PI,Fs.orthogonal(s,r));const a=1/(1+i);return e[0]=s[0]*s[0]*a+i,e[1]=s[1]*s[0]*a-s[2],e[2]=s[2]*s[0]*a+s[1],e[3]=0,e[4]=s[0]*s[1]*a+s[2],e[5]=s[1]*s[1]*a+i,e[6]=s[2]*s[1]*a-s[0],e[7]=0,e[8]=s[0]*s[2]*a-s[1],e[9]=s[1]*s[2]*a+s[0],e[10]=s[2]*s[2]*a+i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e};var vB=mB;const{sin:gB,cos:yB}=jn,wB=(e,t)=>{const n=gB(t),r=yB(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=n,e[7]=0,e[8]=0,e[9]=-n,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e};var xB=wB;const{sin:bB,cos:EB}=jn,SB=(e,t)=>{const n=bB(t),r=EB(t);return e[0]=r,e[1]=0,e[2]=-n,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=n,e[9]=0,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e};var _B=SB;const{sin:$B,cos:AB}=jn,TB=(e,t)=>{const n=$B(t),r=AB(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=0,e[4]=-n,e[5]=r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e};var CB=TB;const PB=e=>e[0]===1&&e[1]===0&&e[2]===0&&e[3]===0&&e[4]===0&&e[5]===1&&e[6]===0&&e[7]===0&&e[8]===0&&e[9]===0&&e[10]===1&&e[11]===0&&e[12]===0&&e[13]===0&&e[14]===0&&e[15]===1;var kB=PB;const RB=e=>rs(e[1])&&rs(e[2])&&rs(e[3])&&rs(e[4])&&rs(e[6])&&rs(e[7])&&rs(e[8])&&rs(e[9])&&rs(e[11])&&e[15]===1,rs=e=>Math.abs(e)<Number.EPSILON;var NB=RB;const OB=e=>{const t=e[4]*e[9]-e[8]*e[5],n=e[8]*e[1]-e[0]*e[9],r=e[0]*e[5]-e[4]*e[1];return t*e[2]+n*e[6]+r*e[10]<0};var MB=OB;const LB=(e,t)=>{const[n,r,o,s]=t;return e[0]=1-2*n*n,e[1]=-2*r*n,e[2]=-2*o*n,e[3]=0,e[4]=-2*n*r,e[5]=1-2*r*r,e[6]=-2*o*r,e[7]=0,e[8]=-2*n*o,e[9]=-2*r*o,e[10]=1-2*o*o,e[11]=0,e[12]=2*n*s,e[13]=2*r*s,e[14]=2*o*s,e[15]=1,e};var DB=LB;const IB=(e,t,n)=>{const r=t[0],o=t[1],s=t[2],i=t[3],a=t[4],l=t[5],c=t[6],f=t[7],u=t[8],d=t[9],h=t[10],m=t[11],p=t[12],g=t[13],v=t[14],y=t[15];let w=n[0],b=n[1],E=n[2],S=n[3];return e[0]=w*r+b*a+E*u+S*p,e[1]=w*o+b*l+E*d+S*g,e[2]=w*s+b*c+E*h+S*v,e[3]=w*i+b*f+E*m+S*y,w=n[4],b=n[5],E=n[6],S=n[7],e[4]=w*r+b*a+E*u+S*p,e[5]=w*o+b*l+E*d+S*g,e[6]=w*s+b*c+E*h+S*v,e[7]=w*i+b*f+E*m+S*y,w=n[8],b=n[9],E=n[10],S=n[11],e[8]=w*r+b*a+E*u+S*p,e[9]=w*o+b*l+E*d+S*g,e[10]=w*s+b*c+E*h+S*v,e[11]=w*i+b*f+E*m+S*y,w=n[12],b=n[13],E=n[14],S=n[15],e[12]=w*r+b*a+E*u+S*p,e[13]=w*o+b*l+E*d+S*g,e[14]=w*s+b*c+E*h+S*v,e[15]=w*i+b*f+E*m+S*y,e};var FB=IB;const{EPS:zB}=Et,{sin:BB,cos:GB}=jn,jB=Q4,VB=(e,t,n,r)=>{let[o,s,i]=r;const a=o*o+s*s+i*i;if(Math.abs(a)<zB)return jB(e,t);const l=1/Math.sqrt(a);o*=l,s*=l,i*=l;const c=BB(n),f=GB(n),u=1-f,d=t[0],h=t[1],m=t[2],p=t[3],g=t[4],v=t[5],y=t[6],w=t[7],b=t[8],E=t[9],S=t[10],$=t[11],A=o*o*u+f,G=s*o*u+i*c,I=i*o*u-s*c,H=o*s*u-i*c,te=s*s*u+f,pe=i*s*u+o*c,j=o*i*u+s*c,de=s*i*u-o*c,ee=i*i*u+f;return e[0]=d*A+g*G+b*I,e[1]=h*A+v*G+E*I,e[2]=m*A+y*G+S*I,e[3]=p*A+w*G+$*I,e[4]=d*H+g*te+b*pe,e[5]=h*H+v*te+E*pe,e[6]=m*H+y*te+S*pe,e[7]=p*H+w*te+$*pe,e[8]=d*j+g*de+b*ee,e[9]=h*j+v*de+E*ee,e[10]=m*j+y*de+S*ee,e[11]=p*j+w*de+$*ee,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e};var UB=VB;const{sin:HB,cos:WB}=jn,XB=(e,t,n)=>{const r=HB(n),o=WB(n),s=t[4],i=t[5],a=t[6],l=t[7],c=t[8],f=t[9],u=t[10],d=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=s*o+c*r,e[5]=i*o+f*r,e[6]=a*o+u*r,e[7]=l*o+d*r,e[8]=c*o-s*r,e[9]=f*o-i*r,e[10]=u*o-a*r,e[11]=d*o-l*r,e};var qB=XB;const{sin:YB,cos:ZB}=jn,QB=(e,t,n)=>{const r=YB(n),o=ZB(n),s=t[0],i=t[1],a=t[2],l=t[3],c=t[8],f=t[9],u=t[10],d=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=s*o-c*r,e[1]=i*o-f*r,e[2]=a*o-u*r,e[3]=l*o-d*r,e[8]=s*r+c*o,e[9]=i*r+f*o,e[10]=a*r+u*o,e[11]=l*r+d*o,e};var KB=QB;const{sin:JB,cos:eG}=jn,tG=(e,t,n)=>{const r=JB(n),o=eG(n),s=t[0],i=t[1],a=t[2],l=t[3],c=t[4],f=t[5],u=t[6],d=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=s*o+c*r,e[1]=i*o+f*r,e[2]=a*o+u*r,e[3]=l*o+d*r,e[4]=c*o-s*r,e[5]=f*o-i*r,e[6]=u*o-a*r,e[7]=d*o-l*r,e};var nG=tG;const rG=(e,t,n)=>{const r=n[0],o=n[1],s=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*o,e[5]=t[5]*o,e[6]=t[6]*o,e[7]=t[7]*o,e[8]=t[8]*s,e[9]=t[9]*s,e[10]=t[10]*s,e[11]=t[11]*s,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e};var oG=rG;const sG=(e,t,n)=>(e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e[9]=t[9]-n[9],e[10]=t[10]-n[10],e[11]=t[11]-n[11],e[12]=t[12]-n[12],e[13]=t[13]-n[13],e[14]=t[14]-n[14],e[15]=t[15]-n[15],e);var iG=sG;const aG=e=>e.map(t=>t.toFixed(7)).toString();var lG=aG;const cG=(e,t,n)=>{const r=n[0],o=n[1],s=n[2];let i,a,l,c,f,u,d,h,m,p,g,v;return t===e?(e[12]=t[0]*r+t[4]*o+t[8]*s+t[12],e[13]=t[1]*r+t[5]*o+t[9]*s+t[13],e[14]=t[2]*r+t[6]*o+t[10]*s+t[14],e[15]=t[3]*r+t[7]*o+t[11]*s+t[15]):(i=t[0],a=t[1],l=t[2],c=t[3],f=t[4],u=t[5],d=t[6],h=t[7],m=t[8],p=t[9],g=t[10],v=t[11],e[0]=i,e[1]=a,e[2]=l,e[3]=c,e[4]=f,e[5]=u,e[6]=d,e[7]=h,e[8]=m,e[9]=p,e[10]=g,e[11]=v,e[12]=i*r+f*o+m*s+t[12],e[13]=a*r+u*o+p*s+t[13],e[14]=l*r+d*o+g*s+t[14],e[15]=c*r+h*o+v*s+t[15]),e};var uG=cG,Dt={add:L9,clone:z9,copy:Q4,create:tw,invert:j9,equals:U9,fromRotation:eC,fromScaling:sz,fromTaitBryanRotation:az,fromTranslation:cz,fromValues:dz,fromVectorRotation:vB,fromXRotation:xB,fromYRotation:_B,fromZRotation:CB,identity:J4,isIdentity:kB,isOnlyTransformScale:NB,isMirroring:MB,mirrorByPlane:DB,multiply:FB,rotate:UB,rotateX:qB,rotateY:KB,rotateZ:nG,scale:oG,subtract:iG,toString:lG,translate:uG};const fG=Dt,dG=e=>(e===void 0&&(e=[]),{sides:e,transforms:fG.create()});var d1=dG;const hG=(e,t)=>(e[0]=Math.abs(t[0]),e[1]=Math.abs(t[1]),e);var pG=hG;const mG=(e,t,n)=>(e[0]=t[0]+n[0],e[1]=t[1]+n[1],e);var vG=mG;const gG=e=>Math.atan2(e[1],e[0]);var rw=gG,yG=rw;const wG=rw,xG=e=>wG(e)*57.29577951308232;var bG=xG;const EG=()=>[0,0];var h1=EG;const SG=h1,_G=e=>{const t=SG();return t[0]=e[0],t[1]=e[1],t};var $G=_G;const AG=(e,t)=>(e[0]=t[0],e[1]=t[1],e);var TG=AG;const CG=(e,t,n)=>(e[0]=0,e[1]=0,e[2]=t[0]*n[1]-t[1]*n[0],e);var PG=CG;const kG=(e,t)=>{const n=t[0]-e[0],r=t[1]-e[1];return Math.sqrt(n*n+r*r)};var RG=kG;const NG=(e,t,n)=>(e[0]=t[0]/n[0],e[1]=t[1]/n[1],e);var OG=NG;const MG=(e,t)=>e[0]*t[0]+e[1]*t[1];var LG=MG;const DG=(e,t)=>e[0]===t[0]&&e[1]===t[1];var IG=DG;const{sin:FG,cos:zG}=jn,BG=(e,t)=>(e[0]=zG(t),e[1]=FG(t),e);var fC=BG;const GG=fC,jG=(e,t)=>GG(e,t*.017453292519943295);var VG=jG;const UG=(e,t)=>(e[0]=t,e[1]=t,e);var HG=UG;const WG=h1,XG=(e,t)=>{const n=WG();return n[0]=e,n[1]=t,n};var qG=XG;const YG=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]);var ZG=YG;const QG=(e,t,n,r)=>{const o=t[0],s=t[1];return e[0]=o+r*(n[0]-o),e[1]=s+r*(n[1]-s),e};var KG=QG;const JG=(e,t,n)=>(e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e);var ej=JG;const tj=(e,t,n)=>(e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e);var nj=tj;const rj=(e,t,n)=>(e[0]=t[0]*n[0],e[1]=t[1]*n[1],e);var oj=rj;const sj=(e,t)=>(e[0]=-t[0],e[1]=-t[1],e);var ij=sj;const aj=(e,t,n,r)=>{const o=t[0]-n[0],s=t[1]-n[1],i=Math.cos(r),a=Math.sin(r);return e[0]=o*i-s*a+n[0],e[1]=o*a+s*i+n[1],e};var dC=aj;const{TAU:lj}=Et,cj=h1,uj=dC,fj=(e,t)=>uj(e,t,cj(),lj/4);var dj=fj;const hj=(e,t)=>{const n=t[0],r=t[1];let o=n*n+r*r;return o>0&&(o=1/Math.sqrt(o)),e[0]=n*o,e[1]=r*o,e};var pj=hj;const mj=(e,t,n)=>(e[0]=t[0]*n,e[1]=t[1]*n,e);var vj=mj;const gj=(e,t,n)=>(e[0]=Math.round(t[0]/n)*n+0,e[1]=Math.round(t[1]/n)*n+0,e);var yj=gj;const wj=(e,t)=>{const n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r};var xj=wj;const bj=e=>{const t=e[0],n=e[1];return t*t+n*n};var Ej=bj;const Sj=(e,t,n)=>(e[0]=t[0]-n[0],e[1]=t[1]-n[1],e);var _j=Sj;const $j=e=>`[${e[0].toFixed(7)}, ${e[1].toFixed(7)}]`;var Aj=$j;const Tj=(e,t,n)=>{const r=t[0],o=t[1];return e[0]=n[0]*r+n[4]*o+n[12],e[1]=n[1]*r+n[5]*o+n[13],e};var Cj=Tj,yt={abs:pG,add:vG,angle:yG,angleDegrees:bG,angleRadians:rw,clone:$G,copy:TG,create:h1,cross:PG,distance:RG,divide:OG,dot:LG,equals:IG,fromAngleDegrees:VG,fromAngleRadians:fC,fromScalar:HG,fromValues:qG,length:ZG,lerp:KG,max:ej,min:nj,multiply:oj,negate:ij,normal:dj,normalize:pj,rotate:dC,scale:vj,snap:yj,squaredDistance:xj,squaredLength:Ej,subtract:_j,toString:Aj,transform:Cj};const xm=yt,Pj=d1,kj=e=>{if(!Array.isArray(e))throw new Error("the given points must be an array");let t=e.length;if(t<3)throw new Error("the given points must define a closed geometry with three or more points");xm.equals(e[0],e[t-1])&&--t;const n=[];let r=e[t-1];for(let o=0;o<t;o++){const s=e[o];n.push([xm.clone(r),xm.clone(s)]),r=s}return Pj(n)};var Rj=kj;const Nj=Dt,VE=yt,Oj=d1,Mj=e=>{if(e[0]!==0)throw new Error("invalid compact binary data");const t=Oj();t.transforms=Nj.clone(e.slice(1,17));for(let n=21;n<e.length;n+=4){const r=VE.fromValues(e[n+0],e[n+1]),o=VE.fromValues(e[n+2],e[n+3]);t.sides.push([r,o])}return e[17]>=0&&(t.color=[e[17],e[18],e[19],e[20]]),t};var Lj=Mj;const Dj=e=>!!(e&&typeof e=="object"&&"sides"in e&&"transforms"in e&&Array.isArray(e.sides)&&"length"in e.transforms);var hC=Dj;const UE=Dt,Id=yt,Ij=e=>(UE.isIdentity(e.transforms)||(e.sides=e.sides.map(t=>{const n=Id.transform(Id.create(),t[0],e.transforms),r=Id.transform(Id.create(),t[1],e.transforms);return[n,r]}),e.transforms=UE.create()),e);var Fj=Ij;const zj=Fj,Bj=e=>zj(e).sides;var bf=Bj;const Gj=d1,jj=bf,Vj=e=>{const n=jj(e).map(r=>[r[1],r[0]]);return n.reverse(),Gj(n)};var pC=Vj;const Jc=yt,Uj=bf,Hj=e=>{const t=new Map,n=r=>{const o=r.toString();return t.has(o)?t.get(o):(t.set(o,r),r)};return e.map(r=>r.map(n))},Wj=e=>{const t=new Map;return Hj(e).forEach(r=>{t.has(r[0])?t.get(r[0]).push(r):t.set(r[0],[r])}),t},Xj=e=>{const t=Wj(Uj(e)),n=[];for(;;){let r;for(const[i,a]of t){if(r=a.shift(),!r){t.delete(i);continue}break}if(r===void 0)break;const o=[],s=r[0];for(;;){o.push(r[0]);const i=r[1];if(i===s)break;const a=t.get(i);if(!a)throw new Error(`geometry is not closed at vertex ${i}`);const l=qj(r,a);a.length===0&&t.delete(i),r=l}o.length>0&&o.push(o.shift()),n.push(o)}return t.clear(),n},qj=(e,t)=>{if(t.length===1)return t.pop();const n=Jc.create(),r=Jc.angleDegrees(Jc.subtract(n,e[1],e[0]));let o,s;t.forEach((a,l)=>{let f=Jc.angleDegrees(Jc.subtract(n,a[1],a[0]))-r;f<-180&&(f+=360),f>=180&&(f-=360),(s===void 0||f>o)&&(s=l,o=f)});const i=t[s];return t.splice(s,1),i};var mC=Xj;const Yj=bf,Zj=e=>{const n=Yj(e).map(r=>r[0]);return n.length>0&&n.push(n.shift()),n};var Qj=Zj;const HE=yt,Kj=bf,Jj=e=>{const t=Kj(e);let n="geom2 ("+t.length+` sides):
[
`;return t.forEach(r=>{n+="  ["+HE.toString(r[0])+", "+HE.toString(r[1])+`]
`}),n+=`]
`,n};var eV=Jj;const tV=e=>{const t=e.sides,n=e.transforms;let r=[-1,-1,-1,-1];e.color&&(r=e.color);const o=new Float32Array(21+t.length*4);o[0]=0,o[1]=n[0],o[2]=n[1],o[3]=n[2],o[4]=n[3],o[5]=n[4],o[6]=n[5],o[7]=n[6],o[8]=n[7],o[9]=n[8],o[10]=n[9],o[11]=n[10],o[12]=n[11],o[13]=n[12],o[14]=n[13],o[15]=n[14],o[16]=n[15],o[17]=r[0],o[18]=r[1],o[19]=r[2],o[20]=r[3];for(let s=0;s<t.length;s++){const i=s*4+21,a=t[s][0],l=t[s][1];o[i+0]=a[0],o[i+1]=a[1],o[i+2]=l[0],o[i+3]=l[1]}return o};var nV=tV;const WE=Dt,rV=pC,oV=(e,t)=>{const n=WE.multiply(WE.create(),e,t.transforms),r=Object.assign({},t,{transforms:n});return e[0]*e[5]-e[4]*e[1]<0?rV(r):r};var sV=oV;const iV=yt,aV=hC,lV=mC,cV=e=>{if(!aV(e))throw new Error("invalid geom2 structure");if(lV(e),e.sides.forEach(t=>{if(iV.equals(t[0],t[1]))throw new Error(`geom2 self-edge ${t[0]}`)}),!e.transforms.every(Number.isFinite))throw new Error(`geom2 invalid transforms ${e.transforms}`)};var uV=cV,dt={clone:O9,create:d1,fromPoints:Rj,fromCompactBinary:Lj,isA:hC,reverse:pC,toOutlines:mC,toPoints:Qj,toSides:bf,toString:eV,toCompactBinary:nV,transform:sV,validate:uV};const fV=e=>Object.assign({},e);var dV=fV;const hV=Dt,pV=e=>(e===void 0&&(e=[]),{polygons:e,transforms:hV.create()});var Ef=pV;const mV=xf,XE=f1,qE=uC,vV=(e,t,n)=>{const r=[],o=[],s=[];XE(r,n,t),XE(o,e,t);const i=qE(mV(s,o,r)),a=qE(r);if(a===0)throw Error("a and b are the same point");return i/a},gV=(e,t,n)=>Math.sqrt(vV(e,t,n));var yV=gV;const wV=xf,xV=nw,YE=f1,bV=(e,t,n,r)=>{const o=[0,0,0];return YE(e,t,n),YE(o,n,r),wV(e,e,o),xV(e,e)};var EV=bV;let SV=class{constructor(){this.head=null,this.tail=null}clear(){this.head=this.tail=null}insertBefore(t,n){n.prev=t.prev,n.next=t,n.prev?n.prev.next=n:this.head=n,t.prev=n}insertAfter(t,n){n.prev=t,n.next=t.next,n.next?n.next.prev=n:this.tail=n,t.next=n}add(t){this.head?this.tail.next=t:this.head=t,t.prev=this.tail,t.next=null,this.tail=t}addAll(t){for(this.head?this.tail.next=t:this.head=t,t.prev=this.tail;t.next;)t=t.next;this.tail=t}remove(t){t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev}removeChain(t,n){t.prev?t.prev.next=n.next:this.head=n.next,n.next?n.next.prev=t.prev:this.tail=t.prev}first(){return this.head}isEmpty(){return!this.head}};var _V=SV;let $V=class{constructor(t,n){this.point=t,this.index=n,this.next=null,this.prev=null,this.face=null}};var AV=$V;const TV=oC,CV=cC;let PV=class{constructor(t,n){this.vertex=t,this.face=n,this.next=null,this.prev=null,this.opposite=null}head(){return this.vertex}tail(){return this.prev?this.prev.vertex:null}length(){return this.tail()?TV(this.tail().point,this.head().point):-1}lengthSquared(){return this.tail()?CV(this.tail().point,this.head().point):-1}setOpposite(t){this.opposite=t,t.opposite=this}};var kV=PV;const bm=nC,RV=rC,NV=xf,Em=c1,OV=sC,MV=nw,Fd=lC,Sm=f1,_m=kV,vC=0,LV=1,Fg=2;let DV=class gC{constructor(){this.normal=[],this.centroid=[],this.offset=0,this.outside=null,this.mark=vC,this.edge=null,this.nVertices=0}getEdge(t){if(typeof t!="number")throw Error("requires a number");let n=this.edge;for(;t>0;)n=n.next,t-=1;for(;t<0;)n=n.prev,t+=1;return n}computeNormal(){const t=this.edge,n=t.next;let r=n.next;const o=Sm([],n.head().point,t.head().point),s=[],i=[];for(this.nVertices=2,this.normal=[0,0,0];r!==t;)RV(i,o),Sm(o,r.head().point,t.head().point),bm(this.normal,this.normal,NV(s,i,o)),r=r.next,this.nVertices+=1;this.area=OV(this.normal),this.normal=Fd(this.normal,this.normal,1/this.area)}computeNormalMinArea(t){if(this.computeNormal(),this.area<t){let n,r=0,o=this.edge;do{const f=o.lengthSquared();f>r&&(n=o,r=f),o=o.next}while(o!==this.edge);const s=n.tail().point,i=n.head().point,a=Sm([],i,s),l=Math.sqrt(r);Fd(a,a,1/l);const c=Em(this.normal,a);Fd(a,a,-c),bm(this.normal,this.normal,a),MV(this.normal,this.normal)}}computeCentroid(){this.centroid=[0,0,0];let t=this.edge;do bm(this.centroid,this.centroid,t.head().point),t=t.next;while(t!==this.edge);Fd(this.centroid,this.centroid,1/this.nVertices)}computeNormalAndCentroid(t){typeof t<"u"?this.computeNormalMinArea(t):this.computeNormal(),this.computeCentroid(),this.offset=Em(this.normal,this.centroid)}distanceToPlane(t){return Em(this.normal,t)-this.offset}connectHalfEdges(t,n){let r;if(t.opposite.face===n.opposite.face){const o=n.opposite.face;let s;t===this.edge&&(this.edge=n),o.nVertices===3?(s=n.opposite.prev.opposite,o.mark=Fg,r=o):(s=n.opposite.next,o.edge===s.prev&&(o.edge=s),s.prev=s.prev.prev,s.prev.next=s),n.prev=t.prev,n.prev.next=n,n.setOpposite(s),o.computeNormalAndCentroid()}else t.next=n,n.prev=t;return r}mergeAdjacentFaces(t,n){const r=t.opposite,o=r.face;n.push(o),o.mark=Fg;let s=t.prev,i=t.next,a=r.prev,l=r.next;for(;s.opposite.face===o;)s=s.prev,l=l.next;for(;i.opposite.face===o;)i=i.next,a=a.prev;let c;for(c=l;c!==a.next;c=c.next)c.face=this;this.edge=i;let f;return f=this.connectHalfEdges(a,i),f&&n.push(f),f=this.connectHalfEdges(s,l),f&&n.push(f),this.computeNormalAndCentroid(),n}collectIndices(){const t=[];let n=this.edge;do t.push(n.head().index),n=n.next;while(n!==this.edge);return t}static createTriangle(t,n,r,o=0){const s=new gC,i=new _m(t,s),a=new _m(n,s),l=new _m(r,s);return i.next=l.prev=a,a.next=i.prev=l,l.next=a.prev=i,s.edge=i,s.computeNormalAndCentroid(o),s}};var IV={VISIBLE:vC,NON_CONVEX:LV,DELETED:Fg,Face:DV};const $m=c1,FV=yV,zV=EV,ZE=_V,BV=AV,{Face:os,VISIBLE:Ya,NON_CONVEX:QE,DELETED:GV}=IV,jV=1,KE=2;let VV=class{constructor(t){if(!Array.isArray(t))throw TypeError("input is not a valid array");if(t.length<4)throw Error("cannot build a simplex out of <4 points");this.tolerance=-1,this.nFaces=0,this.nPoints=t.length,this.faces=[],this.newFaces=[],this.claimed=new ZE,this.unclaimed=new ZE,this.vertices=[];for(let n=0;n<t.length;n+=1)this.vertices.push(new BV(t[n],n));this.discardedFaces=[],this.vertexPointIndices=[]}addVertexToFace(t,n){t.face=n,n.outside?this.claimed.insertBefore(n.outside,t):this.claimed.add(t),n.outside=t}removeVertexFromFace(t,n){t===n.outside&&(t.next&&t.next.face===n?n.outside=t.next:n.outside=null),this.claimed.remove(t)}removeAllVerticesFromFace(t){if(t.outside){let n=t.outside;for(;n.next&&n.next.face===t;)n=n.next;return this.claimed.removeChain(t.outside,n),n.next=null,t.outside}}deleteFaceVertices(t,n){const r=this.removeAllVerticesFromFace(t);if(r)if(!n)this.unclaimed.addAll(r);else{let o;for(let s=r;s;s=o)o=s.next,n.distanceToPlane(s.point)>this.tolerance?this.addVertexToFace(s,n):this.unclaimed.add(s)}}resolveUnclaimedPoints(t){let n=this.unclaimed.first();for(let r=n;r;r=n){n=r.next;let o=this.tolerance,s;for(let i=0;i<t.length;i+=1){const a=t[i];if(a.mark===Ya){const l=a.distanceToPlane(r.point);if(l>o&&(o=l,s=a),o>1e3*this.tolerance)break}}s&&this.addVertexToFace(r,s)}}computeExtremes(){const t=[],n=[],r=[],o=[];let s,i;for(s=0;s<3;s+=1)r[s]=o[s]=this.vertices[0];for(s=0;s<3;s+=1)t[s]=n[s]=this.vertices[0].point[s];for(s=1;s<this.vertices.length;s+=1){const a=this.vertices[s],l=a.point;for(i=0;i<3;i+=1)l[i]<t[i]&&(t[i]=l[i],r[i]=a);for(i=0;i<3;i+=1)l[i]>n[i]&&(n[i]=l[i],o[i]=a)}return this.tolerance=3*Number.EPSILON*(Math.max(Math.abs(t[0]),Math.abs(n[0]))+Math.max(Math.abs(t[1]),Math.abs(n[1]))+Math.max(Math.abs(t[2]),Math.abs(n[2]))),[r,o]}createInitialSimplex(){const t=this.vertices,[n,r]=this.computeExtremes();let o,s,i,a,l=0,c=0;for(i=0;i<3;i+=1){const p=r[i].point[i]-n[i].point[i];p>l&&(l=p,c=i)}const f=n[c],u=r[c];for(l=0,i=0;i<this.vertices.length;i+=1){const p=this.vertices[i];if(p!==f&&p!==u){const g=FV(p.point,f.point,u.point);g>l&&(l=g,o=p)}}const d=zV([],f.point,u.point,o.point),h=$m(f.point,d);for(l=-1,i=0;i<this.vertices.length;i+=1){const p=this.vertices[i];if(p!==f&&p!==u&&p!==o){const g=Math.abs($m(d,p.point)-h);g>l&&(l=g,s=p)}}const m=[];if($m(s.point,d)-h<0)for(m.push(os.createTriangle(f,u,o),os.createTriangle(s,u,f),os.createTriangle(s,o,u),os.createTriangle(s,f,o)),i=0;i<3;i+=1){const p=(i+1)%3;m[i+1].getEdge(2).setOpposite(m[0].getEdge(p)),m[i+1].getEdge(1).setOpposite(m[p+1].getEdge(0))}else for(m.push(os.createTriangle(f,o,u),os.createTriangle(s,f,u),os.createTriangle(s,u,o),os.createTriangle(s,o,f)),i=0;i<3;i+=1){const p=(i+1)%3;m[i+1].getEdge(2).setOpposite(m[0].getEdge((3-i)%3)),m[i+1].getEdge(0).setOpposite(m[p+1].getEdge(1))}for(i=0;i<4;i+=1)this.faces.push(m[i]);for(i=0;i<t.length;i+=1){const p=t[i];if(p!==f&&p!==u&&p!==o&&p!==s){l=this.tolerance;let g;for(a=0;a<4;a+=1){const v=m[a].distanceToPlane(p.point);v>l&&(l=v,g=m[a])}g&&this.addVertexToFace(p,g)}}}reindexFaceAndVertices(){const t=[];for(let n=0;n<this.faces.length;n+=1){const r=this.faces[n];r.mark===Ya&&t.push(r)}this.faces=t}collectFaces(t){const n=[];for(let r=0;r<this.faces.length;r+=1){if(this.faces[r].mark!==Ya)throw Error("attempt to include a destroyed face in the hull");const o=this.faces[r].collectIndices();if(t)n.push(o);else for(let s=0;s<o.length-2;s+=1)n.push([o[0],o[s+1],o[s+2]])}return n}nextVertexToAdd(){if(!this.claimed.isEmpty()){let t,n,r=0;const o=this.claimed.first().face;for(n=o.outside;n&&n.face===o;n=n.next){const s=o.distanceToPlane(n.point);s>r&&(r=s,t=n)}return t}}computeHorizon(t,n,r,o){this.deleteFaceVertices(r),r.mark=GV;let s;n?s=n.next:s=n=r.getEdge(0);do{const i=s.opposite,a=i.face;a.mark===Ya&&(a.distanceToPlane(t)>this.tolerance?this.computeHorizon(t,i,a,o):o.push(s)),s=s.next}while(s!==n)}addAdjoiningFace(t,n){const r=os.createTriangle(t,n.tail(),n.head());return this.faces.push(r),r.getEdge(-1).setOpposite(n.opposite),r.getEdge(0)}addNewFaces(t,n){this.newFaces=[];let r,o;for(let s=0;s<n.length;s+=1){const i=n[s],a=this.addAdjoiningFace(t,i);r?a.next.setOpposite(o):r=a,this.newFaces.push(a.face),o=a}r.next.setOpposite(o)}oppositeFaceDistance(t){return t.face.distanceToPlane(t.opposite.face.centroid)}doAdjacentMerge(t,n){let r=t.edge,o=!0,s=0;do{if(s>=t.nVertices)throw Error("merge recursion limit exceeded");const i=r.opposite.face;let a=!1;if(n===KE?(this.oppositeFaceDistance(r)>-this.tolerance||this.oppositeFaceDistance(r.opposite)>-this.tolerance)&&(a=!0):t.area>i.area?this.oppositeFaceDistance(r)>-this.tolerance?a=!0:this.oppositeFaceDistance(r.opposite)>-this.tolerance&&(o=!1):this.oppositeFaceDistance(r.opposite)>-this.tolerance?a=!0:this.oppositeFaceDistance(r)>-this.tolerance&&(o=!1),a){const l=t.mergeAdjacentFaces(r,[]);for(let c=0;c<l.length;c+=1)this.deleteFaceVertices(l[c],t);return!0}r=r.next,s+=1}while(r!==t.edge);return o||(t.mark=QE),!1}addVertexToHull(t){const n=[];this.unclaimed.clear(),this.removeVertexFromFace(t,t.face),this.computeHorizon(t.point,null,t.face,n),this.addNewFaces(t,n);for(let r=0;r<this.newFaces.length;r+=1){const o=this.newFaces[r];if(o.mark===Ya)for(;this.doAdjacentMerge(o,jV););}for(let r=0;r<this.newFaces.length;r+=1){const o=this.newFaces[r];if(o.mark===QE)for(o.mark=Ya;this.doAdjacentMerge(o,KE););}this.resolveUnclaimedPoints(this.newFaces)}build(){let t;for(this.createInitialSimplex();t=this.nextVertexToAdd();)this.addVertexToHull(t);this.reindexFaceAndVertices()}};var UV=VV;const HV=UV,WV=(e,t={})=>{const n=new HV(e);return n.build(),n.collectFaces(t.skipTriangulation)};var yC=WV;const XV=e=>((e===void 0||e.length<3)&&(e=[]),{vertices:e});var uc=XV;const qV=uc,YV=Ke,ZV=(...e)=>{let t,n;return e.length===1?(t=qV(),n=e[0]):(t=e[0],n=e[1]),t.vertices=n.vertices.map(r=>YV.clone(r)),t};var QV=ZV;const KV=Ke,JV=uc,eU=e=>{const t=e.map(n=>KV.clone(n));return JV(t)};var tU=eU;const nU=uc,rU=(e,t)=>{const n=nU(e);return n.plane=t,n};var oU=rU;const sU=()=>[0,0,0,0];var p1=sU;const iU=p1,aU=e=>{const t=iU();return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t};var wC=aU;const lU=(e,t)=>(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e);var xC=lU;const cU=(e,t)=>e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3];var bC=cU;const uU=(e,t)=>(e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e);var EC=uU;const Am=Ke,fU=(e,t,n)=>{const r=Am.normalize(Am.create(),t),o=Am.dot(n,r);return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=o,e};var SC=fU;const dU=p1,hU=(e,t,n,r)=>{const o=dU();return o[0]=e,o[1]=t,o[2]=n,o[3]=r,o};var _C=hU;const $r=Ke,pU=SC,mU=(e,...t)=>{e[0]=0,e[1]=0,e[2]=0,e[3]=0;const n=t.length;t.forEach(h=>{$r.add(e,e,h)}),$r.scale(e,e,1/n);let r=0,o=0,s=0,i=0,a=0,l=0;const c=$r.create();t.forEach(h=>{$r.subtract(c,h,e),r+=c[0]*c[0],o+=c[0]*c[1],s+=c[0]*c[2],i+=c[1]*c[1],a+=c[1]*c[2],l+=c[2]*c[2]}),r/=n,o/=n,s/=n,i/=n,a/=n,l/=n,c[0]=0,c[1]=0,c[2]=0;const f=$r.create();let u=i*l-a*a;f[0]=u,f[1]=s*a-o*l,f[2]=o*a-s*i;let d=u*u;return $r.add(c,c,$r.scale(f,f,d)),u=r*l-s*s,f[0]=s*a-o*l,f[1]=u,f[2]=o*s-a*r,d=u*u,$r.dot(c,f)<0&&(d=-d),$r.add(c,c,$r.scale(f,f,d)),u=r*i-o*o,f[0]=o*a-s*i,f[1]=o*s-a*r,f[2]=u,d=u*u,$r.dot(c,f)<0&&(d=-d),$r.add(c,c,$r.scale(f,f,d)),pU(e,c,e)};var vU=mU;const Lo=Ke,gU=(e,...t)=>{const n=t.length,r=Lo.create(),o=Lo.create(),s=i=>{const a=t[i],l=t[(i+1)%n],c=t[(i+2)%n];return Lo.subtract(r,l,a),Lo.subtract(o,c,a),Lo.cross(r,r,o),Lo.normalize(r,r),r};return e[0]=0,e[1]=0,e[2]=0,n===3?Lo.copy(e,s(0)):(t.forEach((i,a)=>{Lo.add(e,e,s(a))}),Lo.normalize(e,e)),e[3]=Lo.dot(e,t[0]),e};var $C=gU;const{EPS:Tm}=Et,Qn=Ke,yU=(e,t,n,r)=>{let o=Qn.subtract(Qn.create(),n,t),s=Qn.subtract(Qn.create(),r,t);Qn.length(o)<Tm&&(o=Qn.orthogonal(o,s)),Qn.length(s)<Tm&&(s=Qn.orthogonal(s,o));let i=Qn.cross(Qn.create(),o,s);Qn.length(i)<Tm&&(s=Qn.orthogonal(s,o),i=Qn.cross(i,o,s)),i=Qn.normalize(i,i);const a=Qn.dot(i,t);return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=a,e};var wU=yU;const xU=Ke,bU=(e,t)=>{const n=t[0]*e[0]+t[1]*e[1]+t[2]*e[2]-e[3],r=t[0]-n*e[0],o=t[1]-n*e[1],s=t[2]-n*e[2];return xU.fromValues(r,o,s)};var EU=bU;const SU=Ke,_U=(e,t)=>SU.dot(e,t)-e[3];var AC=_U;const $U=e=>`(${e[0].toFixed(9)}, ${e[1].toFixed(9)}, ${e[2].toFixed(9)}, ${e[3].toFixed(9)})`;var TC=$U;const AU=Dt,Kn=Ke,TU=$C,CU=EC,PU=(e,t,n)=>{const r=AU.isMirroring(n),o=Kn.orthogonal(Kn.create(),t),s=Kn.cross(o,t,o),i=Kn.cross(Kn.create(),t,s);let a=Kn.fromScalar(Kn.create(),t[3]);Kn.multiply(a,a,t);let l=Kn.add(Kn.create(),a,s),c=Kn.add(Kn.create(),a,i);return a=Kn.transform(a,a,n),l=Kn.transform(l,l,n),c=Kn.transform(c,c,n),TU(e,a,l,c),r&&CU(e,e),e};var kU=PU,Zo={clone:wC,copy:xC,create:p1,equals:bC,flip:EC,fromNormalAndPoint:SC,fromValues:_C,fromNoisyPoints:vU,fromPoints:$C,fromPointsRandom:wU,projectionOfPoint:EU,signedDistanceToPoint:AC,toString:TC,transform:kU};const JE=Zo,RU=uc,NU=e=>{const t=e.vertices.slice().reverse(),n=RU(t);return e.plane&&(n.plane=JE.flip(JE.create(),e.plane)),n};var OU=NU;const MU=e=>!!(e&&typeof e=="object"&&"vertices"in e&&Array.isArray(e.vertices));var CC=MU;const eS=Zo,Bi=Ke,LU=e=>DU(e.vertices),DU=e=>{const t=e.length;if(t>2){const n=eS.fromPoints(eS.create(),...e);let r=e[t-2],o=e[t-1];for(let s=0;s<t;s++){const i=e[s];if(!IU(r,o,i,n))return!1;r=o,o=i}}return!0},IU=(e,t,n,r)=>{const o=Bi.cross(Bi.create(),Bi.subtract(Bi.create(),t,e),Bi.subtract(Bi.create(),n,t));return Bi.dot(o,r)>=0};var PC=LU;const tS=Zo,FU=e=>(e.plane||(e.plane=tS.fromPoints(tS.create(),...e.vertices)),e.plane);var ow=FU;const zU=ow,BU=e=>{const t=e.vertices.length;if(t<3)return 0;const n=e.vertices,r=zU(e),o=Math.abs(r[0]),s=Math.abs(r[1]),i=Math.abs(r[2]);if(o+s+i===0)return 0;let a=3;o>s&&o>i?a=1:s>i&&(a=2);let l=0,c=0,f=1,u=2;switch(a){case 1:for(f=1;f<t;f++)c=f-1,u=(f+1)%t,l+=n[f][1]*(n[u][2]-n[c][2]);l+=n[0][1]*(n[1][2]-n[t-1][2]),l/=2*r[0];break;case 2:for(f=1;f<t;f++)c=f-1,u=(f+1)%t,l+=n[f][2]*(n[u][0]-n[c][0]);l+=n[0][2]*(n[1][0]-n[t-1][0]),l/=2*r[1];break;case 3:default:for(f=1;f<t;f++)c=f-1,u=(f+1)%t,l+=n[f][0]*(n[u][1]-n[c][1]);l+=n[0][0]*(n[1][1]-n[t-1][1]),l/=2*r[2];break}return l};var kC=BU;const eu=Ke,GU=e=>{const t=e.vertices,n=t.length,r=n===0?eu.create():eu.clone(t[0]),o=eu.clone(r);for(let s=1;s<n;s++)eu.min(r,r,t[s]),eu.max(o,o,t[s]);return[r,o]};var jU=GU;const VU=(e,t)=>e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3];var UU=VU;const HU=(e,t)=>(e[0]=t,e[1]=t,e[2]=t,e[3]=t,e);var WU=HU;const XU=(e,t,n)=>{const[r,o,s,i]=t;return e[0]=n[0]*r+n[4]*o+n[8]*s+n[12]*i,e[1]=n[1]*r+n[5]*o+n[9]*s+n[13]*i,e[2]=n[2]*r+n[6]*o+n[10]*s+n[14]*i,e[3]=n[3]*r+n[7]*o+n[11]*s+n[15]*i,e};var qU=XU,RC={clone:wC,copy:xC,create:p1,dot:UU,equals:bC,fromScalar:WU,fromValues:_C,toString:TC,transform:qU};const YU=RC,nS=new WeakMap,ZU=e=>{const t=nS.get(e);if(t)return t;const n=e.vertices,r=YU.create();if(n.length===0)return r[0]=0,r[1]=0,r[2]=0,r[3]=0,r;let o=n[0],s=o,i=o,a=o,l=o,c=o;n.forEach(h=>{o[0]>h[0]&&(o=h),s[1]>h[1]&&(s=h),i[2]>h[2]&&(i=h),a[0]<h[0]&&(a=h),l[1]<h[1]&&(l=h),c[2]<h[2]&&(c=h)}),r[0]=(o[0]+a[0])*.5,r[1]=(s[1]+l[1])*.5,r[2]=(i[2]+c[2])*.5;const f=r[0]-a[0],u=r[1]-l[1],d=r[2]-c[2];return r[3]=Math.sqrt(f*f+u*u+d*d),nS.set(e,r),r};var QU=ZU;const Cm=Ke,KU=e=>{let t=0;const n=e.vertices,r=Cm.create();for(let o=0;o<n.length-2;o++)Cm.cross(r,n[o+1],n[o+2]),t+=Cm.dot(n[0],r);return t/=6,t};var JU=KU;const eH=e=>e.vertices;var tH=eH;const nH=Ke,rH=e=>{let t="poly3: vertices: [";return e.vertices.forEach(n=>{t+=`${nH.toString(n)}, `}),t+="]",t};var oH=rH;const sH=Dt,rS=Ke,iH=uc,aH=(e,t)=>{const n=t.vertices.map(r=>rS.transform(rS.create(),r,e));return sH.isMirroring(e)&&n.reverse(),iH(n)};var lH=aH;const cH=AC,{NEPS:uH}=Et,fH=Ke,dH=CC,hH=PC,pH=kC,mH=ow,vH=e=>{if(!dH(e))throw new Error("invalid poly3 structure");if(e.vertices.length<3)throw new Error(`poly3 not enough vertices ${e.vertices.length}`);if(pH(e)<=0)throw new Error("poly3 area must be greater than zero");for(let t=0;t<e.vertices.length;t++)if(fH.equals(e.vertices[t],e.vertices[(t+1)%e.vertices.length]))throw new Error(`poly3 duplicate vertex ${e.vertices[t]}`);if(!hH(e))throw new Error("poly3 must be convex");if(e.vertices.forEach(t=>{if(!t.every(Number.isFinite))throw new Error(`poly3 invalid vertex ${t}`)}),e.vertices.length>3){const t=mH(e);e.vertices.forEach(n=>{const r=Math.abs(cH(t,n));if(r>uH)throw new Error(`poly3 must be coplanar: vertex ${n} distance ${r}`)})}};var gH=vH,xt={clone:QV,create:uc,fromPoints:tU,fromPointsAndPlane:oU,invert:OU,isA:CC,isConvex:PC,measureArea:kC,measureBoundingBox:jU,measureBoundingSphere:QU,measureSignedVolume:JU,plane:ow,toPoints:tH,toString:oH,transform:lH,validate:gH};const yH=yC,wH=Ef,xH=xt,bH=e=>{if(!Array.isArray(e))throw new Error("the given points must be an array");const n=yH(e,{skipTriangulation:!0}).map(r=>{const o=r.map(s=>e[s]);return xH.create(o)});return wH(n)};var EH=bH;const SH=xt,_H=Ef,$H=e=>{if(!Array.isArray(e))throw new Error("the given points must be an array");const t=e.map((r,o)=>SH.create(r));return _H(t)};var AH=$H;const TH=Ke,CH=Dt,PH=xt,kH=Ef,RH=e=>{if(e[0]!==1)throw new Error("invalid compact binary data");const t=kH();t.transforms=CH.clone(e.slice(1,17));const n=e[21];let r=22,o=e.length-n*3;for(;o<e.length;){const s=e[r];r++;const i=[];for(let a=0;a<s;a++)i.push(TH.fromValues(e[o],e[o+1],e[o+2])),o+=3;t.polygons.push(PH.create(i))}return e[17]>=0&&(t.color=[e[17],e[18],e[19],e[20]]),t};var NH=RH;const oS=Dt,OH=xt,MH=e=>(oS.isIdentity(e.transforms)||(e.polygons=e.polygons.map(t=>OH.transform(e.transforms,t)),e.transforms=oS.create()),e);var LH=MH;const DH=LH,IH=e=>DH(e).polygons;var m1=IH;const FH=xt,zH=Ef,BH=m1,GH=e=>{const n=BH(e).map(r=>FH.invert(r));return zH(n)};var jH=GH;const VH=e=>!!(e&&typeof e=="object"&&"polygons"in e&&"transforms"in e&&Array.isArray(e.polygons)&&"length"in e.transforms);var NC=VH;const UH=xt,HH=m1,WH=e=>HH(e).map(r=>UH.toPoints(r));var XH=WH;const qH=xt,YH=m1,ZH=e=>{const t=YH(e);let n="geom3 ("+t.length+` polygons):
`;return t.forEach(r=>{n+="  "+qH.toString(r)+`
`}),n};var QH=ZH;const KH=xt,JH=e=>{const t=e.polygons,n=e.transforms,r=t.length,o=t.reduce((c,f)=>c+f.vertices.length,0);let s=[-1,-1,-1,-1];e.color&&(s=e.color);const i=new Float32Array(22+r+o*3);i[0]=1,i[1]=n[0],i[2]=n[1],i[3]=n[2],i[4]=n[3],i[5]=n[4],i[6]=n[5],i[7]=n[6],i[8]=n[7],i[9]=n[8],i[10]=n[9],i[11]=n[10],i[12]=n[11],i[13]=n[12],i[14]=n[13],i[15]=n[14],i[16]=n[15],i[17]=s[0],i[18]=s[1],i[19]=s[2],i[20]=s[3],i[21]=o;let a=22,l=a+r;return t.forEach(c=>{const f=KH.toPoints(c);i[a]=f.length,a++;for(let u=0;u<f.length;u++){const d=f[u];i[l+0]=d[0],i[l+1]=d[1],i[l+2]=d[2],l+=3}}),i};var eW=JH;const sS=Dt,tW=(e,t)=>{const n=sS.multiply(sS.create(),e,t.transforms);return Object.assign({},t,{transforms:n})};var nW=tW;const rW=xt,oW=NC,sW=e=>{if(!oW(e))throw new Error("invalid geom3 structure");if(e.polygons.forEach(rW.validate),iW(e),!e.transforms.every(Number.isFinite))throw new Error(`geom3 invalid transforms ${e.transforms}`)},iW=e=>{const t=new Map;e.polygons.forEach(({vertices:r})=>{r.forEach((o,s)=>{const i=`${o}`,a=`${r[(s+1)%r.length]}`,l=`${i}/${a}`,c=t.has(l)?t.get(l):0;t.set(l,c+1)})});const n=[];if(t.forEach((r,o)=>{const s=o.split("/").reverse().join("/"),i=t.get(s);r!==i&&n.push(o.replace("/"," -> "))}),n.length>0)throw new Error(`non-manifold edges ${n.length}
${n.join(`
`)}`)};var aW=sW,ht={clone:dV,create:Ef,fromPointsConvex:EH,fromPoints:AH,fromCompactBinary:NH,invert:jH,isA:NC,toPoints:XH,toPolygons:m1,toString:QH,toCompactBinary:eW,transform:nW,validate:aW};const lW=e=>Object.assign({},e);var sw=lW;const{EPS:iS}=Et,cW=yt,uW=sw,fW=e=>{if(e.isClosed)return e;const t=uW(e);if(t.isClosed=!0,t.points.length>1){const n=t.points,r=n[0];let o=n[n.length-1];for(;cW.distance(r,o)<iS*iS&&(n.pop(),n.length!==1);)o=n[n.length-1]}return t};var OC=fW;const dW=Dt,hW=e=>(e===void 0&&(e=[]),{points:e,isClosed:!1,transforms:dW.create()});var v1=hW;const{EPS:aS}=Et,lS=yt,pW=OC,mW=v1,vW=(e,t)=>{const n={closed:!1};let{closed:r}=Object.assign({},n,e),o=mW();if(o.points=t.map(s=>lS.clone(s)),o.points.length>1){const s=o.points[0],i=o.points[o.points.length-1];lS.distance(s,i)<aS*aS&&(r=!0)}return r===!0&&(o=pW(o)),o};var iw=vW;const cS=Dt,uS=yt,gW=e=>(cS.isIdentity(e.transforms)||(e.points=e.points.map(t=>uS.transform(uS.create(),t,e.transforms)),e.transforms=cS.create()),e);var yW=gW;const wW=yW,xW=e=>wW(e).points;var fc=xW;const{TAU:zd}=Et,wn=yt,bW=iw,EW=fc,SW=(e,t)=>{const n={radius:[0,0],xaxisrotation:0,clockwise:!1,large:!1,segments:16};let{endpoint:r,radius:o,xaxisrotation:s,clockwise:i,large:a,segments:l}=Object.assign({},n,e);if(!Array.isArray(r))throw new Error("endpoint must be an array of X and Y values");if(r.length<2)throw new Error("endpoint must contain X and Y values");if(r=wn.clone(r),!Array.isArray(o))throw new Error("radius must be an array of X and Y values");if(o.length<2)throw new Error("radius must contain X and Y values");if(l<4)throw new Error("segments must be four or more");const c=1e5;if(t.isClosed)throw new Error("the given path cannot be closed");const f=EW(t);if(f.length<1)throw new Error("the given path must contain one or more points (as the starting point for the arc)");let u=o[0],d=o[1];const h=f[f.length-1];u=Math.round(u*c)/c,d=Math.round(d*c)/c,r=wn.fromValues(Math.round(r[0]*c)/c,Math.round(r[1]*c)/c);const m=!i;let p=[];if(u===0||d===0)p.push(r);else{u=Math.abs(u),d=Math.abs(d);const v=s,y=Math.cos(v),w=Math.sin(v),b=wn.subtract(wn.create(),h,r);wn.scale(b,b,.5);const E=Math.round((y*b[0]+w*b[1])*c)/c,S=Math.round((-w*b[0]+y*b[1])*c)/c,$=wn.fromValues(E,S),A=$[0]*$[0]/(u*u)+$[1]*$[1]/(d*d);if(A>1){const oe=Math.sqrt(A);u*=oe,d*=oe,u=Math.round(u*c)/c,d=Math.round(d*c)/c}let G=Math.sqrt((u*u*d*d-u*u*$[1]*$[1]-d*d*$[0]*$[0])/(u*u*$[1]*$[1]+d*d*$[0]*$[0]));m===a&&(G=-G);const I=wn.fromValues(u*$[1]/d,-d*$[0]/u);wn.scale(I,I,G);let H=wn.fromValues(y*I[0]-w*I[1],w*I[0]+y*I[1]);H=wn.add(H,H,wn.scale(wn.create(),wn.add(wn.create(),h,r),.5));const te=wn.fromValues(($[0]-I[0])/u,($[1]-I[1])/d),pe=wn.fromValues((-$[0]-I[0])/u,(-$[1]-I[1])/d),j=wn.angleRadians(te);let ee=wn.angleRadians(pe)-j;ee=ee%zd,!m&&ee>0?ee-=zd:m&&ee<0&&(ee+=zd);let we=Math.ceil(Math.abs(ee)/zd*l)+1;we<1&&(we=1);for(let oe=1;oe<we;oe++){const $e=j+oe/we*ee,Ne=Math.cos($e),Ye=Math.sin($e),rt=wn.fromValues(y*u*Ne-w*d*Ye,w*u*Ne+y*d*Ye);wn.add(rt,rt,H),p.push(rt)}we&&p.push(e.endpoint)}return p=f.concat(p),bW({},p)};var _W=SW;const $W=iw,AW=fc,{equals:TW}=yt,CW=(...e)=>{let t=!1,n=[];return e.forEach((r,o)=>{const s=AW(r).slice();if(n.length>0&&s.length>0&&TW(s[0],n[n.length-1])&&s.shift(),s.length>0&&t)throw new Error(`Cannot concatenate to a closed path; check the ${o}th path`);t=r.isClosed,n=n.concat(s)}),$W({closed:t},n)};var MC=CW;const PW=MC,kW=v1,RW=(e,t)=>PW(t,kW(e));var LC=RW;const{TAU:NW}=Et,Ar=yt,OW=yt,MW=LC,LW=fc,DW=(e,t)=>{const n={segments:16};let{controlPoints:r,segments:o}=Object.assign({},n,e);if(!Array.isArray(r))throw new Error("controlPoints must be an array of one or more points");if(r.length<1)throw new Error("controlPoints must be an array of one or more points");if(o<4)throw new Error("segments must be four or more");if(t.isClosed)throw new Error("the given geometry cannot be closed");const s=LW(t);if(s.length<1)throw new Error("the given path must contain one or more points (as the starting point for the bezier curve)");if(r=r.slice(),r[0]===null){if(r.length<2)throw new Error("a null control point must be passed with one more control points");let S=s[s.length-2];if("lastBezierControlPoint"in t&&(S=t.lastBezierControlPoint),!Array.isArray(S))throw new Error("the given path must contain TWO or more points if given a null control point");const $=Ar.scale(Ar.create(),s[s.length-1],2);Ar.subtract($,$,S),r[0]=$}r.unshift(s[s.length-1]);const a=r.length-1,l=[];let c=1;for(let S=0;S<=a;++S)S>0&&(c*=S),l.push(c);const f=[];for(let S=0;S<=a;++S){const $=l[a]/(l[S]*l[a-S]);f.push($)}const u=Ar.create(),d=Ar.create(),h=OW.create(),m=S=>{let $=1,A=Math.pow(1-S,a);const G=S!==1?1/(1-S):1,I=Ar.create();for(let H=0;H<=a;++H){H===a&&(A=1);const te=f[H]*$*A,pe=Ar.scale(u,r[H],te);Ar.add(I,I,pe),$*=S,A*=G}return I},p=[],g=[],v=a+1;for(let S=0;S<v;++S){const $=S/(v-1),A=m($);p.push(A),g.push($)}let y=1;const w=NW/o,b=Math.sin(w);for(;y<p.length-1;){const S=Ar.subtract(u,p[y],p[y-1]);Ar.normalize(S,S);const $=Ar.subtract(d,p[y+1],p[y]);Ar.normalize($,$);const A=Ar.cross(h,S,$);if(Math.abs(A[2])>b){const G=g[y-1],I=g[y+1],H=G+(I-G)*1/3,te=G+(I-G)*2/3,pe=m(H),j=m(te);p.splice(y,1,pe,j),g.splice(y,1,H,te),y--,y<1&&(y=1)}else++y}p.shift();const E=MW(p,t);return E.lastBezierControlPoint=r[r.length-2],E};var IW=DW;const FW=yt,fS=fc,zW=(e,t)=>{if(e.isClosed!==t.isClosed||e.points.length!==t.points.length)return!1;const n=fS(e),r=fS(t),o=n.length;let s=0;do{let i=!1;for(let a=0;a<o;a++)if(!FW.equals(n[a],r[(a+s)%o])){i=!0;break}if(i===!1)return!0;if(!e.isClosed)return!1}while(++s<o);return!1};var BW=zW;const GW=Dt,jW=yt,VW=v1,UW=e=>{if(e[0]!==2)throw new Error("invalid compact binary data");const t=VW();t.transforms=GW.clone(e.slice(1,17)),t.isClosed=!!e[17];for(let n=22;n<e.length;n+=2){const r=jW.fromValues(e[n],e[n+1]);t.points.push(r)}return e[18]>=0&&(t.color=[e[18],e[19],e[20],e[21]]),t};var HW=UW;const WW=e=>!!(e&&typeof e=="object"&&"points"in e&&"transforms"in e&&"isClosed"in e&&Array.isArray(e.points)&&"length"in e.transforms);var DC=WW;const XW=sw,qW=e=>{const t=XW(e);return t.points=e.points.slice().reverse(),t};var YW=qW;const ZW=yt,QW=fc,KW=e=>{const t=QW(e);let n="path ("+t.length+" points, "+e.isClosed+`):
[
`;return t.forEach(r=>{n+="  "+ZW.toString(r)+`,
`}),n+=`]
`,n};var JW=KW;const eX=e=>{const t=e.points,n=e.transforms;let r=[-1,-1,-1,-1];e.color&&(r=e.color);const o=new Float32Array(22+t.length*2);o[0]=2,o[1]=n[0],o[2]=n[1],o[3]=n[2],o[4]=n[3],o[5]=n[4],o[6]=n[5],o[7]=n[6],o[8]=n[7],o[9]=n[8],o[10]=n[9],o[11]=n[10],o[12]=n[11],o[13]=n[12],o[14]=n[13],o[15]=n[14],o[16]=n[15],o[17]=e.isClosed?1:0,o[18]=r[0],o[19]=r[1],o[20]=r[2],o[21]=r[3];for(let s=0;s<t.length;s++){const i=s*2+22,a=t[s];o[i]=a[0],o[i+1]=a[1]}return o};var tX=eX;const dS=Dt,nX=(e,t)=>{const n=dS.multiply(dS.create(),e,t.transforms);return Object.assign({},t,{transforms:n})};var rX=nX;const oX=yt,sX=DC,iX=e=>{if(!sX(e))throw new Error("invalid path2 structure");if(e.points.length>1){for(let t=0;t<e.points.length;t++)if(oX.equals(e.points[t],e.points[(t+1)%e.points.length]))throw new Error(`path2 duplicate points ${e.points[t]}`)}if(e.points.forEach(t=>{if(!t.every(Number.isFinite))throw new Error(`path2 invalid point ${t}`)}),!e.transforms.every(Number.isFinite))throw new Error(`path2 invalid transforms ${e.transforms}`)};var aX=iX,Ot={appendArc:_W,appendBezier:IW,appendPoints:LC,clone:sw,close:OC,concat:MC,create:v1,equals:BW,fromPoints:iw,fromCompactBinary:HW,isA:DC,reverse:YW,toPoints:fc,toString:JW,toCompactBinary:tX,transform:rX,validate:aX};const lX=ut,IC=dt,FC=ht,zC=Ot,BC=xt,cX=(e,t)=>{const n=IC.clone(t);return n.color=e,n},uX=(e,t)=>{const n=FC.clone(t);return n.color=e,n},fX=(e,t)=>{const n=zC.clone(t);return n.color=e,n},dX=(e,t)=>{const n=BC.clone(t);return n.color=e,n},hX=(e,...t)=>{if(!Array.isArray(e))throw new Error("color must be an array");if(e.length<3)throw new Error("color must contain R, G and B values");if(e.length===3&&(e=[e[0],e[1],e[2],1]),t=lX(t),t.length===0)throw new Error("wrong number of arguments");const n=t.map(r=>IC.isA(r)?cX(e,r):FC.isA(r)?uX(e,r):zC.isA(r)?fX(e,r):BC.isA(r)?dX(e,r):(r.color=e,r));return n.length===1?n[0]:n};var pX=hX;const mX={black:[0/255,0/255,0/255],silver:[192/255,192/255,192/255],gray:[128/255,128/255,128/255],white:[255/255,255/255,255/255],maroon:[128/255,0/255,0/255],red:[255/255,0/255,0/255],purple:[128/255,0/255,128/255],fuchsia:[255/255,0/255,255/255],green:[0/255,128/255,0/255],lime:[0/255,255/255,0/255],olive:[128/255,128/255,0/255],yellow:[255/255,255/255,0/255],navy:[0/255,0/255,128/255],blue:[0/255,0/255,255/255],teal:[0/255,128/255,128/255],aqua:[0/255,255/255,255/255],aliceblue:[240/255,248/255,255/255],antiquewhite:[250/255,235/255,215/255],aquamarine:[127/255,255/255,212/255],azure:[240/255,255/255,255/255],beige:[245/255,245/255,220/255],bisque:[255/255,228/255,196/255],blanchedalmond:[255/255,235/255,205/255],blueviolet:[138/255,43/255,226/255],brown:[165/255,42/255,42/255],burlywood:[222/255,184/255,135/255],cadetblue:[95/255,158/255,160/255],chartreuse:[127/255,255/255,0/255],chocolate:[210/255,105/255,30/255],coral:[255/255,127/255,80/255],cornflowerblue:[100/255,149/255,237/255],cornsilk:[255/255,248/255,220/255],crimson:[220/255,20/255,60/255],cyan:[0/255,255/255,255/255],darkblue:[0/255,0/255,139/255],darkcyan:[0/255,139/255,139/255],darkgoldenrod:[184/255,134/255,11/255],darkgray:[169/255,169/255,169/255],darkgreen:[0/255,100/255,0/255],darkgrey:[169/255,169/255,169/255],darkkhaki:[189/255,183/255,107/255],darkmagenta:[139/255,0/255,139/255],darkolivegreen:[85/255,107/255,47/255],darkorange:[255/255,140/255,0/255],darkorchid:[153/255,50/255,204/255],darkred:[139/255,0/255,0/255],darksalmon:[233/255,150/255,122/255],darkseagreen:[143/255,188/255,143/255],darkslateblue:[72/255,61/255,139/255],darkslategray:[47/255,79/255,79/255],darkslategrey:[47/255,79/255,79/255],darkturquoise:[0/255,206/255,209/255],darkviolet:[148/255,0/255,211/255],deeppink:[255/255,20/255,147/255],deepskyblue:[0/255,191/255,255/255],dimgray:[105/255,105/255,105/255],dimgrey:[105/255,105/255,105/255],dodgerblue:[30/255,144/255,255/255],firebrick:[178/255,34/255,34/255],floralwhite:[255/255,250/255,240/255],forestgreen:[34/255,139/255,34/255],gainsboro:[220/255,220/255,220/255],ghostwhite:[248/255,248/255,255/255],gold:[255/255,215/255,0/255],goldenrod:[218/255,165/255,32/255],greenyellow:[173/255,255/255,47/255],grey:[128/255,128/255,128/255],honeydew:[240/255,255/255,240/255],hotpink:[255/255,105/255,180/255],indianred:[205/255,92/255,92/255],indigo:[75/255,0/255,130/255],ivory:[255/255,255/255,240/255],khaki:[240/255,230/255,140/255],lavender:[230/255,230/255,250/255],lavenderblush:[255/255,240/255,245/255],lawngreen:[124/255,252/255,0/255],lemonchiffon:[255/255,250/255,205/255],lightblue:[173/255,216/255,230/255],lightcoral:[240/255,128/255,128/255],lightcyan:[224/255,255/255,255/255],lightgoldenrodyellow:[250/255,250/255,210/255],lightgray:[211/255,211/255,211/255],lightgreen:[144/255,238/255,144/255],lightgrey:[211/255,211/255,211/255],lightpink:[255/255,182/255,193/255],lightsalmon:[255/255,160/255,122/255],lightseagreen:[32/255,178/255,170/255],lightskyblue:[135/255,206/255,250/255],lightslategray:[119/255,136/255,153/255],lightslategrey:[119/255,136/255,153/255],lightsteelblue:[176/255,196/255,222/255],lightyellow:[255/255,255/255,224/255],limegreen:[50/255,205/255,50/255],linen:[250/255,240/255,230/255],magenta:[255/255,0/255,255/255],mediumaquamarine:[102/255,205/255,170/255],mediumblue:[0/255,0/255,205/255],mediumorchid:[186/255,85/255,211/255],mediumpurple:[147/255,112/255,219/255],mediumseagreen:[60/255,179/255,113/255],mediumslateblue:[123/255,104/255,238/255],mediumspringgreen:[0/255,250/255,154/255],mediumturquoise:[72/255,209/255,204/255],mediumvioletred:[199/255,21/255,133/255],midnightblue:[25/255,25/255,112/255],mintcream:[245/255,255/255,250/255],mistyrose:[255/255,228/255,225/255],moccasin:[255/255,228/255,181/255],navajowhite:[255/255,222/255,173/255],oldlace:[253/255,245/255,230/255],olivedrab:[107/255,142/255,35/255],orange:[255/255,165/255,0/255],orangered:[255/255,69/255,0/255],orchid:[218/255,112/255,214/255],palegoldenrod:[238/255,232/255,170/255],palegreen:[152/255,251/255,152/255],paleturquoise:[175/255,238/255,238/255],palevioletred:[219/255,112/255,147/255],papayawhip:[255/255,239/255,213/255],peachpuff:[255/255,218/255,185/255],peru:[205/255,133/255,63/255],pink:[255/255,192/255,203/255],plum:[221/255,160/255,221/255],powderblue:[176/255,224/255,230/255],rosybrown:[188/255,143/255,143/255],royalblue:[65/255,105/255,225/255],saddlebrown:[139/255,69/255,19/255],salmon:[250/255,128/255,114/255],sandybrown:[244/255,164/255,96/255],seagreen:[46/255,139/255,87/255],seashell:[255/255,245/255,238/255],sienna:[160/255,82/255,45/255],skyblue:[135/255,206/255,235/255],slateblue:[106/255,90/255,205/255],slategray:[112/255,128/255,144/255],slategrey:[112/255,128/255,144/255],snow:[255/255,250/255,250/255],springgreen:[0/255,255/255,127/255],steelblue:[70/255,130/255,180/255],tan:[210/255,180/255,140/255],thistle:[216/255,191/255,216/255],tomato:[255/255,99/255,71/255],turquoise:[64/255,224/255,208/255],violet:[238/255,130/255,238/255],wheat:[245/255,222/255,179/255],whitesmoke:[245/255,245/255,245/255],yellowgreen:[154/255,205/255,50/255]};var GC=mX;const vX=GC,gX=e=>vX[e.toLowerCase()];var yX=gX;const wX=e=>{if(e=e.replace("#",""),e.length<6)throw new Error("the given notation must contain 3 or more hex values");const t=parseInt(e.substring(0,2),16)/255,n=parseInt(e.substring(2,4),16)/255,r=parseInt(e.substring(4,6),16)/255;if(e.length>=8){const o=parseInt(e.substring(6,8),16)/255;return[t,n,r,o]}return[t,n,r]};var xX=wX;const bX=(e,t,n)=>(n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e);var jC=bX;const EX=ut,Pm=jC,SX=(...e)=>{if(e=EX(e),e.length<3)throw new Error("values must contain H, S and L values");const t=e[0],n=e[1],r=e[2];let o=r,s=r,i=r;if(n!==0){const a=r<.5?r*(1+n):r+n-r*n,l=2*r-a;o=Pm(l,a,t+1/3),s=Pm(l,a,t),i=Pm(l,a,t-1/3)}if(e.length>3){const a=e[3];return[o,s,i,a]}return[o,s,i]};var _X=SX;const $X=ut,AX=(...e)=>{if(e=$X(e),e.length<3)throw new Error("values must contain H, S and V values");const t=e[0],n=e[1],r=e[2];let o=0,s=0,i=0;const a=Math.floor(t*6),l=t*6-a,c=r*(1-n),f=r*(1-l*n),u=r*(1-(1-l)*n);switch(a%6){case 0:o=r,s=u,i=c;break;case 1:o=f,s=r,i=c;break;case 2:o=c,s=r,i=u;break;case 3:o=c,s=f,i=r;break;case 4:o=u,s=c,i=r;break;case 5:o=r,s=c,i=f;break}if(e.length>3){const d=e[3];return[o,s,i,d]}return[o,s,i]};var TX=AX;const CX=ut,PX=(...e)=>{if(e=CX(e),e.length<3)throw new Error("values must contain R, G and B values");const t=e[0]*255,n=e[1]*255,r=e[2]*255;let o=`#${Number(16777216+t*65536+n*256+r).toString(16).substring(1,7)}`;return e.length>3&&(o=o+Number(e[3]*255).toString(16)),o};var kX=PX;const RX=ut,NX=(...e)=>{if(e=RX(e),e.length<3)throw new Error("values must contain R, G and B values");const t=e[0],n=e[1],r=e[2],o=Math.max(t,n,r),s=Math.min(t,n,r);let i,a;const l=(o+s)/2;if(o===s)i=a=0;else{const c=o-s;switch(a=l>.5?c/(2-o-s):c/(o+s),o){case t:i=(n-r)/c+(n<r?6:0);break;case n:i=(r-t)/c+2;break;case r:i=(t-n)/c+4;break}i/=6}if(e.length>3){const c=e[3];return[i,a,l,c]}return[i,a,l]};var OX=NX;const MX=ut,LX=(...e)=>{if(e=MX(e),e.length<3)throw new Error("values must contain R, G and B values");const t=e[0],n=e[1],r=e[2],o=Math.max(t,n,r),s=Math.min(t,n,r);let i;const a=o,l=o-s,c=o===0?0:l/o;if(o===s)i=0;else{switch(o){case t:i=(n-r)/l+(n<r?6:0);break;case n:i=(r-t)/l+2;break;case r:i=(t-n)/l+4;break}i/=6}if(e.length>3){const f=e[3];return[i,c,a,f]}return[i,c,a]};var DX=LX,IX={colorize:pX,colorNameToRgb:yX,cssColors:GC,hexToRgb:xX,hslToRgb:_X,hsvToRgb:TX,hueToColorComponent:jC,rgbToHex:kX,rgbToHsl:OX,rgbToHsv:DX};const FX=e=>{if(!Array.isArray(e))throw new Error("Bezier points must be a valid array/");if(e.length<2)throw new Error("Bezier points must contain at least 2 values.");const t=zX(e);return{points:e,pointType:t,dimensions:t==="float_single"?0:e[0].length,permutations:hS(e.length-1),tangentPermutations:hS(e.length-2)}},zX=function(e){let t=null;return e.forEach(n=>{let r="";if(Number.isFinite(n))r="float_single";else if(Array.isArray(n))n.forEach(o=>{if(!Number.isFinite(o))throw new Error("Bezier point values must all be numbers.")}),r="float_"+n.length;else throw new Error("Bezier points must all be numbers or arrays of number.");if(t==null)t=r;else if(t!==r)throw new Error("Bezier points must be either all numbers or all arrays of numbers of the same size.")}),t},hS=function(e){const t=[];for(let n=0;n<=e;n++)t.push(km(e)/(km(n)*km(e-n)));return t},km=function(e){let t=1;for(let n=2;n<=e;n++)t*=n;return t};var BX=FX;const GX=(e,t)=>{if(e<0||e>1)throw new Error("Bezier valueAt() input must be between 0 and 1");if(t.pointType==="float_single")return pS(t,t.points,e);{const n=[];for(let r=0;r<t.dimensions;r++){const o=[];for(let s=0;s<t.points.length;s++)o.push(t.points[s][r]);n.push(pS(t,o,e))}return n}},pS=function(e,t,n){const r=t.length-1;let o=0;for(let s=0;s<=r;s++)o+=e.permutations[s]*Math.pow(1-n,r-s)*Math.pow(n,s)*t[s];return o};var VC=GX;const jX=(e,t)=>{if(e<0||e>1)throw new Error("Bezier tangentAt() input must be between 0 and 1");if(t.pointType==="float_single")return mS(t,t.points,e);{const n=[];for(let r=0;r<t.dimensions;r++){const o=[];for(let s=0;s<t.points.length;s++)o.push(t.points[s][r]);n.push(mS(t,o,e))}return n}},mS=function(e,t,n){const r=t.length-1;let o=0;for(let s=0;s<r;s++){const i=r*(t[s+1]-t[s]);o+=e.tangentPermutations[s]*Math.pow(1-n,r-1-s)*Math.pow(n,s)*i}return o};var VX=jX;const vS=VC,UX=(e,t)=>{let n=0;const r=[0];let o=vS(0,t);for(let s=1;s<=e;s++){const i=vS(s/e,t);n+=HX(i,o),r.push(n),o=i}return r},HX=(e,t)=>{if(Number.isFinite(e)&&Number.isFinite(t))return Math.abs(e-t);if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)throw new Error("The operands must have the same number of dimensions.");let n=0;for(let r=0;r<e.length;r++)n+=(t[r]-e[r])*(t[r]-e[r]);return Math.sqrt(n)}else throw new Error("The operands must be of the same type, either number or array.")};var aw=UX;const WX=aw,XX=(e,t)=>WX(e,t)[e];var qX=XX;const YX=aw,ZX=(e,t)=>{const n={distance:0,segments:100},{distance:r,segments:o}=Object.assign({},n,e),s=YX(o,t);let i=0,a=o;for(;i<=a;){const h=Math.floor(i+(a-i)/2),m=s[h]-r;if(m<0)i=h+1;else if(m>0)a=h-1;else{a=h;break}}const l=a;if(s[l]===r)return l/o;const c=s[l],u=s[l+1]-c,d=(r-c)/u;return(l+d)/o};var QX=ZX,KX={create:BX,valueAt:VC,tangentAt:VX,lengths:aw,length:qX,arcLengthToT:QX},JX={bezier:KX};const eq=e=>{let t=0;for(let n=0;n<e.length;n++){const r=(n+1)%e.length;t+=e[n][0]*e[r][1],t-=e[r][0]*e[n][1]}return t/2};var g1=eq;const tq=g1,nq=e=>tq(e.vertices);var UC=nq;const rq=e=>((e===void 0||e.length<3)&&(e=[]),{vertices:e});var HC=rq;const oq=HC,sq=e=>{const t=e.vertices.slice().reverse();return oq(t)};var WC=sq;const iq=UC,aq=WC,lq=(e,t)=>{if(e.length===0)return 0;const n=t.vertices;return n.length<3?0:(iq(t)<0&&(t=aq(t)),e.reduce((o,s)=>o+cq(s,n),0)===e.length?1:0)},cq=(e,t)=>{const n=t.length,r=e[0],o=e[1];let s=t[n-1],i=t[0],a=s[1]>o,l=0,c=0;for(let f=n+1;--f;){const u=i[1]>o;if(a!==u){const d=s[0]>r,h=i[0]>r;(d&&h||i[0]-(i[1]-o)*(s[0]-i[0])/(s[1]-i[1])>=r)&&(l=!l)}a=u,s=i,i=t[++c]}return l};var uq=lq,lw={arePointsInside:uq,create:HC,flip:WC,measureArea:UC},cw={geom2:dt,geom3:ht,path2:Ot,poly2:lw,poly3:xt};const fq=()=>[0,1,0];var uw=fq;const dq=uw,hq=e=>{const t=dq();return t[0]=e[0],t[1]=e[1],t[2]=e[2],t};var pq=hq;const Rm=yt,mq=e=>{const t=Rm.normal(Rm.create(),e);return Rm.negate(t,t),t};var fw=mq;const gS=yt,vq=e=>gS.scale(gS.create(),e,e[2]);var y1=vq;const tu=yt,gq=fw,yq=y1,wq=(e,t)=>{const n=yq(e),r=gq(e),o=tu.subtract(tu.create(),t,n),s=tu.dot(o,r);return tu.scale(o,r,s),tu.add(o,o,n),o};var xq=wq;const bq=(e,t)=>(e[0]=t[0],e[1]=t[1],e[2]=t[2],e);var XC=bq;const Eq=yt,Sq=(e,t)=>{let n=Eq.dot(t,e);return n=Math.abs(n-e[2]),n};var _q=Sq;const $q=(e,t)=>e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2];var Aq=$q;const nu=yt,Tq=(e,t,n)=>{const r=nu.subtract(nu.create(),n,t);nu.normal(r,r),nu.normalize(r,r);const o=nu.dot(t,r);return e[0]=r[0],e[1]=r[1],e[2]=o,e};var qC=Tq;const Cq=uw,Pq=(e,t,n)=>{const r=Cq();return r[0]=e,r[1]=t,r[2]=n,r};var YC=Pq;const{NEPS:Nm}=Et,kq=(e,t)=>Math.abs(e[0]-t[0])<=Nm&&Math.abs(e[1]-t[1])<=Nm&&Math.abs(e[2]-t[2])<=Nm;var dw=kq;const Rq=(e,t,n)=>{let r=n-e[1],o=t[1]-e[1];o<0&&(r=-r,o=-o);let s;return r<=0?s=0:r>=o?s=1:o<1e-10?s=.5:s=r/o,e[0]+s*(t[0]-e[0])};var ZC=Rq;const Nq=(e,t,n,r)=>{if(e[0]===t[0]&&e[1]===t[1]||n[0]===r[0]&&n[1]===r[1])return;const o=(r[1]-n[1])*(t[0]-e[0])-(r[0]-n[0])*(t[1]-e[1]);if(Math.abs(o)<Number.MIN_VALUE)return;const s=((r[0]-n[0])*(e[1]-n[1])-(r[1]-n[1])*(e[0]-n[0]))/o,i=((t[0]-e[0])*(e[1]-n[1])-(t[1]-e[1])*(e[0]-n[0]))/o;if(s<0||s>1||i<0||i>1)return;const a=e[0]+s*(t[0]-e[0]),l=e[1]+s*(t[1]-e[1]);return[a,l]};var QC=Nq;const Oq=(e,t,n,r,o,s)=>{const a=1/(e*r-t*n);let l=o*r-t*s,c=-o*n+e*s;return l*=a,c*=a,[l,c]};var Mq=Oq,Sf={aboutEqualNormals:dw,area:g1,cos:jn.cos,interpolateBetween2DPointsForY:ZC,intersect:QC,sin:jn.sin,solve2Linear:Mq};const Lq=yt,{solve2Linear:Dq}=Sf,Iq=(e,t)=>{const n=Dq(e[0],e[1],t[0],t[1],e[2],t[2]);return Lq.clone(n)};var Fq=Iq;const yS=yt,zq=XC,Bq=YC,Gq=(e,t)=>{const n=yS.negate(yS.create(),t),r=-t[2];return zq(e,Bq(n[0],n[1],r))};var jq=Gq;const Vq=e=>`line2: (${e[0].toFixed(7)}, ${e[1].toFixed(7)}, ${e[2].toFixed(7)})`;var Uq=Vq;const wS=yt,Hq=qC,Wq=y1,Xq=fw,qq=(e,t,n)=>{const r=Wq(t),o=Xq(t);return wS.transform(r,r,n),wS.transform(o,o,n),Hq(e,r,o)};var Yq=qq;const Zq=y1,Qq=(e,t)=>{let n=(e[2]-e[1]*t)/e[0];return Number.isNaN(n)&&(n=Zq(e)[0]),n};var Kq=Qq,hw={clone:pq,closestPoint:xq,copy:XC,create:uw,direction:fw,distanceToPoint:_q,equals:Aq,fromPoints:qC,fromValues:YC,intersectPointOfLines:Fq,origin:y1,reverse:jq,toString:Uq,transform:Yq,xAtY:Kq};const xS=Ke,Jq=()=>[xS.fromValues(0,0,0),xS.fromValues(0,0,1)];var KC=Jq;const bS=Ke,eY=KC,tY=e=>{const t=eY();return bS.copy(t[0],e[0]),bS.copy(t[1],e[1]),t};var nY=tY;const Gi=Ke,rY=(e,t)=>{const n=e[0],r=e[1],o=Gi.dot(Gi.subtract(Gi.create(),t,n),r),s=Gi.dot(r,r),i=o/s,a=Gi.scale(Gi.create(),r,i);return Gi.add(a,a,n),a};var JC=rY;const ES=Ke,oY=(e,t)=>(ES.copy(e[0],t[0]),ES.copy(e[1],t[1]),e);var sY=oY;const iY=e=>e[1];var aY=iY;const Om=Ke,lY=JC,cY=(e,t)=>{const n=lY(e,t),r=Om.subtract(Om.create(),t,n);return Om.length(r)};var uY=cY;const SS=Ke,fY=(e,t)=>!(!SS.equals(e[1],t[1])||!SS.equals(e[0],t[0]));var dY=fY;const Bd=Ke,hY=(e,t,n)=>{const r=Bd.normalize(Bd.create(),n);return Bd.copy(e[0],t),Bd.copy(e[1],r),e};var _f=hY;const ji=Ke,{solve2Linear:Mm}=Sf,{EPS:pY}=Et,mY=_f,vY=(e,t,n)=>{let r=ji.cross(ji.create(),t,n),o=ji.length(r);if(o<pY)throw new Error("parallel planes do not intersect");o=1/o,r=ji.scale(r,r,o);const s=Math.abs(r[0]),i=Math.abs(r[1]),a=Math.abs(r[2]);let l,c;return s>=i&&s>=a?(c=Mm(t[1],t[2],n[1],n[2],t[3],n[3]),l=ji.fromValues(0,c[0],c[1])):i>=s&&i>=a?(c=Mm(t[0],t[2],n[0],n[2],t[3],n[3]),l=ji.fromValues(c[0],0,c[1])):(c=Mm(t[0],t[1],n[0],n[1],t[3],n[3]),l=ji.fromValues(c[0],c[1],0)),mY(e,l,r)};var gY=vY;const _S=Ke,yY=_f,wY=(e,t,n)=>{const r=_S.subtract(_S.create(),n,t);return yY(e,t,r)};var xY=wY;const Za=Ke,bY=(e,t)=>{const n=t,r=t[3],o=e[0],s=e[1],i=(r-Za.dot(n,o))/Za.dot(n,s);return Za.add(Za.create(),o,Za.scale(Za.create(),s,i))};var EY=bY;const SY=e=>e[0];var _Y=SY;const Lm=Ke,$Y=_f,AY=(e,t)=>{const n=Lm.clone(t[0]),r=Lm.negate(Lm.create(),t[1]);return $Y(e,n,r)};var TY=AY;const CY=e=>{const t=e[0],n=e[1];return`line3: point: (${t[0].toFixed(7)}, ${t[1].toFixed(7)}, ${t[2].toFixed(7)}) direction: (${n[0].toFixed(7)}, ${n[1].toFixed(7)}, ${n[2].toFixed(7)})`};var PY=CY;const Qa=Ke,kY=_f,RY=(e,t,n)=>{const r=t[0],o=t[1],s=Qa.add(Qa.create(),r,o),i=Qa.transform(Qa.create(),r,n),a=Qa.transform(s,s,n),l=Qa.subtract(a,a,i);return kY(e,i,l)};var NY=RY,OY={clone:nY,closestPoint:JC,copy:sY,create:KC,direction:aY,distanceToPoint:uY,equals:dY,fromPlanes:gY,fromPointAndDirection:_f,fromPoints:xY,intersectPointOfLineAndPlane:EY,origin:_Y,reverse:TY,toString:PY,transform:NY},MY={constants:Et,line2:hw,line3:OY,mat4:Dt,plane:Zo,utils:Sf,vec2:yt,vec3:Ke,vec4:RC};const LY=ut,eP=dt,tP=ht,DY=Ot,IY=xt,dp=new WeakMap,FY=()=>0,zY=e=>{let t=dp.get(e);return t||(t=eP.toSides(e).reduce((r,o)=>r+(o[0][0]*o[1][1]-o[0][1]*o[1][0]),0),t*=.5,dp.set(e,t),t)},BY=e=>{let t=dp.get(e);return t||(t=tP.toPolygons(e).reduce((r,o)=>r+IY.measureArea(o),0),dp.set(e,t),t)},GY=(...e)=>{if(e=LY(e),e.length===0)throw new Error("wrong number of arguments");const t=e.map(n=>DY.isA(n)?FY():eP.isA(n)?zY(n):tP.isA(n)?BY(n):0);return t.length===1?t[0]:t};var nP=GY;const jY=ut,VY=nP,UY=(...e)=>{if(e=jY(e),e.length===0)throw new Error("measureAggregateArea: no geometries supplied");const t=VY(e);return e.length===1?t:t.reduce((r,o)=>r+o,0)};var HY=UY;const WY=ut,Uo=yt,ru=Ke,rP=dt,oP=ht,sP=Ot,$S=xt,Wl=new WeakMap,XY=e=>{let t=Wl.get(e);if(t)return t;const n=sP.toPoints(e);let r;n.length===0?r=Uo.create():r=Uo.clone(n[0]);let o=Uo.clone(r);return n.forEach(s=>{Uo.min(r,r,s),Uo.max(o,o,s)}),r=[r[0],r[1],0],o=[o[0],o[1],0],t=[r,o],Wl.set(e,t),t},qY=e=>{let t=Wl.get(e);if(t)return t;const n=rP.toPoints(e);let r;n.length===0?r=Uo.create():r=Uo.clone(n[0]);let o=Uo.clone(r);return n.forEach(s=>{Uo.min(r,r,s),Uo.max(o,o,s)}),r=[r[0],r[1],0],o=[o[0],o[1],0],t=[r,o],Wl.set(e,t),t},YY=e=>{let t=Wl.get(e);if(t)return t;const n=oP.toPolygons(e);let r=ru.create();if(n.length>0){const s=$S.toPoints(n[0]);ru.copy(r,s[0])}let o=ru.clone(r);return n.forEach(s=>{$S.toPoints(s).forEach(i=>{ru.min(r,r,i),ru.max(o,o,i)})}),r=[r[0],r[1],r[2]],o=[o[0],o[1],o[2]],t=[r,o],Wl.set(e,t),t},ZY=(...e)=>{if(e=WY(e),e.length===0)throw new Error("wrong number of arguments");const t=e.map(n=>sP.isA(n)?XY(n):rP.isA(n)?qY(n):oP.isA(n)?YY(n):[[0,0,0],[0,0,0]]);return t.length===1?t[0]:t};var Sa=ZY;const QY=ut,KY=aC,JY=iC,eZ=Sa,tZ=(...e)=>{if(e=QY(e),e.length===0)throw new Error("measureAggregateBoundingBox: no geometries supplied");const t=eZ(e);if(e.length===1)return t;const n=[[Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE],[-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE]];return t.reduce((r,o)=>(r=[KY(r[0],r[0],o[0]),JY(r[1],r[1],o[1])],r),n)};var pw=tZ;const{EPS:nZ}=Et,rZ=(e,t)=>{let n=0;for(let r=0;r<t;r++)n+=e[1][r]-e[0][r];return nZ*n/t};var iP=rZ;const oZ=ut,sZ=pw,iZ=iP,{geom2:aZ,geom3:lZ,path2:cZ}=cw,uZ=(...e)=>{if(e=oZ(e),e.length===0)throw new Error("measureAggregateEpsilon: no geometries supplied");const t=sZ(e);let n=0;return n=e.reduce((r,o)=>cZ.isA(o)||aZ.isA(o)?Math.max(r,2):lZ.isA(o)?Math.max(r,3):0,n),iZ(t,n)};var fZ=uZ;const dZ=ut,hZ=dt,aP=ht,pZ=Ot,mZ=xt,AS=new WeakMap,vZ=()=>0,gZ=()=>0,yZ=e=>{let t=AS.get(e);return t||(t=aP.toPolygons(e).reduce((r,o)=>r+mZ.measureSignedVolume(o),0),AS.set(e,t),t)},wZ=(...e)=>{if(e=dZ(e),e.length===0)throw new Error("wrong number of arguments");const t=e.map(n=>pZ.isA(n)?vZ():hZ.isA(n)?gZ():aP.isA(n)?yZ(n):0);return t.length===1?t[0]:t};var lP=wZ;const xZ=ut,bZ=lP,EZ=(...e)=>{if(e=xZ(e),e.length===0)throw new Error("measureAggregateVolume: no geometries supplied");const t=bZ(e);return e.length===1?t:t.reduce((r,o)=>r+o,0)};var SZ=EZ;const _Z=ut,cP=yt,dr=Ke,uP=dt,fP=ht,dP=Ot,TS=xt,Xl=new WeakMap,$Z=e=>{let t=Xl.get(e);if(t!==void 0)return t;const n=dr.create();let r=0;const o=dP.toPoints(e);if(o.length>0){let s=0;const i=dr.create();o.forEach(a=>{dr.add(n,n,dr.fromVec2(i,a,0)),s++}),dr.scale(n,n,1/s),o.forEach(a=>{r=Math.max(r,cP.squaredDistance(n,a))}),r=Math.sqrt(r)}return t=[n,r],Xl.set(e,t),t},AZ=e=>{let t=Xl.get(e);if(t!==void 0)return t;const n=dr.create();let r=0;const o=uP.toSides(e);if(o.length>0){let s=0;const i=dr.create();o.forEach(a=>{dr.add(n,n,dr.fromVec2(i,a[0],0)),s++}),dr.scale(n,n,1/s),o.forEach(a=>{r=Math.max(r,cP.squaredDistance(n,a[0]))}),r=Math.sqrt(r)}return t=[n,r],Xl.set(e,t),t},TZ=e=>{let t=Xl.get(e);if(t!==void 0)return t;const n=dr.create();let r=0;const o=fP.toPolygons(e);if(o.length>0){let s=0;o.forEach(i=>{TS.toPoints(i).forEach(a=>{dr.add(n,n,a),s++})}),dr.scale(n,n,1/s),o.forEach(i=>{TS.toPoints(i).forEach(a=>{r=Math.max(r,dr.squaredDistance(n,a))})}),r=Math.sqrt(r)}return t=[n,r],Xl.set(e,t),t},CZ=(...e)=>{e=_Z(e);const t=e.map(n=>dP.isA(n)?$Z(n):uP.isA(n)?AZ(n):fP.isA(n)?TZ(n):[[0,0,0],0]);return t.length===1?t[0]:t};var PZ=CZ;const kZ=ut,RZ=Sa,NZ=(...e)=>{e=kZ(e);const t=e.map(n=>{const r=RZ(n);return[r[0][0]+(r[1][0]-r[0][0])/2,r[0][1]+(r[1][1]-r[0][1])/2,r[0][2]+(r[1][2]-r[0][2])/2]});return t.length===1?t[0]:t};var OZ=NZ;const MZ=ut,zo=Ke,hP=dt,pP=ht,hp=new WeakMap,LZ=e=>{let t=hp.get(e);if(t!==void 0)return t;const n=hP.toSides(e);let r=0,o=0,s=0;if(n.length>0){for(let a=0;a<n.length;a++){const l=n[a][0],c=n[a][1],f=l[0]*c[1]-l[1]*c[0];r+=f,o+=(l[0]+c[0])*f,s+=(l[1]+c[1])*f}r/=2;const i=1/(r*6);o*=i,s*=i}return t=zo.fromValues(o,s,0),hp.set(e,t),t},DZ=e=>{let t=hp.get(e);if(t!==void 0)return t;t=zo.create();const n=pP.toPolygons(e);if(n.length===0)return t;let r=0;const o=zo.create();return n.forEach(s=>{const i=s.vertices;for(let a=0;a<i.length-2;a++){zo.cross(o,i[a+1],i[a+2]);const l=zo.dot(i[0],o)/6;r+=l,zo.add(o,i[0],i[a+1]),zo.add(o,o,i[a+2]);const c=zo.scale(o,o,1/4*l);zo.add(t,t,c)}}),zo.scale(t,t,1/r),hp.set(e,t),t},IZ=(...e)=>{e=MZ(e);const t=e.map(n=>hP.isA(n)?LZ(n):pP.isA(n)?DZ(n):[0,0,0]);return t.length===1?t[0]:t};var FZ=IZ;const zZ=ut,BZ=Sa,GZ=(...e)=>{e=zZ(e);const t=e.map(n=>{const r=BZ(n);return[r[1][0]-r[0][0],r[1][1]-r[0][1],r[1][2]-r[0][2]]});return t.length===1?t[0]:t};var jZ=GZ;const VZ=ut,{geom2:UZ,geom3:HZ,path2:WZ}=cw,mw=iP,vw=Sa,XZ=e=>mw(vw(e),2),qZ=e=>mw(vw(e),2),YZ=e=>mw(vw(e),3),ZZ=(...e)=>{if(e=VZ(e),e.length===0)throw new Error("wrong number of arguments");const t=e.map(n=>WZ.isA(n)?XZ(n):UZ.isA(n)?qZ(n):HZ.isA(n)?YZ(n):0);return t.length===1?t[0]:t};var Si=ZZ,QZ={measureAggregateArea:HY,measureAggregateBoundingBox:pw,measureAggregateEpsilon:fZ,measureAggregateVolume:SZ,measureArea:nP,measureBoundingBox:Sa,measureBoundingSphere:PZ,measureCenter:OZ,measureCenterOfMass:FZ,measureDimensions:jZ,measureEpsilon:Si,measureVolume:lP};const KZ=(e,t)=>Array.isArray(e)&&e.length>=t?e.every(n=>Number.isFinite(n)):!1,JZ=(e,t)=>Number.isFinite(e)&&e>t,eQ=(e,t)=>Number.isFinite(e)&&e>=t;var $n={isNumberArray:KZ,isGT:JZ,isGTE:eQ};const{EPS:CS,TAU:Ka}=Et,ss=yt,tQ=Ot,{isGT:nQ,isGTE:Dm,isNumberArray:rQ}=$n,oQ=e=>{const t={center:[0,0],radius:1,startAngle:0,endAngle:Ka,makeTangent:!1,segments:32};let{center:n,radius:r,startAngle:o,endAngle:s,makeTangent:i,segments:a}=Object.assign({},t,e);if(!rQ(n,2))throw new Error("center must be an array of X and Y values");if(!nQ(r,0))throw new Error("radius must be greater than zero");if(!Dm(o,0))throw new Error("startAngle must be positive");if(!Dm(s,0))throw new Error("endAngle must be positive");if(!Dm(a,4))throw new Error("segments must be four or more");o=o%Ka,s=s%Ka;let l=Ka;o<s&&(l=s-o),o>s&&(l=s+(Ka-o));const c=Math.acos((r*r+r*r-CS*CS)/(2*r*r)),f=ss.clone(n);let u;const d=[];if(l<c)u=ss.fromAngleRadians(ss.create(),o),ss.scale(u,u,r),ss.add(u,u,f),d.push(u);else{const h=Math.max(1,Math.floor(a*(l/Ka)))+1;let m=h*.5/l;m>.25&&(m=.25);const p=i?h+2:h;for(let g=0;g<=p;g++){let v=g;i&&(v=(g-1)*(h-2*m)/h+m,v<0&&(v=0),v>h&&(v=h));const y=o+v*(l/h);u=ss.fromAngleRadians(ss.create(),y),ss.scale(u,u,r),ss.add(u,u,f),d.push(u)}}return tQ.fromPoints({closed:!1},d)};var sQ=oQ;const{EPS:PS,TAU:zs}=Et,Im=yt,kS=dt,{sin:iQ,cos:aQ}=jn,{isGTE:Fm,isNumberArray:RS}=$n,lQ=e=>{const t={center:[0,0],radius:[1,1],startAngle:0,endAngle:zs,segments:32};let{center:n,radius:r,startAngle:o,endAngle:s,segments:i}=Object.assign({},t,e);if(!RS(n,2))throw new Error("center must be an array of X and Y values");if(!RS(r,2))throw new Error("radius must be an array of X and Y values");if(!r.every(h=>h>=0))throw new Error("radius values must be positive");if(!Fm(o,0))throw new Error("startAngle must be positive");if(!Fm(s,0))throw new Error("endAngle must be positive");if(!Fm(i,3))throw new Error("segments must be three or more");if(r[0]===0||r[1]===0)return kS.create();o=o%zs,s=s%zs;let a=zs;o<s&&(a=s-o),o>s&&(a=s+(zs-o));const l=Math.min(r[0],r[1]),c=Math.acos((l*l+l*l-PS*PS)/(2*l*l));if(a<c)throw new Error("startAngle and endAngle do not define a significant rotation");i=Math.floor(i*(a/zs));const f=Im.clone(n),u=a/i,d=[];i=a<zs?i+1:i;for(let h=0;h<i;h++){const m=u*h+o,p=Im.fromValues(r[0]*aQ(m),r[1]*iQ(m));Im.add(p,f,p),d.push(p)}return a<zs&&d.push(f),kS.fromPoints(d)};var mP=lQ;const{TAU:cQ}=Et,uQ=mP,{isGTE:fQ}=$n,dQ=e=>{const t={center:[0,0],radius:1,startAngle:0,endAngle:cQ,segments:32};let{center:n,radius:r,startAngle:o,endAngle:s,segments:i}=Object.assign({},t,e);if(!fQ(r,0))throw new Error("radius must be positive");return r=[r,r],uQ({center:n,radius:r,startAngle:o,endAngle:s,segments:i})};var vP=dQ;const NS=ht,hQ=xt,{isNumberArray:OS}=$n,pQ=e=>{const t={center:[0,0,0],size:[2,2,2]},{center:n,size:r}=Object.assign({},t,e);if(!OS(n,3))throw new Error("center must be an array of X, Y and Z values");if(!OS(r,3))throw new Error("size must be an array of width, depth and height values");if(!r.every(s=>s>=0))throw new Error("size values must be positive");return r[0]===0||r[1]===0||r[2]===0?NS.create():NS.create([[[0,4,6,2],[-1,0,0]],[[1,3,7,5],[1,0,0]],[[0,1,5,4],[0,-1,0]],[[2,6,7,3],[0,1,0]],[[0,2,3,1],[0,0,-1]],[[4,5,7,6],[0,0,1]]].map(s=>{const i=s[0].map(a=>[n[0]+r[0]/2*(2*!!(a&1)-1),n[1]+r[1]/2*(2*!!(a&2)-1),n[2]+r[2]/2*(2*!!(a&4)-1)]);return hQ.create(i)}))};var gw=pQ;const mQ=gw,{isGTE:vQ}=$n,gQ=e=>{const t={center:[0,0,0],size:2};let{center:n,size:r}=Object.assign({},t,e);if(!vQ(r,0))throw new Error("size must be positive");return r=[r,r,r],mQ({center:n,size:r})};var yQ=gQ;const{EPS:MS,TAU:Bs}=Et,kn=Ke,wQ=ht,xQ=xt,{sin:bQ,cos:EQ}=jn,{isGT:SQ,isGTE:zm,isNumberArray:Bm}=$n,_Q=e=>{const t={center:[0,0,0],height:2,startRadius:[1,1],startAngle:0,endRadius:[1,1],endAngle:Bs,segments:32};let{center:n,height:r,startRadius:o,startAngle:s,endRadius:i,endAngle:a,segments:l}=Object.assign({},t,e);if(!Bm(n,3))throw new Error("center must be an array of X, Y and Z values");if(!SQ(r,0))throw new Error("height must be greater then zero");if(!Bm(o,2))throw new Error("startRadius must be an array of X and Y values");if(!o.every(G=>G>=0))throw new Error("startRadius values must be positive");if(!Bm(i,2))throw new Error("endRadius must be an array of X and Y values");if(!i.every(G=>G>=0))throw new Error("endRadius values must be positive");if(i.every(G=>G===0)&&o.every(G=>G===0))throw new Error("at least one radius must be positive");if(!zm(s,0))throw new Error("startAngle must be positive");if(!zm(a,0))throw new Error("endAngle must be positive");if(!zm(l,4))throw new Error("segments must be four or more");s=s%Bs,a=a%Bs;let c=Bs;s<a&&(c=a-s),s>a&&(c=a+(Bs-s));const f=Math.min(o[0],o[1],i[0],i[1]),u=Math.acos((f*f+f*f-MS*MS)/(2*f*f));if(c<u)throw new Error("startAngle and endAngle do not define a significant rotation");const d=Math.floor(l*(c/Bs)),h=kn.fromValues(0,0,-(r/2)),m=kn.fromValues(0,0,r/2),p=kn.subtract(kn.create(),m,h),g=kn.fromValues(1,0,0),v=kn.fromValues(0,1,0),y=kn.create(),w=kn.create(),b=kn.create(),E=(G,I,H)=>{const te=I*c+s;return kn.scale(y,g,H[0]*EQ(te)),kn.scale(w,v,H[1]*bQ(te)),kn.add(y,y,w),kn.scale(b,p,G),kn.add(b,b,h),kn.add(kn.create(),y,b)},S=(...G)=>{const I=G.map(H=>kn.add(kn.create(),H,n));return xQ.create(I)},$=[];for(let G=0;G<d;G++){const I=G/d;let H=(G+1)/d;c===Bs&&G===d-1&&(H=0),i[0]===o[0]&&i[1]===o[1]?($.push(S(h,E(0,H,i),E(0,I,i))),$.push(S(E(0,H,i),E(1,H,i),E(1,I,i),E(0,I,i))),$.push(S(m,E(1,I,i),E(1,H,i)))):(o[0]>0&&o[1]>0&&$.push(S(h,E(0,H,o),E(0,I,o))),(o[0]>0||o[1]>0)&&$.push(S(E(0,I,o),E(0,H,o),E(1,I,i))),i[0]>0&&i[1]>0&&$.push(S(m,E(1,I,i),E(1,H,i))),(i[0]>0||i[1]>0)&&$.push(S(E(1,I,i),E(0,H,o),E(1,H,i))))}return c<Bs&&($.push(S(h,E(0,0,o),m)),$.push(S(E(0,0,o),E(1,0,i),m)),$.push(S(h,m,E(0,1,o))),$.push(S(E(0,1,o),m,E(1,1,i)))),wQ.create($)};var gP=_Q;const $Q=ht,AQ=gP,{isGTE:TQ}=$n,CQ=e=>{const t={center:[0,0,0],height:2,radius:1,segments:32},{center:n,height:r,radius:o,segments:s}=Object.assign({},t,e);if(!TQ(o,0))throw new Error("radius must be positive");return r===0||o===0?$Q.create():AQ({center:n,height:r,startRadius:[o,o],endRadius:[o,o],segments:s})};var yP=CQ;const{TAU:LS}=Et,et=Ke,DS=ht,IS=xt,{sin:FS,cos:zS}=jn,{isGTE:PQ,isNumberArray:BS}=$n,kQ=e=>{const t={center:[0,0,0],radius:[1,1,1],segments:32,axes:[[1,0,0],[0,-1,0],[0,0,1]]},{center:n,radius:r,segments:o,axes:s}=Object.assign({},t,e);if(!BS(n,3))throw new Error("center must be an array of X, Y and Z values");if(!BS(r,3))throw new Error("radius must be an array of X, Y and Z values");if(!r.every(m=>m>=0))throw new Error("radius values must be positive");if(!PQ(o,4))throw new Error("segments must be four or more");if(r[0]===0||r[1]===0||r[2]===0)return DS.create();const i=et.scale(et.create(),et.normalize(et.create(),s[0]),r[0]),a=et.scale(et.create(),et.normalize(et.create(),s[1]),r[1]),l=et.scale(et.create(),et.normalize(et.create(),s[2]),r[2]),c=Math.round(o/4);let f;const u=[],d=et.create(),h=et.create();for(let m=0;m<=o;m++){const p=LS*m/o,g=et.add(et.create(),et.scale(d,i,zS(p)),et.scale(h,a,FS(p)));if(m>0){let v,y;for(let w=0;w<=c;w++){const b=LS/4*w/c,E=zS(b),S=FS(b);if(w>0){let $=[],A;A=et.subtract(et.create(),et.scale(d,f,v),et.scale(h,l,y)),$.push(et.add(A,A,n)),A=et.subtract(et.create(),et.scale(d,g,v),et.scale(h,l,y)),$.push(et.add(A,A,n)),w<c&&(A=et.subtract(et.create(),et.scale(d,g,E),et.scale(h,l,S)),$.push(et.add(A,A,n))),A=et.subtract(et.create(),et.scale(d,f,E),et.scale(h,l,S)),$.push(et.add(A,A,n)),u.push(IS.create($)),$=[],A=et.add(et.create(),et.scale(d,f,v),et.scale(h,l,y)),$.push(et.add(et.create(),n,A)),A=et.add(A,et.scale(d,g,v),et.scale(h,l,y)),$.push(et.add(et.create(),n,A)),w<c&&(A=et.add(A,et.scale(d,g,E),et.scale(h,l,S)),$.push(et.add(et.create(),n,A))),A=et.add(A,et.scale(d,f,E),et.scale(h,l,S)),$.push(et.add(et.create(),n,A)),$.reverse(),u.push(IS.create($))}v=E,y=S}}f=g}return DS.create(u)};var wP=kQ;const RQ=ht,NQ=xt,{isNumberArray:GS}=$n,OQ=e=>{const t={points:[],faces:[],colors:void 0,orientation:"outward"},{points:n,faces:r,colors:o,orientation:s}=Object.assign({},t,e);if(!(Array.isArray(n)&&Array.isArray(r)))throw new Error("points and faces must be arrays");if(n.length<3)throw new Error("three or more points are required");if(r.length<1)throw new Error("one or more faces are required");if(o){if(!Array.isArray(o))throw new Error("colors must be an array");if(o.length!==r.length)throw new Error("faces and colors must have the same length")}n.forEach((a,l)=>{if(!GS(a,3))throw new Error(`point ${l} must be an array of X, Y, Z values`)}),r.forEach((a,l)=>{if(a.length<3)throw new Error(`face ${l} must contain 3 or more indexes`);if(!GS(a,a.length))throw new Error(`face ${l} must be an array of numbers`)}),s!=="outward"&&r.forEach(a=>a.reverse());const i=r.map((a,l)=>{const c=NQ.create(a.map(f=>n[f]));return o&&o[l]&&(c.color=o[l]),c});return RQ.create(i)};var xP=OQ;const jS=Dt,VS=Ke,US=ht,MQ=xP,{isGTE:HS}=$n,LQ=e=>{const t={radius:1,frequency:6};let{radius:n,frequency:r}=Object.assign({},t,e);if(!HS(n,0))throw new Error("radius must be positive");if(!HS(r,6))throw new Error("frequency must be six or more");if(n===0)return US.create();r=Math.floor(r/6);const o=[[.850651,0,-.525731],[.850651,-0,.525731],[-.850651,-0,.525731],[-.850651,0,-.525731],[0,-.525731,.850651],[0,.525731,.850651],[0,.525731,-.850651],[0,-.525731,-.850651],[-.525731,-.850651,-0],[.525731,-.850651,-0],[.525731,.850651,0],[-.525731,.850651,0]],s=[[0,9,1],[1,10,0],[6,7,0],[10,6,0],[7,9,0],[5,1,4],[4,1,9],[5,10,1],[2,8,3],[3,11,2],[2,5,4],[4,8,2],[2,11,5],[3,7,6],[6,11,3],[8,7,3],[9,8,4],[11,10,5],[10,11,6],[8,9,7]],i=(d,h,m)=>{const p=d[0],g=d[1],v=d[2];let y=m;const w=[],b=[];for(let E=0;E<h;E++)for(let S=0;S<h-E;S++){const $=E/h,A=(E+1)/h,G=S/(h-E),I=(S+1)/(h-E),H=h-E-1?S/(h-E-1):1,te=[];te[0]=a(a(p,g,G),v,$),te[1]=a(a(p,g,I),v,$),te[2]=a(a(p,g,H),v,A);for(let pe=0;pe<3;pe++){const j=VS.length(te[pe]);for(let de=0;de<3;de++)te[pe][de]/=j}if(w.push(te[0],te[1],te[2]),b.push([y,y+1,y+2]),y+=3,S<h-E-1){const pe=h-E-1?(S+1)/(h-E-1):1;te[0]=a(a(p,g,I),v,$),te[1]=a(a(p,g,pe),v,A),te[2]=a(a(p,g,H),v,A);for(let j=0;j<3;j++){const de=VS.length(te[j]);for(let ee=0;ee<3;ee++)te[j][ee]/=de}w.push(te[0],te[1],te[2]),b.push([y,y+1,y+2]),y+=3}}return{points:w,triangles:b,offset:y}},a=(d,h,m)=>{const p=1-m,g=[];for(let v=0;v<3;v++)g[v]=d[v]*p+h[v]*m;return g};let l=[],c=[],f=0;for(let d=0;d<s.length;d++){const h=i([o[s[d][0]],o[s[d][1]],o[s[d][2]]],r,f);l=l.concat(h.points),c=c.concat(h.triangles),f=h.offset}let u=MQ({points:l,faces:c,orientation:"inward"});return n!==1&&(u=US.transform(jS.fromScaling(jS.create(),[n,n,n]),u)),u};var DQ=LQ;const IQ=Ot,FQ=e=>{if(!Array.isArray(e))throw new Error("points must be an array");return IQ.fromPoints({},e)};var zQ=FQ;const Gd=dt,BQ=e=>{const t={points:[],paths:[],orientation:"counterclockwise"},{points:n,paths:r,orientation:o}=Object.assign({},t,e);if(!(Array.isArray(n)&&Array.isArray(r)))throw new Error("points and paths must be arrays");let s=n;Array.isArray(n[0])&&(Array.isArray(n[0][0])||(s=[n])),s.forEach((f,u)=>{if(!Array.isArray(f))throw new Error("list of points "+u+" must be an array");if(f.length<3)throw new Error("list of points "+u+" must contain three or more points");f.forEach((d,h)=>{if(!Array.isArray(d))throw new Error("list of points "+u+", point "+h+" must be an array");if(d.length<2)throw new Error("list of points "+u+", point "+h+" must contain by X and Y values")})});let i=r;if(r.length===0){let f=0;i=s.map(u=>u.map(d=>f++))}const a=[];s.forEach(f=>f.forEach(u=>a.push(u)));let l=[];i.forEach(f=>{const u=f.map(h=>a[h]),d=Gd.fromPoints(u);l=l.concat(Gd.toSides(d))});let c=Gd.create(l);return o=="clockwise"&&(c=Gd.reverse(c)),c};var GQ=BQ;const Gs=yt,WS=dt,{isNumberArray:XS}=$n,jQ=e=>{const t={center:[0,0],size:[2,2]},{center:n,size:r}=Object.assign({},t,e);if(!XS(n,2))throw new Error("center must be an array of X and Y values");if(!XS(r,2))throw new Error("size must be an array of X and Y values");if(!r.every(a=>a>=0))throw new Error("size values must be positive");if(r[0]===0||r[1]===0)return WS.create();const o=[r[0]/2,r[1]/2],s=[o[0],-o[1]],i=[Gs.subtract(Gs.create(),n,o),Gs.add(Gs.create(),n,s),Gs.add(Gs.create(),n,o),Gs.subtract(Gs.create(),n,s)];return WS.fromPoints(i)};var yw=jQ;const{EPS:Th,TAU:ou}=Et,Gm=yt,dn=Ke,qS=ht,ql=xt,{sin:VQ,cos:UQ}=jn,{isGTE:YS,isNumberArray:ZS}=$n,HQ=gw,QS=(e,t,n,r,o,s)=>{const i=ou/4*o/r,a=UQ(i),l=VQ(i),c=r-o;let f=n*a,u=t[2]-(n-n*l);s||(u=n-n*l-t[2]),f=f>Th?f:0;const d=dn.add(dn.create(),e,[t[0]-n,t[1]-n,u]),h=dn.add(dn.create(),e,[n-t[0],t[1]-n,u]),m=dn.add(dn.create(),e,[n-t[0],n-t[1],u]),p=dn.add(dn.create(),e,[t[0]-n,n-t[1],u]),g=[],v=[],y=[],w=[];for(let b=0;b<=c;b++){const E=c>0?ou/4*b/c:0,S=Gm.fromAngleRadians(Gm.create(),E);Gm.scale(S,S,f);const $=dn.fromVec2(dn.create(),S);g.push(dn.add(dn.create(),d,$)),dn.rotateZ($,$,[0,0,0],ou/4),v.push(dn.add(dn.create(),h,$)),dn.rotateZ($,$,[0,0,0],ou/4),y.push(dn.add(dn.create(),m,$)),dn.rotateZ($,$,[0,0,0],ou/4),w.push(dn.add(dn.create(),p,$))}return s?[g,v,y,w]:(g.reverse(),v.reverse(),y.reverse(),w.reverse(),[w,y,v,g])},KS=(e,t)=>{const n=[];for(let r=0;r<e.length;r++){const o=e[r],s=t[r];for(let i=0;i<o.length-1;i++)n.push(ql.create([o[i],o[i+1],s[i]])),i<s.length-1&&n.push(ql.create([s[i],o[i+1],s[i+1]]))}return n},JS=(e,t)=>{const n=[];for(let r=0;r<e.length;r++){let o=e[r],s=t[r];const i=o[o.length-1],a=s[s.length-1],l=(r+1)%e.length;o=e[l],s=t[l];const c=o[0],f=s[0];n.push(ql.create([i,c,f,a]))}return n},WQ=(e,t)=>{e=[e[3],e[2],e[1],e[0]],e=e.map(s=>s.slice().reverse());const n=[];e.forEach(s=>{s.forEach(i=>n.push(i))});const r=[];t.forEach(s=>{s.forEach(i=>r.push(i))});const o=[];for(let s=0;s<r.length;s++){const i=(s+1)%r.length;o.push(ql.create([n[s],n[i],r[i],r[s]]))}return o},XQ=e=>{const t={center:[0,0,0],size:[2,2,2],roundRadius:.2,segments:32};let{center:n,size:r,roundRadius:o,segments:s}=Object.assign({},t,e);if(!ZS(n,3))throw new Error("center must be an array of X, Y and Z values");if(!ZS(r,3))throw new Error("size must be an array of X, Y and Z values");if(!r.every(c=>c>=0))throw new Error("size values must be positive");if(!YS(o,0))throw new Error("roundRadius must be positive");if(!YS(s,4))throw new Error("segments must be four or more");if(r[0]===0||r[1]===0||r[2]===0)return qS.create();if(o===0)return HQ({center:n,size:r});if(r=r.map(c=>c/2),o>r[0]-Th||o>r[1]-Th||o>r[2]-Th)throw new Error("roundRadius must be smaller than the radius of all dimensions");s=Math.floor(s/4);let i=null,a=null,l=[];for(let c=0;c<=s;c++){const f=QS(n,r,o,s,c,!0),u=QS(n,r,o,s,c,!1);if(c===0&&(l=l.concat(WQ(u,f))),i&&(l=l.concat(KS(i,f),JS(i,f))),a&&(l=l.concat(KS(a,u),JS(a,u))),c===s){let d=f.map(h=>h[0]);l.push(ql.create(d)),d=u.map(h=>h[0]),l.push(ql.create(d))}i=f,a=u}return qS.create(l)};var qQ=XQ;const{EPS:YQ,TAU:e3}=Et,Ve=Ke,t3=ht,ZQ=xt,{sin:n3,cos:r3}=jn,{isGTE:jd,isNumberArray:QQ}=$n,KQ=yP,JQ=e=>{const t={center:[0,0,0],height:2,radius:1,roundRadius:.2,segments:32},{center:n,height:r,radius:o,roundRadius:s,segments:i}=Object.assign({},t,e);if(!QQ(n,3))throw new Error("center must be an array of X, Y and Z values");if(!jd(r,0))throw new Error("height must be positive");if(!jd(o,0))throw new Error("radius must be positive");if(!jd(s,0))throw new Error("roundRadius must be positive");if(s>o)throw new Error("roundRadius must be smaller than the radius");if(!jd(i,4))throw new Error("segments must be four or more");if(r===0||o===0)return t3.create();if(s===0)return KQ({center:n,height:r,radius:o});const a=[0,0,-(r/2)],l=[0,0,r/2],c=Ve.subtract(Ve.create(),l,a),f=Ve.length(c);if(2*s>f-YQ)throw new Error("height must be larger than twice roundRadius");let u;Math.abs(c[0])>Math.abs(c[1])?u=Ve.fromValues(0,1,0):u=Ve.fromValues(1,0,0);const d=Ve.scale(Ve.create(),Ve.normalize(Ve.create(),c),s),h=Ve.scale(Ve.create(),Ve.normalize(Ve.create(),Ve.cross(Ve.create(),d,u)),o),m=Ve.scale(Ve.create(),Ve.normalize(Ve.create(),Ve.cross(Ve.create(),h,d)),o);Ve.add(a,a,d),Ve.subtract(l,l,d);const p=Math.floor(.25*i),g=S=>{const $=S.map(A=>Ve.add(A,A,n));return ZQ.create($)},v=[],y=Ve.create(),w=Ve.create();let b;for(let S=0;S<=i;S++){const $=e3*S/i,A=Ve.add(Ve.create(),Ve.scale(y,h,r3($)),Ve.scale(w,m,n3($)));if(S>0){let G=[];G.push(Ve.add(Ve.create(),a,A)),G.push(Ve.add(Ve.create(),a,b)),G.push(Ve.add(Ve.create(),l,b)),G.push(Ve.add(Ve.create(),l,A)),v.push(g(G));let I,H;for(let te=0;te<=p;te++){const pe=e3/4*te/p,j=r3(pe),de=n3(pe);if(te>0){G=[];let ee;ee=Ve.add(Ve.create(),a,Ve.subtract(y,Ve.scale(y,b,I),Ve.scale(w,d,H))),G.push(ee),ee=Ve.add(Ve.create(),a,Ve.subtract(y,Ve.scale(y,A,I),Ve.scale(w,d,H))),G.push(ee),te<p&&(ee=Ve.add(Ve.create(),a,Ve.subtract(y,Ve.scale(y,A,j),Ve.scale(w,d,de))),G.push(ee)),ee=Ve.add(Ve.create(),a,Ve.subtract(y,Ve.scale(y,b,j),Ve.scale(w,d,de))),G.push(ee),v.push(g(G)),G=[],ee=Ve.add(Ve.create(),Ve.scale(y,b,I),Ve.scale(w,d,H)),Ve.add(ee,ee,l),G.push(ee),ee=Ve.add(Ve.create(),Ve.scale(y,A,I),Ve.scale(w,d,H)),Ve.add(ee,ee,l),G.push(ee),te<p&&(ee=Ve.add(Ve.create(),Ve.scale(y,A,j),Ve.scale(w,d,de)),Ve.add(ee,ee,l),G.push(ee)),ee=Ve.add(Ve.create(),Ve.scale(y,b,j),Ve.scale(w,d,de)),Ve.add(ee,ee,l),G.push(ee),G.reverse(),v.push(g(G))}I=j,H=de}}b=A}return t3.create(v)};var eK=JQ;const{EPS:o3,TAU:Vd}=Et,Vt=yt,s3=dt,{isGTE:i3,isNumberArray:a3}=$n,tK=yw,nK=e=>{const t={center:[0,0],size:[2,2],roundRadius:.2,segments:32};let{center:n,size:r,roundRadius:o,segments:s}=Object.assign({},t,e);if(!a3(n,2))throw new Error("center must be an array of X and Y values");if(!a3(r,2))throw new Error("size must be an array of X and Y values");if(!r.every(p=>p>=0))throw new Error("size values must be positive");if(!i3(o,0))throw new Error("roundRadius must be positive");if(!i3(s,4))throw new Error("segments must be four or more");if(r[0]===0||r[1]===0)return s3.create();if(o===0)return tK({center:n,size:r});if(r=r.map(p=>p/2),o>r[0]-o3||o>r[1]-o3)throw new Error("roundRadius must be smaller than the radius of all dimensions");const i=Math.floor(s/4),a=Vt.add(Vt.create(),n,[r[0]-o,r[1]-o]),l=Vt.add(Vt.create(),n,[o-r[0],r[1]-o]),c=Vt.add(Vt.create(),n,[o-r[0],o-r[1]]),f=Vt.add(Vt.create(),n,[r[0]-o,o-r[1]]),u=[],d=[],h=[],m=[];for(let p=0;p<=i;p++){const g=Vd/4*p/i,v=Vt.fromAngleRadians(Vt.create(),g);Vt.scale(v,v,o),u.push(Vt.add(Vt.create(),a,v)),Vt.rotate(v,v,Vt.create(),Vd/4),d.push(Vt.add(Vt.create(),l,v)),Vt.rotate(v,v,Vt.create(),Vd/4),h.push(Vt.add(Vt.create(),c,v)),Vt.rotate(v,v,Vt.create(),Vd/4),m.push(Vt.add(Vt.create(),f,v))}return s3.fromPoints(u.concat(d,h,m))};var rK=nK;const oK=wP,{isGTE:sK}=$n,iK=e=>{const t={center:[0,0,0],radius:1,segments:32,axes:[[1,0,0],[0,-1,0],[0,0,1]]};let{center:n,radius:r,segments:o,axes:s}=Object.assign({},t,e);if(!sK(r,0))throw new Error("radius must be positive");return r=[r,r,r],oK({center:n,radius:r,segments:o,axes:s})};var bP=iK;const aK=yw,{isGTE:lK}=$n,cK=e=>{const t={center:[0,0],size:2};let{center:n,size:r}=Object.assign({},t,e);if(!lK(r,0))throw new Error("size must be positive");return r=[r,r],aK({center:n,size:r})};var uK=cK;const{TAU:EP}=Et,vu=yt,fK=dt,{isGT:dK,isGTE:Ud,isNumberArray:hK}=$n,pK=(e,t)=>e>0&&t>1&&t<e/2?Math.cos(Math.PI*t/e)/Math.cos(Math.PI*(t-1)/e):0,l3=(e,t,n,r)=>{const o=EP/e,s=[];for(let i=0;i<e;i++){const a=vu.fromAngleRadians(vu.create(),o*i+n);vu.scale(a,a,t),vu.add(a,r,a),s.push(a)}return s},mK=e=>{const t={center:[0,0],vertices:5,outerRadius:1,innerRadius:0,density:2,startAngle:0};let{center:n,vertices:r,outerRadius:o,innerRadius:s,density:i,startAngle:a}=Object.assign({},t,e);if(!hK(n,2))throw new Error("center must be an array of X and Y values");if(!Ud(r,2))throw new Error("vertices must be two or more");if(!dK(o,0))throw new Error("outerRadius must be greater than zero");if(!Ud(s,0))throw new Error("innerRadius must be greater than zero");if(!Ud(a,0))throw new Error("startAngle must be greater than zero");if(r=Math.floor(r),i=Math.floor(i),a=a%EP,s===0){if(!Ud(i,2))throw new Error("density must be two or more");s=o*pK(r,i)}const l=vu.clone(n),c=l3(r,o,a,l),f=l3(r,s,a+Math.PI/r,l),u=[];for(let d=0;d<r;d++)u.push(c[d]),u.push(f[d]);return fK.fromPoints(u)};var vK=mK;const gK=ut,c3=Dt,u3=Zo,f3=dt,d3=ht,h3=Ot,w1=(e,...t)=>{const n={origin:[0,0,0],normal:[0,0,1]},{origin:r,normal:o}=Object.assign({},n,e);if(t=gK(t),t.length===0)throw new Error("wrong number of arguments");const s=u3.fromNormalAndPoint(u3.create(),o,r);if(Number.isNaN(s[0]))throw new Error("the given origin and normal do not define a proper plane");const i=c3.mirrorByPlane(c3.create(),s),a=t.map(l=>h3.isA(l)?h3.transform(i,l):f3.isA(l)?f3.transform(i,l):d3.isA(l)?d3.transform(i,l):l);return a.length===1?a[0]:a},yK=(...e)=>w1({normal:[1,0,0]},e),wK=(...e)=>w1({normal:[0,1,0]},e),xK=(...e)=>w1({normal:[0,0,1]},e);var gu={mirror:w1,mirrorX:yK,mirrorY:wK,mirrorZ:xK};const p3=Zo,Vi=Ke,bK=e=>{const t=e.edges;if(t.length<3)throw new Error("slices must have 3 or more edges to calculate a plane");const n=t.reduce((i,a)=>Vi.add(Vi.create(),i,a[0]),Vi.create());Vi.scale(n,n,1/t.length);let r,o=0;t.forEach(i=>{if(!Vi.equals(i[0],i[1])){const a=Vi.squaredDistance(n,i[0]);a>o&&(r=i,o=a)}});const s=t.find(i=>Vi.equals(i[1],r[0]));return p3.fromPoints(p3.create(),s[0],r[0],r[1])};var SP=bK;const EK=e=>(e||(e=[]),{edges:e});var _a=EK;const SK=_a,m3=Ke,_K=(...e)=>{let t,n;return e.length===1?(t=SK(),n=e[0]):(t=e[0],n=e[1]),t.edges=n.edges.map(r=>[m3.clone(r[0]),m3.clone(r[1])]),t};var $K=_K;const AK=Ke,TK=(e,t)=>{const n=e.edges,r=t.edges;return n.length!==r.length?!1:n.reduce((s,i,a)=>{const l=r[a],c=AK.squaredDistance(i[0],l[0]);return s&&c<Number.EPSILON},!0)};var CK=TK;const Hd=Ke,PK=_a,kK=e=>{if(!Array.isArray(e))throw new Error("the given points must be an array");if(e.length<3)throw new Error("the given points must contain THREE or more points");const t=[];let n=e[e.length-1];return e.forEach(r=>{r.length===2&&t.push([Hd.fromVec2(Hd.create(),n),Hd.fromVec2(Hd.create(),r)]),r.length===3&&t.push([n,r]),n=r}),PK(t)};var RK=kK;const Wd=Ke,NK=_a,OK=e=>{if(!Array.isArray(e))throw new Error("the given sides must be an array");const t=[];return e.forEach(n=>{t.push([Wd.fromVec2(Wd.create(),n[0]),Wd.fromVec2(Wd.create(),n[1])])}),NK(t)};var MK=OK;const LK=e=>!!(e&&typeof e=="object"&&"edges"in e&&Array.isArray(e.edges));var DK=LK;const IK=_a,FK=(...e)=>{let t,n;return e.length===1?(t=IK(),n=e[0]):(t=e[0],n=e[1]),t.edges=n.edges.map(r=>[r[1],r[0]]),t};var zK=FK;const BK=e=>e.edges;var GK=BK;const jK=(e,t)=>{let n,r,o,s,i,a=1;do{r=e,e=null;let l=null;for(i=0;r;){i++,o=r;let c=0;for(n=0;n<a&&(c++,o=o.nextZ,!!o);n++);let f=a;for(;c>0||f>0&&o;)c!==0&&(f===0||!o||t(r)<=t(o))?(s=r,r=r.nextZ,c--):(s=o,o=o.nextZ,f--),l?l.nextZ=s:e=s,s.prevZ=l,l=s;r=o}l.nextZ=null,a*=2}while(i>1);return e};var VK=jK;const UK=VK;let _P=class{constructor(t,n,r){this.i=t,this.x=n,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}};const HK=(e,t,n,r)=>{const o=new _P(e,t,n);return r?(o.next=r.next,o.prev=r,r.next.prev=o,r.next=o):(o.prev=o,o.next=o),o},WK=e=>{e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)};var $P={Node:_P,insertNode:HK,removeNode:WK,sortLinked:UK};const XK=(e,t,n,r,o,s,i,a)=>(o-i)*(t-a)-(e-i)*(s-a)>=0&&(e-i)*(r-a)-(n-i)*(t-a)>=0&&(n-i)*(s-a)-(o-i)*(r-a)>=0,qK=(e,t,n)=>(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y);var ww={area:qK,pointInTriangle:XK};const{Node:v3,insertNode:g3,removeNode:pp}=$P,{area:hr}=ww,YK=(e,t,n,r,o)=>{let s;if(o===tJ(e,t,n,r)>0)for(let i=t;i<n;i+=r)s=g3(i,e[i],e[i+1],s);else for(let i=n-r;i>=t;i-=r)s=g3(i,e[i],e[i+1],s);return s&&x1(s,s.next)&&(pp(s),s=s.next),s},AP=(e,t)=>{if(!e)return e;t||(t=e);let n=e,r;do if(r=!1,!n.steiner&&(x1(n,n.next)||hr(n.prev,n,n.next)===0)){if(pp(n),n=t=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==t);return t},ZK=(e,t,n)=>{let r=e;do{const o=r.prev,s=r.next.next;!x1(o,s)&&TP(o,r,r.next,s)&&Ku(o,s)&&Ku(s,o)&&(t.push(o.i/n),t.push(r.i/n),t.push(s.i/n),pp(r),pp(r.next),r=e=s),r=r.next}while(r!==e);return AP(r)},QK=(e,t)=>{let n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&TP(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1},Ku=(e,t)=>hr(e.prev,e,e.next)<0?hr(e,t,e.next)>=0&&hr(e,e.prev,t)>=0:hr(e,t,e.prev)<0||hr(e,e.next,t)<0,KK=(e,t)=>{let n=e,r=!1;const o=(e.x+t.x)/2,s=(e.y+t.y)/2;do n.y>s!=n.next.y>s&&n.next.y!==n.y&&o<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==e);return r},JK=(e,t)=>{const n=new v3(e.i,e.x,e.y),r=new v3(t.i,t.x,t.y),o=e.next,s=t.prev;return e.next=t,t.prev=e,n.next=o,o.prev=n,r.next=n,n.prev=r,s.next=r,r.prev=s,r},eJ=(e,t)=>e.next.i!==t.i&&e.prev.i!==t.i&&!QK(e,t)&&(Ku(e,t)&&Ku(t,e)&&KK(e,t)&&(hr(e.prev,e,t.prev)||hr(e,t.prev,t))||x1(e,t)&&hr(e.prev,e,e.next)>0&&hr(t.prev,t,t.next)>0),TP=(e,t,n,r)=>{const o=Math.sign(hr(e,t,n)),s=Math.sign(hr(e,t,r)),i=Math.sign(hr(n,r,e)),a=Math.sign(hr(n,r,t));return!!(o!==s&&i!==a||o===0&&Xd(e,n,t)||s===0&&Xd(e,r,t)||i===0&&Xd(n,e,r)||a===0&&Xd(n,t,r))},Xd=(e,t,n)=>t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y),tJ=(e,t,n,r)=>{let o=0;for(let s=t,i=n-r;s<n;s+=r)o+=(e[i]-e[s])*(e[s+1]+e[i+1]),i=s;return o},x1=(e,t)=>e.x===t.x&&e.y===t.y;var CP={cureLocalIntersections:ZK,filterPoints:AP,isValidDiagonal:eJ,linkedPolygon:YK,locallyInside:Ku,splitPolygon:JK};const{filterPoints:zg,linkedPolygon:nJ,locallyInside:rJ,splitPolygon:oJ}=CP,{area:y3,pointInTriangle:sJ}=ww,iJ=(e,t,n,r)=>{const o=[];for(let s=0,i=t.length;s<i;s++){const a=t[s]*r,l=s<i-1?t[s+1]*r:e.length,c=nJ(e,a,l,r,!1);c===c.next&&(c.steiner=!0),o.push(uJ(c))}o.sort((s,i)=>s.x-i.x);for(let s=0;s<o.length;s++)n=aJ(o[s],n),n=zg(n,n.next);return n},aJ=(e,t)=>{const n=lJ(e,t);if(!n)return t;const r=oJ(n,e),o=zg(n,n.next);return zg(r,r.next),t===n?o:t},lJ=(e,t)=>{let n=t;const r=e.x,o=e.y;let s=-1/0,i;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){const u=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(u<=r&&u>s){if(s=u,u===r){if(o===n.y)return n;if(o===n.next.y)return n.next}i=n.x<n.next.x?n:n.next}}n=n.next}while(n!==t);if(!i)return null;if(r===s)return i;const a=i,l=i.x,c=i.y;let f=1/0;n=i;do{if(r>=n.x&&n.x>=l&&r!==n.x&&sJ(o<c?r:s,o,l,c,o<c?s:r,o,n.x,n.y)){const u=Math.abs(o-n.y)/(r-n.x);rJ(n,e)&&(u<f||u===f&&(n.x>i.x||n.x===i.x&&cJ(i,n)))&&(i=n,f=u)}n=n.next}while(n!==a);return i},cJ=(e,t)=>y3(e.prev,e,t.prev)<0&&y3(t.next,e,e.next)<0,uJ=e=>{let t=e,n=e;do(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next;while(t!==e);return n};var fJ=iJ;const dJ=fJ,{removeNode:hJ,sortLinked:pJ}=$P,{cureLocalIntersections:mJ,filterPoints:mp,isValidDiagonal:vJ,linkedPolygon:gJ,splitPolygon:yJ}=CP,{area:Qi,pointInTriangle:yu}=ww,wJ=(e,t,n=2)=>{const r=t&&t.length,o=r?t[0]*n:e.length;let s=gJ(e,0,o,n,!0);const i=[];if(!s||s.next===s.prev)return i;let a,l,c,f,u;if(r&&(s=dJ(e,t,s,n)),e.length>80*n){a=c=e[0],l=f=e[1];for(let d=n;d<o;d+=n){const h=e[d],m=e[d+1];h<a&&(a=h),m<l&&(l=m),h>c&&(c=h),m>f&&(f=m)}u=Math.max(c-a,f-l),u=u!==0?1/u:0}return Ju(s,i,n,a,l,u),i},Ju=(e,t,n,r,o,s,i)=>{if(!e)return;!i&&s&&SJ(e,r,o,s);let a=e,l,c;for(;e.prev!==e.next;){if(l=e.prev,c=e.next,s?bJ(e,r,o,s):xJ(e)){t.push(l.i/n),t.push(e.i/n),t.push(c.i/n),hJ(e),e=c.next,a=c.next;continue}if(e=c,e===a){i?i===1?(e=mJ(mp(e),t,n),Ju(e,t,n,r,o,s,2)):i===2&&EJ(e,t,n,r,o,s):Ju(mp(e),t,n,r,o,s,1);break}}},xJ=e=>{const t=e.prev,n=e,r=e.next;if(Qi(t,n,r)>=0)return!1;let o=e.next.next;for(;o!==e.prev;){if(yu(t.x,t.y,n.x,n.y,r.x,r.y,o.x,o.y)&&Qi(o.prev,o,o.next)>=0)return!1;o=o.next}return!0},bJ=(e,t,n,r)=>{const o=e.prev,s=e,i=e.next;if(Qi(o,s,i)>=0)return!1;const a=o.x<s.x?o.x<i.x?o.x:i.x:s.x<i.x?s.x:i.x,l=o.y<s.y?o.y<i.y?o.y:i.y:s.y<i.y?s.y:i.y,c=o.x>s.x?o.x>i.x?o.x:i.x:s.x>i.x?s.x:i.x,f=o.y>s.y?o.y>i.y?o.y:i.y:s.y>i.y?s.y:i.y,u=Bg(a,l,t,n,r),d=Bg(c,f,t,n,r);let h=e.prevZ,m=e.nextZ;for(;h&&h.z>=u&&m&&m.z<=d;){if(h!==e.prev&&h!==e.next&&yu(o.x,o.y,s.x,s.y,i.x,i.y,h.x,h.y)&&Qi(h.prev,h,h.next)>=0||(h=h.prevZ,m!==e.prev&&m!==e.next&&yu(o.x,o.y,s.x,s.y,i.x,i.y,m.x,m.y)&&Qi(m.prev,m,m.next)>=0))return!1;m=m.nextZ}for(;h&&h.z>=u;){if(h!==e.prev&&h!==e.next&&yu(o.x,o.y,s.x,s.y,i.x,i.y,h.x,h.y)&&Qi(h.prev,h,h.next)>=0)return!1;h=h.prevZ}for(;m&&m.z<=d;){if(m!==e.prev&&m!==e.next&&yu(o.x,o.y,s.x,s.y,i.x,i.y,m.x,m.y)&&Qi(m.prev,m,m.next)>=0)return!1;m=m.nextZ}return!0},EJ=(e,t,n,r,o,s)=>{let i=e;do{let a=i.next.next;for(;a!==i.prev;){if(i.i!==a.i&&vJ(i,a)){let l=yJ(i,a);i=mp(i,i.next),l=mp(l,l.next),Ju(i,t,n,r,o,s),Ju(l,t,n,r,o,s);return}a=a.next}i=i.next}while(i!==e)},SJ=(e,t,n,r)=>{let o=e;do o.z===null&&(o.z=Bg(o.x,o.y,t,n,r)),o.prevZ=o.prev,o.nextZ=o.next,o=o.next;while(o!==e);o.prevZ.nextZ=null,o.prevZ=null,pJ(o,s=>s.z)},Bg=(e,t,n,r,o)=>(e=32767*(e-n)*o,t=32767*(t-r)*o,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e|t<<1);var _J=wJ;const{area:$J}=Sf,{toOutlines:AJ}=dt,{arePointsInside:TJ}=lw,CJ=e=>{const t=AJ(e),n=[],r=[];t.forEach((i,a)=>{const l=$J(i);l<0?r.push(a):l>0&&n.push(a)});const o=[],s=[];return n.forEach((i,a)=>{const l=t[i];o[a]=[],r.forEach((c,f)=>{const u=t[c];TJ([u[0]],{vertices:l})&&(o[a].push(c),s[f]||(s[f]=[]),s[f].push(a))})}),r.forEach((i,a)=>{if(s[a]&&s[a].length>1){const l=PJ(s[a],c=>o[c].length);s[a].forEach((c,f)=>{f!==l&&(o[c]=o[c].filter(u=>u!==i))})}}),o.map((i,a)=>({solid:t[n[a]],holes:i.map(l=>t[l])}))},PJ=(e,t)=>{let n,r;return e.forEach((o,s)=>{const i=t(o);(r===void 0||i<r)&&(n=s,r=i)}),n};var kJ=CJ;const RJ=dt,w3=Zo,NJ=yt,In=Ke,OJ=SP,MJ=kJ;let LJ=class{constructor(t){this.plane=OJ(t);const n=In.orthogonal(In.create(),this.plane),r=In.cross(In.create(),this.plane,n);this.v=In.normalize(r,r),this.u=In.cross(In.create(),this.v,this.plane),this.basisMap=new Map;const o=t.edges.map(i=>i.map(a=>this.to2D(a))),s=RJ.create(o);this.roots=MJ(s)}to2D(t){const n=NJ.fromValues(In.dot(t,this.u),In.dot(t,this.v));return this.basisMap.set(n,t),n}to3D(t){const n=this.basisMap.get(t);if(n)return n;{console.log("Warning: point not in original slice");const r=In.scale(In.create(),this.u,t[0]),o=In.scale(In.create(),this.v,t[1]),s=In.scale(In.create(),w3,w3[3]),i=In.add(r,r,s);return In.add(o,o,i)}}};var DJ=LJ;const IJ=xt,FJ=_J,zJ=DJ,BJ=e=>{const t=new zJ(e),n=[];return t.roots.forEach(({solid:r,holes:o})=>{let s=r.length;const i=[];o.forEach((u,d)=>{i.push(s),s+=u.length});const a=[r,...o].flat(),l=a.flat(),c=u=>t.to3D(a[u]),f=FJ(l,i);for(let u=0;u<f.length;u+=3){const d=f.slice(u,u+3).map(c);n.push(IJ.fromPointsAndPlane(d,t.plane))}}),n};var GJ=BJ;const x3=Ke,jJ=e=>e.reduce((t,n)=>t+=`[${x3.toString(n[0])}, ${x3.toString(n[1])}], `,""),VJ=e=>`[${jJ(e.edges)}]`;var UJ=VJ;const qd=Ke,HJ=_a,WJ=(e,t)=>{const n=t.edges.map(r=>[qd.transform(qd.create(),r[0],e),qd.transform(qd.create(),r[1],e)]);return HJ(n)};var XJ=WJ,dc={calculatePlane:SP,clone:$K,create:_a,equals:CK,fromPoints:RK,fromSides:MK,isA:DK,reverse:zK,toEdges:GK,toPolygons:GJ,toString:UJ,transform:XJ};const b3=Ke,qJ=_a,YJ=e=>{if(!e.edges)return e;let t=e.edges;const n=new Map,r=new Map;t=t.filter(i=>!b3.equals(i[0],i[1])),t.forEach(i=>{const a=i[0].toString(),l=i[1].toString();n.set(a,i[0]),n.set(l,i[1]),r.set(a,(r.get(a)||0)+1),r.set(l,(r.get(l)||0)-1)});const o=[],s=[];return r.forEach((i,a)=>{i<0&&o.push(a),i>0&&s.push(a)}),o.forEach(i=>{const a=n.get(i);let l=1/0,c;s.forEach(f=>{const u=n.get(f),d=b3.distance(a,u);d<l&&(l=d,c=u)}),console.warn(`slice.repair: repairing vertex gap ${a} to ${c} distance ${l}`),t=t.map(f=>f[0].toString()===i?[c,f[1]]:f[1].toString()===i?[f[0],c]:f)}),qJ(t)};var ZJ=YJ;const{EPS:E3}=Et,Ja=Ke,Yd=xt,S3=dc,Gg=(e,t)=>e===t?e:e<t?Gg(t,e):t===1?1:t===0?e:Gg(t,e%t),QJ=(e,t)=>e*t/Gg(e,t),_3=(e,t)=>{const n=e/t.length;if(n===1)return t;const r=Ja.fromValues(n,n,n),o=[];return t.forEach(s=>{const i=Ja.subtract(Ja.create(),s[1],s[0]);Ja.divide(i,i,r);let a=s[0];for(let l=1;l<=n;++l){const c=Ja.add(Ja.create(),a,i);o.push([a,c]),a=c}}),o},$3=E3*E3/2*Math.sin(Math.PI/3),KJ=(e,t)=>{let n=S3.toEdges(e),r=S3.toEdges(t);if(n.length!==r.length){const s=QJ(n.length,r.length);s!==n.length&&(n=_3(s,n)),s!==r.length&&(r=_3(s,r))}const o=[];return n.forEach((s,i)=>{const a=r[i],l=Yd.create([s[0],s[1],a[1]]),c=Yd.measureArea(l);Number.isFinite(c)&&c>$3&&o.push(l);const f=Yd.create([s[0],a[1],a[0]]),u=Yd.measureArea(f);Number.isFinite(u)&&u>$3&&o.push(f)}),o};var JJ=KJ;const A3=Dt,T3=dt,eee=ht,jg=xt,ei=dc,tee=ZJ,C3=JJ,nee=(e,t,n)=>{let r=null;return T3.isA(n)&&(r=ei.fromSides(T3.toSides(n))),jg.isA(n)&&(r=ei.fromPoints(jg.toPoints(n))),e===0||e===1?ei.transform(A3.fromTranslation(A3.create(),[0,0,e]),r):null},ree=(e,t)=>{const n={numberOfSlices:2,capStart:!0,capEnd:!0,close:!1,repair:!0,callback:nee},{numberOfSlices:r,capStart:o,capEnd:s,close:i,repair:a,callback:l}=Object.assign({},n,e);if(r<2)throw new Error("numberOfSlices must be 2 or more");a&&(t=tee(t));const c=r-1;let f=null,u=null,d=null,h=[];for(let m=0;m<r;m++){const p=l(m/c,m,t);if(p){if(!ei.isA(p))throw new Error("the callback function must return slice objects");if(ei.toEdges(p).length===0)throw new Error("the callback function must return slices with one or more edges");d&&(h=h.concat(C3(d,p))),m===0&&(f=p),m===r-1&&(u=p),d=p}}if(s){const m=ei.toPolygons(u);h=h.concat(m)}if(o){const m=ei.toPolygons(f).map(jg.invert);h=h.concat(m)}return!o&&!s&&i&&!ei.equals(u,f)&&(h=h.concat(C3(u,f))),eee.create(h)};var b1=ree;const{TAU:Tr}=Et,su=Dt,{mirrorX:oee}=gu,Zd=dt,jm=dc,see=b1,iee=(e,t)=>{const n={segments:12,startAngle:0,angle:Tr,overflow:"cap"};let{segments:r,startAngle:o,angle:s,overflow:i}=Object.assign({},n,e);if(r<3)throw new Error("segments must be greater then 3");o=Math.abs(o)>Tr?o%Tr:o,s=Math.abs(s)>Tr?s%Tr:s;let a=o+s;if(a=Math.abs(a)>Tr?a%Tr:a,a<o){const y=o;o=a,a=y}let l=a-o;if(l<=0&&(l=Tr),Math.abs(l)<Tr){const y=Tr/r;r=Math.floor(Math.abs(l)/y),Math.abs(l)>r*y&&r++}let c=Zd.toSides(t);if(c.length===0)throw new Error("the given geometry cannot be empty");const f=c.filter(y=>y[0][0]<0),u=c.filter(y=>y[0][0]>=0);f.length>0&&u.length>0&&i==="cap"&&(f.length>u.length?(c=c.map(y=>{let w=y[0],b=y[1];return w=[Math.min(w[0],0),w[1]],b=[Math.min(b[0],0),b[1]],[w,b]}),t=Zd.create(c),t=oee(t)):u.length>=f.length&&(c=c.map(y=>{let w=y[0],b=y[1];return w=[Math.max(w[0],0),w[1]],b=[Math.max(b[0],0),b[1]],[w,b]}),t=Zd.create(c)));const h=l/r,m=Math.abs(l)<Tr,p=jm.fromSides(Zd.toSides(t));jm.reverse(p,p);const g=su.create(),v=(y,w,b)=>{let E=h*w+o;return l===Tr&&w===r&&(E=o),su.multiply(g,su.fromZRotation(g,E),su.fromXRotation(su.create(),Tr/4)),jm.transform(g,b)};return e={numberOfSlices:r+1,capStart:m,capEnd:m,close:!m,callback:v},see(e,p)};var PP=iee;const aee=ut,P3=Dt,k3=dt,R3=ht,N3=Ot,E1=(e,...t)=>{if(!Array.isArray(e))throw new Error("angles must be an array");if(t=aee(t),t.length===0)throw new Error("wrong number of arguments");for(e=e.slice();e.length<3;)e.push(0);const n=e[2],r=e[1],o=e[0],s=P3.fromTaitBryanRotation(P3.create(),n,r,o),i=t.map(a=>N3.isA(a)?N3.transform(s,a):k3.isA(a)?k3.transform(s,a):R3.isA(a)?R3.transform(s,a):a);return i.length===1?i[0]:i},lee=(e,...t)=>E1([e,0,0],t),cee=(e,...t)=>E1([0,e,0],t),uee=(e,...t)=>E1([0,0,e],t);var wu={rotate:E1,rotateX:lee,rotateY:cee,rotateZ:uee};const fee=ut,O3=Dt,M3=dt,L3=ht,D3=Ot,S1=(e,...t)=>{if(!Array.isArray(e))throw new Error("offset must be an array");if(t=fee(t),t.length===0)throw new Error("wrong number of arguments");for(e=e.slice();e.length<3;)e.push(0);const n=O3.fromTranslation(O3.create(),e),r=t.map(o=>D3.isA(o)?D3.transform(n,o):M3.isA(o)?M3.transform(n,o):L3.isA(o)?L3.transform(n,o):o);return r.length===1?r[0]:r},dee=(e,...t)=>S1([e,0,0],t),hee=(e,...t)=>S1([0,e,0],t),pee=(e,...t)=>S1([0,0,e],t);var na={translate:S1,translateX:dee,translateY:hee,translateZ:pee};const{TAU:mee}=Et,vee=PP,{rotate:gee}=wu,{translate:yee}=na,wee=vP,{isGT:Vm,isGTE:Um}=$n,xee=e=>{const t={innerRadius:1,innerSegments:32,outerRadius:4,outerSegments:32,innerRotation:0,startAngle:0,outerRotation:mee},{innerRadius:n,innerSegments:r,outerRadius:o,outerSegments:s,innerRotation:i,startAngle:a,outerRotation:l}=Object.assign({},t,e);if(!Vm(n,0))throw new Error("innerRadius must be greater than zero");if(!Um(r,3))throw new Error("innerSegments must be three or more");if(!Vm(o,0))throw new Error("outerRadius must be greater than zero");if(!Um(s,3))throw new Error("outerSegments must be three or more");if(!Um(a,0))throw new Error("startAngle must be positive");if(!Vm(l,0))throw new Error("outerRotation must be greater than zero");if(n>=o)throw new Error("inner circle is two large to rotate about the outer circle");let c=wee({radius:n,segments:r});return i!==0&&(c=gee([0,0,i],c)),c=yee([o,0],c),vee({startAngle:a,angle:l,segments:s},c)};var bee=xee;const{NEPS:Yl}=Et,iu=yt,Eee=dt,{isNumberArray:See}=$n,Vg=(e,t,n)=>Math.acos((e*e+t*t-n*n)/(2*e*t)),_ee=(e,t,n)=>t>Yl?Math.sqrt(e*e+n*n-2*e*n*Math.cos(t)):Math.sqrt((e-n)*(e-n)+e*n*t*t*(1-t*t/12)),$ee=e=>{if(Math.abs(e[0]+e[1]+e[2]-Math.PI)>Yl)throw new Error("AAA triangles require angles that sum to PI");const n=e[0],r=e[1],o=Math.PI-n-r,s=1,i=s/Math.sin(o)*Math.sin(n),a=s/Math.sin(o)*Math.sin(r);return hc(n,r,o,i,a,s)},Aee=e=>{const t=e[0],n=e[1],r=Math.PI+Yl-t-n;if(r<Yl)throw new Error("AAS triangles require angles that sum to PI");const o=e[2],s=o/Math.sin(t)*Math.sin(n),i=o/Math.sin(t)*Math.sin(r);return hc(t,n,r,o,s,i)},Tee=e=>{const t=e[0],n=e[2],r=Math.PI+Yl-t-n;if(r<Yl)throw new Error("ASA triangles require angles that sum to PI");const o=e[1],s=o/Math.sin(r)*Math.sin(t),i=o/Math.sin(r)*Math.sin(n);return hc(t,n,r,s,i,o)},Cee=e=>{const t=e[0],n=e[1],r=e[2],o=_ee(t,n,r),s=Vg(o,t,r),i=Math.PI-s-n;return hc(s,n,i,r,o,t)},Pee=e=>{const t=e[0],n=e[1],r=e[2],o=Math.asin(n*Math.sin(r)/t),s=Math.PI-o-r,i=t/Math.sin(r)*Math.sin(s);return hc(o,s,r,n,i,t)},kee=e=>{const t=e[1],n=e[2],r=e[0];if(t+n<=r||n+r<=t||r+t<=n)throw new Error("SSS triangle is incorrect, as the longest side is longer than the sum of the other sides");const o=Vg(n,r,t),s=Vg(r,t,n),i=Math.PI-o-s;return hc(o,s,i,t,n,r)},hc=(e,t,n,r,o,s)=>{const i=iu.fromValues(0,0),a=iu.fromValues(s,0),l=iu.fromValues(r,0);return iu.add(l,iu.rotate(l,l,[0,0],Math.PI-t),a),Eee.fromPoints([i,a,l])},Ree=e=>{const t={type:"SSS",values:[1,1,1]};let{type:n,values:r}=Object.assign({},t,e);if(typeof n!="string")throw new Error("triangle type must be a string");if(n=n.toUpperCase(),!((n[0]==="A"||n[0]==="S")&&(n[1]==="A"||n[1]==="S")&&(n[2]==="A"||n[2]==="S")))throw new Error("triangle type must contain three letters; A or S");if(!See(r,3))throw new Error("triangle values must contain three values");if(!r.every(o=>o>0))throw new Error("triangle values must be greater than zero");switch(n){case"AAA":return $ee(r);case"AAS":return Aee(r);case"ASA":return Tee(r);case"SAS":return Cee(r);case"SSA":return Pee(r);case"SSS":return kee(r);default:throw new Error("invalid triangle type, try again")}};var Nee=Ree,Oee={arc:sQ,circle:vP,cube:yQ,cuboid:gw,cylinder:yP,cylinderElliptic:gP,ellipse:mP,ellipsoid:wP,geodesicSphere:DQ,line:zQ,polygon:GQ,polyhedron:xP,rectangle:yw,roundedCuboid:qQ,roundedCylinder:eK,roundedRectangle:rK,sphere:bP,square:uK,star:vK,torus:bee,triangle:Nee},Mee={height:14,32:[16],33:[10,5,21,5,7,void 0,5,2,4,1,5,0,6,1,5,2],34:[16,4,21,4,14,void 0,12,21,12,14],35:[21,11,25,4,-7,void 0,17,25,10,-7,void 0,4,12,18,12,void 0,3,6,17,6],36:[20,8,25,8,-4,void 0,12,25,12,-4,void 0,17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3],37:[24,21,21,3,0,void 0,8,21,10,19,10,17,9,15,7,14,5,14,3,16,3,18,4,20,6,21,8,21,10,20,13,19,16,19,19,20,21,21,void 0,17,7,15,6,14,4,14,2,16,0,18,0,20,1,21,3,21,5,19,7,17,7],38:[26,23,12,23,13,22,14,21,14,20,13,19,11,17,6,15,3,13,1,11,0,7,0,5,1,4,2,3,4,3,6,4,8,5,9,12,13,13,14,14,16,14,18,13,20,11,21,9,20,8,18,8,16,9,13,11,10,16,3,18,1,20,0,22,0,23,1,23,2],39:[10,5,19,4,20,5,21,6,20,6,18,5,16,4,15],40:[14,11,25,9,23,7,20,5,16,4,11,4,7,5,2,7,-2,9,-5,11,-7],41:[14,3,25,5,23,7,20,9,16,10,11,10,7,9,2,7,-2,5,-5,3,-7],42:[16,8,21,8,9,void 0,3,18,13,12,void 0,13,18,3,12],43:[26,13,18,13,0,void 0,4,9,22,9],44:[10,6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4],45:[26,4,9,22,9],46:[10,5,2,4,1,5,0,6,1,5,2],47:[22,20,25,2,-7],48:[20,9,21,6,20,4,17,3,12,3,9,4,4,6,1,9,0,11,0,14,1,16,4,17,9,17,12,16,17,14,20,11,21,9,21],49:[20,6,17,8,18,11,21,11,0],50:[20,4,16,4,17,5,19,6,20,8,21,12,21,14,20,15,19,16,17,16,15,15,13,13,10,3,0,17,0],51:[20,5,21,16,21,10,13,13,13,15,12,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4],52:[20,13,21,3,7,18,7,void 0,13,21,13,0],53:[20,15,21,5,21,4,12,5,13,8,14,11,14,14,13,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4],54:[20,16,18,15,20,12,21,10,21,7,20,5,17,4,12,4,7,5,3,7,1,10,0,11,0,14,1,16,3,17,6,17,7,16,10,14,12,11,13,10,13,7,12,5,10,4,7],55:[20,17,21,7,0,void 0,3,21,17,21],56:[20,8,21,5,20,4,18,4,16,5,14,7,13,11,12,14,11,16,9,17,7,17,4,16,2,15,1,12,0,8,0,5,1,4,2,3,4,3,7,4,9,6,11,9,12,13,13,15,14,16,16,16,18,15,20,12,21,8,21],57:[20,16,14,15,11,13,9,10,8,9,8,6,9,4,11,3,14,3,15,4,18,6,20,9,21,10,21,13,20,15,18,16,14,16,9,15,4,13,1,10,0,8,0,5,1,4,3],58:[10,5,14,4,13,5,12,6,13,5,14,void 0,5,2,4,1,5,0,6,1,5,2],59:[10,5,14,4,13,5,12,6,13,5,14,void 0,6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4],60:[24,20,18,4,9,20,0],61:[26,4,12,22,12,void 0,4,6,22,6],62:[24,4,18,20,9,4,0],63:[18,3,16,3,17,4,19,5,20,7,21,11,21,13,20,14,19,15,17,15,15,14,13,13,12,9,10,9,7,void 0,9,2,8,1,9,0,10,1,9,2],64:[27,18,13,17,15,15,16,12,16,10,15,9,14,8,11,8,8,9,6,11,5,14,5,16,6,17,8,void 0,12,16,10,14,9,11,9,8,10,6,11,5,void 0,18,16,17,8,17,6,19,5,21,5,23,7,24,10,24,12,23,15,22,17,20,19,18,20,15,21,12,21,9,20,7,19,5,17,4,15,3,12,3,9,4,6,5,4,7,2,9,1,12,0,15,0,18,1,20,2,21,3,void 0,19,16,18,8,18,6,19,5],65:[18,9,21,1,0,void 0,9,21,17,0,void 0,4,7,14,7],66:[21,4,21,4,0,void 0,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,void 0,4,11,13,11,16,10,17,9,18,7,18,4,17,2,16,1,13,0,4,0],67:[21,18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5],68:[21,4,21,4,0,void 0,4,21,11,21,14,20,16,18,17,16,18,13,18,8,17,5,16,3,14,1,11,0,4,0],69:[19,4,21,4,0,void 0,4,21,17,21,void 0,4,11,12,11,void 0,4,0,17,0],70:[18,4,21,4,0,void 0,4,21,17,21,void 0,4,11,12,11],71:[21,18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,18,8,void 0,13,8,18,8],72:[22,4,21,4,0,void 0,18,21,18,0,void 0,4,11,18,11],73:[8,4,21,4,0],74:[16,12,21,12,5,11,2,10,1,8,0,6,0,4,1,3,2,2,5,2,7],75:[21,4,21,4,0,void 0,18,21,4,7,void 0,9,12,18,0],76:[17,4,21,4,0,void 0,4,0,16,0],77:[24,4,21,4,0,void 0,4,21,12,0,void 0,20,21,12,0,void 0,20,21,20,0],78:[22,4,21,4,0,void 0,4,21,18,0,void 0,18,21,18,0],79:[22,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21],80:[21,4,21,4,0,void 0,4,21,13,21,16,20,17,19,18,17,18,14,17,12,16,11,13,10,4,10],81:[22,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21,void 0,12,4,18,-2],82:[21,4,21,4,0,void 0,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,4,11,void 0,11,11,18,0],83:[20,17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3],84:[16,8,21,8,0,void 0,1,21,15,21],85:[22,4,21,4,6,5,3,7,1,10,0,12,0,15,1,17,3,18,6,18,21],86:[18,1,21,9,0,void 0,17,21,9,0],87:[24,2,21,7,0,void 0,12,21,7,0,void 0,12,21,17,0,void 0,22,21,17,0],88:[20,3,21,17,0,void 0,17,21,3,0],89:[18,1,21,9,11,9,0,void 0,17,21,9,11],90:[20,17,21,3,0,void 0,3,21,17,21,void 0,3,0,17,0],91:[14,4,25,4,-7,void 0,5,25,5,-7,void 0,4,25,11,25,void 0,4,-7,11,-7],92:[14,0,21,14,-3],93:[14,9,25,9,-7,void 0,10,25,10,-7,void 0,3,25,10,25,void 0,3,-7,10,-7],94:[16,6,15,8,18,10,15,void 0,3,12,8,17,13,12,void 0,8,17,8,0],95:[16,0,-2,16,-2],96:[10,6,21,5,20,4,18,4,16,5,15,6,16,5,17],97:[19,15,14,15,0,void 0,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3],98:[19,4,21,4,0,void 0,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3],99:[18,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3],100:[19,15,21,15,0,void 0,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3],101:[18,3,8,15,8,15,10,14,12,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3],102:[12,10,21,8,21,6,20,5,17,5,0,void 0,2,14,9,14],103:[19,15,14,15,-2,14,-5,13,-6,11,-7,8,-7,6,-6,void 0,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3],104:[19,4,21,4,0,void 0,4,10,7,13,9,14,12,14,14,13,15,10,15,0],105:[8,3,21,4,20,5,21,4,22,3,21,void 0,4,14,4,0],106:[10,5,21,6,20,7,21,6,22,5,21,void 0,6,14,6,-3,5,-6,3,-7,1,-7],107:[17,4,21,4,0,void 0,14,14,4,4,void 0,8,8,15,0],108:[8,4,21,4,0],109:[30,4,14,4,0,void 0,4,10,7,13,9,14,12,14,14,13,15,10,15,0,void 0,15,10,18,13,20,14,23,14,25,13,26,10,26,0],110:[19,4,14,4,0,void 0,4,10,7,13,9,14,12,14,14,13,15,10,15,0],111:[19,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3,16,6,16,8,15,11,13,13,11,14,8,14],112:[19,4,14,4,-7,void 0,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3],113:[19,15,14,15,-7,void 0,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3],114:[13,4,14,4,0,void 0,4,8,5,11,7,13,9,14,12,14],115:[17,14,11,13,13,10,14,7,14,4,13,3,11,4,9,6,8,11,7,13,6,14,4,14,3,13,1,10,0,7,0,4,1,3,3],116:[12,5,21,5,4,6,1,8,0,10,0,void 0,2,14,9,14],117:[19,4,14,4,4,5,1,7,0,10,0,12,1,15,4,void 0,15,14,15,0],118:[16,2,14,8,0,void 0,14,14,8,0],119:[22,3,14,7,0,void 0,11,14,7,0,void 0,11,14,15,0,void 0,19,14,15,0],120:[17,3,14,14,0,void 0,14,14,3,0],121:[16,2,14,8,0,void 0,14,14,8,0,6,-4,4,-6,2,-7,1,-7],122:[17,14,14,3,0,void 0,3,14,14,14,void 0,3,0,14,0],123:[14,9,25,7,24,6,23,5,21,5,19,6,17,7,16,8,14,8,12,6,10,void 0,7,24,6,22,6,20,7,18,8,17,9,15,9,13,8,11,4,9,8,7,9,5,9,3,8,1,7,0,6,-2,6,-4,7,-6,void 0,6,8,8,6,8,4,7,2,6,1,5,-1,5,-3,6,-5,7,-6,9,-7],124:[8,4,25,4,-7],125:[14,5,25,7,24,8,23,9,21,9,19,8,17,7,16,6,14,6,12,8,10,void 0,7,24,8,22,8,20,7,18,6,17,5,15,5,13,6,11,10,9,6,7,5,5,5,3,6,1,7,0,8,-2,8,-4,7,-6,void 0,8,8,6,6,6,4,7,2,8,1,9,-1,9,-3,8,-5,7,-6,5,-7],126:[24,3,6,3,8,4,11,6,12,8,12,10,11,14,8,16,7,18,7,20,8,21,10,void 0,3,8,4,10,6,11,8,11,10,10,14,7,16,6,18,6,20,7,21,10,21,12]};const Lee=Mee,Dee={xOffset:0,yOffset:0,input:"?",align:"left",font:Lee,height:14,lineSpacing:2.142857142857143,letterSpacing:1,extrudeOffset:0},Iee=(e,t)=>{!t&&typeof e=="string"&&(e={input:e}),e=e||{};const n=Object.assign({},Dee,e);return n.input=t||n.input,n};var kP=Iee;const Fee=kP,zee=(e,t)=>{const{xOffset:n,yOffset:r,input:o,font:s,height:i,extrudeOffset:a}=Fee(e,t);let l=o.charCodeAt(0);(!l||!s[l])&&(l=63);const c=[].concat(s[l]),f=(i-a)/s.height,u=a/2,d=c.shift()*f,h=[];let m=[];for(let p=0,g=c.length;p<g;p+=2){const v=f*c[p]+n,y=f*c[p+1]+r+u;if(c[p]!==void 0){m.push([v,y]);continue}h.push(m),m=[],p--}return m.length&&h.push(m),{width:d,height:i,segments:h}};var RP=zee;const Bee=RP,Gee=kP,I3=(e,t)=>{const{x:n,y:r}=Object.assign({x:0,y:0},e||{}),o=t.segments;let s=null,i=null;for(let a=0,l=o.length;a<l;a++){s=o[a];for(let c=0,f=s.length;c<f;c++)i=s[c],s[c]=[i[0]+n,i[1]+r]}return t},jee=(e,t)=>{const{xOffset:n,yOffset:r,input:o,font:s,height:i,align:a,extrudeOffset:l,lineSpacing:c,letterSpacing:f}=Gee(e,t);let[u,d]=[n,r],h,m,p,g,v,y,w={width:0,segments:[]};const b=[];let E=[],S=0;const $=u,A=()=>{b.push(w),S=Math.max(S,w.width),w={width:0,segments:[]}};for(h=0,m=o.length;h<m;h++){if(p=o[h],g=Bee({xOffset:u,yOffset:d,font:s,height:i,extrudeOffset:l},p),p===`
`){u=$,d-=g.height*c,A();continue}v=g.width*f,w.width+=v,u+=v,p!==" "&&(w.segments=w.segments.concat(g.segments))}for(w.segments.length&&A(),h=0,m=b.length;h<m;h++)w=b[h],S>w.width&&(y=S-w.width,a==="right"?w=I3({x:y},w):a==="center"&&(w=I3({x:y/2},w))),E=E.concat(w.segments);return E};var Vee=jee,Uee={vectorChar:RP,vectorText:Vee};const Hee=dt,Wee=ht,Xee=Ot,qee=e=>{let t;for(const n of e){let r=0;if(Hee.isA(n)&&(r=1),Wee.isA(n)&&(r=2),Xee.isA(n)&&(r=3),t&&r!==t)return!1;t=r}return!0};var $f=qee;const Yee=e=>e*.017453292519943295;var Zee=Yee;const Qee=(e,t)=>e-t;var NP=Qee;const Kee=(e,t,n)=>{let r=0,o=e.length;for(;o>r;){const s=Math.floor((r+o)/2),i=e[s];n(t,i)>0?r=s+1:o=s}e.splice(r,0,t)};var Jee=Kee;const{TAU:F3}=Et,ete=(e,t,n)=>{const r=t>0?e*F3/t:0,o=n>0?F3/n:0;return Math.ceil(Math.max(r,o,4))};var tte=ete;const nte=e=>e*57.29577951308232;var rte=nte,OP={areAllShapesTheSameType:$f,degToRad:Zee,flatten:ut,fnNumberSort:NP,insertSorted:Jee,radiusToSegments:tte,radToDeg:rte};const z3=yt,ote=dt,ste=(e,t)=>{if(t.vertices.length<4)return null;const n=[],r=t.vertices.filter((i,a)=>i[2]>0?(n.push(a),!0):!1);if(r.length!==2)throw new Error("Assertion failed: fromFakePolygon: not enough points found");const o=r.map(i=>{const a=Math.round(i[0]/e)*e+0,l=Math.round(i[1]/e)*e+0;return z3.fromValues(a,l)});if(z3.equals(o[0],o[1]))return null;const s=n[1]-n[0];if(s===1||s===3)s===1&&o.reverse();else throw new Error("Assertion failed: fromFakePolygon: unknown index ordering");return o},ite=(e,t)=>{const n=t.map(r=>ste(e,r)).filter(r=>r!==null);return ote.create(n)};var xw=ite;const js=Ke,ate=dt,lte=ht,cte=xt,ute=(e,t,n)=>{const r=[js.fromVec2(js.create(),n[0],e),js.fromVec2(js.create(),n[1],e),js.fromVec2(js.create(),n[1],t),js.fromVec2(js.create(),n[0],t)];return cte.create(r)},fte=(e,t)=>{const r=ate.toSides(t).map(s=>ute(e.z0,e.z1,s));return lte.create(r)};var bw=fte;const B3=Dt,dte=yt,xn=Ke,ya=function(e,t){arguments.length<2&&(t=xn.orthogonal(xn.create(),e)),this.v=xn.normalize(xn.create(),xn.cross(xn.create(),e,t)),this.u=xn.cross(xn.create(),this.v,e),this.plane=e,this.planeorigin=xn.scale(xn.create(),e,e[3])};ya.GetCartesian=function(e,t){const n=e+"/"+t;let r,o;if(n==="X/Y")r=[0,0,1],o=[1,0,0];else if(n==="Y/-X")r=[0,0,1],o=[0,1,0];else if(n==="-X/-Y")r=[0,0,1],o=[-1,0,0];else if(n==="-Y/X")r=[0,0,1],o=[0,-1,0];else if(n==="-X/Y")r=[0,0,-1],o=[-1,0,0];else if(n==="-Y/-X")r=[0,0,-1],o=[0,-1,0];else if(n==="X/-Y")r=[0,0,-1],o=[1,0,0];else if(n==="Y/X")r=[0,0,-1],o=[0,1,0];else if(n==="X/Z")r=[0,-1,0],o=[1,0,0];else if(n==="Z/-X")r=[0,-1,0],o=[0,0,1];else if(n==="-X/-Z")r=[0,-1,0],o=[-1,0,0];else if(n==="-Z/X")r=[0,-1,0],o=[0,0,-1];else if(n==="-X/Z")r=[0,1,0],o=[-1,0,0];else if(n==="-Z/-X")r=[0,1,0],o=[0,0,-1];else if(n==="X/-Z")r=[0,1,0],o=[1,0,0];else if(n==="Z/X")r=[0,1,0],o=[0,0,1];else if(n==="Y/Z")r=[1,0,0],o=[0,1,0];else if(n==="Z/-Y")r=[1,0,0],o=[0,0,1];else if(n==="-Y/-Z")r=[1,0,0],o=[0,-1,0];else if(n==="-Z/Y")r=[1,0,0],o=[0,0,-1];else if(n==="-Y/Z")r=[-1,0,0],o=[0,-1,0];else if(n==="-Z/-Y")r=[-1,0,0],o=[0,0,-1];else if(n==="Y/-Z")r=[-1,0,0],o=[0,1,0];else if(n==="Z/Y")r=[-1,0,0],o=[0,0,1];else throw new Error("OrthoNormalBasis.GetCartesian: invalid combination of axis identifiers. Should pass two string arguments from [X,Y,Z,-X,-Y,-Z], being two different axes.");return new ya(new Plane(new Vector3D(r),0),new Vector3D(o))};ya.Z0Plane=function(){const e=new Plane(new Vector3D([0,0,1]),0);return new ya(e,new Vector3D([1,0,0]))};ya.prototype={getProjectionMatrix:function(){return B3.fromValues(this.u[0],this.v[0],this.plane[0],0,this.u[1],this.v[1],this.plane[1],0,this.u[2],this.v[2],this.plane[2],0,0,0,-this.plane[3],1)},getInverseProjectionMatrix:function(){const e=xn.scale(xn.create(),this.plane,this.plane[3]);return B3.fromValues(this.u[0],this.u[1],this.u[2],0,this.v[0],this.v[1],this.v[2],0,this.plane[0],this.plane[1],this.plane[2],0,e[0],e[1],e[2],1)},to2D:function(e){return dte.fromValues(xn.dot(e,this.u),xn.dot(e,this.v))},to3D:function(e){const t=xn.scale(xn.create(),this.u,e[0]),n=xn.scale(xn.create(),this.v,e[1]),r=xn.add(t,t,this.planeorigin);return xn.add(n,n,r)},line3Dto2D:function(e){const t=e.point,n=e.direction.plus(t),r=this.to2D(t),o=this.to2D(n);return Line2D.fromPoints(r,o)},line2Dto3D:function(e){const t=e.origin(),n=e.direction().plus(t),r=this.to3D(t),o=this.to3D(n);return Line3D.fromPoints(r,o)},transform:function(e){const t=this.plane.transform(e),n=this.u.transform(e),r=new Vector3D(0,0,0).transform(e),o=n.minus(r);return new ya(t,o)}};var hte=ya;const{EPS:is}=Et,Vs=hw,mo=yt,pte=hte,el=ZC,{insertSorted:mte,fnNumberSort:vte}=OP,G3=xt,gte=e=>{if(e.length<2)return e;const t=[],n=e.length,r=G3.plane(e[0]),o=new pte(r),s=[],i=[],a=new Map,l=new Map,c=new Map,f=10/is;for(let m=0;m<n;m++){const p=e[m];let g=[],v=p.vertices.length,y=-1;if(v>0){let w,b;for(let E=0;E<v;E++){let S=o.to2D(p.vertices[E]);const $=Math.floor(S[1]*f);let A;c.has($)?A=c.get($):c.has($+1)?A=c.get($+1):c.has($-1)?A=c.get($-1):(A=S[1],c.set($,S[1])),S=mo.fromValues(S[0],A),g.push(S);const G=S[1];(E===0||G<w)&&(w=G,y=E),(E===0||G>b)&&(b=G);let I=l.get(G);I||(I={},l.set(G,I)),I[m]=!0}if(w>=b)g=[],v=0,y=-1;else{let E=a.get(w);E||(E=[],a.set(w,E)),E.push(m)}}g.reverse(),y=v-y-1,s.push(g),i.push(y)}const u=[];l.forEach((m,p)=>u.push(p)),u.sort(vte);let d=[],h=[];for(let m=0;m<u.length;m++){const p=[],g=u[m],v=l.get(g);for(let w=0;w<d.length;++w){const b=d[w],E=b.polygonindex;if(v[E]){const S=s[E],$=S.length;let A=b.leftvertexindex,G=b.rightvertexindex;for(;;){let H=A+1;if(H>=$&&(H=0),S[H][1]!==g)break;A=H}let I=G-1;if(I<0&&(I=$-1),S[I][1]===g&&(G=I),A!==b.leftvertexindex&&A===G)d.splice(w,1),--w;else{b.leftvertexindex=A,b.rightvertexindex=G,b.topleft=S[A],b.topright=S[G];let H=A+1;H>=$&&(H=0),b.bottomleft=S[H];let te=G-1;te<0&&(te=$-1),b.bottomright=S[te]}}}let y;if(m>=u.length-1)d=[],y=null;else{y=Number(u[m+1]);const w=.5*(g+y),b=a.get(g);for(const E in b){const S=b[E],$=s[S],A=$.length,G=i[S];let I=G;for(;;){let de=I+1;if(de>=A&&(de=0),$[de][1]!==g||de===G)break;I=de}let H=G;for(;;){let de=H-1;if(de<0&&(de=A-1),$[de][1]!==g||de===I)break;H=de}let te=I+1;te>=A&&(te=0);let pe=H-1;pe<0&&(pe=A-1);const j={polygonindex:S,leftvertexindex:I,rightvertexindex:H,topleft:$[I],topright:$[H],bottomleft:$[te],bottomright:$[pe]};mte(d,j,(de,ee)=>{const we=el(de.topleft,de.bottomleft,w),oe=el(ee.topleft,ee.bottomleft,w);return we>oe?1:we<oe?-1:0})}}for(const w in d){const b=d[w];let E=el(b.topleft,b.bottomleft,g);const S=mo.fromValues(E,g);E=el(b.topright,b.bottomright,g);const $=mo.fromValues(E,g);E=el(b.topleft,b.bottomleft,y);const A=mo.fromValues(E,y);E=el(b.topright,b.bottomright,y);const G=mo.fromValues(E,y),I={topleft:S,topright:$,bottomleft:A,bottomright:G,leftline:Vs.fromPoints(Vs.create(),S,A),rightline:Vs.fromPoints(Vs.create(),G,$)};if(p.length>0){const H=p[p.length-1],te=mo.distance(I.topleft,H.topright),pe=mo.distance(I.bottomleft,H.bottomright);te<is&&pe<is&&(I.topleft=H.topleft,I.leftline=H.leftline,I.bottomleft=H.bottomleft,p.splice(p.length-1,1))}p.push(I)}if(m>0){const w=new Set,b=new Set;for(let E=0;E<p.length;E++){const S=p[E];for(let $=0;$<h.length;$++)if(!b.has($)){const A=h[$];if(mo.distance(A.bottomleft,S.topleft)<is&&mo.distance(A.bottomright,S.topright)<is){b.add($);const G=Vs.direction(S.leftline),I=Vs.direction(A.leftline),H=G[0]-I[0],te=Vs.direction(S.rightline),pe=Vs.direction(A.rightline),j=te[0]-pe[0],de=Math.abs(H)<is,ee=Math.abs(j)<is,we=de||H>=0,oe=ee||j>=0;we&&oe&&(S.outpolygon=A.outpolygon,S.leftlinecontinues=de,S.rightlinecontinues=ee,w.add($));break}}}for(let E=0;E<h.length;E++)if(!w.has(E)){const S=h[E];S.outpolygon.rightpoints.push(S.bottomright),mo.distance(S.bottomright,S.bottomleft)>is&&S.outpolygon.leftpoints.push(S.bottomleft),S.outpolygon.leftpoints.reverse();const A=S.outpolygon.rightpoints.concat(S.outpolygon.leftpoints).map(I=>o.to3D(I)),G=G3.fromPointsAndPlane(A,r);G.vertices.length&&t.push(G)}}for(let w=0;w<p.length;w++){const b=p[w];b.outpolygon?(b.leftlinecontinues||b.outpolygon.leftpoints.push(b.topleft),b.rightlinecontinues||b.outpolygon.rightpoints.push(b.topright)):(b.outpolygon={leftpoints:[],rightpoints:[]},b.outpolygon.leftpoints.push(b.topleft),mo.distance(b.topleft,b.topright)>is&&b.outpolygon.rightpoints.push(b.topright))}h=p}return t};var yte=gte;const j3=ht,wte=xt,{NEPS:xte}=Et,bte=yte,Ete=e=>{if(e.isRetesselated)return e;const t=j3.toPolygons(e).map((s,i)=>({vertices:s.vertices,plane:wte.plane(s),index:i})),n=Ste(t),r=[];n.forEach(s=>{if(Array.isArray(s)){const i=bte(s);r.push(...i)}else r.push(s)});const o=j3.create(r);return o.isRetesselated=!0,o},Ste=e=>{let t=[e];const n=[];for(let o=3;o>=0;o--){const s=[],i=o===3?15e-9:xte;t.forEach(a=>{a.sort(_te(o,i));let l=0;for(let c=1;c<a.length;c++)a[c].plane[o]-a[l].plane[o]>i&&(c-l===1?n.push(a[l]):s.push(a.slice(l,c)),l=c);a.length-l===1?n.push(a[l]):s.push(a.slice(l))}),t=s}const r=[];return t.forEach(o=>{o[0]&&(r[o[0].index]=o)}),n.forEach(o=>{r[o.index]=o}),r},_te=(e,t)=>(n,r)=>n.plane[e]-r.plane[e]>t?1:r.plane[e]-n.plane[e]>t?-1:0;var Af=Ete;const{EPS:tl}=Et,V3=Sa,$te=(e,t)=>{if(e.polygons.length===0||t.polygons.length===0)return!1;const n=V3(e),r=n[0],o=n[1],s=V3(t),i=s[0],a=s[1];return!(i[0]-o[0]>tl||r[0]-a[0]>tl||i[1]-o[1]>tl||r[1]-a[1]>tl||i[2]-o[2]>tl||r[2]-a[2]>tl)};var Ew=$te;const U3=Zo,Ate=xt;let Tte=class Ug{constructor(t){this.plane=null,this.front=null,this.back=null,this.polygontreenodes=[],this.parent=t}invert(){const t=[this];let n;for(let r=0;r<t.length;r++){n=t[r],n.plane&&(n.plane=U3.flip(U3.create(),n.plane)),n.front&&t.push(n.front),n.back&&t.push(n.back);const o=n.front;n.front=n.back,n.back=o}}clipPolygons(t,n){let r={node:this,polygontreenodes:t},o;const s=[];do{if(o=r.node,t=r.polygontreenodes,o.plane){const i=o.plane,a=[],l=[],c=n?a:l,f=t.length;for(let d=0;d<f;d++){const h=t[d];h.isRemoved()||h.splitByPlane(i,c,a,l,a)}o.front&&l.length>0&&s.push({node:o.front,polygontreenodes:l});const u=a.length;if(o.back&&u>0)s.push({node:o.back,polygontreenodes:a});else for(let d=0;d<u;d++)a[d].remove()}r=s.pop()}while(r!==void 0)}clipTo(t,n){let r=this;const o=[];do r.polygontreenodes.length>0&&t.rootnode.clipPolygons(r.polygontreenodes,n),r.front&&o.push(r.front),r.back&&o.push(r.back),r=o.pop();while(r!==void 0)}addPolygonTreeNodes(t){let n={node:this,polygontreenodes:t};const r=[];do{const o=n.node,s=n.polygontreenodes;if(s.length===0){n=r.pop();continue}if(!o.plane){let c=0;c=Math.floor(s.length/2);const f=s[c].getPolygon();o.plane=Ate.plane(f)}const i=[],a=[],l=s.length;for(let c=0;c<l;++c)s[c].splitByPlane(o.plane,o.polygontreenodes,a,i,a);i.length>0&&(o.front||(o.front=new Ug(o)),l===i.length&&a.length===0?o.front.polygontreenodes=i:r.push({node:o.front,polygontreenodes:i})),a.length>0&&(o.back||(o.back=new Ug(o)),l===a.length&&i.length===0?o.back.polygontreenodes=a:r.push({node:o.back,polygontreenodes:a})),n=r.pop()}while(n!==void 0)}};var Cte=Tte;const nl=Ke,Pte=(e,t,n)=>{const r=nl.subtract(nl.create(),n,t);let o=(e[3]-nl.dot(e,t))/nl.dot(e,r);return Number.isNaN(o)&&(o=0),o>1&&(o=1),o<0&&(o=0),nl.scale(r,r,o),nl.add(r,t,r),r};var kte=Pte;const{EPS:Qd}=Et,Rte=Zo,Kd=Ke,Hm=xt,Nte=kte,Ote=(e,t)=>{const n={type:null,front:null,back:null},r=t.vertices,o=r.length,s=Hm.plane(t);if(Rte.equals(s,e))n.type=0;else{let i=!1,a=!1;const l=[],c=-Qd;for(let f=0;f<o;f++){const u=Kd.dot(e,r[f])-e[3],d=u<c;l.push(d),u>Qd&&(i=!0),u<c&&(a=!0)}if(!i&&!a){const f=Kd.dot(e,s);n.type=f>=0?0:1}else if(!a)n.type=2;else if(!i)n.type=3;else{n.type=4;const f=[],u=[];let d=l[0];for(let m=0;m<o;m++){const p=r[m];let g=m+1;g>=o&&(g=0);const v=l[g];if(d===v)d?u.push(p):f.push(p);else{const y=r[g],w=Nte(e,p,y);d?(u.push(p),u.push(w),f.push(w)):(f.push(p),f.push(w),u.push(w))}d=v}const h=Qd*Qd;if(u.length>=3){let m=u[u.length-1];for(let p=0;p<u.length;p++){const g=u[p];Kd.squaredDistance(g,m)<h&&(u.splice(p,1),p--),m=g}}if(f.length>=3){let m=f[f.length-1];for(let p=0;p<f.length;p++){const g=f[p];Kd.squaredDistance(g,m)<h&&(f.splice(p,1),p--),m=g}}f.length>=3&&(n.front=Hm.fromPointsAndPlane(f,s)),u.length>=3&&(n.back=Hm.fromPointsAndPlane(u,s))}}return n};var Mte=Ote;const{EPS:Lte}=Et,Dte=Ke,H3=xt,Ite=Mte;let Fte=class MP{constructor(t,n){this.parent=t,this.children=[],this.polygon=n,this.removed=!1}addPolygons(t){if(!this.isRootNode())throw new Error("Assertion failed");const n=this;t.forEach(r=>{n.addChild(r)})}remove(){if(!this.removed){this.removed=!0,this.polygon=null;const t=this.parent.children,n=t.indexOf(this);if(n<0)throw new Error("Assertion failed");t.splice(n,1),this.parent.recursivelyInvalidatePolygon()}}isRemoved(){return this.removed}isRootNode(){return!this.parent}invert(){if(!this.isRootNode())throw new Error("Assertion failed");this.invertSub()}getPolygon(){if(!this.polygon)throw new Error("Assertion failed");return this.polygon}getPolygons(t){let n=[this];const r=[n];let o,s,i,a;for(o=0;o<r.length;++o)for(n=r[o],s=0,i=n.length;s<i;s++)a=n[s],a.polygon?t.push(a.polygon):a.children.length>0&&r.push(a.children)}splitByPlane(t,n,r,o,s){if(this.children.length){const i=[this.children];let a,l,c,f,u;for(a=0;a<i.length;a++)for(u=i[a],l=0,c=u.length;l<c;l++)f=u[l],f.children.length>0?i.push(f.children):f._splitByPlane(t,n,r,o,s)}else this._splitByPlane(t,n,r,o,s)}_splitByPlane(t,n,r,o,s){const i=this.polygon;if(i){const a=H3.measureBoundingSphere(i),l=a[3]+Lte,c=a,f=Dte.dot(t,c)-t[3];if(f>l)o.push(this);else if(f<-l)s.push(this);else{const u=Ite(t,i);switch(u.type){case 0:n.push(this);break;case 1:r.push(this);break;case 2:o.push(this);break;case 3:s.push(this);break;case 4:if(u.front){const d=this.addChild(u.front);o.push(d)}if(u.back){const d=this.addChild(u.back);s.push(d)}break}}}}addChild(t){const n=new MP(this,t);return this.children.push(n),n}invertSub(){let t=[this];const n=[t];let r,o,s,i;for(r=0;r<n.length;r++)for(t=n[r],o=0,s=t.length;o<s;o++)i=t[o],i.polygon&&(i.polygon=H3.invert(i.polygon)),i.children.length>0&&n.push(i.children)}recursivelyInvalidatePolygon(){this.polygon=null,this.parent&&this.parent.recursivelyInvalidatePolygon()}clear(){let t=[this];const n=[t];for(let r=0;r<n.length;++r){t=n[r];const o=t.length;for(let s=0;s<o;s++){const i=t[s];i.polygon&&(i.polygon=null),i.parent&&(i.parent=null),i.children.length>0&&n.push(i.children),i.children=[]}}}toString(){let t="",n=[this];const r=[n];let o,s,i,a;for(o=0;o<r.length;++o){n=r[o];const l=" ".repeat(o);for(s=0,i=n.length;s<i;s++)a=n[s],t+=`${l}PolygonTreeNode (${a.isRootNode()}): ${a.children.length}`,a.polygon?t+=`
 ${l}polygon: ${a.polygon.vertices}
`:t+=`
`,a.children.length>0&&r.push(a.children)}return t}};var zte=Fte;const Bte=Cte,Gte=zte;let jte=class{constructor(t){this.polygonTree=new Gte,this.rootnode=new Bte(null),t&&this.addPolygons(t)}invert(){this.polygonTree.invert(),this.rootnode.invert()}clipTo(t,n=!1){this.rootnode.clipTo(t,n)}allPolygons(){const t=[];return this.polygonTree.getPolygons(t),t}addPolygons(t){const n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=this.polygonTree.addChild(t[r]);this.rootnode.addPolygonTreeNodes(n)}clear(){this.polygonTree.clear()}toString(){return"Tree: "+this.polygonTree.toString("")}};var Vte=jte,Sw={Tree:Vte};const Jd=ht,Ute=Ew,{Tree:W3}=Sw,Hte=(e,t)=>{if(!Ute(e,t))return Jd.create();const n=new W3(Jd.toPolygons(e)),r=new W3(Jd.toPolygons(t));n.invert(),r.clipTo(n),r.invert(),n.clipTo(r),r.clipTo(n),n.addPolygons(r.allPolygons()),n.invert();const o=n.allPolygons();return Jd.create(o)};var Wte=Hte;const Xte=ut,qte=Af,Yte=Wte,Zte=(...e)=>{e=Xte(e);let t=e.shift();return e.forEach(n=>{t=Yte(t,n)}),t=qte(t),t};var LP=Zte;const Qte=ut,Kte=ht,Jte=Si,ene=xw,tne=bw,nne=LP,rne=(...e)=>{e=Qte(e);const t=e.map(o=>tne({z0:-1,z1:1},o)),n=nne(t),r=Jte(n);return ene(r,Kte.toPolygons(n))};var one=rne;const sne=ut,ine=$f,ane=dt,lne=ht,cne=one,une=LP,fne=(...e)=>{if(e=sne(e),e.length===0)throw new Error("wrong number of arguments");if(!ine(e))throw new Error("only intersect of the types are supported");const t=e[0];return ane.isA(t)?cne(e):lne.isA(t)?une(e):t};var dne=fne;const Wm=Ke,hne=Si,X3=ht,pne=e=>e.sort((t,n)=>t-n).filter((t,n,r)=>!n||t!==r[n-1]),mne=(e,t,n)=>{const r=`${t}`,o=e.get(r);o===void 0?e.set(r,[n]):o.push(n)},vne=(e,t)=>{const n=`${t}`;return e.get(n)},gne=e=>{const t=hne(e),n=X3.toPolygons(e),r=n.length,o=new Map,s=Wm.create();n.forEach((f,u)=>{f.vertices.forEach(d=>{mne(o,Wm.snap(s,d,t),u)})});const i=n.map(f=>{let u=[];return f.vertices.forEach(d=>{u=u.concat(vne(o,Wm.snap(s,d,t)))}),{e:1,d:pne(u)}});o.clear();let a=0;const l=i.length;for(let f=0;f<l;f++){const u=i[f];if(u.e>0){const d=new Array(r);d[f]=!0;do a=0,d.forEach((h,m)=>{const p=i[m];if(p.e>0){p.e=-1;for(let g=0;g<p.d.length;g++)d[p.d[g]]=!0;a++}});while(a>0);u.indexes=d}}const c=[];for(let f=0;f<l;f++)if(i[f].indexes){const u=[];i[f].indexes.forEach((d,h)=>u.push(n[h])),c.push(X3.create(u))}return c};var yne=gne;const wne=ut,xne=ht,bne=yne,Ene=(...e)=>{if(e=wne(e),e.length===0)throw new Error("wrong number of arguments");const t=e.map(n=>xne.isA(n)?bne(n):n);return t.length===1?t[0]:t};var Sne=Ene;const eh=ht,_ne=Ew,{Tree:q3}=Sw,$ne=(e,t)=>{if(!_ne(e,t))return eh.clone(e);const n=new q3(eh.toPolygons(e)),r=new q3(eh.toPolygons(t));n.invert(),n.clipTo(r),r.clipTo(n,!0),n.addPolygons(r.allPolygons()),n.invert();const o=n.allPolygons();return eh.create(o)};var Ane=$ne;const Tne=ut,Cne=Af,Pne=Ane,kne=(...e)=>{e=Tne(e);let t=e.shift();return e.forEach(n=>{t=Pne(t,n)}),t=Cne(t),t};var DP=kne;const Rne=ut,Nne=ht,One=Si,Mne=xw,Lne=bw,Dne=DP,Ine=(...e)=>{e=Rne(e);const t=e.map(o=>Lne({z0:-1,z1:1},o)),n=Dne(t),r=One(n);return Mne(r,Nne.toPolygons(n))};var Fne=Ine;const zne=ut,Bne=$f,Gne=dt,jne=ht,Vne=Fne,Une=DP,Hne=(...e)=>{if(e=zne(e),e.length===0)throw new Error("wrong number of arguments");if(!Bne(e))throw new Error("only subtract of the types are supported");const t=e[0];return Gne.isA(t)?Vne(e):jne.isA(t)?Une(e):t};var Wne=Hne;const Nl=ht,Xne=Ew,{Tree:Y3}=Sw,qne=(e,t)=>{if(!Xne(e,t))return Yne(e,t);const n=new Y3(Nl.toPolygons(e)),r=new Y3(Nl.toPolygons(t));n.clipTo(r,!1),r.clipTo(n),r.invert(),r.clipTo(n),r.invert();const o=n.allPolygons().concat(r.allPolygons());return Nl.create(o)},Yne=(e,t)=>{let n=Nl.toPolygons(e);return n=n.concat(Nl.toPolygons(t)),Nl.create(n)};var IP=qne;const Zne=ut,Qne=Af,Kne=IP,Jne=(...e)=>{e=Zne(e);let t;for(t=1;t<e.length;t+=2)e.push(Kne(e[t-1],e[t]));let n=e[t-1];return n=Qne(n),n};var FP=Jne;const ere=ut,tre=ht,nre=Si,rre=xw,ore=bw,sre=FP,ire=(...e)=>{e=ere(e);const t=e.map(o=>ore({z0:-1,z1:1},o)),n=sre(t),r=nre(n);return rre(r,tre.toPolygons(n))};var zP=ire;const are=ut,lre=$f,cre=dt,ure=ht,fre=zP,dre=FP,hre=(...e)=>{if(e=are(e),e.length===0)throw new Error("wrong number of arguments");if(!lre(e))throw new Error("only unions of the same type are supported");const t=e[0];return cre.isA(t)?fre(e):ure.isA(t)?dre(e):t};var _w=hre,pre={intersect:dne,scission:Sne,subtract:Wne,union:_w};const{EPS:mre,TAU:vre}=Et,Z3=QC,au=hw,Zt=yt,gre=g1,yre=(e,t)=>{const n={delta:1,corners:"edge",closed:!1,segments:16};let{delta:r,corners:o,closed:s,segments:i}=Object.assign({},n,e);if(Math.abs(r)<mre)return t;let a=e.closed?gre(t):1;a===0&&(a=1);const l=a>0&&r>=0||a<0&&r<0;r=Math.abs(r);let c=null,f=[];const u=[],d=Zt.create(),h=t.length;for(let m=0;m<h;m++){const p=(m+1)%h,g=t[m],v=t[p];l?Zt.subtract(d,g,v):Zt.subtract(d,v,g),Zt.normal(d,d),Zt.normalize(d,d),Zt.scale(d,d,r);const y=Zt.add(Zt.create(),g,d),w=Zt.add(Zt.create(),v,d),b=[y,w];if(c!=null&&(s||!s&&p!==0)){const E=Z3(c[0],c[1],b[0],b[1]);E?(f.pop(),b[0]=E):u.push({c:g,s0:c,s1:b})}c=[y,w],!(p===0&&!s)&&(f.push(b[0]),f.push(b[1]))}if(s&&c!=null){const m=f[0],p=f[1],g=Z3(c[0],c[1],m,p);if(g)f[0]=g,f.pop();else{const v=t[0],y=[m,p];u.push({c:v,s0:c,s1:y})}}if(o==="edge"){const m=new Map;f.forEach((v,y)=>m.set(v,y));const p=au.create(),g=au.create();u.forEach(v=>{au.fromPoints(p,v.s0[0],v.s0[1]),au.fromPoints(g,v.s1[0],v.s1[1]);const y=au.intersectPointOfLines(p,g);if(Number.isFinite(y[0])&&Number.isFinite(y[1])){const w=v.s0[1],b=m.get(w);f[b]=y,f[(b+1)%f.length]=void 0}else{const w=v.s1[0],b=m.get(w);f[b]=void 0}}),f=f.filter(v=>v!==void 0)}if(o==="round"){let m=Math.floor(i/4);const p=Zt.create();u.forEach(g=>{let v=Zt.angle(Zt.subtract(p,g.s1[0],g.c));if(v-=Zt.angle(Zt.subtract(p,g.s0[1],g.c)),l&&v<0&&(v=v+Math.PI,v<0&&(v=v+Math.PI)),!l&&v>0&&(v=v-Math.PI,v>0&&(v=v-Math.PI)),v!==0){m=Math.floor(i*(Math.abs(v)/vre));const y=v/m,w=Zt.angle(Zt.subtract(p,g.s0[1],g.c)),b=[];for(let E=1;E<m;E++){const S=w+y*E,$=Zt.fromAngleRadians(Zt.create(),S);Zt.scale($,$,r),Zt.add($,$,g.c),b.push($)}if(b.length>0){const E=g.s0[1];let S=f.findIndex($=>Zt.equals(E,$));S=(S+1)%f.length,f.splice(S,0,...b)}}else{const y=g.s1[0],w=f.findIndex(b=>Zt.equals(y,b));f.splice(w,1)}})}return f};var _1=yre;const th=dt,wre=_1,xre=(e,t)=>{const n={delta:1,corners:"edge",segments:16},{delta:r,corners:o,segments:s}=Object.assign({},n,e);if(!(o==="edge"||o==="chamfer"||o==="round"))throw new Error('corners must be "edge", "chamfer", or "round"');const l=th.toOutlines(t).map(c=>(e={delta:r,corners:o,closed:!0,segments:s},wre(e,c))).reduce((c,f)=>c.concat(th.toSides(th.fromPoints(f))),[]);return th.create(l)};var bre=xre;const Q3=Dt,Ere=Ke,Sre=ht,lu=xt,_re=(e,t)=>{Ere.dot(lu.plane(t),e)>0&&(t=lu.invert(t));const r=[t],o=lu.transform(Q3.fromTranslation(Q3.create(),e),t),s=t.vertices.length;for(let i=0;i<s;i++){const a=i<s-1?i+1:0,l=lu.create([t.vertices[i],o.vertices[i],o.vertices[a],t.vertices[a]]);r.push(l)}return r.push(lu.invert(o)),Sre.create(r)};var $re=_re;const{EPS:Are,TAU:Xm}=Et,K3=Dt,Ft=Ke,Tre=NP,qm=ht,Ui=xt,Cre=bP,Pre=Af,Ym=IP,kre=$re,Rre=(e,t,n)=>{const r=t.toString();if(e.has(r))e.get(r)[1].push(n);else{const o=[t,[n]];e.set(r,o)}},Nre=(e,t,n)=>{const r=t[0].toString(),o=t[1].toString(),s=r<o?`${r},${o}`:`${o},${r}`;if(e.has(s))e.get(s)[1].push(n);else{const i=[t,[n]];e.set(s,i)}},Zm=(e,t)=>{e.findIndex(r=>r===t)<0&&e.push(t)},Ore=(e,t)=>{const n={delta:1,segments:12},{delta:r,segments:o}=Object.assign({},n,e);let s=qm.create();const i=new Map,a=new Map,l=Ft.create(),c=Ft.create();return qm.toPolygons(t).forEach((u,d)=>{const h=Ft.scale(Ft.create(),Ui.plane(u),2*r),m=Ui.transform(K3.fromTranslation(K3.create(),Ft.scale(Ft.create(),h,-.5)),u),p=kre(h,m);s=Ym(s,p);const g=u.vertices;for(let v=0;v<g.length;v++){Rre(i,g[v],Ui.plane(u));const y=(v+1)%g.length,w=[g[v],g[y]];Nre(a,w,Ui.plane(u))}}),a.forEach(u=>{const d=u[0],h=u[1],m=d[0],p=d[1],g=Ft.subtract(Ft.create(),p,m);Ft.normalize(g,g);const v=h[0],y=Ft.cross(Ft.create(),v,g);let w=[];for(let H=0;H<o;H++)Zm(w,H*Xm/o);for(let H=0,te=h.length;H<te;H++){const pe=h[H],j=Ft.dot(y,pe),de=Ft.dot(v,pe);let ee=Math.atan2(j,de);ee<0&&(ee+=Xm),Zm(w,ee),ee=Math.atan2(-j,-de),ee<0&&(ee+=Xm),Zm(w,ee)}w=w.sort(Tre);const b=w.length;let E,S;const $=[],A=[],G=[];for(let H=-1;H<b;H++){const te=w[H<0?H+b:H],pe=Math.sin(te),j=Math.cos(te);Ft.scale(l,v,j*r),Ft.scale(c,y,pe*r),Ft.add(l,l,c);const de=Ft.add(Ft.create(),m,l),ee=Ft.add(Ft.create(),p,l);let we=!1;if(H>=0&&Ft.distance(de,E)<Are&&(we=!0),!we){if(H>=0){$.push(de),A.push(ee);const oe=[S,ee,de,E],$e=Ui.create(oe);G.push($e)}E=de,S=ee}}A.reverse(),G.push(Ui.create($)),G.push(Ui.create(A));const I=qm.create(G);s=Ym(s,I)}),i.forEach(u=>{const d=u[0],h=u[1],m=h[0];let p=null,g=0;for(let b=1;b<h.length;b++){const E=h[b],S=Ft.cross(l,m,E),$=Ft.length(S);$>.05&&$>g&&(g=$,p=E)}p||(p=Ft.orthogonal(l,m));const v=Ft.cross(l,m,p);Ft.normalize(v,v);const y=Ft.cross(c,v,m),w=Cre({center:[d[0],d[1],d[2]],radius:r,segments:o,axes:[m,v,y]});s=Ym(s,w)}),Pre(s)};var Mre=Ore;const Lre=ht,Dre=_w,Ire=Mre,Fre=(e,t)=>{const n={delta:1,corners:"round",segments:12},{delta:r,corners:o,segments:s}=Object.assign({},n,e);if(o!=="round")throw new Error('corners must be "round" for 3D geometries');if(Lre.toPolygons(t).length===0)throw new Error("the given geometry cannot be empty");e={delta:r,corners:o,segments:s};const a=Ire(e,t);return Dre(t,a)};var zre=Fre;const Bre=g1,ur=yt,al=dt,xu=Ot,J3=_1,Gre=e=>{let{external:t,internal:n}=e;Bre(t)<0?t=t.reverse():n=n.reverse();const r=xu.fromPoints({closed:!0},t),o=xu.fromPoints({closed:!0},n),s=al.toSides(al.fromPoints(xu.toPoints(r))),i=al.toSides(al.fromPoints(xu.toPoints(o)));return s.push(...i),al.create(s)},jre=(e,t,n,r)=>{const{points:o,external:s,internal:i}=e,a=Math.floor(t/2),l=[],c=[];if(n==="round"&&a>0){const u=Math.PI/a,d=o[o.length-1],h=ur.angle(ur.subtract(ur.create(),s[s.length-1],d)),m=o[0],p=ur.angle(ur.subtract(ur.create(),i[0],m));for(let g=1;g<a;g++){let v=h+u*g,y=ur.fromAngleRadians(ur.create(),v);ur.scale(y,y,r),ur.add(y,y,d),l.push(y),v=p+u*g,y=ur.fromAngleRadians(ur.create(),v),ur.scale(y,y,r),ur.add(y,y,m),c.push(y)}}const f=[];return f.push(...s,...l,...i.reverse(),...c),al.fromPoints(f)},Vre=(e,t)=>{e=Object.assign({},{delta:1,corners:"edge",segments:16},e);const{delta:r,corners:o,segments:s}=e;if(r<=0)throw new Error("the given delta must be positive for paths");if(!(o==="edge"||o==="chamfer"||o==="round"))throw new Error('corners must be "edge", "chamfer", or "round"');const i=t.isClosed,a=xu.toPoints(t);if(a.length===0)throw new Error("the given geometry cannot be empty");const l={points:a,external:J3({delta:r,corners:o,segments:s,closed:i},a),internal:J3({delta:-r,corners:o,segments:s,closed:i},a)};return t.isClosed?Gre(l):jre(l,s,o,r)};var Ure=Vre;const Hre=ut,Wre=dt,Xre=ht,qre=Ot,Yre=bre,Zre=zre,Qre=Ure,Kre=(e,...t)=>{if(t=Hre(t),t.length===0)throw new Error("wrong number of arguments");const n=t.map(r=>qre.isA(r)?Qre(e,r):Wre.isA(r)?Yre(e,r):Xre.isA(r)?Zre(e,r):r);return n.length===1?n[0]:n};var $w=Kre;const nh=dt,e_=lw,Jre=_1,eoe=(e,t)=>{const n={delta:1,corners:"edge",segments:0},{delta:r,corners:o,segments:s}=Object.assign({},n,e);if(!(o==="edge"||o==="chamfer"||o==="round"))throw new Error('corners must be "edge", "chamfer", or "round"');const i=nh.toOutlines(t),l=i.map(c=>(e={delta:i.reduce((d,h)=>d+e_.arePointsInside(c,e_.create(h)),0)%2===0?r:-r,corners:o,closed:!0,segments:s},Jre(e,c))).reduce((c,f)=>c.concat(nh.toSides(nh.fromPoints(f))),[]);return nh.create(l)};var toe=eoe;const t_=Ot,noe=_1,roe=(e,t)=>{const n={delta:1,corners:"edge",closed:t.isClosed,segments:16},{delta:r,corners:o,closed:s,segments:i}=Object.assign({},n,e);if(!(o==="edge"||o==="chamfer"||o==="round"))throw new Error('corners must be "edge", "chamfer", or "round"');e={delta:r,corners:o,closed:s,segments:i};const a=noe(e,t_.toPoints(t));return t_.fromPoints({closed:s},a)};var ooe=roe;const soe=ut,ioe=dt,aoe=Ot,loe=toe,coe=ooe,uoe=(e,...t)=>{if(t=soe(t),t.length===0)throw new Error("wrong number of arguments");const n=t.map(r=>aoe.isA(r)?coe(e,r):ioe.isA(r)?loe(e,r):r);return n.length===1?n[0]:n};var foe=uoe,doe={expand:$w,offset:foe};const cu=Dt,Qm=Ke,hoe=dt,Km=dc,poe=b1,moe=(e,t)=>{const n={offset:[0,0,1],twistAngle:0,twistSteps:12,repair:!0};let{offset:r,twistAngle:o,twistSteps:s,repair:i}=Object.assign({},n,e);if(s<1)throw new Error("twistSteps must be 1 or more");o===0&&(s=1);const a=Qm.clone(r),l=hoe.toSides(t);if(l.length===0)throw new Error("the given geometry cannot be empty");const c=Km.fromSides(l);a[2]<0&&Km.reverse(c,c);const f=cu.create(),u=(d,h,m)=>{const p=h/s*o,g=Qm.scale(Qm.create(),a,h/s);return cu.multiply(f,cu.fromZRotation(f,p),cu.fromTranslation(cu.create(),g)),Km.transform(f,m)};return e={numberOfSlices:s+1,capStart:!0,capEnd:!0,repair:i,callback:u},poe(e,c)};var $1=moe;const voe=dt,goe=Ot,yoe=$1,woe=(e,t)=>{if(!t.isClosed)throw new Error("extruded path must be closed");const n=goe.toPoints(t),r=voe.fromPoints(n);return yoe(e,r)};var xoe=woe;const boe=ut,Eoe=dt,Soe=Ot,_oe=$1,$oe=xoe,Aoe=(e,...t)=>{const n={height:1,twistAngle:0,twistSteps:1,repair:!0},{height:r,twistAngle:o,twistSteps:s,repair:i}=Object.assign({},n,e);if(t=boe(t),t.length===0)throw new Error("wrong number of arguments");e={offset:[0,0,r],twistAngle:o,twistSteps:s,repair:i};const a=t.map(l=>Soe.isA(l)?$oe(e,l):Eoe.isA(l)?_oe(e,l):l);return a.length===1?a[0]:a};var Toe=Aoe;const Coe=Ot,Poe=$w,koe=$1,Roe=(e,t)=>{const n={size:1,height:1},{size:r,height:o}=Object.assign({},n,e);if(e.delta=r,e.offset=[0,0,o],Coe.toPoints(t).length===0)throw new Error("the given geometry cannot be empty");const i=Poe(e,t);return koe(e,i)};var Noe=Roe;const{area:Ooe}=Sf,Jm=dt,Moe=Ot,Loe=$w,Doe=$1,Ioe=(e,t)=>{const n={size:1,height:1},{size:r,height:o}=Object.assign({},n,e);e.delta=r,e.offset=[0,0,o];const s=Jm.toOutlines(t);if(s.length===0)throw new Error("the given geometry cannot be empty");const a=s.map(c=>(Ooe(c)<0&&c.reverse(),Loe(e,Moe.fromPoints({closed:!0},c)))).reduce((c,f)=>c.concat(Jm.toSides(f)),[]),l=Jm.create(a);return Doe(e,l)};var Foe=Ioe;const zoe=ut,Boe=dt,Goe=Ot,joe=Noe,Voe=Foe,Uoe=(e,...t)=>{const n={size:1,height:1},{size:r,height:o}=Object.assign({},n,e);if(t=zoe(t),t.length===0)throw new Error("wrong number of arguments");if(r<=0)throw new Error("size must be positive");if(o<=0)throw new Error("height must be positive");const s=t.map(i=>Goe.isA(i)?joe(e,i):Boe.isA(i)?Voe(e,i):i);return s.length===1?s[0]:s};var Hoe=Uoe;const{TAU:uu}=Et,ev=dc,Do=Dt,Woe=b1,Xoe=dt,qoe=(e,t)=>{const n={angle:uu,startAngle:0,pitch:10,endOffset:0,segmentsPerRotation:32},{angle:r,endOffset:o,segmentsPerRotation:s,startAngle:i}=Object.assign({},n,e);let a;if(!e.pitch&&e.height?a=e.height/(r/uu):a=e.pitch?e.pitch:n.pitch,s<3)throw new Error("The number of segments per rotation needs to be at least 3.");const c=Xoe.toSides(t);if(c.length===0)throw new Error("the given geometry cannot be empty");const f=c.filter(v=>v[0][0]>=0);let u=ev.fromSides(c);f.length===0&&(u=ev.reverse(u));const d=Math.round(s/uu*Math.abs(r)),h=d>=2?d:2,m=Do.create();let p;const g=(v,y,w)=>{const b=i+r/h*y,E=o/h*y,S=(b-i)/uu*a;return Do.multiply(m,Do.fromTranslation(Do.create(),[E,0,S*Math.sign(r)]),Do.fromXRotation(Do.create(),-uu/4*Math.sign(r))),p=Do.create(),Do.multiply(p,Do.fromZRotation(Do.create(),b),m),ev.transform(p,w)};return Woe({numberOfSlices:h+1,callback:g},u)};var Yoe=qoe;const Zoe=ut,n_=dw,tv=Zo,r_=Dt,o_=dt,BP=ht,rl=xt,Qoe=Si,Koe=zP,Joe=(e,t)=>{const n=tv.fromNormalAndPoint(tv.create(),e.axis,e.origin);if(Number.isNaN(n[0])||Number.isNaN(n[1])||Number.isNaN(n[2])||Number.isNaN(n[3]))throw new Error("project: invalid axis or origin");const r=Qoe(t),o=r*r*Math.sqrt(3)/4;if(r===0)return o_.create();const s=BP.toPolygons(t);let i=[];for(let l=0;l<s.length;l++){const c=s[l].vertices.map(d=>tv.projectionOfPoint(n,d)),f=rl.create(c),u=rl.plane(f);n_(n,u)&&(rl.measureArea(f)<o||i.push(f))}if(!n_(n,[0,0,1])){const l=r_.fromVectorRotation(r_.create(),n,[0,0,1]);i=i.map(c=>rl.transform(l,c))}i=i.sort((l,c)=>rl.measureArea(c)-rl.measureArea(l));const a=i.map(l=>o_.fromPoints(l.vertices));return Koe(a)},ese=(e,...t)=>{const n={axis:[0,0,1],origin:[0,0,0]},{axis:r,origin:o}=Object.assign({},n,e);if(t=Zoe(t),t.length===0)throw new Error("wrong number of arguments");e={axis:r,origin:o};const s=t.map(i=>BP.isA(i)?Joe(e,i):i);return s.length===1?s[0]:s};var tse=ese,nse={extrudeFromSlices:b1,extrudeLinear:Toe,extrudeRectangular:Hoe,extrudeRotate:PP,extrudeHelical:Yoe,project:tse,slice:dc};const s_=yt,rse=e=>{let t=s_.fromValues(1/0,1/0);e.forEach(o=>{(o[1]<t[1]||o[1]===t[1]&&o[0]<t[0])&&(t=o)});const n=[];e.forEach(o=>{const s=sse(o[1]-t[1],o[0]-t[0]),i=s_.squaredDistance(o,t);n.push({point:o,angle:s,distSq:i})}),n.sort((o,s)=>o.angle!==s.angle?o.angle-s.angle:o.distSq-s.distSq);const r=[];return n.forEach(o=>{let s=r.length;for(;s>1&&ose(r[s-2],r[s-1],o.point)<=Number.EPSILON;)r.pop(),s=r.length;r.push(o.point)}),r},ose=(e,t,n)=>(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0]),sse=(e,t)=>e===0&&t===0?-1/0:-t/e;var GP=rse;const i_=dt,a_=ht,l_=Ot,ise=e=>{const t=new Set,n=[],r=o=>{const s=o.toString();t.has(s)||(n.push(o),t.add(s))};return e.forEach(o=>{i_.isA(o)?i_.toPoints(o).forEach(r):a_.isA(o)?a_.toPoints(o).forEach(s=>s.forEach(r)):l_.isA(o)&&l_.toPoints(o).forEach(r)}),n};var Aw=ise;const ase=ut,lse=Ot,cse=GP,use=Aw,fse=(...e)=>{e=ase(e);const t=use(e),n=cse(t);return lse.fromPoints({closed:!0},n)};var dse=fse;const hse=ut,c_=dt,pse=GP,mse=Aw,vse=(...e)=>{e=hse(e);const t=mse(e),n=pse(t);return n.length<3?c_.create():c_.fromPoints(n)};var gse=vse;const yse=ut,wse=ht,xse=xt,bse=yC,Ese=Aw,Sse=(...e)=>{if(e=yse(e),e.length===1)return e[0];const t=Ese(e),r=bse(t,{skipTriangulation:!0}).map(o=>{const s=o.map(i=>t[i]);return xse.create(s)});return wse.create(r)};var _se=Sse;const $se=ut,Ase=$f,Tse=dt,Cse=ht,Pse=Ot,kse=dse,Rse=gse,Nse=_se,Ose=(...e)=>{if(e=$se(e),e.length===0)throw new Error("wrong number of arguments");if(!Ase(e))throw new Error("only hulls of the same type are supported");const t=e[0];return Pse.isA(t)?kse(e):Tse.isA(t)?Rse(e):Cse.isA(t)?Nse(e):t};var jP=Ose;const Mse=ut,Lse=_w,Dse=jP,Ise=(...e)=>{if(e=Mse(e),e.length<2)throw new Error("wrong number of arguments");const t=[];for(let n=1;n<e.length;n++)t.push(Dse(e[n-1],e[n]));return Lse(t)};var Fse=Ise,zse={hull:jP,hullChain:Fse};const nv=Ke,VP=xt,Bse=(e,t)=>{const n=Math.abs(VP.measureArea(t));return Number.isFinite(n)&&n>e},Gse=(e,t)=>{let n=t.map(o=>{const s=o.vertices.map(l=>nv.snap(nv.create(),l,e)),i=[];for(let l=0;l<s.length;l++){const c=(l+1)%s.length;nv.equals(s[l],s[c])||i.push(s[l])}const a=VP.create(i);return o.color&&(a.color=o.color),a});const r=e*e*Math.sqrt(3)/4;return n=n.filter(o=>Bse(r,o)),n};var UP=Gse;const jse=dw,Sl=Ke,vp=xt,Vse=e=>{const t=vp.toPoints(e),n=[];for(let r=0;r<t.length;r++){const o=(r+1)%t.length,s={v1:t[r],v2:t[o]};n.push(s)}for(let r=0;r<n.length;r++){const o=(r+1)%t.length;n[r].next=n[o],n[o].prev=n[r]}return n},Use=(e,t)=>{const n=`${t.v1}:${t.v2}`;e.set(n,t)},rv=(e,t)=>{const n=`${t.v1}:${t.v2}`;e.delete(n)},Hse=(e,t)=>{const n=`${t.v2}:${t.v1}`;return e.get(n)},Wse=(e,t,n)=>{let r=e.prev.v1,o=e.prev.v2,s=t.next.v2;const i=u_(r,o,s,n);r=t.prev.v1,o=t.prev.v2,s=e.next.v2;const a=u_(r,o,s,n);return[i,a]},Xse=Sl.create(),qse=Sl.create(),u_=(e,t,n,r)=>{const o=Sl.subtract(Xse,t,e),s=Sl.subtract(qse,n,t);return Sl.cross(o,o,s),Sl.dot(o,r)},Yse=e=>{let t;const n=[];for(;e.next;){const r=e.next;n.push(e.v1),e.v1=null,e.v2=null,e.next=null,e.prev=null,e=r}return n.length>0&&(t=vp.create(n)),t},Zse=e=>{if(e.length<2)return e;const t=e[0].plane,n=e.slice(),r=new Map;for(;n.length>0;){const s=n.shift(),i=Vse(s);for(let a=0;a<i.length;a++){const l=i[a],c=Hse(r,l);if(c){const f=Wse(l,c,t);if(f[0]>=0&&f[1]>=0){const u=c.next,d=l.next;l.prev.next=c.next,l.next.prev=c.prev,c.prev.next=l.next,c.next.prev=l.prev,l.v1=null,l.v2=null,l.next=null,l.prev=null,rv(r,c),c.v1=null,c.v2=null,c.next=null,c.prev=null;const h=(m,p,g)=>{const v={v1:g.v1,v2:p.v2,next:p.next,prev:g.prev};g.prev.next=v,p.next.prev=v,rv(m,p),p.v1=null,p.v2=null,p.next=null,p.prev=null,rv(m,g),g.v1=null,g.v2=null,g.next=null,g.prev=null};f[0]===0&&h(r,u,u.prev),f[1]===0&&h(r,d,d.prev)}}else l.next&&Use(r,l)}}const o=[];return r.forEach(s=>{const i=Yse(s);i&&o.push(i)}),r.clear(),o},Qse=(e,t)=>Math.abs(e[3]-t[3])<15e-8?jse(e,t):!1,Kse=(e,t)=>{const n=[];t.forEach(o=>{const s=n.find(i=>Qse(i[0],vp.plane(o)));s?s[1].push(o):n.push([vp.plane(o),[o]])});let r=[];return n.forEach(o=>{const s=o[1],i=Zse(s);r=r.concat(i)}),r};var Jse=Kse;const f_=Et,Io=Ke,eie=xt,tr=e=>`${e}`,d_=(e,t,n,r,o,s)=>{const i=tr(r),a=tr(o),l=`${i}/${a}`,c=`${a}/${i}`;if(e.has(c))return Ch(e,t,n,o,r,null),null;const f={vertex0:r,vertex1:o,polygonindex:s};return e.has(l)?e.get(l).push(f):e.set(l,[f]),t.has(i)?t.get(i).push(l):t.set(i,[l]),n.has(a)?n.get(a).push(l):n.set(a,[l]),l},Ch=(e,t,n,r,o,s)=>{const i=tr(r),a=tr(o),l=`${i}/${a}`;let c=-1;const f=e.get(l);for(let u=0;u<f.length;u++){const d=f[u];let h=tr(d.vertex0);if(h===i&&(h=tr(d.vertex1),h===a&&!(s!==null&&d.polygonindex!==s))){c=u;break}}f.splice(c,1),f.length===0&&e.delete(l),c=t.get(i).indexOf(l),t.get(i).splice(c,1),t.get(i).length===0&&t.delete(i),c=n.get(a).indexOf(l),n.get(a).splice(c,1),n.get(a).length===0&&n.delete(a)},tie=e=>{const t=new Map;for(let n=0;n<e.length;n++){const r=e[n],o=r.vertices.length;if(o>=3){let s=r.vertices[0],i=tr(s);for(let a=0;a<o;a++){let l=a+1;l===o&&(l=0);const c=r.vertices[l],f=tr(c),u=`${i}/${f}`,d=`${f}/${i}`;if(t.has(d)){const h=t.get(d);h.splice(-1,1),h.length===0&&t.delete(d)}else{const h={vertex0:s,vertex1:c,polygonindex:n};t.has(u)?t.get(u).push(h):t.set(u,[h])}s=c,i=f}}else console.warn("warning: invalid polygon found during insertTjunctions")}if(t.size>0){const n=new Map,r=new Map,o=new Map;for(const[i,a]of t)o.set(i,!0),a.forEach(l=>{const c=tr(l.vertex0),f=tr(l.vertex1);n.has(c)?n.get(c).push(i):n.set(c,[i]),r.has(f)?r.get(f).push(i):r.set(f,[i])});const s=e.slice(0);for(;t.size!==0;){for(const a of t.keys())o.set(a,!0);let i=!1;for(;;){const a=Array.from(o.keys());if(a.length===0)break;const l=a[0];let c=!0;if(t.has(l)){const u=t.get(l)[0];for(let d=0;d<2;d++){const h=d===0?u.vertex0:u.vertex1,m=d===0?u.vertex1:u.vertex0,p=tr(h),g=tr(m);let v=[];d===0?r.has(p)&&(v=r.get(p)):n.has(p)&&(v=n.get(p));for(let y=0;y<v.length;y++){const w=v[y],b=t.get(w)[0],E=d===0?b.vertex0:b.vertex1;if(d===0?b.vertex1:b.vertex0,tr(E)===g){Ch(t,n,r,h,m,null),Ch(t,n,r,m,h,null),c=!1,d=2,i=!0;break}else{const $=h,A=m,G=E,I=Io.subtract(Io.create(),G,$),H=Io.dot(Io.subtract(Io.create(),A,$),I)/Io.dot(I,I);if(H>0&&H<1){const te=Io.scale(Io.create(),I,H);if(Io.add(te,te,$),Io.squaredDistance(te,A)<f_.EPS*f_.EPS){const j=b.polygonindex,de=s[j],ee=tr(b.vertex1);let we=-1;for(let rt=0;rt<de.vertices.length;rt++)if(tr(de.vertices[rt])===ee){we=rt;break}const oe=de.vertices.slice(0);oe.splice(we,0,m);const $e=eie.create(oe);s[j]=$e,Ch(t,n,r,b.vertex0,b.vertex1,j);const Ne=d_(t,n,r,b.vertex0,m,j),Ye=d_(t,n,r,m,b.vertex1,j);Ne!==null&&o.set(Ne,!0),Ye!==null&&o.set(Ye,!0),c=!1,d=2,i=!0;break}}}}}}c&&o.delete(l)}if(!i)break}e=s}return t.clear(),e};var nie=tie;const ov=Ke,sv=xt,rie=(e,t,n)=>{const r=t.vertices.length;if(r>3){if(r>4){const i=[0,0,0];t.vertices.forEach(a=>ov.add(i,i,a)),ov.snap(i,ov.divide(i,i,[r,r,r]),e);for(let a=0;a<r;a++){const l=sv.create([i,t.vertices[a],t.vertices[(a+1)%r]]);t.color&&(l.color=t.color),n.push(l)}return}const o=sv.create([t.vertices[0],t.vertices[1],t.vertices[2]]),s=sv.create([t.vertices[0],t.vertices[2],t.vertices[3]]);t.color&&(o.color=t.color,s.color=t.color),n.push(o,s);return}n.push(t)},oie=(e,t)=>{const n=[];return t.forEach(r=>{rie(e,r,n)}),n};var sie=oie;const iie=ut,aie=Si,lie=dt,HP=ht,cie=Ot,uie=UP,fie=Jse,die=nie,hie=sie,pie=(e,t)=>t,mie=(e,t)=>t,vie=(e,t)=>{const n={snap:!1,simplify:!1,triangulate:!1},{snap:r,simplify:o,triangulate:s}=Object.assign({},n,e),i=aie(t);let a=HP.toPolygons(t);r&&(a=uie(i,a)),o&&(a=fie(i,a)),s&&(a=die(a),a=hie(i,a));const l=Object.assign({},t);return l.polygons=a,l},gie=(e,...t)=>{if(t=iie(t),t.length===0)throw new Error("wrong number of arguments");const n=t.map(r=>{if(cie.isA(r))return pie(e,r);if(lie.isA(r))return mie(e,r);if(HP.isA(r))return vie(e,r);throw new Error("invalid geometry")});return n.length===1?n[0]:n};var yie=gie;const wie=ut,Ki=yt,Hg=dt,Wg=ht,Xg=Ot,Tw=Si,xie=UP,bie=e=>{const t=Tw(e),r=Xg.toPoints(e).map(o=>Ki.snap(Ki.create(),o,t));return Xg.create(r)},Eie=e=>{const t=Tw(e);let r=Hg.toSides(e).map(o=>[Ki.snap(Ki.create(),o[0],t),Ki.snap(Ki.create(),o[1],t)]);return r=r.filter(o=>!Ki.equals(o[0],o[1])),Hg.create(r)},Sie=e=>{const t=Tw(e),n=Wg.toPolygons(e),r=xie(t,n);return Wg.create(r)},_ie=(...e)=>{if(e=wie(e),e.length===0)throw new Error("wrong number of arguments");const t=e.map(n=>Xg.isA(n)?bie(n):Hg.isA(n)?Eie(n):Wg.isA(n)?Sie(n):n);return t.length===1?t[0]:t};var $ie=_ie,Aie={generalize:yie,snap:$ie,retessellate:Af};const Tie=(e,t,n)=>{for(e=e.slice();e.length<n;)e.push(t);return e};var Cie=Tie;const Pie=ut,h_=Cie,WP=pw,{translate:kie}=na,Rie=e=>{if(!Array.isArray(e.modes)||e.modes.length>3)throw new Error("align(): modes must be an array of length <= 3");if(e.modes=h_(e.modes,"none",3),e.modes.filter(t=>["center","max","min","none"].includes(t)).length!==3)throw new Error('align(): all modes must be one of "center", "max" or "min"');if(!Array.isArray(e.relativeTo)||e.relativeTo.length>3)throw new Error("align(): relativeTo must be an array of length <= 3");if(e.relativeTo=h_(e.relativeTo,0,3),e.relativeTo.filter(t=>Number.isFinite(t)||t==null).length!==3)throw new Error("align(): all relativeTo values must be a number, or null.");if(typeof e.grouped!="boolean")throw new Error("align(): grouped must be a boolean value.");return e},Nie=(e,t,n)=>{for(let r=0;r<3;r++)e[r]==null&&(t[r]==="center"?e[r]=(n[0][r]+n[1][r])/2:t[r]==="max"?e[r]=n[1][r]:t[r]==="min"&&(e[r]=n[0][r]));return e},p_=(e,t,n)=>{const r=WP(e),o=[0,0,0];for(let s=0;s<3;s++)t[s]==="center"?o[s]=n[s]-(r[0][s]+r[1][s])/2:t[s]==="max"?o[s]=n[s]-r[1][s]:t[s]==="min"&&(o[s]=n[s]-r[0][s]);return kie(o,e)},Oie=(e,...t)=>{e=Object.assign({},{modes:["center","center","min"],relativeTo:[0,0,0],grouped:!1},e),e=Rie(e);let{modes:r,relativeTo:o,grouped:s}=e;if(t=Pie(t),t.length===0)throw new Error("align(): No geometries were provided to act upon");if(o.filter(i=>i==null).length){const i=WP(t);o=Nie(o,r,i)}return s?t=p_(t,r,o):t=t.map(i=>p_(i,r,o)),t.length===1?t[0]:t};var Mie=Oie;const Lie=ut,Die=dt,Iie=ht,Fie=Ot,zie=Sa,{translate:Bie}=na,iv=(e,t)=>{const n={axes:[!0,!0,!0],relativeTo:[0,0,0]},{axes:r,relativeTo:o}=Object.assign({},n,e),s=zie(t),i=[0,0,0];return r[0]&&(i[0]=o[0]-(s[0][0]+(s[1][0]-s[0][0])/2)),r[1]&&(i[1]=o[1]-(s[0][1]+(s[1][1]-s[0][1])/2)),r[2]&&(i[2]=o[2]-(s[0][2]+(s[1][2]-s[0][2])/2)),Bie(i,t)},A1=(e,...t)=>{const n={axes:[!0,!0,!0],relativeTo:[0,0,0]},{axes:r,relativeTo:o}=Object.assign({},n,e);if(t=Lie(t),t.length===0)throw new Error("wrong number of arguments");if(o.length!==3)throw new Error("relativeTo must be an array of length 3");e={axes:r,relativeTo:o};const s=t.map(i=>Fie.isA(i)||Die.isA(i)||Iie.isA(i)?iv(e,i):i);return s.length===1?s[0]:s},Gie=(...e)=>A1({axes:[!0,!1,!1]},e),jie=(...e)=>A1({axes:[!1,!0,!1]},e),Vie=(...e)=>A1({axes:[!1,!1,!0]},e);var rh={center:A1,centerX:Gie,centerY:jie,centerZ:Vie};const Uie=ut,m_=Dt,v_=dt,g_=ht,y_=Ot,T1=(e,...t)=>{if(!Array.isArray(e))throw new Error("factors must be an array");if(t=Uie(t),t.length===0)throw new Error("wrong number of arguments");for(e=e.slice();e.length<3;)e.push(1);if(e[0]<=0||e[1]<=0||e[2]<=0)throw new Error("factors must be positive");const n=m_.fromScaling(m_.create(),e),r=t.map(o=>y_.isA(o)?y_.transform(n,o):v_.isA(o)?v_.transform(n,o):g_.isA(o)?g_.transform(n,o):o);return r.length===1?r[0]:r},Hie=(e,...t)=>T1([e,1,1],t),Wie=(e,...t)=>T1([1,e,1],t),Xie=(e,...t)=>T1([1,1,e],t);var oh={scale:T1,scaleX:Hie,scaleY:Wie,scaleZ:Xie};const qie=ut,w_=dt,x_=ht,b_=Ot,Yie=(e,...t)=>{if(t=qie(t),t.length===0)throw new Error("wrong number of arguments");const n=t.map(r=>b_.isA(r)?b_.transform(e,r):w_.isA(r)?w_.transform(e,r):x_.isA(r)?x_.transform(e,r):r);return n.length===1?n[0]:n};var Zie=Yie,Qie={align:Mie,center:rh.center,centerX:rh.centerX,centerY:rh.centerY,centerZ:rh.centerZ,mirror:gu.mirror,mirrorX:gu.mirrorX,mirrorY:gu.mirrorY,mirrorZ:gu.mirrorZ,rotate:wu.rotate,rotateX:wu.rotateX,rotateY:wu.rotateY,rotateZ:wu.rotateZ,scale:oh.scale,scaleX:oh.scaleX,scaleY:oh.scaleY,scaleZ:oh.scaleZ,transform:Zie,translate:na.translate,translateX:na.translateX,translateY:na.translateY,translateZ:na.translateZ},pc={colors:IX,curves:JX,geometries:cw,maths:MY,measurements:QZ,primitives:Oee,text:Uee,utils:OP,booleans:pre,expansions:doe,extrusions:nse,hulls:zse,modifiers:Aie,transforms:Qie},lt={},XP={};(function(e){var t={};e.default=function(n,r,o,s,i){var a=new Worker(t[r]||(t[r]=URL.createObjectURL(new Blob([n+';addEventListener("error",function(e){e=e.error;postMessage({$e$:[e.message,e.code,e.stack]})})'],{type:"text/javascript"}))));return a.onmessage=function(l){var c=l.data,f=c.$e$;if(f){var u=new Error(f[0]);u.code=f[1],u.stack=f[2],i(u,null)}else i(null,c)},a.postMessage(o,s),a}})(XP);var Kie=XP,_t=Uint8Array,qn=Uint16Array,mc=Uint32Array,vc=new _t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),gc=new _t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),ef=new _t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),qP=function(e,t){for(var n=new qn(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];for(var o=new mc(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)o[s]=s-n[r]<<5|r;return[n,o]},YP=qP(vc,2),Cw=YP[0],gp=YP[1];Cw[28]=258,gp[258]=28;var ZP=qP(gc,0),QP=ZP[0],qg=ZP[1],tf=new qn(32768);for(var Ht=0;Ht<32768;++Ht){var Us=(Ht&43690)>>>1|(Ht&21845)<<1;Us=(Us&52428)>>>2|(Us&13107)<<2,Us=(Us&61680)>>>4|(Us&3855)<<4,tf[Ht]=((Us&65280)>>>8|(Us&255)<<8)>>>1}var Kr=function(e,t,n){for(var r=e.length,o=0,s=new qn(t);o<r;++o)e[o]&&++s[e[o]-1];var i=new qn(t);for(o=0;o<t;++o)i[o]=i[o-1]+s[o-1]<<1;var a;if(n){a=new qn(1<<t);var l=15-t;for(o=0;o<r;++o)if(e[o])for(var c=o<<4|e[o],f=t-e[o],u=i[e[o]-1]++<<f,d=u|(1<<f)-1;u<=d;++u)a[tf[u]>>>l]=c}else for(a=new qn(r),o=0;o<r;++o)e[o]&&(a[o]=tf[i[e[o]-1]++]>>>15-e[o]);return a},Es=new _t(288);for(var Ht=0;Ht<144;++Ht)Es[Ht]=8;for(var Ht=144;Ht<256;++Ht)Es[Ht]=9;for(var Ht=256;Ht<280;++Ht)Es[Ht]=7;for(var Ht=280;Ht<288;++Ht)Es[Ht]=8;var Zl=new _t(32);for(var Ht=0;Ht<32;++Ht)Zl[Ht]=5;var KP=Kr(Es,9,0),JP=Kr(Es,9,1),ek=Kr(Zl,5,0),tk=Kr(Zl,5,1),Ph=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},Wr=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(t&7)&n},kh=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(t&7)},Tf=function(e){return(e+7)/8|0},Jr=function(e,t,n){(t==null||t<0)&&(t=0),(n==null||n>e.length)&&(n=e.length);var r=new(e.BYTES_PER_ELEMENT==2?qn:e.BYTES_PER_ELEMENT==4?mc:_t)(n-t);return r.set(e.subarray(t,n)),r};lt.FlateErrorCode={UnexpectedEOF:0,InvalidBlockType:1,InvalidLengthLiteral:2,InvalidDistance:3,StreamFinished:4,NoStreamHandler:5,InvalidHeader:6,NoCallback:7,InvalidUTF8:8,ExtraFieldTooLong:9,InvalidDate:10,FilenameTooLong:11,StreamFinishing:12,InvalidZipData:13,UnknownCompressionMethod:14};var nk=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],ot=function(e,t,n){var r=new Error(t||nk[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,ot),!n)throw r;return r},Cf=function(e,t,n){var r=e.length;if(!r||n&&n.f&&!n.l)return t||new _t(0);var o=!t||n,s=!n||n.i;n||(n={}),t||(t=new _t(r*3));var i=function(en){var an=t.length;if(en>an){var Vn=new _t(Math.max(an*2,en));Vn.set(t),t=Vn}},a=n.f||0,l=n.p||0,c=n.b||0,f=n.l,u=n.d,d=n.m,h=n.n,m=r*8;do{if(!f){a=Wr(e,l,1);var p=Wr(e,l+1,3);if(l+=3,p)if(p==1)f=JP,u=tk,d=9,h=5;else if(p==2){var w=Wr(e,l,31)+257,b=Wr(e,l+10,15)+4,E=w+Wr(e,l+5,31)+1;l+=14;for(var S=new _t(E),$=new _t(19),A=0;A<b;++A)$[ef[A]]=Wr(e,l+A*3,7);l+=b*3;for(var G=Ph($),I=(1<<G)-1,H=Kr($,G,1),A=0;A<E;){var te=H[Wr(e,l,I)];l+=te&15;var g=te>>>4;if(g<16)S[A++]=g;else{var pe=0,j=0;for(g==16?(j=3+Wr(e,l,3),l+=2,pe=S[A-1]):g==17?(j=3+Wr(e,l,7),l+=3):g==18&&(j=11+Wr(e,l,127),l+=7);j--;)S[A++]=pe}}var de=S.subarray(0,w),ee=S.subarray(w);d=Ph(de),h=Ph(ee),f=Kr(de,d,1),u=Kr(ee,h,1)}else ot(1);else{var g=Tf(l)+4,v=e[g-4]|e[g-3]<<8,y=g+v;if(y>r){s&&ot(0);break}o&&i(c+v),t.set(e.subarray(g,y),c),n.b=c+=v,n.p=l=y*8,n.f=a;continue}if(l>m){s&&ot(0);break}}o&&i(c+131072);for(var we=(1<<d)-1,oe=(1<<h)-1,$e=l;;$e=l){var pe=f[kh(e,l)&we],Ne=pe>>>4;if(l+=pe&15,l>m){s&&ot(0);break}if(pe||ot(2),Ne<256)t[c++]=Ne;else if(Ne==256){$e=l,f=null;break}else{var Ye=Ne-254;if(Ne>264){var A=Ne-257,rt=vc[A];Ye=Wr(e,l,(1<<rt)-1)+Cw[A],l+=rt}var kt=u[kh(e,l)&oe],At=kt>>>4;kt||ot(3),l+=kt&15;var ee=QP[At];if(At>3){var rt=gc[At];ee+=kh(e,l)&(1<<rt)-1,l+=rt}if(l>m){s&&ot(0);break}o&&i(c+131072);for(var Ct=c+Ye;c<Ct;c+=4)t[c]=t[c-ee],t[c+1]=t[c+1-ee],t[c+2]=t[c+2-ee],t[c+3]=t[c+3-ee];c=Ct}}n.l=f,n.p=$e,n.b=c,n.f=a,f&&(a=1,n.m=d,n.d=u,n.n=h)}while(!a);return c==t.length?t:Jr(t,0,c)},Bo=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>>8},ll=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>>8,e[r+2]|=n>>>16},Rh=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var o=n.length,s=n.slice();if(!o)return[ps,0];if(o==1){var i=new _t(n[0].s+1);return i[n[0].s]=1,[i,1]}n.sort(function(E,S){return E.f-S.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],c=0,f=1,u=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};f!=o-1;)a=n[n[c].f<n[u].f?c++:u++],l=n[c!=f&&n[c].f<n[u].f?c++:u++],n[f++]={s:-1,f:a.f+l.f,l:a,r:l};for(var d=s[0].s,r=1;r<o;++r)s[r].s>d&&(d=s[r].s);var h=new qn(d+1),m=yp(n[f-1],h,0);if(m>t){var r=0,p=0,g=m-t,v=1<<g;for(s.sort(function(S,$){return h[$.s]-h[S.s]||S.f-$.f});r<o;++r){var y=s[r].s;if(h[y]>t)p+=v-(1<<m-h[y]),h[y]=t;else break}for(p>>>=g;p>0;){var w=s[r].s;h[w]<t?p-=1<<t-h[w]++-1:++r}for(;r>=0&&p;--r){var b=s[r].s;h[b]==t&&(--h[b],++p)}m=t}return[new _t(h),m]},yp=function(e,t,n){return e.s==-1?Math.max(yp(e.l,t,n+1),yp(e.r,t,n+1)):t[e.s]=n},Yg=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new qn(++t),r=0,o=e[0],s=1,i=function(l){n[r++]=l},a=1;a<=t;++a)if(e[a]==o&&a!=t)++s;else{if(!o&&s>2){for(;s>138;s-=138)i(32754);s>2&&(i(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(i(o),--s;s>6;s-=6)i(8304);s>2&&(i(s-3<<5|8208),s=0)}for(;s--;)i(o);s=1,o=e[a]}return[n.subarray(0,r),t]},cl=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},wp=function(e,t,n){var r=n.length,o=Tf(t+2);e[o]=r&255,e[o+1]=r>>>8,e[o+2]=e[o]^255,e[o+3]=e[o+1]^255;for(var s=0;s<r;++s)e[o+s+4]=n[s];return(o+4+r)*8},Zg=function(e,t,n,r,o,s,i,a,l,c,f){Bo(t,f++,n),++o[256];for(var u=Rh(o,15),d=u[0],h=u[1],m=Rh(s,15),p=m[0],g=m[1],v=Yg(d),y=v[0],w=v[1],b=Yg(p),E=b[0],S=b[1],$=new qn(19),A=0;A<y.length;++A)$[y[A]&31]++;for(var A=0;A<E.length;++A)$[E[A]&31]++;for(var G=Rh($,7),I=G[0],H=G[1],te=19;te>4&&!I[ef[te-1]];--te);var pe=c+5<<3,j=cl(o,Es)+cl(s,Zl)+i,de=cl(o,d)+cl(s,p)+i+14+3*te+cl($,I)+(2*$[16]+3*$[17]+7*$[18]);if(pe<=j&&pe<=de)return wp(t,f,e.subarray(l,l+c));var ee,we,oe,$e;if(Bo(t,f,1+(de<j)),f+=2,de<j){ee=Kr(d,h,0),we=d,oe=Kr(p,g,0),$e=p;var Ne=Kr(I,H,0);Bo(t,f,w-257),Bo(t,f+5,S-1),Bo(t,f+10,te-4),f+=14;for(var A=0;A<te;++A)Bo(t,f+3*A,I[ef[A]]);f+=3*te;for(var Ye=[y,E],rt=0;rt<2;++rt)for(var kt=Ye[rt],A=0;A<kt.length;++A){var At=kt[A]&31;Bo(t,f,Ne[At]),f+=I[At],At>15&&(Bo(t,f,kt[A]>>>5&127),f+=kt[A]>>>12)}}else ee=KP,we=Es,oe=ek,$e=Zl;for(var A=0;A<a;++A)if(r[A]>255){var At=r[A]>>>18&31;ll(t,f,ee[At+257]),f+=we[At+257],At>7&&(Bo(t,f,r[A]>>>23&31),f+=vc[At]);var Ct=r[A]&31;ll(t,f,oe[Ct]),f+=$e[Ct],Ct>3&&(ll(t,f,r[A]>>>5&8191),f+=gc[Ct])}else ll(t,f,ee[r[A]]),f+=we[r[A]];return ll(t,f,ee[256]),f+we[256]},rk=new mc([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),ps=new _t(0),ok=function(e,t,n,r,o,s){var i=e.length,a=new _t(r+i+5*(1+Math.ceil(i/7e3))+o),l=a.subarray(r,a.length-o),c=0;if(!t||i<8)for(var f=0;f<=i;f+=65535){var u=f+65535;u>=i&&(l[c>>3]=s),c=wp(l,c+1,e.subarray(f,u))}else{for(var d=rk[t-1],h=d>>>13,m=d&8191,p=(1<<n)-1,g=new qn(32768),v=new qn(p+1),y=Math.ceil(n/3),w=2*y,b=function(It){return(e[It]^e[It+1]<<y^e[It+2]<<w)&p},E=new mc(25e3),S=new qn(288),$=new qn(32),A=0,G=0,f=0,I=0,H=0,te=0;f<i;++f){var pe=b(f),j=f&32767,de=v[pe];if(g[j]=de,v[pe]=j,H<=f){var ee=i-f;if((A>7e3||I>24576)&&ee>423){c=Zg(e,l,0,E,S,$,G,I,te,f-te,c),I=A=G=0,te=f;for(var we=0;we<286;++we)S[we]=0;for(var we=0;we<30;++we)$[we]=0}var oe=2,$e=0,Ne=m,Ye=j-de&32767;if(ee>2&&pe==b(f-Ye))for(var rt=Math.min(h,ee)-1,kt=Math.min(32767,f),At=Math.min(258,ee);Ye<=kt&&--Ne&&j!=de;){if(e[f+oe]==e[f+oe-Ye]){for(var Ct=0;Ct<At&&e[f+Ct]==e[f+Ct-Ye];++Ct);if(Ct>oe){if(oe=Ct,$e=Ye,Ct>rt)break;for(var en=Math.min(Ye,Ct-2),an=0,we=0;we<en;++we){var Vn=f-Ye+we+32768&32767,lo=g[Vn],Br=Vn-lo+32768&32767;Br>an&&(an=Br,de=Vn)}}}j=de,de=g[j],Ye+=j-de+32768&32767}if($e){E[I++]=268435456|gp[oe]<<18|qg[$e];var Po=gp[oe]&31,co=qg[$e]&31;G+=vc[Po]+gc[co],++S[257+Po],++$[co],H=f+oe,++A}else E[I++]=e[f],++S[e[f]]}}c=Zg(e,l,s,E,S,$,G,I,te,f-te,c),!s&&c&7&&(c=wp(l,c+1,ps))}return Jr(a,0,r+Tf(c)+o)},sk=function(){for(var e=new Int32Array(256),t=0;t<256;++t){for(var n=t,r=9;--r;)n=(n&1&&-306674912)^n>>>1;e[t]=n}return e}(),yc=function(){var e=-1;return{p:function(t){for(var n=e,r=0;r<t.length;++r)n=sk[n&255^t[r]]^n>>>8;e=n},d:function(){return~e}}},Pw=function(){var e=1,t=0;return{p:function(n){for(var r=e,o=t,s=n.length|0,i=0;i!=s;){for(var a=Math.min(i+2655,s);i<a;++i)o+=r+=n[i];r=(r&65535)+15*(r>>16),o=(o&65535)+15*(o>>16)}e=r,t=o},d:function(){return e%=65521,t%=65521,(e&255)<<24|e>>>8<<16|(t&255)<<8|t>>>8}}},$a=function(e,t,n,r,o){return ok(e,t.level==null?6:t.level,t.mem==null?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):12+t.mem,n,r,!o)},Pf=function(e,t){var n={};for(var r in e)n[r]=e[r];for(var r in t)n[r]=t[r];return n},E_=function(e,t,n){for(var r=e(),o=e.toString(),s=o.slice(o.indexOf("[")+1,o.lastIndexOf("]")).replace(/\s+/g,"").split(","),i=0;i<r.length;++i){var a=r[i],l=s[i];if(typeof a=="function"){t+=";"+l+"=";var c=a.toString();if(a.prototype)if(c.indexOf("[native code]")!=-1){var f=c.indexOf(" ",8)+1;t+=c.slice(f,c.indexOf("(",f))}else{t+=c;for(var u in a.prototype)t+=";"+l+".prototype."+u+"="+a.prototype[u].toString()}else t+=c}else n[l]=a}return[t,n]},sh=[],Jie=function(e){var t=[];for(var n in e)e[n].buffer&&t.push((e[n]=new e[n].constructor(e[n])).buffer);return t},ik=function(e,t,n,r){var o;if(!sh[n]){for(var s="",i={},a=e.length-1,l=0;l<a;++l)o=E_(e[l],s,i),s=o[0],i=o[1];sh[n]=E_(e[a],s,i)}var c=Pf({},sh[n][1]);return Kie.default(sh[n][0]+";onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage="+t.toString()+"}",n,c,Jie(c),r)},wc=function(){return[_t,qn,mc,vc,gc,ef,Cw,QP,JP,tk,tf,nk,Kr,Ph,Wr,kh,Tf,Jr,ot,Cf,Sc,_i,kw]},xc=function(){return[_t,qn,mc,vc,gc,ef,gp,qg,KP,Es,ek,Zl,tf,rk,ps,Kr,Bo,ll,Rh,yp,Yg,cl,wp,Zg,Tf,Jr,ok,$a,kf,_i]},ak=function(){return[Rw,Ow,Pt,yc,sk]},lk=function(){return[Nw,fk]},ck=function(){return[Mw,Pt,Pw]},uk=function(){return[dk]},_i=function(e){return postMessage(e,[e.buffer])},kw=function(e){return e&&e.size&&new _t(e.size)},bc=function(e,t,n,r,o,s){var i=ik(n,r,o,function(a,l){i.terminate(),s(a,l)});return i.postMessage([e,t],t.consume?[e.buffer]:[]),function(){i.terminate()}},no=function(e){return e.ondata=function(t,n){return postMessage([t,n],[t.buffer])},function(t){return e.push(t.data[0],t.data[1])}},Ec=function(e,t,n,r,o){var s,i=ik(e,r,o,function(a,l){a?(i.terminate(),t.ondata.call(t,a)):(l[1]&&i.terminate(),t.ondata.call(t,a,l[0],l[1]))});i.postMessage(n),t.push=function(a,l){t.ondata||ot(5),s&&t.ondata(ot(4,0,1),null,!!l),i.postMessage([a,s=l],[a.buffer])},t.terminate=function(){i.terminate()}},rr=function(e,t){return e[t]|e[t+1]<<8},pn=function(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0},av=function(e,t){return pn(e,t)+pn(e,t+4)*4294967296},Pt=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},Rw=function(e,t){var n=t.filename;if(e[0]=31,e[1]=139,e[2]=8,e[8]=t.level<2?4:t.level==9?2:0,e[9]=3,t.mtime!=0&&Pt(e,4,Math.floor(new Date(t.mtime||Date.now())/1e3)),n){e[3]=8;for(var r=0;r<=n.length;++r)e[r+10]=n.charCodeAt(r)}},Nw=function(e){(e[0]!=31||e[1]!=139||e[2]!=8)&&ot(6,"invalid gzip data");var t=e[3],n=10;t&4&&(n+=e[10]|(e[11]<<8)+2);for(var r=(t>>3&1)+(t>>4&1);r>0;r-=!e[n++]);return n+(t&2)},fk=function(e){var t=e.length;return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0},Ow=function(e){return 10+(e.filename&&e.filename.length+1||0)},Mw=function(e,t){var n=t.level,r=n==0?0:n<6?1:n==9?3:2;e[0]=120,e[1]=r<<6|(r?32-2*r:1)},dk=function(e){((e[0]&15)!=8||e[0]>>>4>7||(e[0]<<8|e[1])%31)&&ot(6,"invalid zlib data"),e[1]&32&&ot(6,"invalid zlib data: preset dictionaries not supported")};function Lw(e,t){return!t&&typeof e=="function"&&(t=e,e={}),this.ondata=t,e}var qo=function(){function e(t,n){!n&&typeof t=="function"&&(n=t,t={}),this.ondata=n,this.o=t||{}}return e.prototype.p=function(t,n){this.ondata($a(t,this.o,0,0,!n),n)},e.prototype.push=function(t,n){this.ondata||ot(5),this.d&&ot(4),this.d=n,this.p(t,n||!1)},e}();lt.Deflate=qo;var hk=function(){function e(t,n){Ec([xc,function(){return[no,qo]}],this,Lw.call(this,t,n),function(r){var o=new qo(r.data);onmessage=no(o)},6)}return e}();lt.AsyncDeflate=hk;function pk(e,t,n){return n||(n=t,t={}),typeof n!="function"&&ot(7),bc(e,t,[xc],function(r){return _i(kf(r.data[0],r.data[1]))},0,n)}lt.deflate=pk;function kf(e,t){return $a(e,t||{},0,0)}lt.deflateSync=kf;var yr=function(){function e(t){this.s={},this.p=new _t(0),this.ondata=t}return e.prototype.e=function(t){this.ondata||ot(5),this.d&&ot(4);var n=this.p.length,r=new _t(n+t.length);r.set(this.p),r.set(t,n),this.p=r},e.prototype.c=function(t){this.d=this.s.i=t||!1;var n=this.s.b,r=Cf(this.p,this.o,this.s);this.ondata(Jr(r,n,this.s.b),this.d),this.o=Jr(r,this.s.b-32768),this.s.b=this.o.length,this.p=Jr(this.p,this.s.p/8|0),this.s.p&=7},e.prototype.push=function(t,n){this.e(t),this.c(n)},e}();lt.Inflate=yr;var Dw=function(){function e(t){this.ondata=t,Ec([wc,function(){return[no,yr]}],this,0,function(){var n=new yr;onmessage=no(n)},7)}return e}();lt.AsyncInflate=Dw;function Iw(e,t,n){return n||(n=t,t={}),typeof n!="function"&&ot(7),bc(e,t,[wc],function(r){return _i(Sc(r.data[0],kw(r.data[1])))},1,n)}lt.inflate=Iw;function Sc(e,t){return Cf(e,t)}lt.inflateSync=Sc;var xp=function(){function e(t,n){this.c=yc(),this.l=0,this.v=1,qo.call(this,t,n)}return e.prototype.push=function(t,n){qo.prototype.push.call(this,t,n)},e.prototype.p=function(t,n){this.c.p(t),this.l+=t.length;var r=$a(t,this.o,this.v&&Ow(this.o),n&&8,!n);this.v&&(Rw(r,this.o),this.v=0),n&&(Pt(r,r.length-8,this.c.d()),Pt(r,r.length-4,this.l)),this.ondata(r,n)},e}();lt.Gzip=xp;lt.Compress=xp;var mk=function(){function e(t,n){Ec([xc,ak,function(){return[no,qo,xp]}],this,Lw.call(this,t,n),function(r){var o=new xp(r.data);onmessage=no(o)},8)}return e}();lt.AsyncGzip=mk;lt.AsyncCompress=mk;function vk(e,t,n){return n||(n=t,t={}),typeof n!="function"&&ot(7),bc(e,t,[xc,ak,function(){return[bp]}],function(r){return _i(bp(r.data[0],r.data[1]))},2,n)}lt.gzip=vk;lt.compress=vk;function bp(e,t){t||(t={});var n=yc(),r=e.length;n.p(e);var o=$a(e,t,Ow(t),8),s=o.length;return Rw(o,t),Pt(o,s-8,n.d()),Pt(o,s-4,r),o}lt.gzipSync=bp;lt.compressSync=bp;var Ep=function(){function e(t){this.v=1,yr.call(this,t)}return e.prototype.push=function(t,n){if(yr.prototype.e.call(this,t),this.v){var r=this.p.length>3?Nw(this.p):4;if(r>=this.p.length&&!n)return;this.p=this.p.subarray(r),this.v=0}n&&(this.p.length<8&&ot(6,"invalid gzip data"),this.p=this.p.subarray(0,-8)),yr.prototype.c.call(this,n)},e}();lt.Gunzip=Ep;var gk=function(){function e(t){this.ondata=t,Ec([wc,lk,function(){return[no,yr,Ep]}],this,0,function(){var n=new Ep;onmessage=no(n)},9)}return e}();lt.AsyncGunzip=gk;function yk(e,t,n){return n||(n=t,t={}),typeof n!="function"&&ot(7),bc(e,t,[wc,lk,function(){return[Sp]}],function(r){return _i(Sp(r.data[0]))},3,n)}lt.gunzip=yk;function Sp(e,t){return Cf(e.subarray(Nw(e),-8),t||new _t(fk(e)))}lt.gunzipSync=Sp;var Qg=function(){function e(t,n){this.c=Pw(),this.v=1,qo.call(this,t,n)}return e.prototype.push=function(t,n){qo.prototype.push.call(this,t,n)},e.prototype.p=function(t,n){this.c.p(t);var r=$a(t,this.o,this.v&&2,n&&4,!n);this.v&&(Mw(r,this.o),this.v=0),n&&Pt(r,r.length-4,this.c.d()),this.ondata(r,n)},e}();lt.Zlib=Qg;var eae=function(){function e(t,n){Ec([xc,ck,function(){return[no,qo,Qg]}],this,Lw.call(this,t,n),function(r){var o=new Qg(r.data);onmessage=no(o)},10)}return e}();lt.AsyncZlib=eae;function tae(e,t,n){return n||(n=t,t={}),typeof n!="function"&&ot(7),bc(e,t,[xc,ck,function(){return[Kg]}],function(r){return _i(Kg(r.data[0],r.data[1]))},4,n)}lt.zlib=tae;function Kg(e,t){t||(t={});var n=Pw();n.p(e);var r=$a(e,t,2,4);return Mw(r,t),Pt(r,r.length-4,n.d()),r}lt.zlibSync=Kg;var _p=function(){function e(t){this.v=1,yr.call(this,t)}return e.prototype.push=function(t,n){if(yr.prototype.e.call(this,t),this.v){if(this.p.length<2&&!n)return;this.p=this.p.subarray(2),this.v=0}n&&(this.p.length<4&&ot(6,"invalid zlib data"),this.p=this.p.subarray(0,-4)),yr.prototype.c.call(this,n)},e}();lt.Unzlib=_p;var wk=function(){function e(t){this.ondata=t,Ec([wc,uk,function(){return[no,yr,_p]}],this,0,function(){var n=new _p;onmessage=no(n)},11)}return e}();lt.AsyncUnzlib=wk;function xk(e,t,n){return n||(n=t,t={}),typeof n!="function"&&ot(7),bc(e,t,[wc,uk,function(){return[$p]}],function(r){return _i($p(r.data[0],kw(r.data[1])))},5,n)}lt.unzlib=xk;function $p(e,t){return Cf((dk(e),e.subarray(2,-4)),t)}lt.unzlibSync=$p;var bk=function(){function e(t){this.G=Ep,this.I=yr,this.Z=_p,this.ondata=t}return e.prototype.push=function(t,n){if(this.ondata||ot(5),this.s)this.s.push(t,n);else{if(this.p&&this.p.length){var r=new _t(this.p.length+t.length);r.set(this.p),r.set(t,this.p.length)}else this.p=t;if(this.p.length>2){var o=this,s=function(){o.ondata.apply(o,arguments)};this.s=this.p[0]==31&&this.p[1]==139&&this.p[2]==8?new this.G(s):(this.p[0]&15)!=8||this.p[0]>>4>7||(this.p[0]<<8|this.p[1])%31?new this.I(s):new this.Z(s),this.s.push(this.p,n),this.p=null}}},e}();lt.Decompress=bk;var nae=function(){function e(t){this.G=gk,this.I=Dw,this.Z=wk,this.ondata=t}return e.prototype.push=function(t,n){bk.prototype.push.call(this,t,n)},e}();lt.AsyncDecompress=nae;function rae(e,t,n){return n||(n=t,t={}),typeof n!="function"&&ot(7),e[0]==31&&e[1]==139&&e[2]==8?yk(e,t,n):(e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31?Iw(e,t,n):xk(e,t,n)}lt.decompress=rae;function oae(e,t){return e[0]==31&&e[1]==139&&e[2]==8?Sp(e,t):(e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31?Sc(e,t):$p(e,t)}lt.decompressSync=oae;var Fw=function(e,t,n,r){for(var o in e){var s=e[o],i=t+o,a=r;Array.isArray(s)&&(a=Pf(r,s[1]),s=s[0]),s instanceof _t?n[i]=[s,a]:(n[i+="/"]=[new _t(0),a],Fw(s,i,n,r))}},S_=typeof TextEncoder<"u"&&new TextEncoder,Jg=typeof TextDecoder<"u"&&new TextDecoder,Ek=0;try{Jg.decode(ps,{stream:!0}),Ek=1}catch{}var Sk=function(e){for(var t="",n=0;;){var r=e[n++],o=(r>127)+(r>223)+(r>239);if(n+o>e.length)return[t,Jr(e,n-1)];o?o==3?(r=((r&15)<<18|(e[n++]&63)<<12|(e[n++]&63)<<6|e[n++]&63)-65536,t+=String.fromCharCode(55296|r>>10,56320|r&1023)):o&1?t+=String.fromCharCode((r&31)<<6|e[n++]&63):t+=String.fromCharCode((r&15)<<12|(e[n++]&63)<<6|e[n++]&63):t+=String.fromCharCode(r)}},sae=function(){function e(t){this.ondata=t,Ek?this.t=new TextDecoder:this.p=ps}return e.prototype.push=function(t,n){if(this.ondata||ot(5),n=!!n,this.t){this.ondata(this.t.decode(t,{stream:!0}),n),n&&(this.t.decode().length&&ot(8),this.t=null);return}this.p||ot(4);var r=new _t(this.p.length+t.length);r.set(this.p),r.set(t,this.p.length);var o=Sk(r),s=o[0],i=o[1];n?(i.length&&ot(8),this.p=null):this.p=i,this.ondata(s,n)},e}();lt.DecodeUTF8=sae;var iae=function(){function e(t){this.ondata=t}return e.prototype.push=function(t,n){this.ondata||ot(5),this.d&&ot(4),this.ondata(vi(t),this.d=n||!1)},e}();lt.EncodeUTF8=iae;function vi(e,t){if(t){for(var n=new _t(e.length),r=0;r<e.length;++r)n[r]=e.charCodeAt(r);return n}if(S_)return S_.encode(e);for(var o=e.length,s=new _t(e.length+(e.length>>1)),i=0,a=function(f){s[i++]=f},r=0;r<o;++r){if(i+5>s.length){var l=new _t(i+8+(o-r<<1));l.set(s),s=l}var c=e.charCodeAt(r);c<128||t?a(c):c<2048?(a(192|c>>6),a(128|c&63)):c>55295&&c<57344?(c=65536+(c&1047552)|e.charCodeAt(++r)&1023,a(240|c>>18),a(128|c>>12&63),a(128|c>>6&63),a(128|c&63)):(a(224|c>>12),a(128|c>>6&63),a(128|c&63))}return Jr(s,0,i)}lt.strToU8=vi;function zw(e,t){if(t){for(var n="",r=0;r<e.length;r+=16384)n+=String.fromCharCode.apply(null,e.subarray(r,r+16384));return n}else{if(Jg)return Jg.decode(e);var o=Sk(e),s=o[0],i=o[1];return i.length&&ot(8),s}}lt.strFromU8=zw;var _k=function(e){return e==1?3:e<6?2:e==9?1:0},$k=function(e,t){return t+30+rr(e,t+26)+rr(e,t+28)},Ak=function(e,t,n){var r=rr(e,t+28),o=zw(e.subarray(t+46,t+46+r),!(rr(e,t+8)&2048)),s=t+46+r,i=pn(e,t+20),a=n&&i==4294967295?Tk(e,s):[i,pn(e,t+24),pn(e,t+42)],l=a[0],c=a[1],f=a[2];return[rr(e,t+10),l,c,o,s+rr(e,t+30)+rr(e,t+32),f]},Tk=function(e,t){for(;rr(e,t)!=1;t+=4+rr(e,t+2));return[av(e,t+12),av(e,t+4),av(e,t+20)]},fi=function(e){var t=0;if(e)for(var n in e){var r=e[n].length;r>65535&&ot(9),t+=r+4}return t},Ql=function(e,t,n,r,o,s,i,a){var l=r.length,c=n.extra,f=a&&a.length,u=fi(c);Pt(e,t,i!=null?33639248:67324752),t+=4,i!=null&&(e[t++]=20,e[t++]=n.os),e[t]=20,t+=2,e[t++]=n.flag<<1|(s==null&&8),e[t++]=o&&8,e[t++]=n.compression&255,e[t++]=n.compression>>8;var d=new Date(n.mtime==null?Date.now():n.mtime),h=d.getFullYear()-1980;if((h<0||h>119)&&ot(10),Pt(e,t,h<<25|d.getMonth()+1<<21|d.getDate()<<16|d.getHours()<<11|d.getMinutes()<<5|d.getSeconds()>>>1),t+=4,s!=null&&(Pt(e,t,n.crc),Pt(e,t+4,s),Pt(e,t+8,n.size)),Pt(e,t+12,l),Pt(e,t+14,u),t+=16,i!=null&&(Pt(e,t,f),Pt(e,t+6,n.attrs),Pt(e,t+10,i),t+=14),e.set(r,t),t+=l,u)for(var m in c){var p=c[m],g=p.length;Pt(e,t,+m),Pt(e,t+2,g),e.set(p,t+4),t+=4+g}return f&&(e.set(a,t),t+=f),t},Bw=function(e,t,n,r,o){Pt(e,t,101010256),Pt(e,t+8,n),Pt(e,t+10,n),Pt(e,t+12,r),Pt(e,t+16,o)},nf=function(){function e(t){this.filename=t,this.c=yc(),this.size=0,this.compression=0}return e.prototype.process=function(t,n){this.ondata(null,t,n)},e.prototype.push=function(t,n){this.ondata||ot(5),this.c.p(t),this.size+=t.length,n&&(this.crc=this.c.d()),this.process(t,n||!1)},e}();lt.ZipPassThrough=nf;var aae=function(){function e(t,n){var r=this;n||(n={}),nf.call(this,t),this.d=new qo(n,function(o,s){r.ondata(null,o,s)}),this.compression=8,this.flag=_k(n.level)}return e.prototype.process=function(t,n){try{this.d.push(t,n)}catch(r){this.ondata(r,null,n)}},e.prototype.push=function(t,n){nf.prototype.push.call(this,t,n)},e}();lt.ZipDeflate=aae;var lae=function(){function e(t,n){var r=this;n||(n={}),nf.call(this,t),this.d=new hk(n,function(o,s,i){r.ondata(o,s,i)}),this.compression=8,this.flag=_k(n.level),this.terminate=this.d.terminate}return e.prototype.process=function(t,n){this.d.push(t,n)},e.prototype.push=function(t,n){nf.prototype.push.call(this,t,n)},e}();lt.AsyncZipDeflate=lae;var cae=function(){function e(t){this.ondata=t,this.u=[],this.d=1}return e.prototype.add=function(t){var n=this;if(this.ondata||ot(5),this.d&2)this.ondata(ot(4+(this.d&1)*8,0,1),null,!1);else{var r=vi(t.filename),o=r.length,s=t.comment,i=s&&vi(s),a=o!=t.filename.length||i&&s.length!=i.length,l=o+fi(t.extra)+30;o>65535&&this.ondata(ot(11,0,1),null,!1);var c=new _t(l);Ql(c,0,t,r,a);var f=[c],u=function(){for(var g=0,v=f;g<v.length;g++){var y=v[g];n.ondata(null,y,!1)}f=[]},d=this.d;this.d=0;var h=this.u.length,m=Pf(t,{f:r,u:a,o:i,t:function(){t.terminate&&t.terminate()},r:function(){if(u(),d){var g=n.u[h+1];g?g.r():n.d=1}d=1}}),p=0;t.ondata=function(g,v,y){if(g)n.ondata(g,v,y),n.terminate();else if(p+=v.length,f.push(v),y){var w=new _t(16);Pt(w,0,134695760),Pt(w,4,t.crc),Pt(w,8,p),Pt(w,12,t.size),f.push(w),m.c=p,m.b=l+p+16,m.crc=t.crc,m.size=t.size,d&&m.r(),d=1}else d&&u()},this.u.push(m)}},e.prototype.end=function(){var t=this;if(this.d&2){this.ondata(ot(4+(this.d&1)*8,0,1),null,!0);return}this.d?this.e():this.u.push({r:function(){t.d&1&&(t.u.splice(-1,1),t.e())},t:function(){}}),this.d=3},e.prototype.e=function(){for(var t=0,n=0,r=0,o=0,s=this.u;o<s.length;o++){var i=s[o];r+=46+i.f.length+fi(i.extra)+(i.o?i.o.length:0)}for(var a=new _t(r+22),l=0,c=this.u;l<c.length;l++){var i=c[l];Ql(a,t,i,i.f,i.u,i.c,n,i.o),t+=46+i.f.length+fi(i.extra)+(i.o?i.o.length:0),n+=i.b}Bw(a,t,this.u.length,r,n),this.ondata(null,a,!0),this.d=2},e.prototype.terminate=function(){for(var t=0,n=this.u;t<n.length;t++){var r=n[t];r.t()}this.d=2},e}();lt.Zip=cae;function uae(e,t,n){n||(n=t,t={}),typeof n!="function"&&ot(7);var r={};Fw(e,"",r,t);var o=Object.keys(r),s=o.length,i=0,a=0,l=s,c=new Array(s),f=[],u=function(){for(var g=0;g<f.length;++g)f[g]()},d=function(g,v){Ap(function(){n(g,v)})};Ap(function(){d=n});var h=function(){var g=new _t(a+22),v=i,y=a-i;a=0;for(var w=0;w<l;++w){var b=c[w];try{var E=b.c.length;Ql(g,a,b,b.f,b.u,E);var S=30+b.f.length+fi(b.extra),$=a+S;g.set(b.c,$),Ql(g,i,b,b.f,b.u,E,a,b.m),i+=16+S+(b.m?b.m.length:0),a=$+E}catch(A){return d(A,null)}}Bw(g,i,c.length,y,v),d(null,g)};s||h();for(var m=function(g){var v=o[g],y=r[v],w=y[0],b=y[1],E=yc(),S=w.length;E.p(w);var $=vi(v),A=$.length,G=b.comment,I=G&&vi(G),H=I&&I.length,te=fi(b.extra),pe=b.level==0?0:8,j=function(de,ee){if(de)u(),d(de,null);else{var we=ee.length;c[g]=Pf(b,{size:S,crc:E.d(),c:ee,f:$,m:I,u:A!=v.length||I&&G.length!=H,compression:pe}),i+=30+A+te+we,a+=76+2*(A+te)+(H||0)+we,--s||h()}};if(A>65535&&j(ot(11,0,1),null),!pe)j(null,w);else if(S<16e4)try{j(null,kf(w,b))}catch(de){j(de,null)}else f.push(pk(w,b,j))},p=0;p<l;++p)m(p);return u}lt.zip=uae;function fae(e,t){t||(t={});var n={},r=[];Fw(e,"",n,t);var o=0,s=0;for(var i in n){var a=n[i],l=a[0],c=a[1],f=c.level==0?0:8,u=vi(i),d=u.length,h=c.comment,m=h&&vi(h),p=m&&m.length,g=fi(c.extra);d>65535&&ot(11);var v=f?kf(l,c):l,y=v.length,w=yc();w.p(l),r.push(Pf(c,{size:l.length,crc:w.d(),c:v,f:u,m,u:d!=i.length||m&&h.length!=p,o,compression:f})),o+=30+d+g+y,s+=76+2*(d+g)+(p||0)+y}for(var b=new _t(s+22),E=o,S=s-o,$=0;$<r.length;++$){var u=r[$];Ql(b,u.o,u,u.f,u.u,u.c.length);var A=30+u.f.length+fi(u.extra);b.set(u.c,u.o+A),Ql(b,o,u,u.f,u.u,u.c.length,u.o,u.m),o+=16+A+(u.m?u.m.length:0)}return Bw(b,o,r.length,S,E),b}lt.zipSync=fae;var Ck=function(){function e(){}return e.prototype.push=function(t,n){this.ondata(null,t,n)},e.compression=0,e}();lt.UnzipPassThrough=Ck;var dae=function(){function e(){var t=this;this.i=new yr(function(n,r){t.ondata(null,n,r)})}return e.prototype.push=function(t,n){try{this.i.push(t,n)}catch(r){this.ondata(r,null,n)}},e.compression=8,e}();lt.UnzipInflate=dae;var hae=function(){function e(t,n){var r=this;n<32e4?this.i=new yr(function(o,s){r.ondata(null,o,s)}):(this.i=new Dw(function(o,s,i){r.ondata(o,s,i)}),this.terminate=this.i.terminate)}return e.prototype.push=function(t,n){this.i.terminate&&(t=Jr(t,0)),this.i.push(t,n)},e.compression=8,e}();lt.AsyncUnzipInflate=hae;var pae=function(){function e(t){this.onfile=t,this.k=[],this.o={0:Ck},this.p=ps}return e.prototype.push=function(t,n){var r=this;if(this.onfile||ot(5),this.p||ot(4),this.c>0){var o=Math.min(this.c,t.length),s=t.subarray(0,o);if(this.c-=o,this.d?this.d.push(s,!this.c):this.k[0].push(s),t=t.subarray(o),t.length)return this.push(t,n)}else{var i=0,a=0,l=void 0,c=void 0;this.p.length?t.length?(c=new _t(this.p.length+t.length),c.set(this.p),c.set(t,this.p.length)):c=this.p:c=t;for(var f=c.length,u=this.c,d=u&&this.d,h=function(){var v,y=pn(c,a);if(y==67324752){i=1,l=a,m.d=null,m.c=0;var w=rr(c,a+6),b=rr(c,a+8),E=w&2048,S=w&8,$=rr(c,a+26),A=rr(c,a+28);if(f>a+30+$+A){var G=[];m.k.unshift(G),i=2;var I=pn(c,a+18),H=pn(c,a+22),te=zw(c.subarray(a+30,a+=30+$),!E);I==4294967295?(v=S?[-2]:Tk(c,a),I=v[0],H=v[1]):S&&(I=-1),a+=A,m.c=I;var pe,j={name:te,compression:b,start:function(){if(j.ondata||ot(5),!I)j.ondata(null,ps,!0);else{var de=r.o[b];de||j.ondata(ot(14,"unknown compression type "+b,1),null,!1),pe=I<0?new de(te):new de(te,I,H),pe.ondata=function($e,Ne,Ye){j.ondata($e,Ne,Ye)};for(var ee=0,we=G;ee<we.length;ee++){var oe=we[ee];pe.push(oe,!1)}r.k[0]==G&&r.c?r.d=pe:pe.push(ps,!0)}},terminate:function(){pe&&pe.terminate&&pe.terminate()}};I>=0&&(j.size=I,j.originalSize=H),m.onfile(j)}return"break"}else if(u){if(y==134695760)return l=a+=12+(u==-2&&8),i=3,m.c=0,"break";if(y==33639248)return l=a-=4,i=3,m.c=0,"break"}},m=this;a<f-4;++a){var p=h();if(p==="break")break}if(this.p=ps,u<0){var g=i?c.subarray(0,l-12-(u==-2&&8)-(pn(c,l-16)==134695760&&4)):c.subarray(0,a);d?d.push(g,!!i):this.k[+(i==2)].push(g)}if(i&2)return this.push(c.subarray(a),n);this.p=c.subarray(a)}n&&(this.c&&ot(13),this.p=null)},e.prototype.register=function(t){this.o[t.compression]=t},e}();lt.Unzip=pae;var Ap=typeof queueMicrotask=="function"?queueMicrotask:typeof setTimeout=="function"?setTimeout:function(e){e()};function mae(e,t,n){n||(n=t,t={}),typeof n!="function"&&ot(7);var r=[],o=function(){for(var p=0;p<r.length;++p)r[p]()},s={},i=function(p,g){Ap(function(){n(p,g)})};Ap(function(){i=n});for(var a=e.length-22;pn(e,a)!=101010256;--a)if(!a||e.length-a>65558)return i(ot(13,0,1),null),o;var l=rr(e,a+8);if(l){var c=l,f=pn(e,a+16),u=f==4294967295;if(u){if(a=pn(e,a-12),pn(e,a)!=101075792)return i(ot(13,0,1),null),o;c=l=pn(e,a+32),f=pn(e,a+48)}for(var d=t&&t.filter,h=function(p){var g=Ak(e,f,u),v=g[0],y=g[1],w=g[2],b=g[3],E=g[4],S=g[5],$=$k(e,S);f=E;var A=function(I,H){I?(o(),i(I,null)):(H&&(s[b]=H),--l||i(null,s))};if(!d||d({name:b,size:y,originalSize:w,compression:v}))if(!v)A(null,Jr(e,$,$+y));else if(v==8){var G=e.subarray($,$+y);if(y<32e4)try{A(null,Sc(G,new _t(w)))}catch(I){A(I,null)}else r.push(Iw(G,{size:w},A))}else A(ot(14,"unknown compression type "+v,1),null);else A(null,null)},m=0;m<c;++m)h(m)}else i(null,{});return o}lt.unzip=mae;function vae(e,t){for(var n={},r=e.length-22;pn(e,r)!=101010256;--r)(!r||e.length-r>65558)&&ot(13);var o=rr(e,r+8);if(!o)return{};var s=pn(e,r+16),i=s==4294967295;i&&(r=pn(e,r-12),pn(e,r)!=101075792&&ot(13),o=pn(e,r+32),s=pn(e,r+48));for(var a=t&&t.filter,l=0;l<o;++l){var c=Ak(e,s,i),f=c[0],u=c[1],d=c[2],h=c[3],m=c[4],p=c[5],g=$k(e,p);s=m,(!a||a({name:h,size:u,originalSize:d,compression:f}))&&(f?f==8?n[h]=Sc(e.subarray(g,g+u),new _t(d)):ot(14,"unknown compression type "+f):n[h]=Jr(e,g,g+u))}return n}lt.unzipSync=vae;function gae(e){return e&&Object.prototype.toString.call(e)==="[object Object]"}function yae(e){var t=" ".repeat(e);return function(n){var r,o=[];return typeof n!="string"?n:(r=n.split(`
`),r.length===1?t+n:(r.forEach(function(s){if(s.trim()===""){o.push(s);return}o.push(t+s)}),o.join(`
`)))}}function wae(e){var t=e.split(`
`),n=[];return t.forEach(function(r){r.trim()!==""&&n.push(r)}),n.join(`
`)}function xae(e,t){var n="",r=function(s){return s};t>0&&(n=`
`,r=yae(t));function o(s){var i,a,l,c;return a="",c=!0,l=s.some(function(f,u,d){if(u===0)return i="<"+f,d.length===1?!0:void 0;if(u===1)if(gae(f)){if(Object.keys(f).forEach(function(h){i+=" "+h+'="'+f[h]+'"'}),d.length===2)return!0;i+=">";return}else i+=">";switch(typeof f){case"string":case"number":case"boolean":case"undefined":a+=f+n;return}c=!1,a+=o(f)}),l?i+"/>"+n:c?i+wae(a)+"</"+s[0]+">"+n:i+n+r(a)+"</"+s[0]+">"+n}return o(e)}var bae=xae;const Pk=e=>e.reduce((t,n)=>Array.isArray(n)?t.concat(Pk(n)):t.concat(n),[]);var Eae=Pk;const Sae=(e,t)=>e-t;var _ae=Sae;const $ae=e=>{if(!(!Array.isArray(e)||e.length===0))return e[0]};var Aae=$ae;const Tae=(e,t,n)=>{let r=0,o=e.length;for(;o>r;){const s=Math.floor((r+o)/2),i=e[s];n(t,i)>0?r=s+1:o=s}return e.splice(r,0,t),e};var Cae=Tae;const Pae=(e,t)=>{if(!(!Array.isArray(e)||e.length<t))return e[t]};var kae=Pae;const Rae=(e,t,n)=>{for(e=e.slice();e.length<n;)e.push(t);return e};var Nae=Rae;const Oae=e=>Array.isArray(e)?e:e==null?[]:[e];var Mae=Oae,Gw={flatten:Eae,fnNumberSort:_ae,head:Aae,insertSorted:Cae,nth:kae,padToLength:Nae,toArray:Mae};const Lae=lt.zipSync,lv=lt.strToU8,Dae=bae,{colors:__,geometries:rf,modifiers:Iae}=pc,{flatten:Fae,toArray:zae}=Gw,Bae="model/3mf",Gae="3mf",jae=(e,...t)=>{e=Object.assign({},{unit:"millimeter",metadata:!0,defaultcolor:[1,.6274509803921569,0,1],compress:!0},e),t=Fae(t);let r=t.filter(i=>rf.geom3.isA(i));if(r.length===0)throw new Error("only 3D geometries can be serialized to 3MF");t.length!==r.length&&console.warn("some objects could not be serialized to 3MF"),t=zae(Iae.generalize({snap:!0,triangulate:!0},r));const o=["model",{unit:e.unit,"xml:lang":"und"},["metadata",{name:"Application"},"JSCAD"]];e.metadata&&o.push(["metadata",{name:"CreationDate"},new Date().toISOString()]),o.push(Hae(t,e)),o.push(qae(t));const s=`<?xml version="1.0" encoding="UTF-8"?>
${Dae(o,2)}`;if(e.compress){const i={"3D":{"3dmodel.model":lv(s)},_rels:{".rels":lv(Uae)},"[Content_Types].xml":lv(Vae)};return[Lae(i,{comment:"created by JSCAD"}).buffer]}return[s]},Vae=`<?xml version="1.0" encoding="UTF-8" ?>
<Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types">
  <Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml">
  </Default>
  <Default Extension="model" ContentType="application/vnd.ms-package.3dmanufacturing-3dmodel+xml">
  </Default>
</Types>`,Uae=`<?xml version="1.0" encoding="UTF-8" ?>
<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">
  <Relationship Target="/3D/3dmodel.model" Id="rel0" Type="http://schemas.microsoft.com/3dmanufacturing/2013/01/3dmodel">
  </Relationship>
</Relationships>`,Hae=(e,t)=>{let n=["resources",{},Wae(e,t)];return n=n.concat(Xae(e,t)),n},Wae=(e,t)=>{let n=["basematerials",{id:"0"}];const r=[];return e.forEach((o,s)=>{let i=__.rgbToHex(t.defaultcolor).toUpperCase();o.color&&(i=__.rgbToHex(o.color).toUpperCase()),r.push(["base",{name:`mat${s}`,displaycolor:i}])}),n=n.concat(r),n},Xae=(e,t)=>{const n=[];return e.forEach((r,o)=>{rf.geom3.isA(r)&&rf.geom3.toPolygons(r).length>0&&(t.id=o,n.push(Yae(r,t)))}),n},qae=(e,t)=>{let n=["build",{}];const r=[];return e.forEach((o,s)=>{r.push(["item",{objectid:`${s+1}`}])}),n=n.concat(r),n},Yae=(e,t)=>{const n=e.name?e.name:`Part ${t.id}`;return["object",{id:`${t.id+1}`,type:"model",pid:"0",pindex:`${t.id}`,name:n},Zae(e)]},Zae=(e,t)=>["mesh",{},Qae(e),Jae(e)],Qae=(e,t)=>{const n=["vertices",{}],r=[];return rf.geom3.toPolygons(e).forEach(s=>{for(let i=0;i<s.vertices.length;i++)r.push(Kae(s.vertices[i]))}),n.concat(r)},Kae=(e,t)=>["vertex",{x:e[0],y:e[1],z:e[2]}],Jae=(e,t)=>{let n=0;const r=rf.geom3.toPolygons(e);let o=["triangles",{}];return r.forEach(s=>{if(s.vertices.length<3)return;const i=ele(s,n);o=o.concat(i),n+=s.vertices.length}),o},ele=(e,t)=>{const n=[];for(let r=0;r<e.vertices.length-2;r++){const o=["triangle",{v1:t,v2:t+r+1,v3:t+r+2}];n.push(o)}return n};var tle={serialize:jae,mimeType:Bae,fileExtension:Gae};const nle=ry(tle);var Mn={},Zn={},zr={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=Object.prototype.hasOwnProperty;e.has=function(u,d){return t.call(u,d)};function n(u,d){return u<d?-1:u===d?0:1}e.defaultCompare=n;function r(u,d){return u===d}e.defaultEquals=r;function o(u){return u===null?"COLLECTION_NULL":a(u)?"COLLECTION_UNDEFINED":l(u)?"$s"+u:"$o"+u.toString()}e.defaultToString=o;function s(u,d){if(d===void 0&&(d=","),u===null)return"COLLECTION_NULL";if(a(u))return"COLLECTION_UNDEFINED";if(l(u))return u.toString();var h="{",m=!0;for(var p in u)e.has(u,p)&&(m?m=!1:h=h+d,h=h+p+":"+u[p]);return h+"}"}e.makeString=s;function i(u){return typeof u=="function"}e.isFunction=i;function a(u){return typeof u>"u"}e.isUndefined=a;function l(u){return Object.prototype.toString.call(u)==="[object String]"}e.isString=l;function c(u){return a(u)||!i(u)?function(d,h){return d<h?1:d===h?0:-1}:function(d,h){return u(d,h)*-1}}e.reverseCompareFunction=c;function f(u){return function(d,h){return u(d,h)===0}}e.compareToEquals=f})(zr);Object.defineProperty(Zn,"__esModule",{value:!0});var C1=zr;function jw(e,t,n){for(var r=n||C1.defaultEquals,o=e.length,s=0;s<o;s++)if(r(e[s],t))return s;return-1}Zn.indexOf=jw;function rle(e,t,n){for(var r=n||C1.defaultEquals,o=e.length,s=o-1;s>=0;s--)if(r(e[s],t))return s;return-1}Zn.lastIndexOf=rle;function ole(e,t,n){return jw(e,t,n)>=0}Zn.contains=ole;function sle(e,t,n){var r=jw(e,t,n);return r<0?!1:(e.splice(r,1),!0)}Zn.remove=sle;function ile(e,t,n){for(var r=n||C1.defaultEquals,o=e.length,s=0,i=0;i<o;i++)r(e[i],t)&&s++;return s}Zn.frequency=ile;function ale(e,t,n){var r=n||C1.defaultEquals;if(e.length!==t.length)return!1;for(var o=e.length,s=0;s<o;s++)if(!r(e[s],t[s]))return!1;return!0}Zn.equals=ale;function lle(e){return e.concat()}Zn.copy=lle;function cle(e,t,n){if(t<0||t>=e.length||n<0||n>=e.length)return!1;var r=e[t];return e[t]=e[n],e[n]=r,!0}Zn.swap=cle;function ule(e){return"["+e.toString()+"]"}Zn.toString=ule;function fle(e,t){for(var n=0,r=e;n<r.length;n++){var o=r[n];if(t(o)===!1)return}}Zn.forEach=fle;var Vw={},$i={};Object.defineProperty($i,"__esModule",{value:!0});var Fo=zr,dle=function(){function e(t){this.table={},this.nElements=0,this.toStr=t||Fo.defaultToString}return e.prototype.getValue=function(t){var n=this.table["$"+this.toStr(t)];if(!Fo.isUndefined(n))return n.value},e.prototype.setValue=function(t,n){if(!(Fo.isUndefined(t)||Fo.isUndefined(n))){var r,o="$"+this.toStr(t),s=this.table[o];return Fo.isUndefined(s)?(this.nElements++,r=void 0):r=s.value,this.table[o]={key:t,value:n},r}},e.prototype.remove=function(t){var n="$"+this.toStr(t),r=this.table[n];if(!Fo.isUndefined(r))return delete this.table[n],this.nElements--,r.value},e.prototype.keys=function(){var t=[];for(var n in this.table)if(Fo.has(this.table,n)){var r=this.table[n];t.push(r.key)}return t},e.prototype.values=function(){var t=[];for(var n in this.table)if(Fo.has(this.table,n)){var r=this.table[n];t.push(r.value)}return t},e.prototype.forEach=function(t){for(var n in this.table)if(Fo.has(this.table,n)){var r=this.table[n],o=t(r.key,r.value);if(o===!1)return}},e.prototype.containsKey=function(t){return!Fo.isUndefined(this.getValue(t))},e.prototype.clear=function(){this.table={},this.nElements=0},e.prototype.size=function(){return this.nElements},e.prototype.isEmpty=function(){return this.nElements<=0},e.prototype.toString=function(){var t="{";return this.forEach(function(n,r){t+=`
	`+n+" : "+r}),t+`
}`},e}();$i.default=dle;var P1={};Object.defineProperty(P1,"__esModule",{value:!0});var hle=zr,ple=Zn,mle=$i,vle=function(){function e(t){this.dictionary=new mle.default(t)}return e.prototype.contains=function(t){return this.dictionary.containsKey(t)},e.prototype.add=function(t){return this.contains(t)||hle.isUndefined(t)?!1:(this.dictionary.setValue(t,t),!0)},e.prototype.intersection=function(t){var n=this;this.forEach(function(r){return t.contains(r)||n.remove(r),!0})},e.prototype.union=function(t){var n=this;t.forEach(function(r){return n.add(r),!0})},e.prototype.difference=function(t){var n=this;t.forEach(function(r){return n.remove(r),!0})},e.prototype.isSubsetOf=function(t){if(this.size()>t.size())return!1;var n=!0;return this.forEach(function(r){return t.contains(r)?!0:(n=!1,!1)}),n},e.prototype.remove=function(t){return this.contains(t)?(this.dictionary.remove(t),!0):!1},e.prototype.forEach=function(t){this.dictionary.forEach(function(n,r){return t(r)})},e.prototype.toArray=function(){return this.dictionary.values()},e.prototype.isEmpty=function(){return this.dictionary.isEmpty()},e.prototype.size=function(){return this.dictionary.size()},e.prototype.clear=function(){this.dictionary.clear()},e.prototype.toString=function(){return ple.toString(this.toArray())},e}();P1.default=vle;Object.defineProperty(Vw,"__esModule",{value:!0});var cv=zr,gle=$i,yle=P1,wle=function(){function e(t){this.toStrF=t||cv.defaultToString,this.dictionary=new gle.default(this.toStrF),this.nElements=0}return e.prototype.add=function(t,n){if(n===void 0&&(n=1),cv.isUndefined(t)||n<=0)return!1;if(this.contains(t))this.dictionary.getValue(t).copies+=n;else{var r={value:t,copies:n};this.dictionary.setValue(t,r)}return this.nElements+=n,!0},e.prototype.count=function(t){return this.contains(t)?this.dictionary.getValue(t).copies:0},e.prototype.contains=function(t){return this.dictionary.containsKey(t)},e.prototype.remove=function(t,n){if(n===void 0&&(n=1),cv.isUndefined(t)||n<=0)return!1;if(this.contains(t)){var r=this.dictionary.getValue(t);return n>r.copies?this.nElements-=r.copies:this.nElements-=n,r.copies-=n,r.copies<=0&&this.dictionary.remove(t),!0}else return!1},e.prototype.toArray=function(){for(var t=[],n=this.dictionary.values(),r=0,o=n;r<o.length;r++)for(var s=o[r],i=s.value,a=s.copies,l=0;l<a;l++)t.push(i);return t},e.prototype.toSet=function(){for(var t=new yle.default(this.toStrF),n=this.dictionary.values(),r=0,o=n;r<o.length;r++){var s=o[r],i=s.value;t.add(i)}return t},e.prototype.forEach=function(t){this.dictionary.forEach(function(n,r){for(var o=r.value,s=r.copies,i=0;i<s;i++)if(t(o)===!1)return!1;return!0})},e.prototype.size=function(){return this.nElements},e.prototype.isEmpty=function(){return this.nElements===0},e.prototype.clear=function(){this.nElements=0,this.dictionary.clear()},e}();Vw.default=wle;var Uw={},k1={},R1={},Rf={};Object.defineProperty(Rf,"__esModule",{value:!0});var Hi=zr,xle=Zn,ble=function(){function e(){this.firstNode=null,this.lastNode=null,this.nElements=0}return e.prototype.add=function(t,n){if(Hi.isUndefined(n)&&(n=this.nElements),n<0||n>this.nElements||Hi.isUndefined(t))return!1;var r=this.createNode(t);if(this.nElements===0||this.lastNode===null)this.firstNode=r,this.lastNode=r;else if(n===this.nElements)this.lastNode.next=r,this.lastNode=r;else if(n===0)r.next=this.firstNode,this.firstNode=r;else{var o=this.nodeAtIndex(n-1);if(o===null)return!1;r.next=o.next,o.next=r}return this.nElements++,!0},e.prototype.first=function(){if(this.firstNode!==null)return this.firstNode.element},e.prototype.last=function(){if(this.lastNode!==null)return this.lastNode.element},e.prototype.elementAtIndex=function(t){var n=this.nodeAtIndex(t);if(n!==null)return n.element},e.prototype.indexOf=function(t,n){var r=n||Hi.defaultEquals;if(Hi.isUndefined(t))return-1;for(var o=this.firstNode,s=0;o!==null;){if(r(o.element,t))return s;s++,o=o.next}return-1},e.prototype.contains=function(t,n){return this.indexOf(t,n)>=0},e.prototype.remove=function(t,n){var r=n||Hi.defaultEquals;if(this.nElements<1||Hi.isUndefined(t))return!1;for(var o=null,s=this.firstNode;s!==null;){if(r(s.element,t))return o===null?(this.firstNode=s.next,s===this.lastNode&&(this.lastNode=null)):s===this.lastNode?(this.lastNode=o,o.next=s.next,s.next=null):(o.next=s.next,s.next=null),this.nElements--,!0;o=s,s=s.next}return!1},e.prototype.clear=function(){this.firstNode=null,this.lastNode=null,this.nElements=0},e.prototype.equals=function(t,n){var r=n||Hi.defaultEquals;return!(t instanceof e)||this.size()!==t.size()?!1:this.equalsAux(this.firstNode,t.firstNode,r)},e.prototype.equalsAux=function(t,n,r){for(;t!==null&&n!==null;){if(!r(t.element,n.element))return!1;t=t.next,n=n.next}return!0},e.prototype.removeElementAtIndex=function(t){if(!(t<0||t>=this.nElements||this.firstNode===null||this.lastNode===null)){var n;if(this.nElements===1)n=this.firstNode.element,this.firstNode=null,this.lastNode=null;else{var r=this.nodeAtIndex(t-1);r===null?(n=this.firstNode.element,this.firstNode=this.firstNode.next):r.next===this.lastNode&&(n=this.lastNode.element,this.lastNode=r),r!==null&&r.next!==null&&(n=r.next.element,r.next=r.next.next)}return this.nElements--,n}},e.prototype.forEach=function(t){for(var n=this.firstNode;n!==null&&t(n.element)!==!1;)n=n.next},e.prototype.reverse=function(){for(var t=null,n=this.firstNode,r=null;n!==null;)r=n.next,n.next=t,t=n,n=r;r=this.firstNode,this.firstNode=this.lastNode,this.lastNode=r},e.prototype.toArray=function(){for(var t=[],n=this.firstNode;n!==null;)t.push(n.element),n=n.next;return t},e.prototype.size=function(){return this.nElements},e.prototype.isEmpty=function(){return this.nElements<=0},e.prototype.toString=function(){return xle.toString(this.toArray())},e.prototype.nodeAtIndex=function(t){if(t<0||t>=this.nElements)return null;if(t===this.nElements-1)return this.lastNode;for(var n=this.firstNode,r=0;r<t&&n!==null;r++)n=n.next;return n},e.prototype.createNode=function(t){return{element:t,next:null}},e}();Rf.default=ble;Object.defineProperty(R1,"__esModule",{value:!0});var Ele=Rf,Sle=function(){function e(){this.list=new Ele.default}return e.prototype.enqueue=function(t){return this.list.add(t)},e.prototype.add=function(t){return this.list.add(t)},e.prototype.dequeue=function(){if(this.list.size()!==0){var t=this.list.first();return this.list.removeElementAtIndex(0),t}},e.prototype.peek=function(){if(this.list.size()!==0)return this.list.first()},e.prototype.size=function(){return this.list.size()},e.prototype.contains=function(t,n){return this.list.contains(t,n)},e.prototype.isEmpty=function(){return this.list.size()<=0},e.prototype.clear=function(){this.list.clear()},e.prototype.forEach=function(t){this.list.forEach(t)},e}();R1.default=Sle;Object.defineProperty(k1,"__esModule",{value:!0});var uv=zr,_le=R1,$le=function(){function e(t){this.root=null,this.compare=t||uv.defaultCompare,this.nElements=0}return e.prototype.add=function(t){return uv.isUndefined(t)?!1:this.insertNode(this.createNode(t))!==null?(this.nElements++,!0):!1},e.prototype.clear=function(){this.root=null,this.nElements=0},e.prototype.isEmpty=function(){return this.nElements===0},e.prototype.size=function(){return this.nElements},e.prototype.contains=function(t){return uv.isUndefined(t)?!1:this.searchNode(this.root,t)!==null},e.prototype.search=function(t){var n=this.searchNode(this.root,t);if(n!==null)return n.element},e.prototype.remove=function(t){var n=this.searchNode(this.root,t);return n===null?!1:(this.removeNode(n),this.nElements--,!0)},e.prototype.inorderTraversal=function(t){this.inorderTraversalAux(this.root,t,{stop:!1})},e.prototype.preorderTraversal=function(t){this.preorderTraversalAux(this.root,t,{stop:!1})},e.prototype.postorderTraversal=function(t){this.postorderTraversalAux(this.root,t,{stop:!1})},e.prototype.levelTraversal=function(t){this.levelTraversalAux(this.root,t)},e.prototype.minimum=function(){if(!(this.isEmpty()||this.root===null))return this.minimumAux(this.root).element},e.prototype.maximum=function(){if(!(this.isEmpty()||this.root===null))return this.maximumAux(this.root).element},e.prototype.forEach=function(t){this.inorderTraversal(t)},e.prototype.toArray=function(){var t=[];return this.inorderTraversal(function(n){return t.push(n),!0}),t},e.prototype.height=function(){return this.heightAux(this.root)},e.prototype.searchNode=function(t,n){for(var r=1;t!==null&&r!==0;)r=this.compare(n,t.element),r<0?t=t.leftCh:r>0&&(t=t.rightCh);return t},e.prototype.transplant=function(t,n){t.parent===null?this.root=n:t===t.parent.leftCh?t.parent.leftCh=n:t.parent.rightCh=n,n!==null&&(n.parent=t.parent)},e.prototype.removeNode=function(t){if(t.leftCh===null)this.transplant(t,t.rightCh);else if(t.rightCh===null)this.transplant(t,t.leftCh);else{var n=this.minimumAux(t.rightCh);n.parent!==t&&(this.transplant(n,n.rightCh),n.rightCh=t.rightCh,n.rightCh.parent=n),this.transplant(t,n),n.leftCh=t.leftCh,n.leftCh.parent=n}},e.prototype.inorderTraversalAux=function(t,n,r){t===null||r.stop||(this.inorderTraversalAux(t.leftCh,n,r),!r.stop&&(r.stop=n(t.element)===!1,!r.stop&&this.inorderTraversalAux(t.rightCh,n,r)))},e.prototype.levelTraversalAux=function(t,n){var r=new _le.default;for(t!==null&&r.enqueue(t),t=r.dequeue()||null;t!=null;){if(n(t.element)===!1)return;t.leftCh!==null&&r.enqueue(t.leftCh),t.rightCh!==null&&r.enqueue(t.rightCh),t=r.dequeue()||null}},e.prototype.preorderTraversalAux=function(t,n,r){t===null||r.stop||(r.stop=n(t.element)===!1,!r.stop&&(this.preorderTraversalAux(t.leftCh,n,r),!r.stop&&this.preorderTraversalAux(t.rightCh,n,r)))},e.prototype.postorderTraversalAux=function(t,n,r){t===null||r.stop||(this.postorderTraversalAux(t.leftCh,n,r),!r.stop&&(this.postorderTraversalAux(t.rightCh,n,r),!r.stop&&(r.stop=n(t.element)===!1)))},e.prototype.minimumAux=function(t){for(;t!=null&&t.leftCh!==null;)t=t.leftCh;return t},e.prototype.maximumAux=function(t){for(;t!=null&&t.rightCh!==null;)t=t.rightCh;return t},e.prototype.heightAux=function(t){return t===null?-1:Math.max(this.heightAux(t.leftCh),this.heightAux(t.rightCh))+1},e.prototype.insertNode=function(t){for(var n=null,r=this.root;r!==null;){var o=this.compare(t.element,r.element);if(o===0)return null;o<0?(n=r,r=r.leftCh):(n=r,r=r.rightCh)}return t.parent=n,n===null?this.root=t:this.compare(t.element,n.element)<0?n.leftCh=t:n.rightCh=t,t},e.prototype.createNode=function(t){return{element:t,leftCh:null,rightCh:null,parent:null}},e}();k1.default=$le;var Ale=ca&&ca.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Uw,"__esModule",{value:!0});var Tle=k1,Cle=function(e){Ale(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(Tle.default);Uw.default=Cle;var N1={};Object.defineProperty(N1,"__esModule",{value:!0});var fv=zr,ih=Zn,Ple=function(){function e(t){this.data=[],this.compare=t||fv.defaultCompare}return e.prototype.leftChildIndex=function(t){return 2*t+1},e.prototype.rightChildIndex=function(t){return 2*t+2},e.prototype.parentIndex=function(t){return Math.floor((t-1)/2)},e.prototype.minIndex=function(t,n){return n>=this.data.length?t>=this.data.length?-1:t:this.compare(this.data[t],this.data[n])<=0?t:n},e.prototype.siftUp=function(t){for(var n=this.parentIndex(t);t>0&&this.compare(this.data[n],this.data[t])>0;)ih.swap(this.data,n,t),t=n,n=this.parentIndex(t)},e.prototype.siftDown=function(t){for(var n=this.minIndex(this.leftChildIndex(t),this.rightChildIndex(t));n>=0&&this.compare(this.data[t],this.data[n])>0;)ih.swap(this.data,n,t),t=n,n=this.minIndex(this.leftChildIndex(t),this.rightChildIndex(t))},e.prototype.peek=function(){if(this.data.length>0)return this.data[0]},e.prototype.add=function(t){return fv.isUndefined(t)?!1:(this.data.push(t),this.siftUp(this.data.length-1),!0)},e.prototype.removeRoot=function(){if(this.data.length>0){var t=this.data[0];return this.data[0]=this.data[this.data.length-1],this.data.splice(this.data.length-1,1),this.data.length>0&&this.siftDown(0),t}},e.prototype.contains=function(t){var n=fv.compareToEquals(this.compare);return ih.contains(this.data,t,n)},e.prototype.size=function(){return this.data.length},e.prototype.isEmpty=function(){return this.data.length<=0},e.prototype.clear=function(){this.data.length=0},e.prototype.forEach=function(t){ih.forEach(this.data,t)},e}();N1.default=Ple;var Hw={},kle=ca&&ca.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Hw,"__esModule",{value:!0});var Rle=$i,ol=zr,Nle=function(){function e(t,n){this.key=t,this.value=n}return e.prototype.unlink=function(){this.prev.next=this.next,this.next.prev=this.prev},e}(),$_=function(){function e(){this.key=null,this.value=null}return e.prototype.unlink=function(){this.prev.next=this.next,this.next.prev=this.prev},e}();function Ole(e){return!e.next}var Mle=function(e){kle(t,e);function t(n){var r=e.call(this,n)||this;return r.head=new $_,r.tail=new $_,r.head.next=r.tail,r.tail.prev=r.head,r}return t.prototype.appendToTail=function(n){var r=this.tail.prev;r.next=n,n.prev=r,n.next=this.tail,this.tail.prev=n},t.prototype.getLinkedDictionaryPair=function(n){if(!ol.isUndefined(n)){var r="$"+this.toStr(n),o=this.table[r];return o}},t.prototype.getValue=function(n){var r=this.getLinkedDictionaryPair(n);if(!ol.isUndefined(r))return r.value},t.prototype.remove=function(n){var r=this.getLinkedDictionaryPair(n);if(!ol.isUndefined(r))return e.prototype.remove.call(this,n),r.unlink(),r.value},t.prototype.clear=function(){e.prototype.clear.call(this),this.head.next=this.tail,this.tail.prev=this.head},t.prototype.replace=function(n,r){var o="$"+this.toStr(r.key);r.next=n.next,r.prev=n.prev,this.remove(n.key),r.prev.next=r,r.next.prev=r,this.table[o]=r,++this.nElements},t.prototype.setValue=function(n,r){if(!(ol.isUndefined(n)||ol.isUndefined(r))){var o=this.getLinkedDictionaryPair(n),s=new Nle(n,r),i="$"+this.toStr(n);if(ol.isUndefined(o)){this.appendToTail(s),this.table[i]=s,++this.nElements;return}else return this.replace(o,s),o.value}},t.prototype.keys=function(){var n=[];return this.forEach(function(r,o){n.push(r)}),n},t.prototype.values=function(){var n=[];return this.forEach(function(r,o){n.push(o)}),n},t.prototype.forEach=function(n){for(var r=this.head.next;!Ole(r);){var o=n(r.key,r.value);if(o===!1)return;r=r.next}},t}(Rle.default);Hw.default=Mle;var Ww={};Object.defineProperty(Ww,"__esModule",{value:!0});var Hs=zr,Lle=$i,dv=Zn,Dle=function(){function e(t,n,r){r===void 0&&(r=!1),this.dict=new Lle.default(t),this.equalsF=n||Hs.defaultEquals,this.allowDuplicate=r}return e.prototype.getValue=function(t){var n=this.dict.getValue(t);return Hs.isUndefined(n)?[]:dv.copy(n)},e.prototype.setValue=function(t,n){if(Hs.isUndefined(t)||Hs.isUndefined(n))return!1;var r=this.dict.getValue(t);return Hs.isUndefined(r)?(this.dict.setValue(t,[n]),!0):!this.allowDuplicate&&dv.contains(r,n,this.equalsF)?!1:(r.push(n),!0)},e.prototype.remove=function(t,n){if(Hs.isUndefined(n)){var r=this.dict.remove(t);return!Hs.isUndefined(r)}var o=this.dict.getValue(t);return!Hs.isUndefined(o)&&dv.remove(o,n,this.equalsF)?(o.length===0&&this.dict.remove(t),!0):!1},e.prototype.keys=function(){return this.dict.keys()},e.prototype.values=function(){for(var t=this.dict.values(),n=[],r=0,o=t;r<o.length;r++)for(var s=o[r],i=0,a=s;i<a.length;i++){var l=a[i];n.push(l)}return n},e.prototype.containsKey=function(t){return this.dict.containsKey(t)},e.prototype.clear=function(){this.dict.clear()},e.prototype.size=function(){return this.dict.size()},e.prototype.isEmpty=function(){return this.dict.isEmpty()},e}();Ww.default=Dle;var O1={},Ile=ca&&ca.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(O1,"__esModule",{value:!0});var Fle=$i,zle=zr,Ble=function(e){Ile(t,e);function t(n,r){var o=e.call(this,r)||this;return o.defaultFactoryFunction=n,o}return t.prototype.setDefault=function(n,r){var o=e.prototype.getValue.call(this,n);return zle.isUndefined(o)?(this.setValue(n,r),r):o},t.prototype.getValue=function(n){return this.setDefault(n,this.defaultFactoryFunction())},t}(Fle.default);O1.default=Ble;var Xw={};Object.defineProperty(Xw,"__esModule",{value:!0});var Gle=zr,jle=N1,Vle=function(){function e(t){this.heap=new jle.default(Gle.reverseCompareFunction(t))}return e.prototype.enqueue=function(t){return this.heap.add(t)},e.prototype.add=function(t){return this.heap.add(t)},e.prototype.dequeue=function(){if(this.heap.size()!==0){var t=this.heap.peek();return this.heap.removeRoot(),t}},e.prototype.peek=function(){return this.heap.peek()},e.prototype.contains=function(t){return this.heap.contains(t)},e.prototype.isEmpty=function(){return this.heap.isEmpty()},e.prototype.size=function(){return this.heap.size()},e.prototype.clear=function(){this.heap.clear()},e.prototype.forEach=function(t){this.heap.forEach(t)},e}();Xw.default=Vle;var qw={};Object.defineProperty(qw,"__esModule",{value:!0});var Ule=Rf,Hle=function(){function e(){this.list=new Ule.default}return e.prototype.push=function(t){return this.list.add(t,0)},e.prototype.add=function(t){return this.list.add(t,0)},e.prototype.pop=function(){return this.list.removeElementAtIndex(0)},e.prototype.peek=function(){return this.list.first()},e.prototype.size=function(){return this.list.size()},e.prototype.contains=function(t,n){return this.list.contains(t,n)},e.prototype.isEmpty=function(){return this.list.isEmpty()},e.prototype.clear=function(){this.list.clear()},e.prototype.forEach=function(t){this.list.forEach(t)},e}();qw.default=Hle;var Yw={};Object.defineProperty(Yw,"__esModule",{value:!0});var on;(function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER",e[e.INSIDE_AT_END=2]="INSIDE_AT_END",e[e.INSIDE_AT_START=3]="INSIDE_AT_START"})(on||(on={}));var Wle=function(){function e(t,n){t===void 0&&(t=[]),n===void 0&&(n={}),this.rootIds=t,this.nodes=n,this.initRootIds(),this.initNodes()}return e.prototype.initRootIds=function(){for(var t=0,n=this.rootIds;t<n.length;t++){var r=n[t];this.createEmptyNodeIfNotExist(r)}},e.prototype.initNodes=function(){for(var t in this.nodes)if(this.nodes.hasOwnProperty(t))for(var n=0,r=this.nodes[t];n<r.length;n++){var o=r[n];this.createEmptyNodeIfNotExist(o)}},e.prototype.createEmptyNodeIfNotExist=function(t){this.nodes[t]||(this.nodes[t]=[])},e.prototype.getRootIds=function(){var t=this.rootIds.slice();return t},e.prototype.getNodes=function(){var t={};for(var n in this.nodes)this.nodes.hasOwnProperty(n)&&(t[n]=this.nodes[n].slice());return t},e.prototype.getObject=function(){return{rootIds:this.getRootIds(),nodes:this.getNodes()}},e.prototype.toObject=function(){return this.getObject()},e.prototype.flatten=function(){for(var t=this,n=[],r=0;r<this.rootIds.length;r++){var o=this.rootIds[r];n.push({id:o,level:0,hasParent:!1,childrenCount:0}),c(o,this.nodes,n,0)}for(var s=0,i=n;s<i.length;s++){var a=i[s];a.childrenCount=l(a.id)}return n;function l(f){if(t.nodes[f]){var u=t.nodes[f].length;return u}else return 0}function c(f,u,d,h){if(h===void 0&&(h=0),!(!f||!u||!d||!u[f])){h++;for(var m=u[f],p=0;p<m.length;p++){var g=m[p];d.push({id:g,level:h,hasParent:!0}),c(g,u,d,h)}h--}}},e.prototype.moveIdBeforeId=function(t,n){return this.moveId(t,n,on.BEFORE)},e.prototype.moveIdAfterId=function(t,n){return this.moveId(t,n,on.AFTER)},e.prototype.moveIdIntoId=function(t,n,r){return r===void 0&&(r=!0),r?this.moveId(t,n,on.INSIDE_AT_START):this.moveId(t,n,on.INSIDE_AT_END)},e.prototype.swapRootIdWithRootId=function(t,n){var r=this.findRootId(t),o=this.findRootId(n);this.swapRootPositionWithRootPosition(r,o)},e.prototype.swapRootPositionWithRootPosition=function(t,n){var r=this.rootIds[n];this.rootIds[n]=this.rootIds[t],this.rootIds[t]=r},e.prototype.deleteId=function(t){this.rootDeleteId(t),this.nodeAndSubNodesDelete(t),this.nodeRefrencesDelete(t)},e.prototype.insertIdBeforeId=function(t,n){var r=this.findRootId(t);r>-1&&this.insertIdIntoRoot(n,r);for(var o in this.nodes)if(this.nodes.hasOwnProperty(o)){var s=this.findNodeId(o,t);s>-1&&this.insertIdIntoNode(o,n,s)}},e.prototype.insertIdAfterId=function(t,n){var r=this.findRootId(t);r>-1&&this.insertIdIntoRoot(n,r+1);for(var o in this.nodes)if(this.nodes.hasOwnProperty(o)){var s=this.findNodeId(o,t);s>-1&&this.insertIdIntoNode(o,n,s+1)}},e.prototype.insertIdIntoId=function(t,n){this.nodeInsertAtEnd(t,n),this.nodes[n]=[]},e.prototype.insertIdIntoRoot=function(t,n){if(n===void 0)this.rootInsertAtEnd(t);else if(n<0){var r=this.rootIds.length;this.rootIds.splice(n+r+1,0,t)}else this.rootIds.splice(n,0,t);this.nodes[t]=this.nodes[t]||[]},e.prototype.insertIdIntoNode=function(t,n,r){if(this.nodes[t]=this.nodes[t]||[],this.nodes[n]=this.nodes[n]||[],r===void 0)this.nodeInsertAtEnd(t,n);else if(r<0){var o=this.nodes[t].length;this.nodes[t].splice(r+o+1,0,n)}else this.nodes[t].splice(r,0,n)},e.prototype.moveId=function(t,n,r){var o=t,s=this.findRootId(o);this.nodes[n];for(var i in this.nodes)if(this.nodes.hasOwnProperty(i)){this.findNodeId(i,n);break}var a=n,l=this.findRootId(a);this.nodes[n];for(var i in this.nodes)if(this.nodes.hasOwnProperty(i)){this.findNodeId(i,n);break}if(s>-1)if(l>-1)switch(this.rootDelete(s),l>s&&l--,r){case on.BEFORE:this.insertIdIntoRoot(o,l);break;case on.AFTER:this.insertIdIntoRoot(o,l+1);break;case on.INSIDE_AT_START:this.nodeInsertAtStart(a,o);break;case on.INSIDE_AT_END:this.nodeInsertAtEnd(a,o);break}else{this.rootDelete(s);for(var i in this.nodes)if(this.nodes.hasOwnProperty(i)){var c=this.findNodeId(i,a);if(c>-1){switch(r){case on.BEFORE:this.insertIdIntoNode(i,o,c);break;case on.AFTER:this.insertIdIntoNode(i,o,c+1);break;case on.INSIDE_AT_START:this.nodeInsertAtStart(a,o);break;case on.INSIDE_AT_END:this.nodeInsertAtEnd(a,o);break}break}}}else if(l>-1){for(var i in this.nodes)if(this.nodes.hasOwnProperty(i)){var c=this.findNodeId(i,o);if(c>-1){this.nodeDeleteAtIndex(i,c);break}}switch(r){case on.BEFORE:this.insertIdIntoRoot(o,l);break;case on.AFTER:this.insertIdIntoRoot(o,l+1);break;case on.INSIDE_AT_START:this.nodeInsertAtStart(a,o);break;case on.INSIDE_AT_END:this.nodeInsertAtEnd(a,o);break}}else{for(var i in this.nodes)if(this.nodes.hasOwnProperty(i)){var c=this.findNodeId(i,o);if(c>-1){this.nodeDeleteAtIndex(i,c);break}}for(var i in this.nodes)if(this.nodes.hasOwnProperty(i)){var c=this.findNodeId(i,a);if(c>-1){switch(r){case on.BEFORE:this.insertIdIntoNode(i,o,c);break;case on.AFTER:this.insertIdIntoNode(i,o,c+1);break;case on.INSIDE_AT_START:this.nodeInsertAtStart(a,o);break;case on.INSIDE_AT_END:this.nodeInsertAtEnd(a,o);break}break}}}},e.prototype.swapArrayElements=function(t,n,r){var o=t[n];return t[n]=t[r],t[r]=o,t},e.prototype.rootDeleteId=function(t){var n=this.findRootId(t);n>-1&&this.rootDelete(n)},e.prototype.nodeAndSubNodesDelete=function(t){for(var n=[],r=0;r<this.nodes[t].length;r++){var o=this.nodes[t][r];this.nodeAndSubNodesDelete(o),n.push(t)}this.nodeDelete(t);for(var r=0;r<n.length;r++)this.nodeDelete(n[r])},e.prototype.nodeRefrencesDelete=function(t){for(var n in this.nodes)if(this.nodes.hasOwnProperty(n))for(var r=0;r<this.nodes[n].length;r++){var o=this.nodes[n][r];o===t&&this.nodeDeleteAtIndex(n,r)}},e.prototype.nodeDelete=function(t){delete this.nodes[t]},e.prototype.findRootId=function(t){return this.rootIds.indexOf(t)},e.prototype.findNodeId=function(t,n){return this.nodes[t].indexOf(n)},e.prototype.findNode=function(t){return this.nodes[t]},e.prototype.nodeInsertAtStart=function(t,n){this.nodes[t].unshift(n)},e.prototype.nodeInsertAtEnd=function(t,n){this.nodes[t].push(n)},e.prototype.rootDelete=function(t){this.rootIds.splice(t,1)},e.prototype.nodeDeleteAtIndex=function(t,n){this.nodes[t].splice(n,1)},e.prototype.rootInsertAtStart=function(t){this.rootIds.unshift(t)},e.prototype.rootInsertAtEnd=function(t){this.rootIds.push(t)},e}();Yw.default=Wle;Object.defineProperty(Mn,"__esModule",{value:!0});var Xle=Zn;Mn.arrays=Xle;var qle=Vw;Mn.Bag=qle.default;var Yle=Uw;Mn.BSTree=Yle.default;var Zle=k1;Mn.BSTreeKV=Zle.default;var Qle=$i;Mn.Dictionary=Qle.default;var Kle=N1;Mn.Heap=Kle.default;var Jle=Hw;Mn.LinkedDictionary=Jle.default;var ece=Rf;Mn.LinkedList=ece.default;var tce=Ww;Mn.MultiDictionary=tce.default;var nce=O1;Mn.FactoryDictionary=nce.default;var rce=O1;Mn.DefaultDictionary=rce.default;var oce=R1,sce=Mn.Queue=oce.default,ice=Xw;Mn.PriorityQueue=ice.default;var ace=P1;Mn.Set=ace.default;var lce=qw;Mn.Stack=lce.default;var cce=Yw;Mn.MultiRootTree=cce.default;var uce=zr;Mn.util=uce;const A_=1e4,T_=1e3,ah=10,fce=.001,Yr=10,dce=200;let C_=0;function P_(e){const t=new OffscreenCanvas(A_,T_),n=t.getContext("2d");if(!n)throw new Error("Failed to init canvas");const r=window.cv;t.width=A_,t.height=T_,n.fillStyle="lightgrey",n.fillRect(0,0,t.width,t.height),n.font=`${Ig.get()?"italic ":""}${Dg.get()?"bold ":""}720px "${Og.get()}"`,n.fillStyle="black",n.fillText(e,100,900);const o=n.getImageData(0,0,t.width,t.height),s=r.matFromImageData(o),i=new r.Mat;r.cvtColor(s,i,r.COLOR_RGBA2GRAY);const a=new r.Mat;r.threshold(i,a,128,255,r.THRESH_BINARY_INV);const l=Zw();let c=kk(a,{x:0,y:0});const f=[];let u=0;fp.get()==aa.ADVANCED&&(c=c.map(h=>bce(h)).reduce((h,m)=>[...h,...m],[])),c.forEach(h=>{const m=hce(h);m.forEach(p=>{p.parentIdx!==-1&&(p.parentIdx+=u),f.push(p)}),u+=m.length}),f.forEach(h=>{Kl(l,{x:h.bounds.left,y:h.bounds.top}),Kl(l,{x:h.bounds.right,y:h.bounds.bottom})});const d={polygons:f,bounds:l};return R_(d.bounds,ah),d.polygons.forEach(h=>{R_(h.bounds,ah),h.points.forEach(m=>{m.x/=ah,m.y/=ah})}),console.log("res",d),s.delete(),i.delete(),a.delete(),c.forEach(h=>h.mask.delete()),d}function hce(e){const t=window.cv,{mask:n,offset:r}=e,o=new t.MatVector,s=new t.Mat;t.findContours(n,o,s,t.RETR_CCOMP,t.CHAIN_APPROX_NONE);const i=[];for(let a=0;a<o.size();++a){const l=o.get(a),c=s.intPtr(0,a)[3],f=fce*t.arcLength(l,!0),u=new t.Mat;t.approxPolyDP(l,u,f,!0);const d=[];for(let m=0;m<u.rows;++m)d.push({x:u.data32S[m*2]+r.x,y:u.data32S[m*2+1]+r.y});d.push({x:u.data32S[0]+r.x,y:u.data32S[1]+r.y});const h=Ece(d);d.forEach(m=>Kl(h,m)),i.push({points:d,parentIdx:c,bounds:h}),u.delete()}return o.delete(),s.delete(),i}function pce(){return`hsl(${Math.floor(Math.random()*360)}, 100%, 50%)`}function Ol(e,t,n,r){n.fillStyle=r,n.beginPath(),n.arc(e,t,10,0,2*Math.PI),n.fill()}function mce(e,t,n,r="red",o=1){e.beginPath(),e.moveTo(t.x,t.y),e.lineTo(n.x,n.y),e.strokeStyle=r,e.lineWidth=o,e.stroke()}function vce(e){let n=window.cv.boundingRect(e);return e.roi(n).clone()}function gce(e,t,n,r="blue"){e.strokeStyle=r,e.lineWidth=10,e.strokeRect(t.x,t.y,n.x-t.x,n.y-t.y)}function kk(e,t){const n=window.cv;let r=new n.Mat,o=new n.Mat,s=new n.Mat,i=n.connectedComponentsWithStats(e,r,o,s),a=[];for(let l=1;l<i;l++){let c=new n.Mat;n.compare(r,new n.Mat(r.rows,r.cols,r.type(),[l,0,0,0]),c,n.CMP_EQ);let f=n.boundingRect(c),u=vce(c);a.push({mask:u,offset:{x:f.x+t.x,y:f.y+t.y}}),c.delete()}return r.delete(),o.delete(),s.delete(),a}function hv(e){const t=window.cv;let n=document.getElementById("segmentation");n.style.display="";const r=document.createElement("canvas");return r.width=e.cols/30,r.height=e.rows/30,r.id="canvas"+C_,r.style.maxHeight="100px",r.style.margin="1px",C_++,n.appendChild(r),t.imshow(r,e),r}function yce(e,t,n){const r=n.getContext("2d");mce(r,{x:0,y:t},{x:n.width-1,y:t},"lightgrey");let o=null,s=[];for(let i=0;i<e.cols+1;i++){let a=i<e.cols?e.ucharAt(t,i)>0:!1;if(a&&o===null)o=i;else if(!a&&o!==null){const l=i-o;if(l>dce){const c=o+l/10,f=o+l-l/10;s.push(c),s.push(f),Ol(c,t,r,"red"),Ol(f,t,r,"red")}else{let c=(i-o)/2+o;s.push(c),Ol(c,t,r,"red")}o=null}}return s.length>2&&(s=[s[0],s[s.length-1]]),s}function wce(e,t,n,r){const o=r.getContext("2d"),s=window.cv;let i=new s.Mat,a=new s.Size(Math.round(e.cols/Yr),Math.round(e.rows/Yr));s.resize(e,i,a,0,0,s.INTER_AREA);const l=new Date().getTime(),c=n.map(f=>{const u=new sce;let d=i.clone(),h=new s.Mat(i.rows,i.cols,s.CV_32F,new s.Scalar(-1));u.add([f/Yr,t/Yr,0]);const m=Math.sqrt(2);let p=0;for(;!u.isEmpty()&&p<1e6;){p++;const[g,v,y]=u.dequeue();if(g<0||g>=i.cols||v<0||v>=i.rows||!(i.ucharAt(v,g)>0))continue;if(!(d.ucharAt(v,g)>0)){const E=h.floatAt(v,g);y<E&&(h.floatPtr(v,g)[0]=y);continue}Ol(g*Yr,v*Yr,o,"green"),d.ucharPtr(v,g)[0]=0,h.floatPtr(v,g)[0]=y,u.add([g+1,v,y+1]),u.add([g-1,v,y+1]),u.add([g,v+1,y+1]),u.add([g,v-1,y+1]),u.add([g+1,v+1,y+m]),u.add([g+1,v-1,y+m]),u.add([g-1,v+1,y+m]),u.add([g-1,v-1,y+m])}return d.delete(),h});return i.delete(),console.log("segmentation time",new Date().getTime()-l),c}function xce(e,t){const n=[];for(let r=0;r<e.length-1;r++){const o=e[r];for(let s=r+1;s<e.length;s++){const i=e[s];let a=0;const l=Zw();for(let c=0;c<o.cols;c++)for(let f=0;f<o.rows;f++){const u=o.floatAt(f,c),d=i.floatAt(f,c);if(u<0||d<0)continue;Math.abs(d-u)<2&&(Kl(l,{x:(c+2)*Yr,y:(f+2)*Yr}),Kl(l,{x:(c-2)*Yr,y:(f-2)*Yr}),a++,Ol(c*Yr,f*Yr,t,"red"))}a>0&&(n.push(l),gce(t,{x:l.left,y:l.top},{x:l.right,y:l.bottom}))}}return n}function bce(e){const t=window.cv,{mask:n,offset:r}=e,o=hv(n),s=o.getContext("2d");s.fillStyle=pce();const i=Math.min(n.rows-n.rows/20,n.rows-1),a=yce(n,i,o);if(a.length===1)return[e];const l=wce(n,i,a,o);a.forEach(p=>{Ol(p,i,s,"red")});const c=xce(l,s),f=n.clone();let u=new t.Mat(n.rows,n.cols,t.CV_8UC1,new t.Scalar(0));c.forEach(p=>{let g=new t.Point(Math.max(p.left,0),Math.max(p.top,0)),v=new t.Point(Math.min(p.right,n.cols-1),Math.min(p.bottom,n.rows-1));t.rectangle(f,g,v,new t.Scalar(0),t.FILLED),t.rectangle(u,g,v,new t.Scalar(255),t.FILLED)}),t.bitwise_and(u,n,u);const d={mask:u,offset:r},h=kk(f,r);let m=[e];if(h.length===1)console.error("Segmentation failed to split figure");else if(h.length>2)console.error("Too many segments produced",h.length);else{const p=k_(h[0],d);hv(p.mask);const g=k_(h[1],d);hv(g.mask),m=[p,g]}return h.forEach(p=>p.mask.delete()),u.delete(),f.delete(),e.mask.delete(),m}function k_(e,t){const n=window.cv,r={x:Math.min(e.offset.x,t.offset.x),y:Math.min(e.offset.y,t.offset.y)},o={x:Math.max(e.offset.x+e.mask.cols,t.offset.x+t.mask.cols),y:Math.max(e.offset.y+e.mask.rows,t.offset.y+t.mask.rows)},s=o.x-r.x,i=o.y-r.y;let a=new n.Mat(i,s,n.CV_8UC1,new n.Scalar(0)),l=new n.Mat(i,s,n.CV_8UC1,new n.Scalar(0)),c=a.roi(new n.Rect(e.offset.x-r.x,e.offset.y-r.y,e.mask.cols,e.mask.rows)),f=l.roi(new n.Rect(t.offset.x-r.x,t.offset.y-r.y,t.mask.cols,t.mask.rows));return e.mask.copyTo(c),t.mask.copyTo(f),n.bitwise_or(a,l,a),l.delete(),{mask:a,offset:r}}function Zw(){return{left:Number.MAX_SAFE_INTEGER,right:Number.MIN_SAFE_INTEGER,top:Number.MAX_SAFE_INTEGER,bottom:Number.MIN_SAFE_INTEGER}}function Kl(e,t){e.left=Math.min(e.left,t.x),e.right=Math.max(e.right,t.x),e.top=Math.min(e.top,t.y),e.bottom=Math.max(e.bottom,t.y)}function R_(e,t){e.top/=t,e.right/=t,e.left/=t,e.bottom/=t}function Ece(e){const t=Zw();return e.forEach(n=>Kl(t,n)),t}function Sce(e){return{x:(e.left+e.right)/2,y:(e.top+e.bottom)/2}}const _ce=pc.primitives.polygon,{extrudeLinear:N_}=pc.extrusions,{colorize:O_}=pc.colors,{union:$ce,subtract:Ace,intersect:Rk}=pc.booleans,{translate:Tce,rotate:M_}=pc.transforms,Cce=(e,t)=>{const n=nle.serialize({binary:!0},e),r=new Blob(n),o=URL.createObjectURL(r),s=document.createElement("a");s.href=o,s.download=t+".3mf",document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(o)};function L_(e){return _ce({points:e.points.map(t=>[t.x,t.y])})}function D_(e,t,n){const r=Sce(e.bounds),o=[];return e.polygons.forEach(s=>{if(s.parentIdx!==-1){const i=L_(s),a=N_({height:t},i);o[s.parentIdx].mesh=O_([1,0,0],Ace(o[s.parentIdx].mesh,a)),o.push(null)}else{s.points.reverse();const a=L_(s),l=O_([0,1,0],N_({height:t},a)),c=[s.bounds.left,s.bounds.right];o.push({mesh:l,span:c})}}),o.filter(s=>s!==null).map(s=>{let i=Tce([-r.x,-r.y,-t/2],s.mesh);return i=M_([0,n,0],i),i=M_([Math.PI/2,Math.PI,-Math.PI/2],i),{...s,mesh:i}})}function Tp(e,t){return e.span[0]-t.span[0]}function I_(e){const t=e.reduce((r,o)=>Math.min(r,o.span[0]),Number.MAX_SAFE_INTEGER),n=e.reduce((r,o)=>Math.max(r,o.span[1]),Number.MIN_SAFE_INTEGER);return r=>(r.span[0]-t)/(n-t)}function Pce(e,t){e.sort(Tp),t.sort(Tp);const n=I_(e),r=I_(t),o=[];let s=0,i=0;for(;;){o.push(Rk(e[s].mesh,t[i].mesh));const a=s<e.length-1?n(e[s+1]):null,l=i<t.length-1?r(t[i+1]):null;if(a===null&&l===null)break;a===null||l!==null&&l<a?i++:s++}return o}function F_(e){return e.reduce((n,r)=>n?$ce(n,r.mesh):r.mesh,null)}function kce(e,t){e.sort(Tp),t.sort(Tp);const n=F_(e),r=F_(t);return[Rk(n,r)]}const Rce=["Arial","Helvetica","Times New Roman","Courier","Verdana","Georgia","Palatino","Garamond","Bookman","Comic Sans MS","Trebuchet MS","Arial Black","Impact"];function Nce({onGenerate:e}){const t=ls($h),n=ls(Ah),r=ls(Og),o=ls(Dg),s=ls(Ig),i=ls(Lg),a=ls(Mg),l=ls(fp),c=O.useCallback(u=>{u!==null&&Og.set(u)},[]),f=O.useCallback(()=>{const u=Lg.get(),d=$h.get().toLowerCase()+"_"+Ah.get().toLowerCase();Cce(u,d)},[]);return F.jsxs(cp,{children:[F.jsx(up,{label:"Side A text",placeholder:"right side text",value:n,onChange:u=>Ah.set(u.currentTarget.value),styles:()=>({input:{fontFamily:r,fontWeight:o?"bold":"normal",fontStyle:s?"italic":"normal"}})}),F.jsx(up,{label:"Side B text",placeholder:"left side text",value:t,onChange:u=>$h.set(u.currentTarget.value),styles:()=>({input:{fontFamily:r,fontWeight:o?"bold":"normal",fontStyle:s?"italic":"normal"}})}),F.jsx(ew,{label:"Font",placeholder:"Pick value",data:Rce,value:r,onChange:c}),F.jsx(ga,{label:"Bold",value:o,onChange:u=>Dg.set(u.currentTarget.checked)}),F.jsx(ga,{label:"Italic",value:s,onChange:u=>Ig.set(u.currentTarget.checked)}),F.jsx(hs.Group,{value:l,onChange:u=>fp.set(u),label:"Reduction strategy",children:F.jsxs(cp,{children:[F.jsx(hs,{value:aa.ADVANCED,label:"Advanced"}),F.jsx(hs,{value:aa.SIMPLE,label:"Simple"}),F.jsx(hs,{value:aa.NONE,label:"None"})]})}),F.jsx(Qu,{onClick:e,disabled:!a||i.length>0,children:"Generate"}),F.jsx(Qu,{onClick:f,disabled:i.length===0,children:"Download"})]})}var Oce=Mce;function Mce(){var e=new Float32Array(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}var Lce=Dce;function Dce(e){var t=new Float32Array(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}var Ice=Fce;function Fce(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}var Nk=zce;function zce(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}var Bce=Gce;function Gce(e,t){if(e===t){var n=t[1],r=t[2],o=t[3],s=t[6],i=t[7],a=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=s,e[11]=t[14],e[12]=o,e[13]=i,e[14]=a}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}var jce=Vce;function Vce(e,t){var n=t[0],r=t[1],o=t[2],s=t[3],i=t[4],a=t[5],l=t[6],c=t[7],f=t[8],u=t[9],d=t[10],h=t[11],m=t[12],p=t[13],g=t[14],v=t[15],y=n*a-r*i,w=n*l-o*i,b=n*c-s*i,E=r*l-o*a,S=r*c-s*a,$=o*c-s*l,A=f*p-u*m,G=f*g-d*m,I=f*v-h*m,H=u*g-d*p,te=u*v-h*p,pe=d*v-h*g,j=y*pe-w*te+b*H+E*I-S*G+$*A;return j?(j=1/j,e[0]=(a*pe-l*te+c*H)*j,e[1]=(o*te-r*pe-s*H)*j,e[2]=(p*$-g*S+v*E)*j,e[3]=(d*S-u*$-h*E)*j,e[4]=(l*I-i*pe-c*G)*j,e[5]=(n*pe-o*I+s*G)*j,e[6]=(g*b-m*$-v*w)*j,e[7]=(f*$-d*b+h*w)*j,e[8]=(i*te-a*I+c*A)*j,e[9]=(r*I-n*te-s*A)*j,e[10]=(m*S-p*b+v*y)*j,e[11]=(u*b-f*S-h*y)*j,e[12]=(a*G-i*H-l*A)*j,e[13]=(n*H-r*G+o*A)*j,e[14]=(p*w-m*E-g*y)*j,e[15]=(f*E-u*w+d*y)*j,e):null}var Uce=Hce;function Hce(e,t){var n=t[0],r=t[1],o=t[2],s=t[3],i=t[4],a=t[5],l=t[6],c=t[7],f=t[8],u=t[9],d=t[10],h=t[11],m=t[12],p=t[13],g=t[14],v=t[15];return e[0]=a*(d*v-h*g)-u*(l*v-c*g)+p*(l*h-c*d),e[1]=-(r*(d*v-h*g)-u*(o*v-s*g)+p*(o*h-s*d)),e[2]=r*(l*v-c*g)-a*(o*v-s*g)+p*(o*c-s*l),e[3]=-(r*(l*h-c*d)-a*(o*h-s*d)+u*(o*c-s*l)),e[4]=-(i*(d*v-h*g)-f*(l*v-c*g)+m*(l*h-c*d)),e[5]=n*(d*v-h*g)-f*(o*v-s*g)+m*(o*h-s*d),e[6]=-(n*(l*v-c*g)-i*(o*v-s*g)+m*(o*c-s*l)),e[7]=n*(l*h-c*d)-i*(o*h-s*d)+f*(o*c-s*l),e[8]=i*(u*v-h*p)-f*(a*v-c*p)+m*(a*h-c*u),e[9]=-(n*(u*v-h*p)-f*(r*v-s*p)+m*(r*h-s*u)),e[10]=n*(a*v-c*p)-i*(r*v-s*p)+m*(r*c-s*a),e[11]=-(n*(a*h-c*u)-i*(r*h-s*u)+f*(r*c-s*a)),e[12]=-(i*(u*g-d*p)-f*(a*g-l*p)+m*(a*d-l*u)),e[13]=n*(u*g-d*p)-f*(r*g-o*p)+m*(r*d-o*u),e[14]=-(n*(a*g-l*p)-i*(r*g-o*p)+m*(r*l-o*a)),e[15]=n*(a*d-l*u)-i*(r*d-o*u)+f*(r*l-o*a),e}var Wce=Xce;function Xce(e){var t=e[0],n=e[1],r=e[2],o=e[3],s=e[4],i=e[5],a=e[6],l=e[7],c=e[8],f=e[9],u=e[10],d=e[11],h=e[12],m=e[13],p=e[14],g=e[15],v=t*i-n*s,y=t*a-r*s,w=t*l-o*s,b=n*a-r*i,E=n*l-o*i,S=r*l-o*a,$=c*m-f*h,A=c*p-u*h,G=c*g-d*h,I=f*p-u*m,H=f*g-d*m,te=u*g-d*p;return v*te-y*H+w*I+b*G-E*A+S*$}var qce=Yce;function Yce(e,t,n){var r=t[0],o=t[1],s=t[2],i=t[3],a=t[4],l=t[5],c=t[6],f=t[7],u=t[8],d=t[9],h=t[10],m=t[11],p=t[12],g=t[13],v=t[14],y=t[15],w=n[0],b=n[1],E=n[2],S=n[3];return e[0]=w*r+b*a+E*u+S*p,e[1]=w*o+b*l+E*d+S*g,e[2]=w*s+b*c+E*h+S*v,e[3]=w*i+b*f+E*m+S*y,w=n[4],b=n[5],E=n[6],S=n[7],e[4]=w*r+b*a+E*u+S*p,e[5]=w*o+b*l+E*d+S*g,e[6]=w*s+b*c+E*h+S*v,e[7]=w*i+b*f+E*m+S*y,w=n[8],b=n[9],E=n[10],S=n[11],e[8]=w*r+b*a+E*u+S*p,e[9]=w*o+b*l+E*d+S*g,e[10]=w*s+b*c+E*h+S*v,e[11]=w*i+b*f+E*m+S*y,w=n[12],b=n[13],E=n[14],S=n[15],e[12]=w*r+b*a+E*u+S*p,e[13]=w*o+b*l+E*d+S*g,e[14]=w*s+b*c+E*h+S*v,e[15]=w*i+b*f+E*m+S*y,e}var Zce=Qce;function Qce(e,t,n){var r=n[0],o=n[1],s=n[2],i,a,l,c,f,u,d,h,m,p,g,v;return t===e?(e[12]=t[0]*r+t[4]*o+t[8]*s+t[12],e[13]=t[1]*r+t[5]*o+t[9]*s+t[13],e[14]=t[2]*r+t[6]*o+t[10]*s+t[14],e[15]=t[3]*r+t[7]*o+t[11]*s+t[15]):(i=t[0],a=t[1],l=t[2],c=t[3],f=t[4],u=t[5],d=t[6],h=t[7],m=t[8],p=t[9],g=t[10],v=t[11],e[0]=i,e[1]=a,e[2]=l,e[3]=c,e[4]=f,e[5]=u,e[6]=d,e[7]=h,e[8]=m,e[9]=p,e[10]=g,e[11]=v,e[12]=i*r+f*o+m*s+t[12],e[13]=a*r+u*o+p*s+t[13],e[14]=l*r+d*o+g*s+t[14],e[15]=c*r+h*o+v*s+t[15]),e}var Kce=Jce;function Jce(e,t,n){var r=n[0],o=n[1],s=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*o,e[5]=t[5]*o,e[6]=t[6]*o,e[7]=t[7]*o,e[8]=t[8]*s,e[9]=t[9]*s,e[10]=t[10]*s,e[11]=t[11]*s,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}var eue=tue;function tue(e,t,n,r){var o=r[0],s=r[1],i=r[2],a=Math.sqrt(o*o+s*s+i*i),l,c,f,u,d,h,m,p,g,v,y,w,b,E,S,$,A,G,I,H,te,pe,j,de;return Math.abs(a)<1e-6?null:(a=1/a,o*=a,s*=a,i*=a,l=Math.sin(n),c=Math.cos(n),f=1-c,u=t[0],d=t[1],h=t[2],m=t[3],p=t[4],g=t[5],v=t[6],y=t[7],w=t[8],b=t[9],E=t[10],S=t[11],$=o*o*f+c,A=s*o*f+i*l,G=i*o*f-s*l,I=o*s*f-i*l,H=s*s*f+c,te=i*s*f+o*l,pe=o*i*f+s*l,j=s*i*f-o*l,de=i*i*f+c,e[0]=u*$+p*A+w*G,e[1]=d*$+g*A+b*G,e[2]=h*$+v*A+E*G,e[3]=m*$+y*A+S*G,e[4]=u*I+p*H+w*te,e[5]=d*I+g*H+b*te,e[6]=h*I+v*H+E*te,e[7]=m*I+y*H+S*te,e[8]=u*pe+p*j+w*de,e[9]=d*pe+g*j+b*de,e[10]=h*pe+v*j+E*de,e[11]=m*pe+y*j+S*de,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}var nue=rue;function rue(e,t,n){var r=Math.sin(n),o=Math.cos(n),s=t[4],i=t[5],a=t[6],l=t[7],c=t[8],f=t[9],u=t[10],d=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=s*o+c*r,e[5]=i*o+f*r,e[6]=a*o+u*r,e[7]=l*o+d*r,e[8]=c*o-s*r,e[9]=f*o-i*r,e[10]=u*o-a*r,e[11]=d*o-l*r,e}var oue=sue;function sue(e,t,n){var r=Math.sin(n),o=Math.cos(n),s=t[0],i=t[1],a=t[2],l=t[3],c=t[8],f=t[9],u=t[10],d=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=s*o-c*r,e[1]=i*o-f*r,e[2]=a*o-u*r,e[3]=l*o-d*r,e[8]=s*r+c*o,e[9]=i*r+f*o,e[10]=a*r+u*o,e[11]=l*r+d*o,e}var iue=aue;function aue(e,t,n){var r=Math.sin(n),o=Math.cos(n),s=t[0],i=t[1],a=t[2],l=t[3],c=t[4],f=t[5],u=t[6],d=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=s*o+c*r,e[1]=i*o+f*r,e[2]=a*o+u*r,e[3]=l*o+d*r,e[4]=c*o-s*r,e[5]=f*o-i*r,e[6]=u*o-a*r,e[7]=d*o-l*r,e}var lue=cue;function cue(e,t,n){var r,o,s,i=n[0],a=n[1],l=n[2],c=Math.sqrt(i*i+a*a+l*l);return Math.abs(c)<1e-6?null:(c=1/c,i*=c,a*=c,l*=c,r=Math.sin(t),o=Math.cos(t),s=1-o,e[0]=i*i*s+o,e[1]=a*i*s+l*r,e[2]=l*i*s-a*r,e[3]=0,e[4]=i*a*s-l*r,e[5]=a*a*s+o,e[6]=l*a*s+i*r,e[7]=0,e[8]=i*l*s+a*r,e[9]=a*l*s-i*r,e[10]=l*l*s+o,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}var uue=fue;function fue(e,t,n){var r=t[0],o=t[1],s=t[2],i=t[3],a=r+r,l=o+o,c=s+s,f=r*a,u=r*l,d=r*c,h=o*l,m=o*c,p=s*c,g=i*a,v=i*l,y=i*c;return e[0]=1-(h+p),e[1]=u+y,e[2]=d-v,e[3]=0,e[4]=u-y,e[5]=1-(f+p),e[6]=m+g,e[7]=0,e[8]=d+v,e[9]=m-g,e[10]=1-(f+h),e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}var due=hue;function hue(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}var pue=mue;function mue(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}var vue=gue;function gue(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=n,e[7]=0,e[8]=0,e[9]=-n,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}var yue=wue;function wue(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=0,e[2]=-n,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=n,e[9]=0,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}var xue=bue;function bue(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=0,e[4]=-n,e[5]=r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}var Eue=Sue;function Sue(e,t){var n=t[0],r=t[1],o=t[2],s=t[3],i=n+n,a=r+r,l=o+o,c=n*i,f=r*i,u=r*a,d=o*i,h=o*a,m=o*l,p=s*i,g=s*a,v=s*l;return e[0]=1-u-m,e[1]=f+v,e[2]=d-g,e[3]=0,e[4]=f-v,e[5]=1-c-m,e[6]=h+p,e[7]=0,e[8]=d+g,e[9]=h-p,e[10]=1-c-u,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}var _ue=$ue;function $ue(e,t,n,r,o,s,i){var a=1/(n-t),l=1/(o-r),c=1/(s-i);return e[0]=s*2*a,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=s*2*l,e[6]=0,e[7]=0,e[8]=(n+t)*a,e[9]=(o+r)*l,e[10]=(i+s)*c,e[11]=-1,e[12]=0,e[13]=0,e[14]=i*s*2*c,e[15]=0,e}var Aue=Tue;function Tue(e,t,n,r,o){var s=1/Math.tan(t/2),i=1/(r-o);return e[0]=s/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=s,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(o+r)*i,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*o*r*i,e[15]=0,e}var Cue=Pue;function Pue(e,t,n,r){var o=Math.tan(t.upDegrees*Math.PI/180),s=Math.tan(t.downDegrees*Math.PI/180),i=Math.tan(t.leftDegrees*Math.PI/180),a=Math.tan(t.rightDegrees*Math.PI/180),l=2/(i+a),c=2/(o+s);return e[0]=l,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=c,e[6]=0,e[7]=0,e[8]=-((i-a)*l*.5),e[9]=(o-s)*c*.5,e[10]=r/(n-r),e[11]=-1,e[12]=0,e[13]=0,e[14]=r*n/(n-r),e[15]=0,e}var kue=Rue;function Rue(e,t,n,r,o,s,i){var a=1/(t-n),l=1/(r-o),c=1/(s-i);return e[0]=-2*a,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(t+n)*a,e[13]=(o+r)*l,e[14]=(i+s)*c,e[15]=1,e}var Nue=Nk,Oue=Mue;function Mue(e,t,n,r){var o,s,i,a,l,c,f,u,d,h,m=t[0],p=t[1],g=t[2],v=r[0],y=r[1],w=r[2],b=n[0],E=n[1],S=n[2];return Math.abs(m-b)<1e-6&&Math.abs(p-E)<1e-6&&Math.abs(g-S)<1e-6?Nue(e):(f=m-b,u=p-E,d=g-S,h=1/Math.sqrt(f*f+u*u+d*d),f*=h,u*=h,d*=h,o=y*d-w*u,s=w*f-v*d,i=v*u-y*f,h=Math.sqrt(o*o+s*s+i*i),h?(h=1/h,o*=h,s*=h,i*=h):(o=0,s=0,i=0),a=u*i-d*s,l=d*o-f*i,c=f*s-u*o,h=Math.sqrt(a*a+l*l+c*c),h?(h=1/h,a*=h,l*=h,c*=h):(a=0,l=0,c=0),e[0]=o,e[1]=a,e[2]=f,e[3]=0,e[4]=s,e[5]=l,e[6]=u,e[7]=0,e[8]=i,e[9]=c,e[10]=d,e[11]=0,e[12]=-(o*m+s*p+i*g),e[13]=-(a*m+l*p+c*g),e[14]=-(f*m+u*p+d*g),e[15]=1,e)}var Lue=Due;function Due(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}var ao={create:Oce,clone:Lce,copy:Ice,identity:Nk,transpose:Bce,invert:jce,adjoint:Uce,determinant:Wce,multiply:qce,translate:Zce,scale:Kce,rotate:eue,rotateX:nue,rotateY:oue,rotateZ:iue,fromRotation:lue,fromRotationTranslation:uue,fromScaling:due,fromTranslation:pue,fromXRotation:vue,fromYRotation:yue,fromZRotation:xue,fromQuat:Eue,frustum:_ue,perspective:Aue,perspectiveFromFieldOfView:Cue,ortho:kue,lookAt:Oue,str:Lue};const pv=ao,Iue=(e,t={})=>{const{fbo:n}=t,r={cull:{enable:!0},context:{lightDirection:[.2,.2,1]},uniforms:{view:(o,s)=>s.camera.view,eye:(o,s)=>s.camera.position,projection:(o,s)=>s.camera.projection,camNear:(o,s)=>s.camera.near,camFar:(o,s)=>s.camera.far,invertedView:(o,s)=>pv.invert([],s.camera.view),lightPosition:(o,s)=>s&&s.rendering&&s.rendering.lightPosition?s.rendering.lightPosition:[100,200,100],lightDirection:(o,s)=>s&&s.rendering&&s.rendering.lightDirection?s.rendering.lightDirection:o.lightDirection||[0,0,0],lightView:o=>pv.lookAt([],o.lightDirection,[0,0,0],[0,0,1]),lightProjection:pv.ortho([],-25,-25,-20,20,-25,25),lightColor:(o,s)=>s&&s.rendering&&s.rendering.lightColor?s.rendering.lightColor:[1,.8,0],ambientLightAmount:(o,s)=>s&&s.rendering&&s.rendering.ambientLightAmount?s.rendering.ambientLightAmount:.3,diffuseLightAmount:(o,s)=>s&&s.rendering&&s.rendering.diffuseLightAmount?s&&s.rendering&&s.rendering.diffuseLightAmount:.89,specularLightAmount:(o,s)=>s&&s.rendering&&s.rendering.specularLightAmount?s.rendering.specularLightAmount:.16,uMaterialShininess:(o,s)=>s&&s.rendering&&s.rendering.materialShininess?s.rendering.materialShininess:8,materialAmbient:[.5,.8,.3],materialDiffuse:[.5,.8,.3],materialSpecular:[.5,.8,.3]},framebuffer:n};return e(Object.assign({},r,t.extras))};var Fue=Iue,M1={background:[1,1,1,1],meshColor:[0,.6,1,1],lightColor:[1,1,1,1],lightDirection:[.2,.2,1],lightPosition:[100,200,100],ambientLightAmount:.3,diffuseLightAmount:.89,specularLightAmount:.16,materialShininess:8},mv={exports:{}},z_;function zue(){return z_||(z_=1,function(e,t){(function(n,r){e.exports=r()})(ca,function(){var n=function(x){return x instanceof Uint8Array||x instanceof Uint16Array||x instanceof Uint32Array||x instanceof Int8Array||x instanceof Int16Array||x instanceof Int32Array||x instanceof Float32Array||x instanceof Float64Array||x instanceof Uint8ClampedArray},r=function(x,T){for(var L=Object.keys(T),K=0;K<L.length;++K)x[L[K]]=T[L[K]];return x},o=`
`;function s(x){return typeof atob<"u"?atob(x):"base64:"+x}function i(x){var T=new Error("(regl) "+x);throw console.error(T),T}function a(x,T){x||i(T)}function l(x){return x?": "+x:""}function c(x,T,L){x in T||i("unknown parameter ("+x+")"+l(L)+". possible values: "+Object.keys(T).join())}function f(x,T){n(x)||i("invalid parameter type"+l(T)+". must be a typed array")}function u(x,T){switch(T){case"number":return typeof x=="number";case"object":return typeof x=="object";case"string":return typeof x=="string";case"boolean":return typeof x=="boolean";case"function":return typeof x=="function";case"undefined":return typeof x>"u";case"symbol":return typeof x=="symbol"}}function d(x,T,L){u(x,T)||i("invalid parameter type"+l(L)+". expected "+T+", got "+typeof x)}function h(x,T){x>=0&&(x|0)===x||i("invalid parameter type, ("+x+")"+l(T)+". must be a nonnegative integer")}function m(x,T,L){T.indexOf(x)<0&&i("invalid value"+l(L)+". must be one of: "+T)}var p=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"];function g(x){Object.keys(x).forEach(function(T){p.indexOf(T)<0&&i('invalid regl constructor argument "'+T+'". must be one of '+p)})}function v(x,T){for(x=x+"";x.length<T;)x=" "+x;return x}function y(){this.name="unknown",this.lines=[],this.index={},this.hasErrors=!1}function w(x,T){this.number=x,this.line=T,this.errors=[]}function b(x,T,L){this.file=x,this.line=T,this.message=L}function E(){var x=new Error,T=(x.stack||x).toString(),L=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(T);if(L)return L[1];var K=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(T);return K?K[1]:"unknown"}function S(){var x=new Error,T=(x.stack||x).toString(),L=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(T);if(L)return L[1];var K=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(T);return K?K[1]:"unknown"}function $(x,T){var L=x.split(`
`),K=1,le=0,Q={unknown:new y,0:new y};Q.unknown.name=Q[0].name=T||E(),Q.unknown.lines.push(new w(0,""));for(var re=0;re<L.length;++re){var ge=L[re],ve=/^\s*#\s*(\w+)\s+(.+)\s*$/.exec(ge);if(ve)switch(ve[1]){case"line":var Se=/(\d+)(\s+\d+)?/.exec(ve[2]);Se&&(K=Se[1]|0,Se[2]&&(le=Se[2]|0,le in Q||(Q[le]=new y)));break;case"define":var Ae=/SHADER_NAME(_B64)?\s+(.*)$/.exec(ve[2]);Ae&&(Q[le].name=Ae[1]?s(Ae[2]):Ae[2]);break}Q[le].lines.push(new w(K++,ge))}return Object.keys(Q).forEach(function(_e){var Ce=Q[_e];Ce.lines.forEach(function(ye){Ce.index[ye.number]=ye})}),Q}function A(x){var T=[];return x.split(`
`).forEach(function(L){if(!(L.length<5)){var K=/^ERROR:\s+(\d+):(\d+):\s*(.*)$/.exec(L);K?T.push(new b(K[1]|0,K[2]|0,K[3].trim())):L.length>0&&T.push(new b("unknown",0,L))}}),T}function G(x,T){T.forEach(function(L){var K=x[L.file];if(K){var le=K.index[L.line];if(le){le.errors.push(L),K.hasErrors=!0;return}}x.unknown.hasErrors=!0,x.unknown.lines[0].errors.push(L)})}function I(x,T,L,K,le){if(!x.getShaderParameter(T,x.COMPILE_STATUS)){var Q=x.getShaderInfoLog(T),re=K===x.FRAGMENT_SHADER?"fragment":"vertex";we(L,"string",re+" shader source must be a string",le);var ge=$(L,le),ve=A(Q);G(ge,ve),Object.keys(ge).forEach(function(Se){var Ae=ge[Se];if(!Ae.hasErrors)return;var _e=[""],Ce=[""];function ye(Ee,W){_e.push(Ee),Ce.push(W||"")}ye("file number "+Se+": "+Ae.name+`
`,"color:red;text-decoration:underline;font-weight:bold"),Ae.lines.forEach(function(Ee){if(Ee.errors.length>0){ye(v(Ee.number,4)+"|  ","background-color:yellow; font-weight:bold"),ye(Ee.line+o,"color:red; background-color:yellow; font-weight:bold");var W=0;Ee.errors.forEach(function(ne){var be=ne.message,Fe=/^\s*'(.*)'\s*:\s*(.*)$/.exec(be);if(Fe){var me=Fe[1];switch(be=Fe[2],me){case"assign":me="=";break}W=Math.max(Ee.line.indexOf(me,W),0)}else W=0;ye(v("| ",6)),ye(v("^^^",W+3)+o,"font-weight:bold"),ye(v("| ",6)),ye(be+o,"font-weight:bold")}),ye(v("| ",6)+o)}else ye(v(Ee.number,4)+"|  "),ye(Ee.line+o,"color:red")}),typeof document<"u"&&!window.chrome?(Ce[0]=_e.join("%c"),console.log.apply(console,Ce)):console.log(_e.join(""))}),a.raise("Error compiling "+re+" shader, "+ge[0].name)}}function H(x,T,L,K,le){if(!x.getProgramParameter(T,x.LINK_STATUS)){var Q=x.getProgramInfoLog(T),re=$(L,le),ge=$(K,le),ve='Error linking program with vertex shader, "'+ge[0].name+'", and fragment shader "'+re[0].name+'"';typeof document<"u"?console.log("%c"+ve+o+"%c"+Q,"color:red;text-decoration:underline;font-weight:bold","color:red"):console.log(ve+o+Q),a.raise(ve)}}function te(x){x._commandRef=E()}function pe(x,T,L,K){te(x);function le(ve){return ve?K.id(ve):0}x._fragId=le(x.static.frag),x._vertId=le(x.static.vert);function Q(ve,Se){Object.keys(Se).forEach(function(Ae){ve[K.id(Ae)]=!0})}var re=x._uniformSet={};Q(re,T.static),Q(re,T.dynamic);var ge=x._attributeSet={};Q(ge,L.static),Q(ge,L.dynamic),x._hasCount="count"in x.static||"count"in x.dynamic||"elements"in x.static||"elements"in x.dynamic}function j(x,T){var L=S();i(x+" in command "+(T||E())+(L==="unknown"?"":" called from "+L))}function de(x,T,L){x||j(T,L||E())}function ee(x,T,L,K){x in T||j("unknown parameter ("+x+")"+l(L)+". possible values: "+Object.keys(T).join(),K||E())}function we(x,T,L,K){u(x,T)||j("invalid parameter type"+l(L)+". expected "+T+", got "+typeof x,K||E())}function oe(x){x()}function $e(x,T,L){x.texture?m(x.texture._texture.internalformat,T,"unsupported texture format for attachment"):m(x.renderbuffer._renderbuffer.format,L,"unsupported renderbuffer format for attachment")}var Ne=33071,Ye=9728,rt=9984,kt=9985,At=9986,Ct=9987,en=5120,an=5121,Vn=5122,lo=5123,Br=5124,Po=5125,co=5126,Gr=32819,It=32820,jr=33635,Qo=34042,Ln=36193,ln={};ln[en]=ln[an]=1,ln[Vn]=ln[lo]=ln[Ln]=ln[jr]=ln[Gr]=ln[It]=2,ln[Br]=ln[Po]=ln[co]=ln[Qo]=4;function Ko(x,T){return x===It||x===Gr||x===jr?2:x===Qo?4:ln[x]*T}function vn(x){return!(x&x-1)&&!!x}function uo(x,T,L){var K,le=T.width,Q=T.height,re=T.channels;a(le>0&&le<=L.maxTextureSize&&Q>0&&Q<=L.maxTextureSize,"invalid texture shape"),(x.wrapS!==Ne||x.wrapT!==Ne)&&a(vn(le)&&vn(Q),"incompatible wrap mode for texture, both width and height must be power of 2"),T.mipmask===1?le!==1&&Q!==1&&a(x.minFilter!==rt&&x.minFilter!==At&&x.minFilter!==kt&&x.minFilter!==Ct,"min filter requires mipmap"):(a(vn(le)&&vn(Q),"texture must be a square power of 2 to support mipmapping"),a(T.mipmask===(le<<1)-1,"missing or incomplete mipmap data")),T.type===co&&(L.extensions.indexOf("oes_texture_float_linear")<0&&a(x.minFilter===Ye&&x.magFilter===Ye,"filter not supported, must enable oes_texture_float_linear"),a(!x.genMipmaps,"mipmap generation not supported with float textures"));var ge=T.images;for(K=0;K<16;++K)if(ge[K]){var ve=le>>K,Se=Q>>K;a(T.mipmask&1<<K,"missing mipmap data");var Ae=ge[K];if(a(Ae.width===ve&&Ae.height===Se,"invalid shape for mip images"),a(Ae.format===T.format&&Ae.internalformat===T.internalformat&&Ae.type===T.type,"incompatible type for mip image"),!Ae.compressed)if(Ae.data){var _e=Math.ceil(Ko(Ae.type,re)*ve/Ae.unpackAlignment)*Ae.unpackAlignment;a(Ae.data.byteLength===_e*Se,"invalid data for image, buffer size is inconsistent with image format")}else Ae.element||Ae.copy}else x.genMipmaps||a((T.mipmask&1<<K)===0,"extra mipmap data");T.compressed&&a(!x.genMipmaps,"mipmap generation for compressed images not supported")}function Ps(x,T,L,K){var le=x.width,Q=x.height,re=x.channels;a(le>0&&le<=K.maxTextureSize&&Q>0&&Q<=K.maxTextureSize,"invalid texture shape"),a(le===Q,"cube map must be square"),a(T.wrapS===Ne&&T.wrapT===Ne,"wrap mode not supported by cube map");for(var ge=0;ge<L.length;++ge){var ve=L[ge];a(ve.width===le&&ve.height===Q,"inconsistent cube map face shape"),T.genMipmaps&&(a(!ve.compressed,"can not generate mipmap for compressed textures"),a(ve.mipmask===1,"can not specify mipmaps and generate mipmaps"));for(var Se=ve.images,Ae=0;Ae<16;++Ae){var _e=Se[Ae];if(_e){var Ce=le>>Ae,ye=Q>>Ae;a(ve.mipmask&1<<Ae,"missing mipmap data"),a(_e.width===Ce&&_e.height===ye,"invalid shape for mip images"),a(_e.format===x.format&&_e.internalformat===x.internalformat&&_e.type===x.type,"incompatible type for mip image"),_e.compressed||(_e.data?a(_e.data.byteLength===Ce*ye*Math.max(Ko(_e.type,re),_e.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format"):_e.element||_e.copy)}}}}var C=r(a,{optional:oe,raise:i,commandRaise:j,command:de,parameter:c,commandParameter:ee,constructor:g,type:d,commandType:we,isTypedArray:f,nni:h,oneOf:m,shaderError:I,linkError:H,callSite:S,saveCommandRef:te,saveDrawInfo:pe,framebufferFormat:$e,guessCommand:E,texture2D:uo,textureCube:Ps}),xr=0,Of=0,Mf=5,Lf=6;function gn(x,T){this.id=xr++,this.type=x,this.data=T}function Vr(x){return x.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function Jo(x){if(x.length===0)return[];var T=x.charAt(0),L=x.charAt(x.length-1);if(x.length>1&&T===L&&(T==='"'||T==="'"))return['"'+Vr(x.substr(1,x.length-2))+'"'];var K=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(x);if(K)return Jo(x.substr(0,K.index)).concat(Jo(K[1])).concat(Jo(x.substr(K.index+K[0].length)));var le=x.split(".");if(le.length===1)return['"'+Vr(x)+'"'];for(var Q=[],re=0;re<le.length;++re)Q=Q.concat(Jo(le[re]));return Q}function ex(x){return"["+Jo(x).join("][")+"]"}function Kk(x,T){return new gn(x,ex(T+""))}function Jk(x){return typeof x=="function"&&!x._reglType||x instanceof gn}function tx(x,T){if(typeof x=="function")return new gn(Of,x);if(typeof x=="number"||typeof x=="boolean")return new gn(Mf,x);if(Array.isArray(x))return new gn(Lf,x.map(function(L,K){return tx(L,T+"["+K+"]")}));if(x instanceof gn)return x;C(!1,"invalid option type in uniform "+T)}var br={DynamicVariable:gn,define:Kk,isDynamic:Jk,unbox:tx,accessor:ex},L1={next:typeof requestAnimationFrame=="function"?function(x){return requestAnimationFrame(x)}:function(x){return setTimeout(x,16)},cancel:typeof cancelAnimationFrame=="function"?function(x){return cancelAnimationFrame(x)}:clearTimeout},nx=typeof performance<"u"&&performance.now?function(){return performance.now()}:function(){return+new Date};function eR(){var x={"":0},T=[""];return{id:function(L){var K=x[L];return K||(K=x[L]=T.length,T.push(L),K)},str:function(L){return T[L]}}}function tR(x,T,L){var K=document.createElement("canvas");r(K.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),x.appendChild(K),x===document.body&&(K.style.position="absolute",r(x.style,{margin:0,padding:0}));function le(){var ge=window.innerWidth,ve=window.innerHeight;if(x!==document.body){var Se=K.getBoundingClientRect();ge=Se.right-Se.left,ve=Se.bottom-Se.top}K.width=L*ge,K.height=L*ve}var Q;x!==document.body&&typeof ResizeObserver=="function"?(Q=new ResizeObserver(function(){setTimeout(le)}),Q.observe(x)):window.addEventListener("resize",le,!1);function re(){Q?Q.disconnect():window.removeEventListener("resize",le),x.removeChild(K)}return le(),{canvas:K,onDestroy:re}}function nR(x,T){function L(K){try{return x.getContext(K,T)}catch{return null}}return L("webgl")||L("experimental-webgl")||L("webgl-experimental")}function rR(x){return typeof x.nodeName=="string"&&typeof x.appendChild=="function"&&typeof x.getBoundingClientRect=="function"}function oR(x){return typeof x.drawArrays=="function"||typeof x.drawElements=="function"}function rx(x){return typeof x=="string"?x.split():(C(Array.isArray(x),"invalid extension array"),x)}function ox(x){return typeof x=="string"?(C(typeof document<"u","not supported outside of DOM"),document.querySelector(x)):x}function sR(x){var T=x||{},L,K,le,Q,re={},ge=[],ve=[],Se=typeof window>"u"?1:window.devicePixelRatio,Ae=!1,_e=function(Ee){Ee&&C.raise(Ee)},Ce=function(){};if(typeof T=="string"?(C(typeof document<"u","selector queries only supported in DOM enviroments"),L=document.querySelector(T),C(L,"invalid query string for element")):typeof T=="object"?rR(T)?L=T:oR(T)?(Q=T,le=Q.canvas):(C.constructor(T),"gl"in T?Q=T.gl:"canvas"in T?le=ox(T.canvas):"container"in T&&(K=ox(T.container)),"attributes"in T&&(re=T.attributes,C.type(re,"object","invalid context attributes")),"extensions"in T&&(ge=rx(T.extensions)),"optionalExtensions"in T&&(ve=rx(T.optionalExtensions)),"onDone"in T&&(C.type(T.onDone,"function","invalid or missing onDone callback"),_e=T.onDone),"profile"in T&&(Ae=!!T.profile),"pixelRatio"in T&&(Se=+T.pixelRatio,C(Se>0,"invalid pixel ratio"))):C.raise("invalid arguments to regl"),L&&(L.nodeName.toLowerCase()==="canvas"?le=L:K=L),!Q){if(!le){C(typeof document<"u","must manually specify webgl context outside of DOM environments");var ye=tR(K||document.body,_e,Se);if(!ye)return null;le=ye.canvas,Ce=ye.onDestroy}re.premultipliedAlpha===void 0&&(re.premultipliedAlpha=!0),Q=nR(le,re)}return Q?{gl:Q,canvas:le,container:K,extensions:ge,optionalExtensions:ve,pixelRatio:Se,profile:Ae,onDone:_e,onDestroy:Ce}:(Ce(),_e("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function iR(x,T){var L={};function K(re){C.type(re,"string","extension name must be string");var ge=re.toLowerCase(),ve;try{ve=L[ge]=x.getExtension(ge)}catch{}return!!ve}for(var le=0;le<T.extensions.length;++le){var Q=T.extensions[le];if(!K(Q))return T.onDestroy(),T.onDone('"'+Q+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return T.optionalExtensions.forEach(K),{extensions:L,restore:function(){Object.keys(L).forEach(function(re){if(L[re]&&!K(re))throw new Error("(regl): error restoring extension "+re)})}}}function Er(x,T){for(var L=Array(x),K=0;K<x;++K)L[K]=T(K);return L}var aR=5120,lR=5121,cR=5122,uR=5123,fR=5124,dR=5125,hR=5126;function pR(x){for(var T=16;T<=1<<28;T*=16)if(x<=T)return T;return 0}function sx(x){var T,L;return T=(x>65535)<<4,x>>>=T,L=(x>255)<<3,x>>>=L,T|=L,L=(x>15)<<2,x>>>=L,T|=L,L=(x>3)<<1,x>>>=L,T|=L,T|x>>1}function ix(){var x=Er(8,function(){return[]});function T(Q){var re=pR(Q),ge=x[sx(re)>>2];return ge.length>0?ge.pop():new ArrayBuffer(re)}function L(Q){x[sx(Q.byteLength)>>2].push(Q)}function K(Q,re){var ge=null;switch(Q){case aR:ge=new Int8Array(T(re),0,re);break;case lR:ge=new Uint8Array(T(re),0,re);break;case cR:ge=new Int16Array(T(2*re),0,re);break;case uR:ge=new Uint16Array(T(2*re),0,re);break;case fR:ge=new Int32Array(T(4*re),0,re);break;case dR:ge=new Uint32Array(T(4*re),0,re);break;case hR:ge=new Float32Array(T(4*re),0,re);break;default:return null}return ge.length!==re?ge.subarray(0,re):ge}function le(Q){L(Q.buffer)}return{alloc:T,free:L,allocType:K,freeType:le}}var tn=ix();tn.zero=ix();var mR=3408,vR=3410,gR=3411,yR=3412,wR=3413,xR=3414,bR=3415,ER=33901,SR=33902,_R=3379,$R=3386,AR=34921,TR=36347,CR=36348,PR=35661,kR=35660,RR=34930,NR=36349,OR=34076,MR=34024,LR=7936,DR=7937,IR=7938,FR=35724,zR=34047,BR=36063,GR=34852,Df=3553,ax=34067,jR=34069,VR=33984,$c=6408,D1=5126,lx=5121,I1=36160,UR=36053,HR=36064,WR=16384,XR=function(x,T){var L=1;T.ext_texture_filter_anisotropic&&(L=x.getParameter(zR));var K=1,le=1;T.webgl_draw_buffers&&(K=x.getParameter(GR),le=x.getParameter(BR));var Q=!!T.oes_texture_float;if(Q){var re=x.createTexture();x.bindTexture(Df,re),x.texImage2D(Df,0,$c,1,1,0,$c,D1,null);var ge=x.createFramebuffer();if(x.bindFramebuffer(I1,ge),x.framebufferTexture2D(I1,HR,Df,re,0),x.bindTexture(Df,null),x.checkFramebufferStatus(I1)!==UR)Q=!1;else{x.viewport(0,0,1,1),x.clearColor(1,0,0,1),x.clear(WR);var ve=tn.allocType(D1,4);x.readPixels(0,0,1,1,$c,D1,ve),x.getError()?Q=!1:(x.deleteFramebuffer(ge),x.deleteTexture(re),Q=ve[0]===1),tn.freeType(ve)}}var Se=typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent)),Ae=!0;if(!Se){var _e=x.createTexture(),Ce=tn.allocType(lx,36);x.activeTexture(VR),x.bindTexture(ax,_e),x.texImage2D(jR,0,$c,3,3,0,$c,lx,Ce),tn.freeType(Ce),x.bindTexture(ax,null),x.deleteTexture(_e),Ae=!x.getError()}return{colorBits:[x.getParameter(vR),x.getParameter(gR),x.getParameter(yR),x.getParameter(wR)],depthBits:x.getParameter(xR),stencilBits:x.getParameter(bR),subpixelBits:x.getParameter(mR),extensions:Object.keys(T).filter(function(ye){return!!T[ye]}),maxAnisotropic:L,maxDrawbuffers:K,maxColorAttachments:le,pointSizeDims:x.getParameter(ER),lineWidthDims:x.getParameter(SR),maxViewportDims:x.getParameter($R),maxCombinedTextureUnits:x.getParameter(PR),maxCubeMapSize:x.getParameter(OR),maxRenderbufferSize:x.getParameter(MR),maxTextureUnits:x.getParameter(RR),maxTextureSize:x.getParameter(_R),maxAttributes:x.getParameter(AR),maxVertexUniforms:x.getParameter(TR),maxVertexTextureUnits:x.getParameter(kR),maxVaryingVectors:x.getParameter(CR),maxFragmentUniforms:x.getParameter(NR),glsl:x.getParameter(FR),renderer:x.getParameter(DR),vendor:x.getParameter(LR),version:x.getParameter(IR),readFloat:Q,npotTextureCube:Ae}};function fo(x){return!!x&&typeof x=="object"&&Array.isArray(x.shape)&&Array.isArray(x.stride)&&typeof x.offset=="number"&&x.shape.length===x.stride.length&&(Array.isArray(x.data)||n(x.data))}var Sr=function(x){return Object.keys(x).map(function(T){return x[T]})},If={shape:QR,flatten:ZR};function qR(x,T,L){for(var K=0;K<T;++K)L[K]=x[K]}function YR(x,T,L,K){for(var le=0,Q=0;Q<T;++Q)for(var re=x[Q],ge=0;ge<L;++ge)K[le++]=re[ge]}function cx(x,T,L,K,le,Q){for(var re=Q,ge=0;ge<T;++ge)for(var ve=x[ge],Se=0;Se<L;++Se)for(var Ae=ve[Se],_e=0;_e<K;++_e)le[re++]=Ae[_e]}function ux(x,T,L,K,le){for(var Q=1,re=L+1;re<T.length;++re)Q*=T[re];var ge=T[L];if(T.length-L===4){var ve=T[L+1],Se=T[L+2],Ae=T[L+3];for(re=0;re<ge;++re)cx(x[re],ve,Se,Ae,K,le),le+=Q}else for(re=0;re<ge;++re)ux(x[re],T,L+1,K,le),le+=Q}function ZR(x,T,L,K){var le=1;if(T.length)for(var Q=0;Q<T.length;++Q)le*=T[Q];else le=0;var re=K||tn.allocType(L,le);switch(T.length){case 0:break;case 1:qR(x,T[0],re);break;case 2:YR(x,T[0],T[1],re);break;case 3:cx(x,T[0],T[1],T[2],re,0);break;default:ux(x,T,0,re,0)}return re}function QR(x){for(var T=[],L=x;L.length;L=L[0])T.push(L.length);return T}var F1={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},KR=5120,JR=5122,eN=5124,tN=5121,nN=5123,rN=5125,oN=5126,sN=5126,Ai={int8:KR,int16:JR,int32:eN,uint8:tN,uint16:nN,uint32:rN,float:oN,float32:sN},iN=35048,aN=35040,Ff={dynamic:iN,stream:aN,static:35044},z1=If.flatten,fx=If.shape,dx=35044,lN=35040,B1=5121,G1=5126,ks=[];ks[5120]=1,ks[5122]=2,ks[5124]=4,ks[5121]=1,ks[5123]=2,ks[5125]=4,ks[5126]=4;function zf(x){return F1[Object.prototype.toString.call(x)]|0}function hx(x,T){for(var L=0;L<T.length;++L)x[L]=T[L]}function px(x,T,L,K,le,Q,re){for(var ge=0,ve=0;ve<L;++ve)for(var Se=0;Se<K;++Se)x[ge++]=T[le*ve+Q*Se+re]}function cN(x,T,L,K){var le=0,Q={};function re(W){this.id=le++,this.buffer=x.createBuffer(),this.type=W,this.usage=dx,this.byteLength=0,this.dimension=1,this.dtype=B1,this.persistentData=null,L.profile&&(this.stats={size:0})}re.prototype.bind=function(){x.bindBuffer(this.type,this.buffer)},re.prototype.destroy=function(){Ce(this)};var ge=[];function ve(W,ne){var be=ge.pop();return be||(be=new re(W)),be.bind(),_e(be,ne,lN,0,1,!1),be}function Se(W){ge.push(W)}function Ae(W,ne,be){W.byteLength=ne.byteLength,x.bufferData(W.type,ne,be)}function _e(W,ne,be,Fe,me,De){var Oe;if(W.usage=be,Array.isArray(ne)){if(W.dtype=Fe||G1,ne.length>0){var We;if(Array.isArray(ne[0])){Oe=fx(ne);for(var ce=1,ae=1;ae<Oe.length;++ae)ce*=Oe[ae];W.dimension=ce,We=z1(ne,Oe,W.dtype),Ae(W,We,be),De?W.persistentData=We:tn.freeType(We)}else if(typeof ne[0]=="number"){W.dimension=me;var Ge=tn.allocType(W.dtype,ne.length);hx(Ge,ne),Ae(W,Ge,be),De?W.persistentData=Ge:tn.freeType(Ge)}else n(ne[0])?(W.dimension=ne[0].length,W.dtype=Fe||zf(ne[0])||G1,We=z1(ne,[ne.length,ne[0].length],W.dtype),Ae(W,We,be),De?W.persistentData=We:tn.freeType(We)):C.raise("invalid buffer data")}}else if(n(ne))W.dtype=Fe||zf(ne),W.dimension=me,Ae(W,ne,be),De&&(W.persistentData=new Uint8Array(new Uint8Array(ne.buffer)));else if(fo(ne)){Oe=ne.shape;var Pe=ne.stride,xe=ne.offset,ke=0,Re=0,st=0,nt=0;Oe.length===1?(ke=Oe[0],Re=1,st=Pe[0],nt=0):Oe.length===2?(ke=Oe[0],Re=Oe[1],st=Pe[0],nt=Pe[1]):C.raise("invalid shape"),W.dtype=Fe||zf(ne.data)||G1,W.dimension=Re;var Me=tn.allocType(W.dtype,ke*Re);px(Me,ne.data,ke,Re,st,nt,xe),Ae(W,Me,be),De?W.persistentData=Me:tn.freeType(Me)}else ne instanceof ArrayBuffer?(W.dtype=B1,W.dimension=me,Ae(W,ne,be),De&&(W.persistentData=new Uint8Array(new Uint8Array(ne)))):C.raise("invalid buffer data")}function Ce(W){T.bufferCount--,K(W);var ne=W.buffer;C(ne,"buffer must not be deleted already"),x.deleteBuffer(ne),W.buffer=null,delete Q[W.id]}function ye(W,ne,be,Fe){T.bufferCount++;var me=new re(ne);Q[me.id]=me;function De(ce){var ae=dx,Ge=null,Pe=0,xe=0,ke=1;return Array.isArray(ce)||n(ce)||fo(ce)||ce instanceof ArrayBuffer?Ge=ce:typeof ce=="number"?Pe=ce|0:ce&&(C.type(ce,"object","buffer arguments must be an object, a number or an array"),"data"in ce&&(C(Ge===null||Array.isArray(Ge)||n(Ge)||fo(Ge),"invalid data for buffer"),Ge=ce.data),"usage"in ce&&(C.parameter(ce.usage,Ff,"invalid buffer usage"),ae=Ff[ce.usage]),"type"in ce&&(C.parameter(ce.type,Ai,"invalid buffer type"),xe=Ai[ce.type]),"dimension"in ce&&(C.type(ce.dimension,"number","invalid dimension"),ke=ce.dimension|0),"length"in ce&&(C.nni(Pe,"buffer length must be a nonnegative integer"),Pe=ce.length|0)),me.bind(),Ge?_e(me,Ge,ae,xe,ke,Fe):(Pe&&x.bufferData(me.type,Pe,ae),me.dtype=xe||B1,me.usage=ae,me.dimension=ke,me.byteLength=Pe),L.profile&&(me.stats.size=me.byteLength*ks[me.dtype]),De}function Oe(ce,ae){C(ae+ce.byteLength<=me.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+ce.byteLength+" starting from offset "+ae+" to a buffer of size "+me.byteLength),x.bufferSubData(me.type,ae,ce)}function We(ce,ae){var Ge=(ae||0)|0,Pe;if(me.bind(),n(ce)||ce instanceof ArrayBuffer)Oe(ce,Ge);else if(Array.isArray(ce)){if(ce.length>0)if(typeof ce[0]=="number"){var xe=tn.allocType(me.dtype,ce.length);hx(xe,ce),Oe(xe,Ge),tn.freeType(xe)}else if(Array.isArray(ce[0])||n(ce[0])){Pe=fx(ce);var ke=z1(ce,Pe,me.dtype);Oe(ke,Ge),tn.freeType(ke)}else C.raise("invalid buffer data")}else if(fo(ce)){Pe=ce.shape;var Re=ce.stride,st=0,nt=0,Me=0,Ie=0;Pe.length===1?(st=Pe[0],nt=1,Me=Re[0],Ie=0):Pe.length===2?(st=Pe[0],nt=Pe[1],Me=Re[0],Ie=Re[1]):C.raise("invalid shape");var Ze=Array.isArray(ce.data)?me.dtype:zf(ce.data),it=tn.allocType(Ze,st*nt);px(it,ce.data,st,nt,Me,Ie,ce.offset),Oe(it,Ge),tn.freeType(it)}else C.raise("invalid data for buffer subdata");return De}return be||De(W),De._reglType="buffer",De._buffer=me,De.subdata=We,L.profile&&(De.stats=me.stats),De.destroy=function(){Ce(me)},De}function Ee(){Sr(Q).forEach(function(W){W.buffer=x.createBuffer(),x.bindBuffer(W.type,W.buffer),x.bufferData(W.type,W.persistentData||W.byteLength,W.usage)})}return L.profile&&(T.getTotalBufferSize=function(){var W=0;return Object.keys(Q).forEach(function(ne){W+=Q[ne].stats.size}),W}),{create:ye,createStream:ve,destroyStream:Se,clear:function(){Sr(Q).forEach(Ce),ge.forEach(Ce)},getBuffer:function(W){return W&&W._buffer instanceof re?W._buffer:null},restore:Ee,_initBuffer:_e}}var uN=0,fN=0,dN=1,hN=1,pN=4,mN=4,Rs={points:uN,point:fN,lines:dN,line:hN,triangles:pN,triangle:mN,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},vN=0,gN=1,Ac=4,yN=5120,Ca=5121,mx=5122,Pa=5123,vx=5124,Ti=5125,j1=34963,wN=35040,xN=35044;function bN(x,T,L,K){var le={},Q=0,re={uint8:Ca,uint16:Pa};T.oes_element_index_uint&&(re.uint32=Ti);function ge(Ee){this.id=Q++,le[this.id]=this,this.buffer=Ee,this.primType=Ac,this.vertCount=0,this.type=0}ge.prototype.bind=function(){this.buffer.bind()};var ve=[];function Se(Ee){var W=ve.pop();return W||(W=new ge(L.create(null,j1,!0,!1)._buffer)),_e(W,Ee,wN,-1,-1,0,0),W}function Ae(Ee){ve.push(Ee)}function _e(Ee,W,ne,be,Fe,me,De){Ee.buffer.bind();var Oe;if(W){var We=De;!De&&(!n(W)||fo(W)&&!n(W.data))&&(We=T.oes_element_index_uint?Ti:Pa),L._initBuffer(Ee.buffer,W,ne,We,3)}else x.bufferData(j1,me,ne),Ee.buffer.dtype=Oe||Ca,Ee.buffer.usage=ne,Ee.buffer.dimension=3,Ee.buffer.byteLength=me;if(Oe=De,!De){switch(Ee.buffer.dtype){case Ca:case yN:Oe=Ca;break;case Pa:case mx:Oe=Pa;break;case Ti:case vx:Oe=Ti;break;default:C.raise("unsupported type for element array")}Ee.buffer.dtype=Oe}Ee.type=Oe,C(Oe!==Ti||!!T.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var ce=Fe;ce<0&&(ce=Ee.buffer.byteLength,Oe===Pa?ce>>=1:Oe===Ti&&(ce>>=2)),Ee.vertCount=ce;var ae=be;if(be<0){ae=Ac;var Ge=Ee.buffer.dimension;Ge===1&&(ae=vN),Ge===2&&(ae=gN),Ge===3&&(ae=Ac)}Ee.primType=ae}function Ce(Ee){K.elementsCount--,C(Ee.buffer!==null,"must not double destroy elements"),delete le[Ee.id],Ee.buffer.destroy(),Ee.buffer=null}function ye(Ee,W){var ne=L.create(null,j1,!0),be=new ge(ne._buffer);K.elementsCount++;function Fe(me){if(!me)ne(),be.primType=Ac,be.vertCount=0,be.type=Ca;else if(typeof me=="number")ne(me),be.primType=Ac,be.vertCount=me|0,be.type=Ca;else{var De=null,Oe=xN,We=-1,ce=-1,ae=0,Ge=0;Array.isArray(me)||n(me)||fo(me)?De=me:(C.type(me,"object","invalid arguments for elements"),"data"in me&&(De=me.data,C(Array.isArray(De)||n(De)||fo(De),"invalid data for element buffer")),"usage"in me&&(C.parameter(me.usage,Ff,"invalid element buffer usage"),Oe=Ff[me.usage]),"primitive"in me&&(C.parameter(me.primitive,Rs,"invalid element buffer primitive"),We=Rs[me.primitive]),"count"in me&&(C(typeof me.count=="number"&&me.count>=0,"invalid vertex count for elements"),ce=me.count|0),"type"in me&&(C.parameter(me.type,re,"invalid buffer type"),Ge=re[me.type]),"length"in me?ae=me.length|0:(ae=ce,Ge===Pa||Ge===mx?ae*=2:(Ge===Ti||Ge===vx)&&(ae*=4))),_e(be,De,Oe,We,ce,ae,Ge)}return Fe}return Fe(Ee),Fe._reglType="elements",Fe._elements=be,Fe.subdata=function(me,De){return ne.subdata(me,De),Fe},Fe.destroy=function(){Ce(be)},Fe}return{create:ye,createStream:Se,destroyStream:Ae,getElements:function(Ee){return typeof Ee=="function"&&Ee._elements instanceof ge?Ee._elements:null},clear:function(){Sr(le).forEach(Ce)}}}var gx=new Float32Array(1),EN=new Uint32Array(gx.buffer),SN=5123;function yx(x){for(var T=tn.allocType(SN,x.length),L=0;L<x.length;++L)if(isNaN(x[L]))T[L]=65535;else if(x[L]===1/0)T[L]=31744;else if(x[L]===-1/0)T[L]=64512;else{gx[0]=x[L];var K=EN[0],le=K>>>31<<15,Q=(K<<1>>>24)-127,re=K>>13&1023;if(Q<-24)T[L]=le;else if(Q<-14){var ge=-14-Q;T[L]=le+(re+1024>>ge)}else Q>15?T[L]=le+31744:T[L]=le+(Q+15<<10)+re}return T}function zt(x){return Array.isArray(x)||n(x)}var wx=function(x){return!(x&x-1)&&!!x},_N=34467,ko=3553,V1=34067,Bf=34069,Ci=6408,U1=6406,Gf=6407,Tc=6409,jf=6410,xx=32854,H1=32855,bx=36194,$N=32819,AN=32820,TN=33635,CN=34042,W1=6402,Vf=34041,X1=35904,q1=35906,ka=36193,Y1=33776,Z1=33777,Q1=33778,K1=33779,Ex=35986,Sx=35987,_x=34798,$x=35840,Ax=35841,Tx=35842,Cx=35843,Px=36196,Ra=5121,J1=5123,e0=5125,Cc=5126,PN=10242,kN=10243,RN=10497,t0=33071,NN=33648,ON=10240,MN=10241,n0=9728,LN=9729,r0=9984,kx=9985,Rx=9986,o0=9987,DN=33170,Uf=4352,IN=4353,FN=4354,zN=34046,BN=3317,GN=37440,jN=37441,VN=37443,Nx=37444,Pc=33984,UN=[r0,Rx,kx,o0],Hf=[0,Tc,jf,Gf,Ci],Ur={};Ur[Tc]=Ur[U1]=Ur[W1]=1,Ur[Vf]=Ur[jf]=2,Ur[Gf]=Ur[X1]=3,Ur[Ci]=Ur[q1]=4;function Na(x){return"[object "+x+"]"}var Ox=Na("HTMLCanvasElement"),Mx=Na("OffscreenCanvas"),Lx=Na("CanvasRenderingContext2D"),Dx=Na("ImageBitmap"),Ix=Na("HTMLImageElement"),Fx=Na("HTMLVideoElement"),HN=Object.keys(F1).concat([Ox,Mx,Lx,Dx,Ix,Fx]),Oa=[];Oa[Ra]=1,Oa[Cc]=4,Oa[ka]=2,Oa[J1]=2,Oa[e0]=4;var An=[];An[xx]=2,An[H1]=2,An[bx]=2,An[Vf]=4,An[Y1]=.5,An[Z1]=.5,An[Q1]=1,An[K1]=1,An[Ex]=.5,An[Sx]=1,An[_x]=1,An[$x]=.5,An[Ax]=.25,An[Tx]=.5,An[Cx]=.25,An[Px]=.5;function zx(x){return Array.isArray(x)&&(x.length===0||typeof x[0]=="number")}function Bx(x){if(!Array.isArray(x))return!1;var T=x.length;return!(T===0||!zt(x[0]))}function Pi(x){return Object.prototype.toString.call(x)}function Gx(x){return Pi(x)===Ox}function jx(x){return Pi(x)===Mx}function WN(x){return Pi(x)===Lx}function XN(x){return Pi(x)===Dx}function qN(x){return Pi(x)===Ix}function YN(x){return Pi(x)===Fx}function s0(x){if(!x)return!1;var T=Pi(x);return HN.indexOf(T)>=0?!0:zx(x)||Bx(x)||fo(x)}function Vx(x){return F1[Object.prototype.toString.call(x)]|0}function ZN(x,T){var L=T.length;switch(x.type){case Ra:case J1:case e0:case Cc:var K=tn.allocType(x.type,L);K.set(T),x.data=K;break;case ka:x.data=yx(T);break;default:C.raise("unsupported texture type, must specify a typed array")}}function Ux(x,T){return tn.allocType(x.type===ka?Cc:x.type,T)}function Hx(x,T){x.type===ka?(x.data=yx(T),tn.freeType(T)):x.data=T}function QN(x,T,L,K,le,Q){for(var re=x.width,ge=x.height,ve=x.channels,Se=re*ge*ve,Ae=Ux(x,Se),_e=0,Ce=0;Ce<ge;++Ce)for(var ye=0;ye<re;++ye)for(var Ee=0;Ee<ve;++Ee)Ae[_e++]=T[L*ye+K*Ce+le*Ee+Q];Hx(x,Ae)}function Wf(x,T,L,K,le,Q){var re;if(typeof An[x]<"u"?re=An[x]:re=Ur[x]*Oa[T],Q&&(re*=6),le){for(var ge=0,ve=L;ve>=1;)ge+=re*ve*ve,ve/=2;return ge}else return re*L*K}function KN(x,T,L,K,le,Q,re){var ge={"don't care":Uf,"dont care":Uf,nice:FN,fast:IN},ve={repeat:RN,clamp:t0,mirror:NN},Se={nearest:n0,linear:LN},Ae=r({mipmap:o0,"nearest mipmap nearest":r0,"linear mipmap nearest":kx,"nearest mipmap linear":Rx,"linear mipmap linear":o0},Se),_e={none:0,browser:Nx},Ce={uint8:Ra,rgba4:$N,rgb565:TN,"rgb5 a1":AN},ye={alpha:U1,luminance:Tc,"luminance alpha":jf,rgb:Gf,rgba:Ci,rgba4:xx,"rgb5 a1":H1,rgb565:bx},Ee={};T.ext_srgb&&(ye.srgb=X1,ye.srgba=q1),T.oes_texture_float&&(Ce.float32=Ce.float=Cc),T.oes_texture_half_float&&(Ce.float16=Ce["half float"]=ka),T.webgl_depth_texture&&(r(ye,{depth:W1,"depth stencil":Vf}),r(Ce,{uint16:J1,uint32:e0,"depth stencil":CN})),T.webgl_compressed_texture_s3tc&&r(Ee,{"rgb s3tc dxt1":Y1,"rgba s3tc dxt1":Z1,"rgba s3tc dxt3":Q1,"rgba s3tc dxt5":K1}),T.webgl_compressed_texture_atc&&r(Ee,{"rgb atc":Ex,"rgba atc explicit alpha":Sx,"rgba atc interpolated alpha":_x}),T.webgl_compressed_texture_pvrtc&&r(Ee,{"rgb pvrtc 4bppv1":$x,"rgb pvrtc 2bppv1":Ax,"rgba pvrtc 4bppv1":Tx,"rgba pvrtc 2bppv1":Cx}),T.webgl_compressed_texture_etc1&&(Ee["rgb etc1"]=Px);var W=Array.prototype.slice.call(x.getParameter(_N));Object.keys(Ee).forEach(function(N){var J=Ee[N];W.indexOf(J)>=0&&(ye[N]=J)});var ne=Object.keys(ye);L.textureFormats=ne;var be=[];Object.keys(ye).forEach(function(N){var J=ye[N];be[J]=N});var Fe=[];Object.keys(Ce).forEach(function(N){var J=Ce[N];Fe[J]=N});var me=[];Object.keys(Se).forEach(function(N){var J=Se[N];me[J]=N});var De=[];Object.keys(Ae).forEach(function(N){var J=Ae[N];De[J]=N});var Oe=[];Object.keys(ve).forEach(function(N){var J=ve[N];Oe[J]=N});var We=ne.reduce(function(N,J){var Z=ye[J];return Z===Tc||Z===U1||Z===Tc||Z===jf||Z===W1||Z===Vf||T.ext_srgb&&(Z===X1||Z===q1)?N[Z]=Z:Z===H1||J.indexOf("rgba")>=0?N[Z]=Ci:N[Z]=Gf,N},{});function ce(){this.internalformat=Ci,this.format=Ci,this.type=Ra,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=Nx,this.width=0,this.height=0,this.channels=0}function ae(N,J){N.internalformat=J.internalformat,N.format=J.format,N.type=J.type,N.compressed=J.compressed,N.premultiplyAlpha=J.premultiplyAlpha,N.flipY=J.flipY,N.unpackAlignment=J.unpackAlignment,N.colorSpace=J.colorSpace,N.width=J.width,N.height=J.height,N.channels=J.channels}function Ge(N,J){if(!(typeof J!="object"||!J)){if("premultiplyAlpha"in J&&(C.type(J.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),N.premultiplyAlpha=J.premultiplyAlpha),"flipY"in J&&(C.type(J.flipY,"boolean","invalid texture flip"),N.flipY=J.flipY),"alignment"in J&&(C.oneOf(J.alignment,[1,2,4,8],"invalid texture unpack alignment"),N.unpackAlignment=J.alignment),"colorSpace"in J&&(C.parameter(J.colorSpace,_e,"invalid colorSpace"),N.colorSpace=_e[J.colorSpace]),"type"in J){var Z=J.type;C(T.oes_texture_float||!(Z==="float"||Z==="float32"),"you must enable the OES_texture_float extension in order to use floating point textures."),C(T.oes_texture_half_float||!(Z==="half float"||Z==="float16"),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."),C(T.webgl_depth_texture||!(Z==="uint16"||Z==="uint32"||Z==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),C.parameter(Z,Ce,"invalid texture type"),N.type=Ce[Z]}var Be=N.width,ft=N.height,P=N.channels,_=!1;"shape"in J?(C(Array.isArray(J.shape)&&J.shape.length>=2,"shape must be an array"),Be=J.shape[0],ft=J.shape[1],J.shape.length===3&&(P=J.shape[2],C(P>0&&P<=4,"invalid number of channels"),_=!0),C(Be>=0&&Be<=L.maxTextureSize,"invalid width"),C(ft>=0&&ft<=L.maxTextureSize,"invalid height")):("radius"in J&&(Be=ft=J.radius,C(Be>=0&&Be<=L.maxTextureSize,"invalid radius")),"width"in J&&(Be=J.width,C(Be>=0&&Be<=L.maxTextureSize,"invalid width")),"height"in J&&(ft=J.height,C(ft>=0&&ft<=L.maxTextureSize,"invalid height")),"channels"in J&&(P=J.channels,C(P>0&&P<=4,"invalid number of channels"),_=!0)),N.width=Be|0,N.height=ft|0,N.channels=P|0;var D=!1;if("format"in J){var U=J.format;C(T.webgl_depth_texture||!(U==="depth"||U==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),C.parameter(U,ye,"invalid texture format");var X=N.internalformat=ye[U];N.format=We[X],U in Ce&&("type"in J||(N.type=Ce[U])),U in Ee&&(N.compressed=!0),D=!0}!_&&D?N.channels=Ur[N.format]:_&&!D?N.channels!==Hf[N.format]&&(N.format=N.internalformat=Hf[N.channels]):D&&_&&C(N.channels===Ur[N.format],"number of channels inconsistent with specified format")}}function Pe(N){x.pixelStorei(GN,N.flipY),x.pixelStorei(jN,N.premultiplyAlpha),x.pixelStorei(VN,N.colorSpace),x.pixelStorei(BN,N.unpackAlignment)}function xe(){ce.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function ke(N,J){var Z=null;if(s0(J)?Z=J:J&&(C.type(J,"object","invalid pixel data type"),Ge(N,J),"x"in J&&(N.xOffset=J.x|0),"y"in J&&(N.yOffset=J.y|0),s0(J.data)&&(Z=J.data)),C(!N.compressed||Z instanceof Uint8Array,"compressed texture data must be stored in a uint8array"),J.copy){C(!Z,"can not specify copy and data field for the same texture");var Be=le.viewportWidth,ft=le.viewportHeight;N.width=N.width||Be-N.xOffset,N.height=N.height||ft-N.yOffset,N.needsCopy=!0,C(N.xOffset>=0&&N.xOffset<Be&&N.yOffset>=0&&N.yOffset<ft&&N.width>0&&N.width<=Be&&N.height>0&&N.height<=ft,"copy texture read out of bounds")}else if(!Z)N.width=N.width||1,N.height=N.height||1,N.channels=N.channels||4;else if(n(Z))N.channels=N.channels||4,N.data=Z,!("type"in J)&&N.type===Ra&&(N.type=Vx(Z));else if(zx(Z))N.channels=N.channels||4,ZN(N,Z),N.alignment=1,N.needsFree=!0;else if(fo(Z)){var P=Z.data;!Array.isArray(P)&&N.type===Ra&&(N.type=Vx(P));var _=Z.shape,D=Z.stride,U,X,B,z,V,k;_.length===3?(B=_[2],k=D[2]):(C(_.length===2,"invalid ndarray pixel data, must be 2 or 3D"),B=1,k=1),U=_[0],X=_[1],z=D[0],V=D[1],N.alignment=1,N.width=U,N.height=X,N.channels=B,N.format=N.internalformat=Hf[B],N.needsFree=!0,QN(N,P,z,V,k,Z.offset)}else if(Gx(Z)||jx(Z)||WN(Z))Gx(Z)||jx(Z)?N.element=Z:N.element=Z.canvas,N.width=N.element.width,N.height=N.element.height,N.channels=4;else if(XN(Z))N.element=Z,N.width=Z.width,N.height=Z.height,N.channels=4;else if(qN(Z))N.element=Z,N.width=Z.naturalWidth,N.height=Z.naturalHeight,N.channels=4;else if(YN(Z))N.element=Z,N.width=Z.videoWidth,N.height=Z.videoHeight,N.channels=4;else if(Bx(Z)){var M=N.width||Z[0].length,R=N.height||Z.length,Y=N.channels;zt(Z[0][0])?Y=Y||Z[0][0].length:Y=Y||1;for(var q=If.shape(Z),ie=1,ue=0;ue<q.length;++ue)ie*=q[ue];var Te=Ux(N,ie);If.flatten(Z,q,"",Te),Hx(N,Te),N.alignment=1,N.width=M,N.height=R,N.channels=Y,N.format=N.internalformat=Hf[Y],N.needsFree=!0}N.type===Cc?C(L.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled"):N.type===ka&&C(L.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled")}function Re(N,J,Z){var Be=N.element,ft=N.data,P=N.internalformat,_=N.format,D=N.type,U=N.width,X=N.height;Pe(N),Be?x.texImage2D(J,Z,_,_,D,Be):N.compressed?x.compressedTexImage2D(J,Z,P,U,X,0,ft):N.needsCopy?(K(),x.copyTexImage2D(J,Z,_,N.xOffset,N.yOffset,U,X,0)):x.texImage2D(J,Z,_,U,X,0,_,D,ft||null)}function st(N,J,Z,Be,ft){var P=N.element,_=N.data,D=N.internalformat,U=N.format,X=N.type,B=N.width,z=N.height;Pe(N),P?x.texSubImage2D(J,ft,Z,Be,U,X,P):N.compressed?x.compressedTexSubImage2D(J,ft,Z,Be,D,B,z,_):N.needsCopy?(K(),x.copyTexSubImage2D(J,ft,Z,Be,N.xOffset,N.yOffset,B,z)):x.texSubImage2D(J,ft,Z,Be,B,z,U,X,_)}var nt=[];function Me(){return nt.pop()||new xe}function Ie(N){N.needsFree&&tn.freeType(N.data),xe.call(N),nt.push(N)}function Ze(){ce.call(this),this.genMipmaps=!1,this.mipmapHint=Uf,this.mipmask=0,this.images=Array(16)}function it(N,J,Z){var Be=N.images[0]=Me();N.mipmask=1,Be.width=N.width=J,Be.height=N.height=Z,Be.channels=N.channels=4}function pt(N,J){var Z=null;if(s0(J))Z=N.images[0]=Me(),ae(Z,N),ke(Z,J),N.mipmask=1;else if(Ge(N,J),Array.isArray(J.mipmap))for(var Be=J.mipmap,ft=0;ft<Be.length;++ft)Z=N.images[ft]=Me(),ae(Z,N),Z.width>>=ft,Z.height>>=ft,ke(Z,Be[ft]),N.mipmask|=1<<ft;else Z=N.images[0]=Me(),ae(Z,N),ke(Z,J),N.mipmask=1;ae(N,N.images[0]),N.compressed&&(N.internalformat===Y1||N.internalformat===Z1||N.internalformat===Q1||N.internalformat===K1)&&C(N.width%4===0&&N.height%4===0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function Bt(N,J){for(var Z=N.images,Be=0;Be<Z.length;++Be){if(!Z[Be])return;Re(Z[Be],J,Be)}}var jt=[];function vt(){var N=jt.pop()||new Ze;ce.call(N),N.mipmask=0;for(var J=0;J<16;++J)N.images[J]=null;return N}function cn(N){for(var J=N.images,Z=0;Z<J.length;++Z)J[Z]&&Ie(J[Z]),J[Z]=null;jt.push(N)}function Mt(){this.minFilter=n0,this.magFilter=n0,this.wrapS=t0,this.wrapT=t0,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=Uf}function rn(N,J){if("min"in J){var Z=J.min;C.parameter(Z,Ae),N.minFilter=Ae[Z],UN.indexOf(N.minFilter)>=0&&!("faces"in J)&&(N.genMipmaps=!0)}if("mag"in J){var Be=J.mag;C.parameter(Be,Se),N.magFilter=Se[Be]}var ft=N.wrapS,P=N.wrapT;if("wrap"in J){var _=J.wrap;typeof _=="string"?(C.parameter(_,ve),ft=P=ve[_]):Array.isArray(_)&&(C.parameter(_[0],ve),C.parameter(_[1],ve),ft=ve[_[0]],P=ve[_[1]])}else{if("wrapS"in J){var D=J.wrapS;C.parameter(D,ve),ft=ve[D]}if("wrapT"in J){var U=J.wrapT;C.parameter(U,ve),P=ve[U]}}if(N.wrapS=ft,N.wrapT=P,"anisotropic"in J){var X=J.anisotropic;C(typeof X=="number"&&X>=1&&X<=L.maxAnisotropic,"aniso samples must be between 1 and "),N.anisotropic=J.anisotropic}if("mipmap"in J){var B=!1;switch(typeof J.mipmap){case"string":C.parameter(J.mipmap,ge,"invalid mipmap hint"),N.mipmapHint=ge[J.mipmap],N.genMipmaps=!0,B=!0;break;case"boolean":B=N.genMipmaps=J.mipmap;break;case"object":C(Array.isArray(J.mipmap),"invalid mipmap type"),N.genMipmaps=!1,B=!0;break;default:C.raise("invalid mipmap type")}B&&!("min"in J)&&(N.minFilter=r0)}}function un(N,J){x.texParameteri(J,MN,N.minFilter),x.texParameteri(J,ON,N.magFilter),x.texParameteri(J,PN,N.wrapS),x.texParameteri(J,kN,N.wrapT),T.ext_texture_filter_anisotropic&&x.texParameteri(J,zN,N.anisotropic),N.genMipmaps&&(x.hint(DN,N.mipmapHint),x.generateMipmap(J))}var fn=0,En={},Tn=L.maxTextureUnits,qt=Array(Tn).map(function(){return null});function ct(N){ce.call(this),this.mipmask=0,this.internalformat=Ci,this.id=fn++,this.refCount=1,this.target=N,this.texture=x.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new Mt,re.profile&&(this.stats={size:0})}function Cn(N){x.activeTexture(Pc),x.bindTexture(N.target,N.texture)}function St(){var N=qt[0];N?x.bindTexture(N.target,N.texture):x.bindTexture(ko,null)}function qe(N){var J=N.texture;C(J,"must not double destroy texture");var Z=N.unit,Be=N.target;Z>=0&&(x.activeTexture(Pc+Z),x.bindTexture(Be,null),qt[Z]=null),x.deleteTexture(J),N.texture=null,N.params=null,N.pixels=null,N.refCount=0,delete En[N.id],Q.textureCount--}r(ct.prototype,{bind:function(){var N=this;N.bindCount+=1;var J=N.unit;if(J<0){for(var Z=0;Z<Tn;++Z){var Be=qt[Z];if(Be){if(Be.bindCount>0)continue;Be.unit=-1}qt[Z]=N,J=Z;break}J>=Tn&&C.raise("insufficient number of texture units"),re.profile&&Q.maxTextureUnits<J+1&&(Q.maxTextureUnits=J+1),N.unit=J,x.activeTexture(Pc+J),x.bindTexture(N.target,N.texture)}return J},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&qe(this)}});function mt(N,J){var Z=new ct(ko);En[Z.id]=Z,Q.textureCount++;function Be(_,D){var U=Z.texInfo;Mt.call(U);var X=vt();return typeof _=="number"?typeof D=="number"?it(X,_|0,D|0):it(X,_|0,_|0):_?(C.type(_,"object","invalid arguments to regl.texture"),rn(U,_),pt(X,_)):it(X,1,1),U.genMipmaps&&(X.mipmask=(X.width<<1)-1),Z.mipmask=X.mipmask,ae(Z,X),C.texture2D(U,X,L),Z.internalformat=X.internalformat,Be.width=X.width,Be.height=X.height,Cn(Z),Bt(X,ko),un(U,ko),St(),cn(X),re.profile&&(Z.stats.size=Wf(Z.internalformat,Z.type,X.width,X.height,U.genMipmaps,!1)),Be.format=be[Z.internalformat],Be.type=Fe[Z.type],Be.mag=me[U.magFilter],Be.min=De[U.minFilter],Be.wrapS=Oe[U.wrapS],Be.wrapT=Oe[U.wrapT],Be}function ft(_,D,U,X){C(!!_,"must specify image data");var B=D|0,z=U|0,V=X|0,k=Me();return ae(k,Z),k.width=0,k.height=0,ke(k,_),k.width=k.width||(Z.width>>V)-B,k.height=k.height||(Z.height>>V)-z,C(Z.type===k.type&&Z.format===k.format&&Z.internalformat===k.internalformat,"incompatible format for texture.subimage"),C(B>=0&&z>=0&&B+k.width<=Z.width&&z+k.height<=Z.height,"texture.subimage write out of bounds"),C(Z.mipmask&1<<V,"missing mipmap data"),C(k.data||k.element||k.needsCopy,"missing image data"),Cn(Z),st(k,ko,B,z,V),St(),Ie(k),Be}function P(_,D){var U=_|0,X=D|0||U;if(U===Z.width&&X===Z.height)return Be;Be.width=Z.width=U,Be.height=Z.height=X,Cn(Z);for(var B=0;Z.mipmask>>B;++B){var z=U>>B,V=X>>B;if(!z||!V)break;x.texImage2D(ko,B,Z.format,z,V,0,Z.format,Z.type,null)}return St(),re.profile&&(Z.stats.size=Wf(Z.internalformat,Z.type,U,X,!1,!1)),Be}return Be(N,J),Be.subimage=ft,Be.resize=P,Be._reglType="texture2d",Be._texture=Z,re.profile&&(Be.stats=Z.stats),Be.destroy=function(){Z.decRef()},Be}function wt(N,J,Z,Be,ft,P){var _=new ct(V1);En[_.id]=_,Q.cubeCount++;var D=new Array(6);function U(z,V,k,M,R,Y){var q,ie=_.texInfo;for(Mt.call(ie),q=0;q<6;++q)D[q]=vt();if(typeof z=="number"||!z){var ue=z|0||1;for(q=0;q<6;++q)it(D[q],ue,ue)}else if(typeof z=="object")if(V)pt(D[0],z),pt(D[1],V),pt(D[2],k),pt(D[3],M),pt(D[4],R),pt(D[5],Y);else if(rn(ie,z),Ge(_,z),"faces"in z){var Te=z.faces;for(C(Array.isArray(Te)&&Te.length===6,"cube faces must be a length 6 array"),q=0;q<6;++q)C(typeof Te[q]=="object"&&!!Te[q],"invalid input for cube map face"),ae(D[q],_),pt(D[q],Te[q])}else for(q=0;q<6;++q)pt(D[q],z);else C.raise("invalid arguments to cube map");for(ae(_,D[0]),C.optional(function(){L.npotTextureCube||C(wx(_.width)&&wx(_.height),"your browser does not support non power or two texture dimensions")}),ie.genMipmaps?_.mipmask=(D[0].width<<1)-1:_.mipmask=D[0].mipmask,C.textureCube(_,ie,D,L),_.internalformat=D[0].internalformat,U.width=D[0].width,U.height=D[0].height,Cn(_),q=0;q<6;++q)Bt(D[q],Bf+q);for(un(ie,V1),St(),re.profile&&(_.stats.size=Wf(_.internalformat,_.type,U.width,U.height,ie.genMipmaps,!0)),U.format=be[_.internalformat],U.type=Fe[_.type],U.mag=me[ie.magFilter],U.min=De[ie.minFilter],U.wrapS=Oe[ie.wrapS],U.wrapT=Oe[ie.wrapT],q=0;q<6;++q)cn(D[q]);return U}function X(z,V,k,M,R){C(!!V,"must specify image data"),C(typeof z=="number"&&z===(z|0)&&z>=0&&z<6,"invalid face");var Y=k|0,q=M|0,ie=R|0,ue=Me();return ae(ue,_),ue.width=0,ue.height=0,ke(ue,V),ue.width=ue.width||(_.width>>ie)-Y,ue.height=ue.height||(_.height>>ie)-q,C(_.type===ue.type&&_.format===ue.format&&_.internalformat===ue.internalformat,"incompatible format for texture.subimage"),C(Y>=0&&q>=0&&Y+ue.width<=_.width&&q+ue.height<=_.height,"texture.subimage write out of bounds"),C(_.mipmask&1<<ie,"missing mipmap data"),C(ue.data||ue.element||ue.needsCopy,"missing image data"),Cn(_),st(ue,Bf+z,Y,q,ie),St(),Ie(ue),U}function B(z){var V=z|0;if(V!==_.width){U.width=_.width=V,U.height=_.height=V,Cn(_);for(var k=0;k<6;++k)for(var M=0;_.mipmask>>M;++M)x.texImage2D(Bf+k,M,_.format,V>>M,V>>M,0,_.format,_.type,null);return St(),re.profile&&(_.stats.size=Wf(_.internalformat,_.type,U.width,U.height,!1,!0)),U}}return U(N,J,Z,Be,ft,P),U.subimage=X,U.resize=B,U._reglType="textureCube",U._texture=_,re.profile&&(U.stats=_.stats),U.destroy=function(){_.decRef()},U}function Yt(){for(var N=0;N<Tn;++N)x.activeTexture(Pc+N),x.bindTexture(ko,null),qt[N]=null;Sr(En).forEach(qe),Q.cubeCount=0,Q.textureCount=0}re.profile&&(Q.getTotalTextureSize=function(){var N=0;return Object.keys(En).forEach(function(J){N+=En[J].stats.size}),N});function No(){for(var N=0;N<Tn;++N){var J=qt[N];J&&(J.bindCount=0,J.unit=-1,qt[N]=null)}Sr(En).forEach(function(Z){Z.texture=x.createTexture(),x.bindTexture(Z.target,Z.texture);for(var Be=0;Be<32;++Be)if(Z.mipmask&1<<Be)if(Z.target===ko)x.texImage2D(ko,Be,Z.internalformat,Z.width>>Be,Z.height>>Be,0,Z.internalformat,Z.type,null);else for(var ft=0;ft<6;++ft)x.texImage2D(Bf+ft,Be,Z.internalformat,Z.width>>Be,Z.height>>Be,0,Z.internalformat,Z.type,null);un(Z.texInfo,Z.target)})}function Di(){for(var N=0;N<Tn;++N){var J=qt[N];J&&(J.bindCount=0,J.unit=-1,qt[N]=null),x.activeTexture(Pc+N),x.bindTexture(ko,null),x.bindTexture(V1,null)}}return{create2D:mt,createCube:wt,clear:Yt,getTexture:function(N){return null},restore:No,refresh:Di}}var Ns=36161,Xf=32854,Wx=32855,Xx=36194,qx=33189,Yx=36168,Zx=34041,Qx=35907,Kx=34836,Jx=34842,eb=34843,ho=[];ho[Xf]=2,ho[Wx]=2,ho[Xx]=2,ho[qx]=2,ho[Yx]=1,ho[Zx]=4,ho[Qx]=4,ho[Kx]=16,ho[Jx]=8,ho[eb]=6;function tb(x,T,L){return ho[x]*T*L}var JN=function(x,T,L,K,le){var Q={rgba4:Xf,rgb565:Xx,"rgb5 a1":Wx,depth:qx,stencil:Yx,"depth stencil":Zx};T.ext_srgb&&(Q.srgba=Qx),T.ext_color_buffer_half_float&&(Q.rgba16f=Jx,Q.rgb16f=eb),T.webgl_color_buffer_float&&(Q.rgba32f=Kx);var re=[];Object.keys(Q).forEach(function(ye){var Ee=Q[ye];re[Ee]=ye});var ge=0,ve={};function Se(ye){this.id=ge++,this.refCount=1,this.renderbuffer=ye,this.format=Xf,this.width=0,this.height=0,le.profile&&(this.stats={size:0})}Se.prototype.decRef=function(){--this.refCount<=0&&Ae(this)};function Ae(ye){var Ee=ye.renderbuffer;C(Ee,"must not double destroy renderbuffer"),x.bindRenderbuffer(Ns,null),x.deleteRenderbuffer(Ee),ye.renderbuffer=null,ye.refCount=0,delete ve[ye.id],K.renderbufferCount--}function _e(ye,Ee){var W=new Se(x.createRenderbuffer());ve[W.id]=W,K.renderbufferCount++;function ne(Fe,me){var De=0,Oe=0,We=Xf;if(typeof Fe=="object"&&Fe){var ce=Fe;if("shape"in ce){var ae=ce.shape;C(Array.isArray(ae)&&ae.length>=2,"invalid renderbuffer shape"),De=ae[0]|0,Oe=ae[1]|0}else"radius"in ce&&(De=Oe=ce.radius|0),"width"in ce&&(De=ce.width|0),"height"in ce&&(Oe=ce.height|0);"format"in ce&&(C.parameter(ce.format,Q,"invalid renderbuffer format"),We=Q[ce.format])}else typeof Fe=="number"?(De=Fe|0,typeof me=="number"?Oe=me|0:Oe=De):Fe?C.raise("invalid arguments to renderbuffer constructor"):De=Oe=1;if(C(De>0&&Oe>0&&De<=L.maxRenderbufferSize&&Oe<=L.maxRenderbufferSize,"invalid renderbuffer size"),!(De===W.width&&Oe===W.height&&We===W.format))return ne.width=W.width=De,ne.height=W.height=Oe,W.format=We,x.bindRenderbuffer(Ns,W.renderbuffer),x.renderbufferStorage(Ns,We,De,Oe),C(x.getError()===0,"invalid render buffer format"),le.profile&&(W.stats.size=tb(W.format,W.width,W.height)),ne.format=re[W.format],ne}function be(Fe,me){var De=Fe|0,Oe=me|0||De;return De===W.width&&Oe===W.height||(C(De>0&&Oe>0&&De<=L.maxRenderbufferSize&&Oe<=L.maxRenderbufferSize,"invalid renderbuffer size"),ne.width=W.width=De,ne.height=W.height=Oe,x.bindRenderbuffer(Ns,W.renderbuffer),x.renderbufferStorage(Ns,W.format,De,Oe),C(x.getError()===0,"invalid render buffer format"),le.profile&&(W.stats.size=tb(W.format,W.width,W.height))),ne}return ne(ye,Ee),ne.resize=be,ne._reglType="renderbuffer",ne._renderbuffer=W,le.profile&&(ne.stats=W.stats),ne.destroy=function(){W.decRef()},ne}le.profile&&(K.getTotalRenderbufferSize=function(){var ye=0;return Object.keys(ve).forEach(function(Ee){ye+=ve[Ee].stats.size}),ye});function Ce(){Sr(ve).forEach(function(ye){ye.renderbuffer=x.createRenderbuffer(),x.bindRenderbuffer(Ns,ye.renderbuffer),x.renderbufferStorage(Ns,ye.format,ye.width,ye.height)}),x.bindRenderbuffer(Ns,null)}return{create:_e,clear:function(){Sr(ve).forEach(Ae)},restore:Ce}},es=36160,i0=36161,ki=3553,qf=34069,nb=36064,rb=36096,ob=36128,sb=33306,ib=36053,e8=36054,t8=36055,n8=36057,r8=36061,o8=36193,s8=5121,i8=5126,ab=6407,lb=6408,a8=6402,l8=[ab,lb],a0=[];a0[lb]=4,a0[ab]=3;var Yf=[];Yf[s8]=1,Yf[i8]=4,Yf[o8]=2;var c8=32854,u8=32855,f8=36194,d8=33189,h8=36168,cb=34041,p8=35907,m8=34836,v8=34842,g8=34843,y8=[c8,u8,f8,p8,v8,g8,m8],Ma={};Ma[ib]="complete",Ma[e8]="incomplete attachment",Ma[n8]="incomplete dimensions",Ma[t8]="incomplete, missing attachment",Ma[r8]="unsupported";function w8(x,T,L,K,le,Q){var re={cur:null,next:null,dirty:!1,setFBO:null},ge=["rgba"],ve=["rgba4","rgb565","rgb5 a1"];T.ext_srgb&&ve.push("srgba"),T.ext_color_buffer_half_float&&ve.push("rgba16f","rgb16f"),T.webgl_color_buffer_float&&ve.push("rgba32f");var Se=["uint8"];T.oes_texture_half_float&&Se.push("half float","float16"),T.oes_texture_float&&Se.push("float","float32");function Ae(xe,ke,Re){this.target=xe,this.texture=ke,this.renderbuffer=Re;var st=0,nt=0;ke?(st=ke.width,nt=ke.height):Re&&(st=Re.width,nt=Re.height),this.width=st,this.height=nt}function _e(xe){xe&&(xe.texture&&xe.texture._texture.decRef(),xe.renderbuffer&&xe.renderbuffer._renderbuffer.decRef())}function Ce(xe,ke,Re){if(xe)if(xe.texture){var st=xe.texture._texture,nt=Math.max(1,st.width),Me=Math.max(1,st.height);C(nt===ke&&Me===Re,"inconsistent width/height for supplied texture"),st.refCount+=1}else{var Ie=xe.renderbuffer._renderbuffer;C(Ie.width===ke&&Ie.height===Re,"inconsistent width/height for renderbuffer"),Ie.refCount+=1}}function ye(xe,ke){ke&&(ke.texture?x.framebufferTexture2D(es,xe,ke.target,ke.texture._texture.texture,0):x.framebufferRenderbuffer(es,xe,i0,ke.renderbuffer._renderbuffer.renderbuffer))}function Ee(xe){var ke=ki,Re=null,st=null,nt=xe;typeof xe=="object"&&(nt=xe.data,"target"in xe&&(ke=xe.target|0)),C.type(nt,"function","invalid attachment data");var Me=nt._reglType;return Me==="texture2d"?(Re=nt,C(ke===ki)):Me==="textureCube"?(Re=nt,C(ke>=qf&&ke<qf+6,"invalid cube map target")):Me==="renderbuffer"?(st=nt,ke=i0):C.raise("invalid regl object for attachment"),new Ae(ke,Re,st)}function W(xe,ke,Re,st,nt){if(Re){var Me=K.create2D({width:xe,height:ke,format:st,type:nt});return Me._texture.refCount=0,new Ae(ki,Me,null)}else{var Ie=le.create({width:xe,height:ke,format:st});return Ie._renderbuffer.refCount=0,new Ae(i0,null,Ie)}}function ne(xe){return xe&&(xe.texture||xe.renderbuffer)}function be(xe,ke,Re){xe&&(xe.texture?xe.texture.resize(ke,Re):xe.renderbuffer&&xe.renderbuffer.resize(ke,Re),xe.width=ke,xe.height=Re)}var Fe=0,me={};function De(){this.id=Fe++,me[this.id]=this,this.framebuffer=x.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function Oe(xe){xe.colorAttachments.forEach(_e),_e(xe.depthAttachment),_e(xe.stencilAttachment),_e(xe.depthStencilAttachment)}function We(xe){var ke=xe.framebuffer;C(ke,"must not double destroy framebuffer"),x.deleteFramebuffer(ke),xe.framebuffer=null,Q.framebufferCount--,delete me[xe.id]}function ce(xe){var ke;x.bindFramebuffer(es,xe.framebuffer);var Re=xe.colorAttachments;for(ke=0;ke<Re.length;++ke)ye(nb+ke,Re[ke]);for(ke=Re.length;ke<L.maxColorAttachments;++ke)x.framebufferTexture2D(es,nb+ke,ki,null,0);x.framebufferTexture2D(es,sb,ki,null,0),x.framebufferTexture2D(es,rb,ki,null,0),x.framebufferTexture2D(es,ob,ki,null,0),ye(rb,xe.depthAttachment),ye(ob,xe.stencilAttachment),ye(sb,xe.depthStencilAttachment);var st=x.checkFramebufferStatus(es);!x.isContextLost()&&st!==ib&&C.raise("framebuffer configuration not supported, status = "+Ma[st]),x.bindFramebuffer(es,re.next?re.next.framebuffer:null),re.cur=re.next,x.getError()}function ae(xe,ke){var Re=new De;Q.framebufferCount++;function st(Me,Ie){var Ze;C(re.next!==Re,"can not update framebuffer which is currently in use");var it=0,pt=0,Bt=!0,jt=!0,vt=null,cn=!0,Mt="rgba",rn="uint8",un=1,fn=null,En=null,Tn=null,qt=!1;if(typeof Me=="number")it=Me|0,pt=Ie|0||it;else if(!Me)it=pt=1;else{C.type(Me,"object","invalid arguments for framebuffer");var ct=Me;if("shape"in ct){var Cn=ct.shape;C(Array.isArray(Cn)&&Cn.length>=2,"invalid shape for framebuffer"),it=Cn[0],pt=Cn[1]}else"radius"in ct&&(it=pt=ct.radius),"width"in ct&&(it=ct.width),"height"in ct&&(pt=ct.height);("color"in ct||"colors"in ct)&&(vt=ct.color||ct.colors,Array.isArray(vt)&&C(vt.length===1||T.webgl_draw_buffers,"multiple render targets not supported")),vt||("colorCount"in ct&&(un=ct.colorCount|0,C(un>0,"invalid color buffer count")),"colorTexture"in ct&&(cn=!!ct.colorTexture,Mt="rgba4"),"colorType"in ct&&(rn=ct.colorType,cn?(C(T.oes_texture_float||!(rn==="float"||rn==="float32"),"you must enable OES_texture_float in order to use floating point framebuffer objects"),C(T.oes_texture_half_float||!(rn==="half float"||rn==="float16"),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")):rn==="half float"||rn==="float16"?(C(T.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),Mt="rgba16f"):(rn==="float"||rn==="float32")&&(C(T.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),Mt="rgba32f"),C.oneOf(rn,Se,"invalid color type")),"colorFormat"in ct&&(Mt=ct.colorFormat,ge.indexOf(Mt)>=0?cn=!0:ve.indexOf(Mt)>=0?cn=!1:C.optional(function(){cn?C.oneOf(ct.colorFormat,ge,"invalid color format for texture"):C.oneOf(ct.colorFormat,ve,"invalid color format for renderbuffer")}))),("depthTexture"in ct||"depthStencilTexture"in ct)&&(qt=!!(ct.depthTexture||ct.depthStencilTexture),C(!qt||T.webgl_depth_texture,"webgl_depth_texture extension not supported")),"depth"in ct&&(typeof ct.depth=="boolean"?Bt=ct.depth:(fn=ct.depth,jt=!1)),"stencil"in ct&&(typeof ct.stencil=="boolean"?jt=ct.stencil:(En=ct.stencil,Bt=!1)),"depthStencil"in ct&&(typeof ct.depthStencil=="boolean"?Bt=jt=ct.depthStencil:(Tn=ct.depthStencil,Bt=!1,jt=!1))}var St=null,qe=null,mt=null,wt=null;if(Array.isArray(vt))St=vt.map(Ee);else if(vt)St=[Ee(vt)];else for(St=new Array(un),Ze=0;Ze<un;++Ze)St[Ze]=W(it,pt,cn,Mt,rn);C(T.webgl_draw_buffers||St.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."),C(St.length<=L.maxColorAttachments,"too many color attachments, not supported"),it=it||St[0].width,pt=pt||St[0].height,fn?qe=Ee(fn):Bt&&!jt&&(qe=W(it,pt,qt,"depth","uint32")),En?mt=Ee(En):jt&&!Bt&&(mt=W(it,pt,!1,"stencil","uint8")),Tn?wt=Ee(Tn):!fn&&!En&&jt&&Bt&&(wt=W(it,pt,qt,"depth stencil","depth stencil")),C(!!fn+!!En+!!Tn<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var Yt=null;for(Ze=0;Ze<St.length;++Ze)if(Ce(St[Ze],it,pt),C(!St[Ze]||St[Ze].texture&&l8.indexOf(St[Ze].texture._texture.format)>=0||St[Ze].renderbuffer&&y8.indexOf(St[Ze].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+Ze+" is invalid"),St[Ze]&&St[Ze].texture){var No=a0[St[Ze].texture._texture.format]*Yf[St[Ze].texture._texture.type];Yt===null?Yt=No:C(Yt===No,"all color attachments much have the same number of bits per pixel.")}return Ce(qe,it,pt),C(!qe||qe.texture&&qe.texture._texture.format===a8||qe.renderbuffer&&qe.renderbuffer._renderbuffer.format===d8,"invalid depth attachment for framebuffer object"),Ce(mt,it,pt),C(!mt||mt.renderbuffer&&mt.renderbuffer._renderbuffer.format===h8,"invalid stencil attachment for framebuffer object"),Ce(wt,it,pt),C(!wt||wt.texture&&wt.texture._texture.format===cb||wt.renderbuffer&&wt.renderbuffer._renderbuffer.format===cb,"invalid depth-stencil attachment for framebuffer object"),Oe(Re),Re.width=it,Re.height=pt,Re.colorAttachments=St,Re.depthAttachment=qe,Re.stencilAttachment=mt,Re.depthStencilAttachment=wt,st.color=St.map(ne),st.depth=ne(qe),st.stencil=ne(mt),st.depthStencil=ne(wt),st.width=Re.width,st.height=Re.height,ce(Re),st}function nt(Me,Ie){C(re.next!==Re,"can not resize a framebuffer which is currently in use");var Ze=Math.max(Me|0,1),it=Math.max(Ie|0||Ze,1);if(Ze===Re.width&&it===Re.height)return st;for(var pt=Re.colorAttachments,Bt=0;Bt<pt.length;++Bt)be(pt[Bt],Ze,it);return be(Re.depthAttachment,Ze,it),be(Re.stencilAttachment,Ze,it),be(Re.depthStencilAttachment,Ze,it),Re.width=st.width=Ze,Re.height=st.height=it,ce(Re),st}return st(xe,ke),r(st,{resize:nt,_reglType:"framebuffer",_framebuffer:Re,destroy:function(){We(Re),Oe(Re)},use:function(Me){re.setFBO({framebuffer:st},Me)}})}function Ge(xe){var ke=Array(6);function Re(nt){var Me;C(ke.indexOf(re.next)<0,"can not update framebuffer which is currently in use");var Ie={color:null},Ze=0,it=null,pt="rgba",Bt="uint8",jt=1;if(typeof nt=="number")Ze=nt|0;else if(!nt)Ze=1;else{C.type(nt,"object","invalid arguments for framebuffer");var vt=nt;if("shape"in vt){var cn=vt.shape;C(Array.isArray(cn)&&cn.length>=2,"invalid shape for framebuffer"),C(cn[0]===cn[1],"cube framebuffer must be square"),Ze=cn[0]}else"radius"in vt&&(Ze=vt.radius|0),"width"in vt?(Ze=vt.width|0,"height"in vt&&C(vt.height===Ze,"must be square")):"height"in vt&&(Ze=vt.height|0);("color"in vt||"colors"in vt)&&(it=vt.color||vt.colors,Array.isArray(it)&&C(it.length===1||T.webgl_draw_buffers,"multiple render targets not supported")),it||("colorCount"in vt&&(jt=vt.colorCount|0,C(jt>0,"invalid color buffer count")),"colorType"in vt&&(C.oneOf(vt.colorType,Se,"invalid color type"),Bt=vt.colorType),"colorFormat"in vt&&(pt=vt.colorFormat,C.oneOf(vt.colorFormat,ge,"invalid color format for texture"))),"depth"in vt&&(Ie.depth=vt.depth),"stencil"in vt&&(Ie.stencil=vt.stencil),"depthStencil"in vt&&(Ie.depthStencil=vt.depthStencil)}var Mt;if(it)if(Array.isArray(it))for(Mt=[],Me=0;Me<it.length;++Me)Mt[Me]=it[Me];else Mt=[it];else{Mt=Array(jt);var rn={radius:Ze,format:pt,type:Bt};for(Me=0;Me<jt;++Me)Mt[Me]=K.createCube(rn)}for(Ie.color=Array(Mt.length),Me=0;Me<Mt.length;++Me){var un=Mt[Me];C(typeof un=="function"&&un._reglType==="textureCube","invalid cube map"),Ze=Ze||un.width,C(un.width===Ze&&un.height===Ze,"invalid cube map shape"),Ie.color[Me]={target:qf,data:Mt[Me]}}for(Me=0;Me<6;++Me){for(var fn=0;fn<Mt.length;++fn)Ie.color[fn].target=qf+Me;Me>0&&(Ie.depth=ke[0].depth,Ie.stencil=ke[0].stencil,Ie.depthStencil=ke[0].depthStencil),ke[Me]?ke[Me](Ie):ke[Me]=ae(Ie)}return r(Re,{width:Ze,height:Ze,color:Mt})}function st(nt){var Me,Ie=nt|0;if(C(Ie>0&&Ie<=L.maxCubeMapSize,"invalid radius for cube fbo"),Ie===Re.width)return Re;var Ze=Re.color;for(Me=0;Me<Ze.length;++Me)Ze[Me].resize(Ie);for(Me=0;Me<6;++Me)ke[Me].resize(Ie);return Re.width=Re.height=Ie,Re}return Re(xe),r(Re,{faces:ke,resize:st,_reglType:"framebufferCube",destroy:function(){ke.forEach(function(nt){nt.destroy()})}})}function Pe(){re.cur=null,re.next=null,re.dirty=!0,Sr(me).forEach(function(xe){xe.framebuffer=x.createFramebuffer(),ce(xe)})}return r(re,{getFramebuffer:function(xe){if(typeof xe=="function"&&xe._reglType==="framebuffer"){var ke=xe._framebuffer;if(ke instanceof De)return ke}return null},create:ae,createCube:Ge,clear:function(){Sr(me).forEach(We)},restore:Pe})}var x8=5126,ub=34962,Zf=34963,fb=["attributes","elements","offset","count","primitive","instances"];function l0(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=x8,this.offset=0,this.stride=0,this.divisor=0}function b8(x,T,L,K,le,Q,re){for(var ge=L.maxAttributes,ve=new Array(ge),Se=0;Se<ge;++Se)ve[Se]=new l0;var Ae=0,_e={},Ce={Record:l0,scope:{},state:ve,currentVAO:null,targetVAO:null,restore:Ee()?Oe:function(){},createVAO:We,getVAO:ne,destroyBuffer:ye,setVAO:Ee()?be:Fe,clear:Ee()?me:function(){}};function ye(ce){for(var ae=0;ae<ve.length;++ae){var Ge=ve[ae];Ge.buffer===ce&&(x.disableVertexAttribArray(ae),Ge.buffer=null)}}function Ee(){return T.oes_vertex_array_object}function W(){return T.angle_instanced_arrays}function ne(ce){return typeof ce=="function"&&ce._vao?ce._vao:null}function be(ce){if(ce!==Ce.currentVAO){var ae=Ee();ce?ae.bindVertexArrayOES(ce.vao):ae.bindVertexArrayOES(null),Ce.currentVAO=ce}}function Fe(ce){if(ce!==Ce.currentVAO){if(ce)ce.bindAttrs();else{for(var ae=W(),Ge=0;Ge<ve.length;++Ge){var Pe=ve[Ge];Pe.buffer?(x.enableVertexAttribArray(Ge),Pe.buffer.bind(),x.vertexAttribPointer(Ge,Pe.size,Pe.type,Pe.normalized,Pe.stride,Pe.offfset),ae&&Pe.divisor&&ae.vertexAttribDivisorANGLE(Ge,Pe.divisor)):(x.disableVertexAttribArray(Ge),x.vertexAttrib4f(Ge,Pe.x,Pe.y,Pe.z,Pe.w))}re.elements?x.bindBuffer(Zf,re.elements.buffer.buffer):x.bindBuffer(Zf,null)}Ce.currentVAO=ce}}function me(){Sr(_e).forEach(function(ce){ce.destroy()})}function De(){this.id=++Ae,this.attributes=[],this.elements=null,this.ownsElements=!1,this.count=0,this.offset=0,this.instances=-1,this.primitive=4;var ce=Ee();ce?this.vao=ce.createVertexArrayOES():this.vao=null,_e[this.id]=this,this.buffers=[]}De.prototype.bindAttrs=function(){for(var ce=W(),ae=this.attributes,Ge=0;Ge<ae.length;++Ge){var Pe=ae[Ge];Pe.buffer?(x.enableVertexAttribArray(Ge),x.bindBuffer(ub,Pe.buffer.buffer),x.vertexAttribPointer(Ge,Pe.size,Pe.type,Pe.normalized,Pe.stride,Pe.offset),ce&&Pe.divisor&&ce.vertexAttribDivisorANGLE(Ge,Pe.divisor)):(x.disableVertexAttribArray(Ge),x.vertexAttrib4f(Ge,Pe.x,Pe.y,Pe.z,Pe.w))}for(var xe=ae.length;xe<ge;++xe)x.disableVertexAttribArray(xe);var ke=Q.getElements(this.elements);ke?x.bindBuffer(Zf,ke.buffer.buffer):x.bindBuffer(Zf,null)},De.prototype.refresh=function(){var ce=Ee();ce&&(ce.bindVertexArrayOES(this.vao),this.bindAttrs(),Ce.currentVAO=null,ce.bindVertexArrayOES(null))},De.prototype.destroy=function(){if(this.vao){var ce=Ee();this===Ce.currentVAO&&(Ce.currentVAO=null,ce.bindVertexArrayOES(null)),ce.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),_e[this.id]&&(delete _e[this.id],K.vaoCount-=1)};function Oe(){var ce=Ee();ce&&Sr(_e).forEach(function(ae){ae.refresh()})}function We(ce){var ae=new De;K.vaoCount+=1;function Ge(Pe){var xe;if(Array.isArray(Pe))xe=Pe,ae.elements&&ae.ownsElements&&ae.elements.destroy(),ae.elements=null,ae.ownsElements=!1,ae.offset=0,ae.count=0,ae.instances=-1,ae.primitive=4;else{if(C(typeof Pe=="object","invalid arguments for create vao"),C("attributes"in Pe,"must specify attributes for vao"),Pe.elements){var ke=Pe.elements;ae.ownsElements?typeof ke=="function"&&ke._reglType==="elements"?(ae.elements.destroy(),ae.ownsElements=!1):(ae.elements(ke),ae.ownsElements=!1):Q.getElements(Pe.elements)?(ae.elements=Pe.elements,ae.ownsElements=!1):(ae.elements=Q.create(Pe.elements),ae.ownsElements=!0)}else ae.elements=null,ae.ownsElements=!1;xe=Pe.attributes,ae.offset=0,ae.count=-1,ae.instances=-1,ae.primitive=4,ae.elements&&(ae.count=ae.elements._elements.vertCount,ae.primitive=ae.elements._elements.primType),"offset"in Pe&&(ae.offset=Pe.offset|0),"count"in Pe&&(ae.count=Pe.count|0),"instances"in Pe&&(ae.instances=Pe.instances|0),"primitive"in Pe&&(C(Pe.primitive in Rs,"bad primitive type: "+Pe.primitive),ae.primitive=Rs[Pe.primitive]),C.optional(()=>{for(var Bt=Object.keys(Pe),jt=0;jt<Bt.length;++jt)C(fb.indexOf(Bt[jt])>=0,'invalid option for vao: "'+Bt[jt]+'" valid options are '+fb)}),C(Array.isArray(xe),"attributes must be an array")}C(xe.length<ge,"too many attributes"),C(xe.length>0,"must specify at least one attribute");var Re={},st=ae.attributes;st.length=xe.length;for(var nt=0;nt<xe.length;++nt){var Me=xe[nt],Ie=st[nt]=new l0,Ze=Me.data||Me;if(Array.isArray(Ze)||n(Ze)||fo(Ze)){var it;ae.buffers[nt]&&(it=ae.buffers[nt],n(Ze)&&it._buffer.byteLength>=Ze.byteLength?it.subdata(Ze):(it.destroy(),ae.buffers[nt]=null)),ae.buffers[nt]||(it=ae.buffers[nt]=le.create(Me,ub,!1,!0)),Ie.buffer=le.getBuffer(it),Ie.size=Ie.buffer.dimension|0,Ie.normalized=!1,Ie.type=Ie.buffer.dtype,Ie.offset=0,Ie.stride=0,Ie.divisor=0,Ie.state=1,Re[nt]=1}else le.getBuffer(Me)?(Ie.buffer=le.getBuffer(Me),Ie.size=Ie.buffer.dimension|0,Ie.normalized=!1,Ie.type=Ie.buffer.dtype,Ie.offset=0,Ie.stride=0,Ie.divisor=0,Ie.state=1):le.getBuffer(Me.buffer)?(Ie.buffer=le.getBuffer(Me.buffer),Ie.size=(+Me.size||Ie.buffer.dimension)|0,Ie.normalized=!!Me.normalized||!1,"type"in Me?(C.parameter(Me.type,Ai,"invalid buffer type"),Ie.type=Ai[Me.type]):Ie.type=Ie.buffer.dtype,Ie.offset=(Me.offset||0)|0,Ie.stride=(Me.stride||0)|0,Ie.divisor=(Me.divisor||0)|0,Ie.state=1,C(Ie.size>=1&&Ie.size<=4,"size must be between 1 and 4"),C(Ie.offset>=0,"invalid offset"),C(Ie.stride>=0&&Ie.stride<=255,"stride must be between 0 and 255"),C(Ie.divisor>=0,"divisor must be positive"),C(!Ie.divisor||!!T.angle_instanced_arrays,"ANGLE_instanced_arrays must be enabled to use divisor")):"x"in Me?(C(nt>0,"first attribute must not be a constant"),Ie.x=+Me.x||0,Ie.y=+Me.y||0,Ie.z=+Me.z||0,Ie.w=+Me.w||0,Ie.state=2):C(!1,"invalid attribute spec for location "+nt)}for(var pt=0;pt<ae.buffers.length;++pt)!Re[pt]&&ae.buffers[pt]&&(ae.buffers[pt].destroy(),ae.buffers[pt]=null);return ae.refresh(),Ge}return Ge.destroy=function(){for(var Pe=0;Pe<ae.buffers.length;++Pe)ae.buffers[Pe]&&ae.buffers[Pe].destroy();ae.buffers.length=0,ae.ownsElements&&(ae.elements.destroy(),ae.elements=null,ae.ownsElements=!1),ae.destroy()},Ge._vao=ae,Ge._reglType="vao",Ge(ce)}return Ce}var db=35632,E8=35633,S8=35718,_8=35721;function $8(x,T,L,K){var le={},Q={};function re(W,ne,be,Fe){this.name=W,this.id=ne,this.location=be,this.info=Fe}function ge(W,ne){for(var be=0;be<W.length;++be)if(W[be].id===ne.id){W[be].location=ne.location;return}W.push(ne)}function ve(W,ne,be){var Fe=W===db?le:Q,me=Fe[ne];if(!me){var De=T.str(ne);me=x.createShader(W),x.shaderSource(me,De),x.compileShader(me),C.shaderError(x,me,De,W,be),Fe[ne]=me}return me}var Se={},Ae=[],_e=0;function Ce(W,ne){this.id=_e++,this.fragId=W,this.vertId=ne,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,K.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function ye(W,ne,be){var Fe,me,De=ve(db,W.fragId),Oe=ve(E8,W.vertId),We=W.program=x.createProgram();if(x.attachShader(We,De),x.attachShader(We,Oe),be)for(Fe=0;Fe<be.length;++Fe){var ce=be[Fe];x.bindAttribLocation(We,ce[0],ce[1])}x.linkProgram(We),C.linkError(x,We,T.str(W.fragId),T.str(W.vertId),ne);var ae=x.getProgramParameter(We,S8);K.profile&&(W.stats.uniformsCount=ae);var Ge=W.uniforms;for(Fe=0;Fe<ae;++Fe)if(me=x.getActiveUniform(We,Fe),me){if(me.size>1)for(var Pe=0;Pe<me.size;++Pe){var xe=me.name.replace("[0]","["+Pe+"]");ge(Ge,new re(xe,T.id(xe),x.getUniformLocation(We,xe),me))}var ke=me.name;me.size>1&&(ke=ke.replace("[0]","")),ge(Ge,new re(ke,T.id(ke),x.getUniformLocation(We,ke),me))}var Re=x.getProgramParameter(We,_8);K.profile&&(W.stats.attributesCount=Re);var st=W.attributes;for(Fe=0;Fe<Re;++Fe)me=x.getActiveAttrib(We,Fe),me&&ge(st,new re(me.name,T.id(me.name),x.getAttribLocation(We,me.name),me))}K.profile&&(L.getMaxUniformsCount=function(){var W=0;return Ae.forEach(function(ne){ne.stats.uniformsCount>W&&(W=ne.stats.uniformsCount)}),W},L.getMaxAttributesCount=function(){var W=0;return Ae.forEach(function(ne){ne.stats.attributesCount>W&&(W=ne.stats.attributesCount)}),W});function Ee(){le={},Q={};for(var W=0;W<Ae.length;++W)ye(Ae[W],null,Ae[W].attributes.map(function(ne){return[ne.location,ne.name]}))}return{clear:function(){var W=x.deleteShader.bind(x);Sr(le).forEach(W),le={},Sr(Q).forEach(W),Q={},Ae.forEach(function(ne){x.deleteProgram(ne.program)}),Ae.length=0,Se={},L.shaderCount=0},program:function(W,ne,be,Fe){C.command(W>=0,"missing vertex shader",be),C.command(ne>=0,"missing fragment shader",be);var me=Se[ne];me||(me=Se[ne]={});var De=me[W];if(De&&(De.refCount++,!Fe))return De;var Oe=new Ce(ne,W);return L.shaderCount++,ye(Oe,be,Fe),De||(me[W]=Oe),Ae.push(Oe),r(Oe,{destroy:function(){if(Oe.refCount--,Oe.refCount<=0){x.deleteProgram(Oe.program);var We=Ae.indexOf(Oe);Ae.splice(We,1),L.shaderCount--}me[Oe.vertId].refCount<=0&&(x.deleteShader(Q[Oe.vertId]),delete Q[Oe.vertId],delete Se[Oe.fragId][Oe.vertId]),Object.keys(Se[Oe.fragId]).length||(x.deleteShader(le[Oe.fragId]),delete le[Oe.fragId],delete Se[Oe.fragId])}})},restore:Ee,shader:ve,frag:-1,vert:-1}}var A8=6408,kc=5121,T8=3333,Qf=5126;function C8(x,T,L,K,le,Q,re){function ge(Ae){var _e;T.next===null?(C(le.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),_e=kc):(C(T.next.colorAttachments[0].texture!==null,"You cannot read from a renderbuffer"),_e=T.next.colorAttachments[0].texture._texture.type,C.optional(function(){Q.oes_texture_float?(C(_e===kc||_e===Qf,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"),_e===Qf&&C(re.readFloat,"Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")):C(_e===kc,"Reading from a framebuffer is only allowed for the type 'uint8'")}));var Ce=0,ye=0,Ee=K.framebufferWidth,W=K.framebufferHeight,ne=null;n(Ae)?ne=Ae:Ae&&(C.type(Ae,"object","invalid arguments to regl.read()"),Ce=Ae.x|0,ye=Ae.y|0,C(Ce>=0&&Ce<K.framebufferWidth,"invalid x offset for regl.read"),C(ye>=0&&ye<K.framebufferHeight,"invalid y offset for regl.read"),Ee=(Ae.width||K.framebufferWidth-Ce)|0,W=(Ae.height||K.framebufferHeight-ye)|0,ne=Ae.data||null),ne&&(_e===kc?C(ne instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):_e===Qf&&C(ne instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")),C(Ee>0&&Ee+Ce<=K.framebufferWidth,"invalid width for read pixels"),C(W>0&&W+ye<=K.framebufferHeight,"invalid height for read pixels"),L();var be=Ee*W*4;return ne||(_e===kc?ne=new Uint8Array(be):_e===Qf&&(ne=ne||new Float32Array(be))),C.isTypedArray(ne,"data buffer for regl.read() must be a typedarray"),C(ne.byteLength>=be,"data buffer for regl.read() too small"),x.pixelStorei(T8,4),x.readPixels(Ce,ye,Ee,W,A8,_e,ne),ne}function ve(Ae){var _e;return T.setFBO({framebuffer:Ae.framebuffer},function(){_e=ge(Ae)}),_e}function Se(Ae){return!Ae||!("framebuffer"in Ae)?ge(Ae):ve(Ae)}return Se}function La(x){return Array.prototype.slice.call(x)}function Da(x){return La(x).join("")}function P8(){var x=0,T=[],L=[];function K(_e){for(var Ce=0;Ce<L.length;++Ce)if(L[Ce]===_e)return T[Ce];var ye="g"+x++;return T.push(ye),L.push(_e),ye}function le(){var _e=[];function Ce(){_e.push.apply(_e,La(arguments))}var ye=[];function Ee(){var W="v"+x++;return ye.push(W),arguments.length>0&&(_e.push(W,"="),_e.push.apply(_e,La(arguments)),_e.push(";")),W}return r(Ce,{def:Ee,toString:function(){return Da([ye.length>0?"var "+ye.join(",")+";":"",Da(_e)])}})}function Q(){var _e=le(),Ce=le(),ye=_e.toString,Ee=Ce.toString;function W(ne,be){Ce(ne,be,"=",_e.def(ne,be),";")}return r(function(){_e.apply(_e,La(arguments))},{def:_e.def,entry:_e,exit:Ce,save:W,set:function(ne,be,Fe){W(ne,be),_e(ne,be,"=",Fe,";")},toString:function(){return ye()+Ee()}})}function re(){var _e=Da(arguments),Ce=Q(),ye=Q(),Ee=Ce.toString,W=ye.toString;return r(Ce,{then:function(){return Ce.apply(Ce,La(arguments)),this},else:function(){return ye.apply(ye,La(arguments)),this},toString:function(){var ne=W();return ne&&(ne="else{"+ne+"}"),Da(["if(",_e,"){",Ee(),"}",ne])}})}var ge=le(),ve={};function Se(_e,Ce){var ye=[];function Ee(){var me="a"+ye.length;return ye.push(me),me}Ce=Ce||0;for(var W=0;W<Ce;++W)Ee();var ne=Q(),be=ne.toString,Fe=ve[_e]=r(ne,{arg:Ee,toString:function(){return Da(["function(",ye.join(),"){",be(),"}"])}});return Fe}function Ae(){var _e=['"use strict";',ge,"return {"];Object.keys(ve).forEach(function(Ee){_e.push('"',Ee,'":',ve[Ee].toString(),",")}),_e.push("}");var Ce=Da(_e).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`),ye=Function.apply(null,T.concat(Ce));return ye.apply(null,L)}return{global:ge,link:K,block:le,proc:Se,scope:Q,cond:re,compile:Ae}}var Ia="xyzw".split(""),hb=5121,Fa=1,c0=2,u0=0,f0=1,d0=2,h0=3,Kf=4,pb=5,mb=6,vb="dither",gb="blend.enable",yb="blend.color",p0="blend.equation",m0="blend.func",wb="depth.enable",xb="depth.func",bb="depth.range",Eb="depth.mask",v0="colorMask",Sb="cull.enable",_b="cull.face",g0="frontFace",y0="lineWidth",$b="polygonOffset.enable",w0="polygonOffset.offset",Ab="sample.alpha",Tb="sample.enable",x0="sample.coverage",Cb="stencil.enable",Pb="stencil.mask",b0="stencil.func",E0="stencil.opFront",Rc="stencil.opBack",kb="scissor.enable",Jf="scissor.box",ts="viewport",Nc="profile",Ri="framebuffer",Oc="vert",Mc="frag",Ni="elements",Oi="primitive",Mi="count",ed="offset",td="instances",Lc="vao",S0="Width",_0="Height",za=Ri+S0,Ba=Ri+_0,k8=ts+S0,R8=ts+_0,Rb="drawingBuffer",Nb=Rb+S0,Ob=Rb+_0,N8=[m0,p0,b0,E0,Rc,x0,ts,Jf,w0],Ga=34962,$0=34963,O8=35632,M8=35633,Mb=3553,L8=34067,D8=2884,I8=3042,F8=3024,z8=2960,B8=2929,G8=3089,j8=32823,V8=32926,U8=32928,A0=5126,nd=35664,rd=35665,od=35666,T0=5124,sd=35667,id=35668,ad=35669,C0=35670,ld=35671,cd=35672,ud=35673,Dc=35674,Ic=35675,Fc=35676,zc=35678,Bc=35680,P0=4,Gc=1028,Li=1029,Lb=2304,k0=2305,H8=32775,W8=32776,X8=519,Os=7680,Db=0,Ib=1,Fb=32774,q8=513,zb=36160,Y8=36064,Ro={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},Bb=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],ja={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},Ms={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},Gb={frag:O8,vert:M8},R0={cw:Lb,ccw:k0};function fd(x){return Array.isArray(x)||n(x)||fo(x)}function jb(x){return x.sort(function(T,L){return T===ts?-1:L===ts?1:T<L?-1:1})}function yn(x,T,L,K){this.thisDep=x,this.contextDep=T,this.propDep=L,this.append=K}function Ls(x){return x&&!(x.thisDep||x.contextDep||x.propDep)}function nn(x){return new yn(!1,!1,!1,x)}function lr(x,T){var L=x.type;if(L===u0){var K=x.data.length;return new yn(!0,K>=1,K>=2,T)}else if(L===Kf){var le=x.data;return new yn(le.thisDep,le.contextDep,le.propDep,T)}else{if(L===pb)return new yn(!1,!1,!1,T);if(L===mb){for(var Q=!1,re=!1,ge=!1,ve=0;ve<x.data.length;++ve){var Se=x.data[ve];if(Se.type===f0)ge=!0;else if(Se.type===d0)re=!0;else if(Se.type===h0)Q=!0;else if(Se.type===u0){Q=!0;var Ae=Se.data;Ae>=1&&(re=!0),Ae>=2&&(ge=!0)}else Se.type===Kf&&(Q=Q||Se.data.thisDep,re=re||Se.data.contextDep,ge=ge||Se.data.propDep)}return new yn(Q,re,ge,T)}else return new yn(L===h0,L===d0,L===f0,T)}}var Vb=new yn(!1,!1,!1,function(){});function Z8(x,T,L,K,le,Q,re,ge,ve,Se,Ae,_e,Ce,ye,Ee){var W=Se.Record,ne={add:32774,subtract:32778,"reverse subtract":32779};L.ext_blend_minmax&&(ne.min=H8,ne.max=W8);var be=L.angle_instanced_arrays,Fe=L.webgl_draw_buffers,me=L.oes_vertex_array_object,De={dirty:!0,profile:Ee.profile},Oe={},We=[],ce={},ae={};function Ge(P){return P.replace(".","_")}function Pe(P,_,D){var U=Ge(P);We.push(P),Oe[U]=De[U]=!!D,ce[U]=_}function xe(P,_,D){var U=Ge(P);We.push(P),Array.isArray(D)?(De[U]=D.slice(),Oe[U]=D.slice()):De[U]=Oe[U]=D,ae[U]=_}Pe(vb,F8),Pe(gb,I8),xe(yb,"blendColor",[0,0,0,0]),xe(p0,"blendEquationSeparate",[Fb,Fb]),xe(m0,"blendFuncSeparate",[Ib,Db,Ib,Db]),Pe(wb,B8,!0),xe(xb,"depthFunc",q8),xe(bb,"depthRange",[0,1]),xe(Eb,"depthMask",!0),xe(v0,v0,[!0,!0,!0,!0]),Pe(Sb,D8),xe(_b,"cullFace",Li),xe(g0,g0,k0),xe(y0,y0,1),Pe($b,j8),xe(w0,"polygonOffset",[0,0]),Pe(Ab,V8),Pe(Tb,U8),xe(x0,"sampleCoverage",[1,!1]),Pe(Cb,z8),xe(Pb,"stencilMask",-1),xe(b0,"stencilFunc",[X8,0,-1]),xe(E0,"stencilOpSeparate",[Gc,Os,Os,Os]),xe(Rc,"stencilOpSeparate",[Li,Os,Os,Os]),Pe(kb,G8),xe(Jf,"scissor",[0,0,x.drawingBufferWidth,x.drawingBufferHeight]),xe(ts,ts,[0,0,x.drawingBufferWidth,x.drawingBufferHeight]);var ke={gl:x,context:Ce,strings:T,next:Oe,current:De,draw:_e,elements:Q,buffer:le,shader:Ae,attributes:Se.state,vao:Se,uniforms:ve,framebuffer:ge,extensions:L,timer:ye,isBufferArgs:fd},Re={primTypes:Rs,compareFuncs:ja,blendFuncs:Ro,blendEquations:ne,stencilOps:Ms,glTypes:Ai,orientationType:R0};C.optional(function(){ke.isArrayLike=zt}),Fe&&(Re.backBuffer=[Li],Re.drawBuffer=Er(K.maxDrawbuffers,function(P){return P===0?[0]:Er(P,function(_){return Y8+_})}));var st=0;function nt(){var P=P8(),_=P.link,D=P.global;P.id=st++,P.batchId="0";var U=_(ke),X=P.shared={props:"a0"};Object.keys(ke).forEach(function(M){X[M]=D.def(U,".",M)}),C.optional(function(){P.CHECK=_(C),P.commandStr=C.guessCommand(),P.command=_(P.commandStr),P.assert=function(M,R,Y){M("if(!(",R,"))",this.CHECK,".commandRaise(",_(Y),",",this.command,");")},Re.invalidBlendCombinations=Bb});var B=P.next={},z=P.current={};Object.keys(ae).forEach(function(M){Array.isArray(De[M])&&(B[M]=D.def(X.next,".",M),z[M]=D.def(X.current,".",M))});var V=P.constants={};Object.keys(Re).forEach(function(M){V[M]=D.def(JSON.stringify(Re[M]))}),P.invoke=function(M,R){switch(R.type){case u0:var Y=["this",X.context,X.props,P.batchId];return M.def(_(R.data),".call(",Y.slice(0,Math.max(R.data.length+1,4)),")");case f0:return M.def(X.props,R.data);case d0:return M.def(X.context,R.data);case h0:return M.def("this",R.data);case Kf:return R.data.append(P,M),R.data.ref;case pb:return R.data.toString();case mb:return R.data.map(function(q){return P.invoke(M,q)})}},P.attribCache={};var k={};return P.scopeAttrib=function(M){var R=T.id(M);if(R in k)return k[R];var Y=Se.scope[R];Y||(Y=Se.scope[R]=new W);var q=k[R]=_(Y);return q},P}function Me(P){var _=P.static,D=P.dynamic,U;if(Nc in _){var X=!!_[Nc];U=nn(function(z,V){return X}),U.enable=X}else if(Nc in D){var B=D[Nc];U=lr(B,function(z,V){return z.invoke(V,B)})}return U}function Ie(P,_){var D=P.static,U=P.dynamic;if(Ri in D){var X=D[Ri];return X?(X=ge.getFramebuffer(X),C.command(X,"invalid framebuffer object"),nn(function(z,V){var k=z.link(X),M=z.shared;V.set(M.framebuffer,".next",k);var R=M.context;return V.set(R,"."+za,k+".width"),V.set(R,"."+Ba,k+".height"),k})):nn(function(z,V){var k=z.shared;V.set(k.framebuffer,".next","null");var M=k.context;return V.set(M,"."+za,M+"."+Nb),V.set(M,"."+Ba,M+"."+Ob),"null"})}else if(Ri in U){var B=U[Ri];return lr(B,function(z,V){var k=z.invoke(V,B),M=z.shared,R=M.framebuffer,Y=V.def(R,".getFramebuffer(",k,")");C.optional(function(){z.assert(V,"!"+k+"||"+Y,"invalid framebuffer object")}),V.set(R,".next",Y);var q=M.context;return V.set(q,"."+za,Y+"?"+Y+".width:"+q+"."+Nb),V.set(q,"."+Ba,Y+"?"+Y+".height:"+q+"."+Ob),Y})}else return null}function Ze(P,_,D){var U=P.static,X=P.dynamic;function B(k){if(k in U){var M=U[k];C.commandType(M,"object","invalid "+k,D.commandStr);var R=!0,Y=M.x|0,q=M.y|0,ie,ue;return"width"in M?(ie=M.width|0,C.command(ie>=0,"invalid "+k,D.commandStr)):R=!1,"height"in M?(ue=M.height|0,C.command(ue>=0,"invalid "+k,D.commandStr)):R=!1,new yn(!R&&_&&_.thisDep,!R&&_&&_.contextDep,!R&&_&&_.propDep,function(He,ze){var he=He.shared.context,se=ie;"width"in M||(se=ze.def(he,".",za,"-",Y));var Ue=ue;return"height"in M||(Ue=ze.def(he,".",Ba,"-",q)),[Y,q,se,Ue]})}else if(k in X){var Te=X[k],Je=lr(Te,function(He,ze){var he=He.invoke(ze,Te);C.optional(function(){He.assert(ze,he+"&&typeof "+he+'==="object"',"invalid "+k)});var se=He.shared.context,Ue=ze.def(he,".x|0"),je=ze.def(he,".y|0"),Qe=ze.def('"width" in ',he,"?",he,".width|0:","(",se,".",za,"-",Ue,")"),$t=ze.def('"height" in ',he,"?",he,".height|0:","(",se,".",Ba,"-",je,")");return C.optional(function(){He.assert(ze,Qe+">=0&&"+$t+">=0","invalid "+k)}),[Ue,je,Qe,$t]});return _&&(Je.thisDep=Je.thisDep||_.thisDep,Je.contextDep=Je.contextDep||_.contextDep,Je.propDep=Je.propDep||_.propDep),Je}else return _?new yn(_.thisDep,_.contextDep,_.propDep,function(He,ze){var he=He.shared.context;return[0,0,ze.def(he,".",za),ze.def(he,".",Ba)]}):null}var z=B(ts);if(z){var V=z;z=new yn(z.thisDep,z.contextDep,z.propDep,function(k,M){var R=V.append(k,M),Y=k.shared.context;return M.set(Y,"."+k8,R[2]),M.set(Y,"."+R8,R[3]),R})}return{viewport:z,scissor_box:B(Jf)}}function it(P,_){var D=P.static,U=typeof D[Mc]=="string"&&typeof D[Oc]=="string";if(U){if(Object.keys(_.dynamic).length>0)return null;var X=_.static,B=Object.keys(X);if(B.length>0&&typeof X[B[0]]=="number"){for(var z=[],V=0;V<B.length;++V)C(typeof X[B[V]]=="number","must specify all vertex attribute locations when using vaos"),z.push([X[B[V]]|0,B[V]]);return z}}return null}function pt(P,_,D){var U=P.static,X=P.dynamic;function B(R){if(R in U){var Y=T.id(U[R]);C.optional(function(){Ae.shader(Gb[R],Y,C.guessCommand())});var q=nn(function(){return Y});return q.id=Y,q}else if(R in X){var ie=X[R];return lr(ie,function(ue,Te){var Je=ue.invoke(Te,ie),He=Te.def(ue.shared.strings,".id(",Je,")");return C.optional(function(){Te(ue.shared.shader,".shader(",Gb[R],",",He,",",ue.command,");")}),He})}return null}var z=B(Mc),V=B(Oc),k=null,M;return Ls(z)&&Ls(V)?(k=Ae.program(V.id,z.id,null,D),M=nn(function(R,Y){return R.link(k)})):M=new yn(z&&z.thisDep||V&&V.thisDep,z&&z.contextDep||V&&V.contextDep,z&&z.propDep||V&&V.propDep,function(R,Y){var q=R.shared.shader,ie;z?ie=z.append(R,Y):ie=Y.def(q,".",Mc);var ue;V?ue=V.append(R,Y):ue=Y.def(q,".",Oc);var Te=q+".program("+ue+","+ie;return C.optional(function(){Te+=","+R.command}),Y.def(Te+")")}),{frag:z,vert:V,progVar:M,program:k}}function Bt(P,_){var D=P.static,U=P.dynamic,X={},B=!1;function z(){if(Lc in D){var ze=D[Lc];return ze!==null&&Se.getVAO(ze)===null&&(ze=Se.createVAO(ze)),B=!0,X.vao=ze,nn(function(se){var Ue=Se.getVAO(ze);return Ue?se.link(Ue):"null"})}else if(Lc in U){B=!0;var he=U[Lc];return lr(he,function(se,Ue){var je=se.invoke(Ue,he);return Ue.def(se.shared.vao+".getVAO("+je+")")})}return null}var V=z(),k=!1;function M(){if(Ni in D){var ze=D[Ni];if(X.elements=ze,fd(ze)){var he=X.elements=Q.create(ze,!0);ze=Q.getElements(he),k=!0}else ze&&(ze=Q.getElements(ze),k=!0,C.command(ze,"invalid elements",_.commandStr));var se=nn(function(je,Qe){if(ze){var $t=je.link(ze);return je.ELEMENTS=$t,$t}return je.ELEMENTS=null,null});return se.value=ze,se}else if(Ni in U){k=!0;var Ue=U[Ni];return lr(Ue,function(je,Qe){var $t=je.shared,Pn=$t.isBufferArgs,Ii=$t.elements,ns=je.invoke(Qe,Ue),Oo=Qe.def("null"),Ds=Qe.def(Pn,"(",ns,")"),Fi=je.cond(Ds).then(Oo,"=",Ii,".createStream(",ns,");").else(Oo,"=",Ii,".getElements(",ns,");");return C.optional(function(){je.assert(Fi.else,"!"+ns+"||"+Oo,"invalid elements")}),Qe.entry(Fi),Qe.exit(je.cond(Ds).then(Ii,".destroyStream(",Oo,");")),je.ELEMENTS=Oo,Oo})}else if(B)return new yn(V.thisDep,V.contextDep,V.propDep,function(je,Qe){return Qe.def(je.shared.vao+".currentVAO?"+je.shared.elements+".getElements("+je.shared.vao+".currentVAO.elements):null")});return null}var R=M();function Y(){if(Oi in D){var ze=D[Oi];return X.primitive=ze,C.commandParameter(ze,Rs,"invalid primitve",_.commandStr),nn(function(se,Ue){return Rs[ze]})}else if(Oi in U){var he=U[Oi];return lr(he,function(se,Ue){var je=se.constants.primTypes,Qe=se.invoke(Ue,he);return C.optional(function(){se.assert(Ue,Qe+" in "+je,"invalid primitive, must be one of "+Object.keys(Rs))}),Ue.def(je,"[",Qe,"]")})}else{if(k)return Ls(R)?R.value?nn(function(se,Ue){return Ue.def(se.ELEMENTS,".primType")}):nn(function(){return P0}):new yn(R.thisDep,R.contextDep,R.propDep,function(se,Ue){var je=se.ELEMENTS;return Ue.def(je,"?",je,".primType:",P0)});if(B)return new yn(V.thisDep,V.contextDep,V.propDep,function(se,Ue){return Ue.def(se.shared.vao+".currentVAO?"+se.shared.vao+".currentVAO.primitive:"+P0)})}return null}function q(ze,he){if(ze in D){var se=D[ze]|0;return he?X.offset=se:X.instances=se,C.command(!he||se>=0,"invalid "+ze,_.commandStr),nn(function(je,Qe){return he&&(je.OFFSET=se),se})}else if(ze in U){var Ue=U[ze];return lr(Ue,function(je,Qe){var $t=je.invoke(Qe,Ue);return he&&(je.OFFSET=$t,C.optional(function(){je.assert(Qe,$t+">=0","invalid "+ze)})),$t})}else if(he){if(k)return nn(function(je,Qe){return je.OFFSET=0,0});if(B)return new yn(V.thisDep,V.contextDep,V.propDep,function(je,Qe){return Qe.def(je.shared.vao+".currentVAO?"+je.shared.vao+".currentVAO.offset:0")})}else if(B)return new yn(V.thisDep,V.contextDep,V.propDep,function(je,Qe){return Qe.def(je.shared.vao+".currentVAO?"+je.shared.vao+".currentVAO.instances:-1")});return null}var ie=q(ed,!0);function ue(){if(Mi in D){var ze=D[Mi]|0;return X.count=ze,C.command(typeof ze=="number"&&ze>=0,"invalid vertex count",_.commandStr),nn(function(){return ze})}else if(Mi in U){var he=U[Mi];return lr(he,function(Qe,$t){var Pn=Qe.invoke($t,he);return C.optional(function(){Qe.assert($t,"typeof "+Pn+'==="number"&&'+Pn+">=0&&"+Pn+"===("+Pn+"|0)","invalid vertex count")}),Pn})}else if(k)if(Ls(R)){if(R)return ie?new yn(ie.thisDep,ie.contextDep,ie.propDep,function(Qe,$t){var Pn=$t.def(Qe.ELEMENTS,".vertCount-",Qe.OFFSET);return C.optional(function(){Qe.assert($t,Pn+">=0","invalid vertex offset/element buffer too small")}),Pn}):nn(function(Qe,$t){return $t.def(Qe.ELEMENTS,".vertCount")});var se=nn(function(){return-1});return C.optional(function(){se.MISSING=!0}),se}else{var Ue=new yn(R.thisDep||ie.thisDep,R.contextDep||ie.contextDep,R.propDep||ie.propDep,function(Qe,$t){var Pn=Qe.ELEMENTS;return Qe.OFFSET?$t.def(Pn,"?",Pn,".vertCount-",Qe.OFFSET,":-1"):$t.def(Pn,"?",Pn,".vertCount:-1")});return C.optional(function(){Ue.DYNAMIC=!0}),Ue}else if(B){var je=new yn(V.thisDep,V.contextDep,V.propDep,function(Qe,$t){return $t.def(Qe.shared.vao,".currentVAO?",Qe.shared.vao,".currentVAO.count:-1")});return je}return null}var Te=Y(),Je=ue(),He=q(td,!1);return{elements:R,primitive:Te,count:Je,instances:He,offset:ie,vao:V,vaoActive:B,elementsActive:k,static:X}}function jt(P,_){var D=P.static,U=P.dynamic,X={};return We.forEach(function(B){var z=Ge(B);function V(k,M){if(B in D){var R=k(D[B]);X[z]=nn(function(){return R})}else if(B in U){var Y=U[B];X[z]=lr(Y,function(q,ie){return M(q,ie,q.invoke(ie,Y))})}}switch(B){case Sb:case gb:case vb:case Cb:case wb:case kb:case $b:case Ab:case Tb:case Eb:return V(function(k){return C.commandType(k,"boolean",B,_.commandStr),k},function(k,M,R){return C.optional(function(){k.assert(M,"typeof "+R+'==="boolean"',"invalid flag "+B,k.commandStr)}),R});case xb:return V(function(k){return C.commandParameter(k,ja,"invalid "+B,_.commandStr),ja[k]},function(k,M,R){var Y=k.constants.compareFuncs;return C.optional(function(){k.assert(M,R+" in "+Y,"invalid "+B+", must be one of "+Object.keys(ja))}),M.def(Y,"[",R,"]")});case bb:return V(function(k){return C.command(zt(k)&&k.length===2&&typeof k[0]=="number"&&typeof k[1]=="number"&&k[0]<=k[1],"depth range is 2d array",_.commandStr),k},function(k,M,R){C.optional(function(){k.assert(M,k.shared.isArrayLike+"("+R+")&&"+R+".length===2&&typeof "+R+'[0]==="number"&&typeof '+R+'[1]==="number"&&'+R+"[0]<="+R+"[1]","depth range must be a 2d array")});var Y=M.def("+",R,"[0]"),q=M.def("+",R,"[1]");return[Y,q]});case m0:return V(function(k){C.commandType(k,"object","blend.func",_.commandStr);var M="srcRGB"in k?k.srcRGB:k.src,R="srcAlpha"in k?k.srcAlpha:k.src,Y="dstRGB"in k?k.dstRGB:k.dst,q="dstAlpha"in k?k.dstAlpha:k.dst;return C.commandParameter(M,Ro,z+".srcRGB",_.commandStr),C.commandParameter(R,Ro,z+".srcAlpha",_.commandStr),C.commandParameter(Y,Ro,z+".dstRGB",_.commandStr),C.commandParameter(q,Ro,z+".dstAlpha",_.commandStr),C.command(Bb.indexOf(M+", "+Y)===-1,"unallowed blending combination (srcRGB, dstRGB) = ("+M+", "+Y+")",_.commandStr),[Ro[M],Ro[Y],Ro[R],Ro[q]]},function(k,M,R){var Y=k.constants.blendFuncs;C.optional(function(){k.assert(M,R+"&&typeof "+R+'==="object"',"invalid blend func, must be an object")});function q(he,se){var Ue=M.def('"',he,se,'" in ',R,"?",R,".",he,se,":",R,".",he);return C.optional(function(){k.assert(M,Ue+" in "+Y,"invalid "+B+"."+he+se+", must be one of "+Object.keys(Ro))}),Ue}var ie=q("src","RGB"),ue=q("dst","RGB");C.optional(function(){var he=k.constants.invalidBlendCombinations;k.assert(M,he+".indexOf("+ie+'+", "+'+ue+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")});var Te=M.def(Y,"[",ie,"]"),Je=M.def(Y,"[",q("src","Alpha"),"]"),He=M.def(Y,"[",ue,"]"),ze=M.def(Y,"[",q("dst","Alpha"),"]");return[Te,He,Je,ze]});case p0:return V(function(k){if(typeof k=="string")return C.commandParameter(k,ne,"invalid "+B,_.commandStr),[ne[k],ne[k]];if(typeof k=="object")return C.commandParameter(k.rgb,ne,B+".rgb",_.commandStr),C.commandParameter(k.alpha,ne,B+".alpha",_.commandStr),[ne[k.rgb],ne[k.alpha]];C.commandRaise("invalid blend.equation",_.commandStr)},function(k,M,R){var Y=k.constants.blendEquations,q=M.def(),ie=M.def(),ue=k.cond("typeof ",R,'==="string"');return C.optional(function(){function Te(Je,He,ze){k.assert(Je,ze+" in "+Y,"invalid "+He+", must be one of "+Object.keys(ne))}Te(ue.then,B,R),k.assert(ue.else,R+"&&typeof "+R+'==="object"',"invalid "+B),Te(ue.else,B+".rgb",R+".rgb"),Te(ue.else,B+".alpha",R+".alpha")}),ue.then(q,"=",ie,"=",Y,"[",R,"];"),ue.else(q,"=",Y,"[",R,".rgb];",ie,"=",Y,"[",R,".alpha];"),M(ue),[q,ie]});case yb:return V(function(k){return C.command(zt(k)&&k.length===4,"blend.color must be a 4d array",_.commandStr),Er(4,function(M){return+k[M]})},function(k,M,R){return C.optional(function(){k.assert(M,k.shared.isArrayLike+"("+R+")&&"+R+".length===4","blend.color must be a 4d array")}),Er(4,function(Y){return M.def("+",R,"[",Y,"]")})});case Pb:return V(function(k){return C.commandType(k,"number",z,_.commandStr),k|0},function(k,M,R){return C.optional(function(){k.assert(M,"typeof "+R+'==="number"',"invalid stencil.mask")}),M.def(R,"|0")});case b0:return V(function(k){C.commandType(k,"object",z,_.commandStr);var M=k.cmp||"keep",R=k.ref||0,Y="mask"in k?k.mask:-1;return C.commandParameter(M,ja,B+".cmp",_.commandStr),C.commandType(R,"number",B+".ref",_.commandStr),C.commandType(Y,"number",B+".mask",_.commandStr),[ja[M],R,Y]},function(k,M,R){var Y=k.constants.compareFuncs;C.optional(function(){function Te(){k.assert(M,Array.prototype.join.call(arguments,""),"invalid stencil.func")}Te(R+"&&typeof ",R,'==="object"'),Te('!("cmp" in ',R,")||(",R,".cmp in ",Y,")")});var q=M.def('"cmp" in ',R,"?",Y,"[",R,".cmp]",":",Os),ie=M.def(R,".ref|0"),ue=M.def('"mask" in ',R,"?",R,".mask|0:-1");return[q,ie,ue]});case E0:case Rc:return V(function(k){C.commandType(k,"object",z,_.commandStr);var M=k.fail||"keep",R=k.zfail||"keep",Y=k.zpass||"keep";return C.commandParameter(M,Ms,B+".fail",_.commandStr),C.commandParameter(R,Ms,B+".zfail",_.commandStr),C.commandParameter(Y,Ms,B+".zpass",_.commandStr),[B===Rc?Li:Gc,Ms[M],Ms[R],Ms[Y]]},function(k,M,R){var Y=k.constants.stencilOps;C.optional(function(){k.assert(M,R+"&&typeof "+R+'==="object"',"invalid "+B)});function q(ie){return C.optional(function(){k.assert(M,'!("'+ie+'" in '+R+")||("+R+"."+ie+" in "+Y+")","invalid "+B+"."+ie+", must be one of "+Object.keys(Ms))}),M.def('"',ie,'" in ',R,"?",Y,"[",R,".",ie,"]:",Os)}return[B===Rc?Li:Gc,q("fail"),q("zfail"),q("zpass")]});case w0:return V(function(k){C.commandType(k,"object",z,_.commandStr);var M=k.factor|0,R=k.units|0;return C.commandType(M,"number",z+".factor",_.commandStr),C.commandType(R,"number",z+".units",_.commandStr),[M,R]},function(k,M,R){C.optional(function(){k.assert(M,R+"&&typeof "+R+'==="object"',"invalid "+B)});var Y=M.def(R,".factor|0"),q=M.def(R,".units|0");return[Y,q]});case _b:return V(function(k){var M=0;return k==="front"?M=Gc:k==="back"&&(M=Li),C.command(!!M,z,_.commandStr),M},function(k,M,R){return C.optional(function(){k.assert(M,R+'==="front"||'+R+'==="back"',"invalid cull.face")}),M.def(R,'==="front"?',Gc,":",Li)});case y0:return V(function(k){return C.command(typeof k=="number"&&k>=K.lineWidthDims[0]&&k<=K.lineWidthDims[1],"invalid line width, must be a positive number between "+K.lineWidthDims[0]+" and "+K.lineWidthDims[1],_.commandStr),k},function(k,M,R){return C.optional(function(){k.assert(M,"typeof "+R+'==="number"&&'+R+">="+K.lineWidthDims[0]+"&&"+R+"<="+K.lineWidthDims[1],"invalid line width")}),R});case g0:return V(function(k){return C.commandParameter(k,R0,z,_.commandStr),R0[k]},function(k,M,R){return C.optional(function(){k.assert(M,R+'==="cw"||'+R+'==="ccw"',"invalid frontFace, must be one of cw,ccw")}),M.def(R+'==="cw"?'+Lb+":"+k0)});case v0:return V(function(k){return C.command(zt(k)&&k.length===4,"color.mask must be length 4 array",_.commandStr),k.map(function(M){return!!M})},function(k,M,R){return C.optional(function(){k.assert(M,k.shared.isArrayLike+"("+R+")&&"+R+".length===4","invalid color.mask")}),Er(4,function(Y){return"!!"+R+"["+Y+"]"})});case x0:return V(function(k){C.command(typeof k=="object"&&k,z,_.commandStr);var M="value"in k?k.value:1,R=!!k.invert;return C.command(typeof M=="number"&&M>=0&&M<=1,"sample.coverage.value must be a number between 0 and 1",_.commandStr),[M,R]},function(k,M,R){C.optional(function(){k.assert(M,R+"&&typeof "+R+'==="object"',"invalid sample.coverage")});var Y=M.def('"value" in ',R,"?+",R,".value:1"),q=M.def("!!",R,".invert");return[Y,q]})}}),X}function vt(P,_){var D=P.static,U=P.dynamic,X={};return Object.keys(D).forEach(function(B){var z=D[B],V;if(typeof z=="number"||typeof z=="boolean")V=nn(function(){return z});else if(typeof z=="function"){var k=z._reglType;k==="texture2d"||k==="textureCube"?V=nn(function(M){return M.link(z)}):k==="framebuffer"||k==="framebufferCube"?(C.command(z.color.length>0,'missing color attachment for framebuffer sent to uniform "'+B+'"',_.commandStr),V=nn(function(M){return M.link(z.color[0])})):C.commandRaise('invalid data for uniform "'+B+'"',_.commandStr)}else zt(z)?V=nn(function(M){var R=M.global.def("[",Er(z.length,function(Y){return C.command(typeof z[Y]=="number"||typeof z[Y]=="boolean","invalid uniform "+B,M.commandStr),z[Y]}),"]");return R}):C.commandRaise('invalid or missing data for uniform "'+B+'"',_.commandStr);V.value=z,X[B]=V}),Object.keys(U).forEach(function(B){var z=U[B];X[B]=lr(z,function(V,k){return V.invoke(k,z)})}),X}function cn(P,_){var D=P.static,U=P.dynamic,X={};return Object.keys(D).forEach(function(B){var z=D[B],V=T.id(B),k=new W;if(fd(z))k.state=Fa,k.buffer=le.getBuffer(le.create(z,Ga,!1,!0)),k.type=0;else{var M=le.getBuffer(z);if(M)k.state=Fa,k.buffer=M,k.type=0;else if(C.command(typeof z=="object"&&z,"invalid data for attribute "+B,_.commandStr),"constant"in z){var R=z.constant;k.buffer="null",k.state=c0,typeof R=="number"?k.x=R:(C.command(zt(R)&&R.length>0&&R.length<=4,"invalid constant for attribute "+B,_.commandStr),Ia.forEach(function(He,ze){ze<R.length&&(k[He]=R[ze])}))}else{fd(z.buffer)?M=le.getBuffer(le.create(z.buffer,Ga,!1,!0)):M=le.getBuffer(z.buffer),C.command(!!M,'missing buffer for attribute "'+B+'"',_.commandStr);var Y=z.offset|0;C.command(Y>=0,'invalid offset for attribute "'+B+'"',_.commandStr);var q=z.stride|0;C.command(q>=0&&q<256,'invalid stride for attribute "'+B+'", must be integer betweeen [0, 255]',_.commandStr);var ie=z.size|0;C.command(!("size"in z)||ie>0&&ie<=4,'invalid size for attribute "'+B+'", must be 1,2,3,4',_.commandStr);var ue=!!z.normalized,Te=0;"type"in z&&(C.commandParameter(z.type,Ai,"invalid type for attribute "+B,_.commandStr),Te=Ai[z.type]);var Je=z.divisor|0;C.optional(function(){"divisor"in z&&(C.command(Je===0||be,'cannot specify divisor for attribute "'+B+'", instancing not supported',_.commandStr),C.command(Je>=0,'invalid divisor for attribute "'+B+'"',_.commandStr));var He=_.commandStr,ze=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(z).forEach(function(he){C.command(ze.indexOf(he)>=0,'unknown parameter "'+he+'" for attribute pointer "'+B+'" (valid parameters are '+ze+")",He)})}),k.buffer=M,k.state=Fa,k.size=ie,k.normalized=ue,k.type=Te||M.dtype,k.offset=Y,k.stride=q,k.divisor=Je}}X[B]=nn(function(He,ze){var he=He.attribCache;if(V in he)return he[V];var se={isStream:!1};return Object.keys(k).forEach(function(Ue){se[Ue]=k[Ue]}),k.buffer&&(se.buffer=He.link(k.buffer),se.type=se.type||se.buffer+".dtype"),he[V]=se,se})}),Object.keys(U).forEach(function(B){var z=U[B];function V(k,M){var R=k.invoke(M,z),Y=k.shared,q=k.constants,ie=Y.isBufferArgs,ue=Y.buffer;C.optional(function(){k.assert(M,R+"&&(typeof "+R+'==="object"||typeof '+R+'==="function")&&('+ie+"("+R+")||"+ue+".getBuffer("+R+")||"+ue+".getBuffer("+R+".buffer)||"+ie+"("+R+'.buffer)||("constant" in '+R+"&&(typeof "+R+'.constant==="number"||'+Y.isArrayLike+"("+R+".constant))))",'invalid dynamic attribute "'+B+'"')});var Te={isStream:M.def(!1)},Je=new W;Je.state=Fa,Object.keys(Je).forEach(function(se){Te[se]=M.def(""+Je[se])});var He=Te.buffer,ze=Te.type;M("if(",ie,"(",R,")){",Te.isStream,"=true;",He,"=",ue,".createStream(",Ga,",",R,");",ze,"=",He,".dtype;","}else{",He,"=",ue,".getBuffer(",R,");","if(",He,"){",ze,"=",He,".dtype;",'}else if("constant" in ',R,"){",Te.state,"=",c0,";","if(typeof "+R+'.constant === "number"){',Te[Ia[0]],"=",R,".constant;",Ia.slice(1).map(function(se){return Te[se]}).join("="),"=0;","}else{",Ia.map(function(se,Ue){return Te[se]+"="+R+".constant.length>"+Ue+"?"+R+".constant["+Ue+"]:0;"}).join(""),"}}else{","if(",ie,"(",R,".buffer)){",He,"=",ue,".createStream(",Ga,",",R,".buffer);","}else{",He,"=",ue,".getBuffer(",R,".buffer);","}",ze,'="type" in ',R,"?",q.glTypes,"[",R,".type]:",He,".dtype;",Te.normalized,"=!!",R,".normalized;");function he(se){M(Te[se],"=",R,".",se,"|0;")}return he("size"),he("offset"),he("stride"),he("divisor"),M("}}"),M.exit("if(",Te.isStream,"){",ue,".destroyStream(",He,");","}"),Te}X[B]=lr(z,V)}),X}function Mt(P){var _=P.static,D=P.dynamic,U={};return Object.keys(_).forEach(function(X){var B=_[X];U[X]=nn(function(z,V){return typeof B=="number"||typeof B=="boolean"?""+B:z.link(B)})}),Object.keys(D).forEach(function(X){var B=D[X];U[X]=lr(B,function(z,V){return z.invoke(V,B)})}),U}function rn(P,_,D,U,X){var B=P.static,z=P.dynamic;C.optional(function(){var he=[Ri,Oc,Mc,Ni,Oi,ed,Mi,td,Nc,Lc].concat(We);function se(Ue){Object.keys(Ue).forEach(function(je){C.command(he.indexOf(je)>=0,'unknown parameter "'+je+'"',X.commandStr)})}se(B),se(z)});var V=it(P,_),k=Ie(P),M=Ze(P,k,X),R=Bt(P,X),Y=jt(P,X),q=pt(P,X,V);function ie(he){var se=M[he];se&&(Y[he]=se)}ie(ts),ie(Ge(Jf));var ue=Object.keys(Y).length>0,Te={framebuffer:k,draw:R,shader:q,state:Y,dirty:ue,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(Te.profile=Me(P),Te.uniforms=vt(D,X),Te.drawVAO=Te.scopeVAO=R.vao,!Te.drawVAO&&q.program&&!V&&L.angle_instanced_arrays&&R.static.elements){var Je=!0,He=q.program.attributes.map(function(he){var se=_.static[he];return Je=Je&&!!se,se});if(Je&&He.length>0){var ze=Se.getVAO(Se.createVAO({attributes:He,elements:R.static.elements}));Te.drawVAO=new yn(null,null,null,function(he,se){return he.link(ze)}),Te.useVAO=!0}}return V?Te.useVAO=!0:Te.attributes=cn(_,X),Te.context=Mt(U),Te}function un(P,_,D){var U=P.shared,X=U.context,B=P.scope();Object.keys(D).forEach(function(z){_.save(X,"."+z);var V=D[z],k=V.append(P,_);Array.isArray(k)?B(X,".",z,"=[",k.join(),"];"):B(X,".",z,"=",k,";")}),_(B)}function fn(P,_,D,U){var X=P.shared,B=X.gl,z=X.framebuffer,V;Fe&&(V=_.def(X.extensions,".webgl_draw_buffers"));var k=P.constants,M=k.drawBuffer,R=k.backBuffer,Y;D?Y=D.append(P,_):Y=_.def(z,".next"),U||_("if(",Y,"!==",z,".cur){"),_("if(",Y,"){",B,".bindFramebuffer(",zb,",",Y,".framebuffer);"),Fe&&_(V,".drawBuffersWEBGL(",M,"[",Y,".colorAttachments.length]);"),_("}else{",B,".bindFramebuffer(",zb,",null);"),Fe&&_(V,".drawBuffersWEBGL(",R,");"),_("}",z,".cur=",Y,";"),U||_("}")}function En(P,_,D){var U=P.shared,X=U.gl,B=P.current,z=P.next,V=U.current,k=U.next,M=P.cond(V,".dirty");We.forEach(function(R){var Y=Ge(R);if(!(Y in D.state)){var q,ie;if(Y in z){q=z[Y],ie=B[Y];var ue=Er(De[Y].length,function(Je){return M.def(q,"[",Je,"]")});M(P.cond(ue.map(function(Je,He){return Je+"!=="+ie+"["+He+"]"}).join("||")).then(X,".",ae[Y],"(",ue,");",ue.map(function(Je,He){return ie+"["+He+"]="+Je}).join(";"),";"))}else{q=M.def(k,".",Y);var Te=P.cond(q,"!==",V,".",Y);M(Te),Y in ce?Te(P.cond(q).then(X,".enable(",ce[Y],");").else(X,".disable(",ce[Y],");"),V,".",Y,"=",q,";"):Te(X,".",ae[Y],"(",q,");",V,".",Y,"=",q,";")}}}),Object.keys(D.state).length===0&&M(V,".dirty=false;"),_(M)}function Tn(P,_,D,U){var X=P.shared,B=P.current,z=X.current,V=X.gl;jb(Object.keys(D)).forEach(function(k){var M=D[k];if(!(U&&!U(M))){var R=M.append(P,_);if(ce[k]){var Y=ce[k];Ls(M)?R?_(V,".enable(",Y,");"):_(V,".disable(",Y,");"):_(P.cond(R).then(V,".enable(",Y,");").else(V,".disable(",Y,");")),_(z,".",k,"=",R,";")}else if(zt(R)){var q=B[k];_(V,".",ae[k],"(",R,");",R.map(function(ie,ue){return q+"["+ue+"]="+ie}).join(";"),";")}else _(V,".",ae[k],"(",R,");",z,".",k,"=",R,";")}})}function qt(P,_){be&&(P.instancing=_.def(P.shared.extensions,".angle_instanced_arrays"))}function ct(P,_,D,U,X){var B=P.shared,z=P.stats,V=B.current,k=B.timer,M=D.profile;function R(){return typeof performance>"u"?"Date.now()":"performance.now()"}var Y,q;function ie(he){Y=_.def(),he(Y,"=",R(),";"),typeof X=="string"?he(z,".count+=",X,";"):he(z,".count++;"),ye&&(U?(q=_.def(),he(q,"=",k,".getNumPendingQueries();")):he(k,".beginQuery(",z,");"))}function ue(he){he(z,".cpuTime+=",R(),"-",Y,";"),ye&&(U?he(k,".pushScopeStats(",q,",",k,".getNumPendingQueries(),",z,");"):he(k,".endQuery();"))}function Te(he){var se=_.def(V,".profile");_(V,".profile=",he,";"),_.exit(V,".profile=",se,";")}var Je;if(M){if(Ls(M)){M.enable?(ie(_),ue(_.exit),Te("true")):Te("false");return}Je=M.append(P,_),Te(Je)}else Je=_.def(V,".profile");var He=P.block();ie(He),_("if(",Je,"){",He,"}");var ze=P.block();ue(ze),_.exit("if(",Je,"){",ze,"}")}function Cn(P,_,D,U,X){var B=P.shared;function z(k){switch(k){case nd:case sd:case ld:return 2;case rd:case id:case cd:return 3;case od:case ad:case ud:return 4;default:return 1}}function V(k,M,R){var Y=B.gl,q=_.def(k,".location"),ie=_.def(B.attributes,"[",q,"]"),ue=R.state,Te=R.buffer,Je=[R.x,R.y,R.z,R.w],He=["buffer","normalized","offset","stride"];function ze(){_("if(!",ie,".buffer){",Y,".enableVertexAttribArray(",q,");}");var se=R.type,Ue;if(R.size?Ue=_.def(R.size,"||",M):Ue=M,_("if(",ie,".type!==",se,"||",ie,".size!==",Ue,"||",He.map(function(Qe){return ie+"."+Qe+"!=="+R[Qe]}).join("||"),"){",Y,".bindBuffer(",Ga,",",Te,".buffer);",Y,".vertexAttribPointer(",[q,Ue,se,R.normalized,R.stride,R.offset],");",ie,".type=",se,";",ie,".size=",Ue,";",He.map(function(Qe){return ie+"."+Qe+"="+R[Qe]+";"}).join(""),"}"),be){var je=R.divisor;_("if(",ie,".divisor!==",je,"){",P.instancing,".vertexAttribDivisorANGLE(",[q,je],");",ie,".divisor=",je,";}")}}function he(){_("if(",ie,".buffer){",Y,".disableVertexAttribArray(",q,");",ie,".buffer=null;","}if(",Ia.map(function(se,Ue){return ie+"."+se+"!=="+Je[Ue]}).join("||"),"){",Y,".vertexAttrib4f(",q,",",Je,");",Ia.map(function(se,Ue){return ie+"."+se+"="+Je[Ue]+";"}).join(""),"}")}ue===Fa?ze():ue===c0?he():(_("if(",ue,"===",Fa,"){"),ze(),_("}else{"),he(),_("}"))}U.forEach(function(k){var M=k.name,R=D.attributes[M],Y;if(R){if(!X(R))return;Y=R.append(P,_)}else{if(!X(Vb))return;var q=P.scopeAttrib(M);C.optional(function(){P.assert(_,q+".state","missing attribute "+M)}),Y={},Object.keys(new W).forEach(function(ie){Y[ie]=_.def(q,".",ie)})}V(P.link(k),z(k.info.type),Y)})}function St(P,_,D,U,X,B){for(var z=P.shared,V=z.gl,k={},M,R=0;R<U.length;++R){var Y=U[R],q=Y.name,ie=Y.info.type,ue=Y.info.size,Te=D.uniforms[q];if(ue>1){if(!Te)continue;var Je=q.replace("[0]","");if(k[Je])continue;k[Je]=1}var He=P.link(Y),ze=He+".location",he;if(Te){if(!X(Te))continue;if(Ls(Te)){var se=Te.value;if(C.command(se!==null&&typeof se<"u",'missing uniform "'+q+'"',P.commandStr),ie===zc||ie===Bc){C.command(typeof se=="function"&&(ie===zc&&(se._reglType==="texture2d"||se._reglType==="framebuffer")||ie===Bc&&(se._reglType==="textureCube"||se._reglType==="framebufferCube")),"invalid texture for uniform "+q,P.commandStr);var Ue=P.link(se._texture||se.color[0]._texture);_(V,".uniform1i(",ze,",",Ue+".bind());"),_.exit(Ue,".unbind();")}else if(ie===Dc||ie===Ic||ie===Fc){C.optional(function(){C.command(zt(se),"invalid matrix for uniform "+q,P.commandStr),C.command(ie===Dc&&se.length===4||ie===Ic&&se.length===9||ie===Fc&&se.length===16,"invalid length for matrix uniform "+q,P.commandStr)});var je=P.global.def("new Float32Array(["+Array.prototype.slice.call(se)+"])"),Qe=2;ie===Ic?Qe=3:ie===Fc&&(Qe=4),_(V,".uniformMatrix",Qe,"fv(",ze,",false,",je,");")}else{switch(ie){case A0:ue===1?C.commandType(se,"number","uniform "+q,P.commandStr):C.command(zt(se)&&se.length===ue,"uniform "+q,P.commandStr),M="1f";break;case nd:C.command(zt(se)&&se.length&&se.length%2===0&&se.length<=ue*2,"uniform "+q,P.commandStr),M="2f";break;case rd:C.command(zt(se)&&se.length&&se.length%3===0&&se.length<=ue*3,"uniform "+q,P.commandStr),M="3f";break;case od:C.command(zt(se)&&se.length&&se.length%4===0&&se.length<=ue*4,"uniform "+q,P.commandStr),M="4f";break;case C0:ue===1?C.commandType(se,"boolean","uniform "+q,P.commandStr):C.command(zt(se)&&se.length===ue,"uniform "+q,P.commandStr),M="1i";break;case T0:ue===1?C.commandType(se,"number","uniform "+q,P.commandStr):C.command(zt(se)&&se.length===ue,"uniform "+q,P.commandStr),M="1i";break;case ld:C.command(zt(se)&&se.length&&se.length%2===0&&se.length<=ue*2,"uniform "+q,P.commandStr),M="2i";break;case sd:C.command(zt(se)&&se.length&&se.length%2===0&&se.length<=ue*2,"uniform "+q,P.commandStr),M="2i";break;case cd:C.command(zt(se)&&se.length&&se.length%3===0&&se.length<=ue*3,"uniform "+q,P.commandStr),M="3i";break;case id:C.command(zt(se)&&se.length&&se.length%3===0&&se.length<=ue*3,"uniform "+q,P.commandStr),M="3i";break;case ud:C.command(zt(se)&&se.length&&se.length%4===0&&se.length<=ue*4,"uniform "+q,P.commandStr),M="4i";break;case ad:C.command(zt(se)&&se.length&&se.length%4===0&&se.length<=ue*4,"uniform "+q,P.commandStr),M="4i";break}ue>1?(M+="v",se=P.global.def("["+Array.prototype.slice.call(se)+"]")):se=zt(se)?Array.prototype.slice.call(se):se,_(V,".uniform",M,"(",ze,",",se,");")}continue}else he=Te.append(P,_)}else{if(!X(Vb))continue;he=_.def(z.uniforms,"[",T.id(q),"]")}ie===zc?(C(!Array.isArray(he),"must specify a scalar prop for textures"),_("if(",he,"&&",he,'._reglType==="framebuffer"){',he,"=",he,".color[0];","}")):ie===Bc&&(C(!Array.isArray(he),"must specify a scalar prop for cube maps"),_("if(",he,"&&",he,'._reglType==="framebufferCube"){',he,"=",he,".color[0];","}")),C.optional(function(){function _r(cr,dd){P.assert(_,cr,'bad data or missing for uniform "'+q+'".  '+dd)}function zi(cr,dd){dd===1&&C(!Array.isArray(he),"must not specify an array type for uniform"),_r("Array.isArray("+he+") && typeof "+he+'[0]===" '+cr+'" || typeof '+he+'==="'+cr+'"',"invalid type, expected "+cr)}function Hr(cr,dd,hd){Array.isArray(he)?C(he.length&&he.length%cr===0&&he.length<=cr*hd,"must have length of "+(hd===1?"":"n * ")+cr):_r(z.isArrayLike+"("+he+")&&"+he+".length && "+he+".length % "+cr+" === 0 && "+he+".length<="+cr*hd,"invalid vector, should have length of "+(hd===1?"":"n * ")+cr,P.commandStr)}function Zb(cr){C(!Array.isArray(he),"must not specify a value type"),_r("typeof "+he+'==="function"&&'+he+'._reglType==="texture'+(cr===Mb?"2d":"Cube")+'"',"invalid texture type",P.commandStr)}switch(ie){case T0:zi("number",ue);break;case sd:Hr(2,"number",ue);break;case id:Hr(3,"number",ue);break;case ad:Hr(4,"number",ue);break;case A0:zi("number",ue);break;case nd:Hr(2,"number",ue);break;case rd:Hr(3,"number",ue);break;case od:Hr(4,"number",ue);break;case C0:zi("boolean",ue);break;case ld:Hr(2,"boolean",ue);break;case cd:Hr(3,"boolean",ue);break;case ud:Hr(4,"boolean",ue);break;case Dc:Hr(4,"number",ue);break;case Ic:Hr(9,"number",ue);break;case Fc:Hr(16,"number",ue);break;case zc:Zb(Mb);break;case Bc:Zb(L8);break}});var $t=1;switch(ie){case zc:case Bc:var Pn=_.def(he,"._texture");_(V,".uniform1i(",ze,",",Pn,".bind());"),_.exit(Pn,".unbind();");continue;case T0:case C0:M="1i";break;case sd:case ld:M="2i",$t=2;break;case id:case cd:M="3i",$t=3;break;case ad:case ud:M="4i",$t=4;break;case A0:M="1f";break;case nd:M="2f",$t=2;break;case rd:M="3f",$t=3;break;case od:M="4f",$t=4;break;case Dc:M="Matrix2fv";break;case Ic:M="Matrix3fv";break;case Fc:M="Matrix4fv";break}if(M.indexOf("Matrix")===-1&&ue>1&&(M+="v",$t=1),M.charAt(0)==="M"){_(V,".uniform",M,"(",ze,",");var Ii=Math.pow(ie-Dc+2,2),ns=P.global.def("new Float32Array(",Ii,")");Array.isArray(he)?_("false,(",Er(Ii,function(_r){return ns+"["+_r+"]="+he[_r]}),",",ns,")"):_("false,(Array.isArray(",he,")||",he," instanceof Float32Array)?",he,":(",Er(Ii,function(_r){return ns+"["+_r+"]="+he+"["+_r+"]"}),",",ns,")"),_(");")}else if($t>1){for(var Oo=[],Ds=[],Fi=0;Fi<$t;++Fi)Array.isArray(he)?Ds.push(he[Fi]):Ds.push(_.def(he+"["+Fi+"]")),B&&Oo.push(_.def());B&&_("if(!",P.batchId,"||",Oo.map(function(_r,zi){return _r+"!=="+Ds[zi]}).join("||"),"){",Oo.map(function(_r,zi){return _r+"="+Ds[zi]+";"}).join("")),_(V,".uniform",M,"(",ze,",",Ds.join(","),");"),B&&_("}")}else{if(C(!Array.isArray(he),"uniform value must not be an array"),B){var Yb=_.def();_("if(!",P.batchId,"||",Yb,"!==",he,"){",Yb,"=",he,";")}_(V,".uniform",M,"(",ze,",",he,");"),B&&_("}")}}}function qe(P,_,D,U){var X=P.shared,B=X.gl,z=X.draw,V=U.draw;function k(){var Ue=V.elements,je,Qe=_;return Ue?((Ue.contextDep&&U.contextDynamic||Ue.propDep)&&(Qe=D),je=Ue.append(P,Qe),V.elementsActive&&Qe("if("+je+")"+B+".bindBuffer("+$0+","+je+".buffer.buffer);")):(je=Qe.def(),Qe(je,"=",z,".",Ni,";","if(",je,"){",B,".bindBuffer(",$0,",",je,".buffer.buffer);}","else if(",X.vao,".currentVAO){",je,"=",P.shared.elements+".getElements("+X.vao,".currentVAO.elements);",me?"":"if("+je+")"+B+".bindBuffer("+$0+","+je+".buffer.buffer);","}")),je}function M(){var Ue=V.count,je,Qe=_;return Ue?((Ue.contextDep&&U.contextDynamic||Ue.propDep)&&(Qe=D),je=Ue.append(P,Qe),C.optional(function(){Ue.MISSING&&P.assert(_,"false","missing vertex count"),Ue.DYNAMIC&&P.assert(Qe,je+">=0","missing vertex count")})):(je=Qe.def(z,".",Mi),C.optional(function(){P.assert(Qe,je+">=0","missing vertex count")})),je}var R=k();function Y(Ue){var je=V[Ue];return je?je.contextDep&&U.contextDynamic||je.propDep?je.append(P,D):je.append(P,_):_.def(z,".",Ue)}var q=Y(Oi),ie=Y(ed),ue=M();if(typeof ue=="number"){if(ue===0)return}else D("if(",ue,"){"),D.exit("}");var Te,Je;be&&(Te=Y(td),Je=P.instancing);var He=R+".type",ze=V.elements&&Ls(V.elements)&&!V.vaoActive;function he(){function Ue(){D(Je,".drawElementsInstancedANGLE(",[q,ue,He,ie+"<<(("+He+"-"+hb+")>>1)",Te],");")}function je(){D(Je,".drawArraysInstancedANGLE(",[q,ie,ue,Te],");")}R&&R!=="null"?ze?Ue():(D("if(",R,"){"),Ue(),D("}else{"),je(),D("}")):je()}function se(){function Ue(){D(B+".drawElements("+[q,ue,He,ie+"<<(("+He+"-"+hb+")>>1)"]+");")}function je(){D(B+".drawArrays("+[q,ie,ue]+");")}R&&R!=="null"?ze?Ue():(D("if(",R,"){"),Ue(),D("}else{"),je(),D("}")):je()}be&&(typeof Te!="number"||Te>=0)?typeof Te=="string"?(D("if(",Te,">0){"),he(),D("}else if(",Te,"<0){"),se(),D("}")):he():se()}function mt(P,_,D,U,X){var B=nt(),z=B.proc("body",X);return C.optional(function(){B.commandStr=_.commandStr,B.command=B.link(_.commandStr)}),be&&(B.instancing=z.def(B.shared.extensions,".angle_instanced_arrays")),P(B,z,D,U),B.compile().body}function wt(P,_,D,U){qt(P,_),D.useVAO?D.drawVAO?_(P.shared.vao,".setVAO(",D.drawVAO.append(P,_),");"):_(P.shared.vao,".setVAO(",P.shared.vao,".targetVAO);"):(_(P.shared.vao,".setVAO(null);"),Cn(P,_,D,U.attributes,function(){return!0})),St(P,_,D,U.uniforms,function(){return!0},!1),qe(P,_,_,D)}function Yt(P,_){var D=P.proc("draw",1);qt(P,D),un(P,D,_.context),fn(P,D,_.framebuffer),En(P,D,_),Tn(P,D,_.state),ct(P,D,_,!1,!0);var U=_.shader.progVar.append(P,D);if(D(P.shared.gl,".useProgram(",U,".program);"),_.shader.program)wt(P,D,_,_.shader.program);else{D(P.shared.vao,".setVAO(null);");var X=P.global.def("{}"),B=D.def(U,".id"),z=D.def(X,"[",B,"]");D(P.cond(z).then(z,".call(this,a0);").else(z,"=",X,"[",B,"]=",P.link(function(V){return mt(wt,P,_,V,1)}),"(",U,");",z,".call(this,a0);"))}Object.keys(_.state).length>0&&D(P.shared.current,".dirty=true;"),P.shared.vao&&D(P.shared.vao,".setVAO(null);")}function No(P,_,D,U){P.batchId="a1",qt(P,_);function X(){return!0}Cn(P,_,D,U.attributes,X),St(P,_,D,U.uniforms,X,!1),qe(P,_,_,D)}function Di(P,_,D,U){qt(P,_);var X=D.contextDep,B=_.def(),z="a0",V="a1",k=_.def();P.shared.props=k,P.batchId=B;var M=P.scope(),R=P.scope();_(M.entry,"for(",B,"=0;",B,"<",V,";++",B,"){",k,"=",z,"[",B,"];",R,"}",M.exit);function Y(He){return He.contextDep&&X||He.propDep}function q(He){return!Y(He)}if(D.needsContext&&un(P,R,D.context),D.needsFramebuffer&&fn(P,R,D.framebuffer),Tn(P,R,D.state,Y),D.profile&&Y(D.profile)&&ct(P,R,D,!1,!0),U)D.useVAO?D.drawVAO?Y(D.drawVAO)?R(P.shared.vao,".setVAO(",D.drawVAO.append(P,R),");"):M(P.shared.vao,".setVAO(",D.drawVAO.append(P,M),");"):M(P.shared.vao,".setVAO(",P.shared.vao,".targetVAO);"):(M(P.shared.vao,".setVAO(null);"),Cn(P,M,D,U.attributes,q),Cn(P,R,D,U.attributes,Y)),St(P,M,D,U.uniforms,q,!1),St(P,R,D,U.uniforms,Y,!0),qe(P,M,R,D);else{var ie=P.global.def("{}"),ue=D.shader.progVar.append(P,R),Te=R.def(ue,".id"),Je=R.def(ie,"[",Te,"]");R(P.shared.gl,".useProgram(",ue,".program);","if(!",Je,"){",Je,"=",ie,"[",Te,"]=",P.link(function(He){return mt(No,P,D,He,2)}),"(",ue,");}",Je,".call(this,a0[",B,"],",B,");")}}function N(P,_){var D=P.proc("batch",2);P.batchId="0",qt(P,D);var U=!1,X=!0;Object.keys(_.context).forEach(function(ie){U=U||_.context[ie].propDep}),U||(un(P,D,_.context),X=!1);var B=_.framebuffer,z=!1;B?(B.propDep?U=z=!0:B.contextDep&&U&&(z=!0),z||fn(P,D,B)):fn(P,D,null),_.state.viewport&&_.state.viewport.propDep&&(U=!0);function V(ie){return ie.contextDep&&U||ie.propDep}En(P,D,_),Tn(P,D,_.state,function(ie){return!V(ie)}),(!_.profile||!V(_.profile))&&ct(P,D,_,!1,"a1"),_.contextDep=U,_.needsContext=X,_.needsFramebuffer=z;var k=_.shader.progVar;if(k.contextDep&&U||k.propDep)Di(P,D,_,null);else{var M=k.append(P,D);if(D(P.shared.gl,".useProgram(",M,".program);"),_.shader.program)Di(P,D,_,_.shader.program);else{D(P.shared.vao,".setVAO(null);");var R=P.global.def("{}"),Y=D.def(M,".id"),q=D.def(R,"[",Y,"]");D(P.cond(q).then(q,".call(this,a0,a1);").else(q,"=",R,"[",Y,"]=",P.link(function(ie){return mt(Di,P,_,ie,2)}),"(",M,");",q,".call(this,a0,a1);"))}}Object.keys(_.state).length>0&&D(P.shared.current,".dirty=true;"),P.shared.vao&&D(P.shared.vao,".setVAO(null);")}function J(P,_){var D=P.proc("scope",3);P.batchId="a2";var U=P.shared,X=U.current;un(P,D,_.context),_.framebuffer&&_.framebuffer.append(P,D),jb(Object.keys(_.state)).forEach(function(z){var V=_.state[z],k=V.append(P,D);zt(k)?k.forEach(function(M,R){D.set(P.next[z],"["+R+"]",M)}):D.set(U.next,"."+z,k)}),ct(P,D,_,!0,!0),[Ni,ed,Mi,td,Oi].forEach(function(z){var V=_.draw[z];V&&D.set(U.draw,"."+z,""+V.append(P,D))}),Object.keys(_.uniforms).forEach(function(z){var V=_.uniforms[z].append(P,D);Array.isArray(V)&&(V="["+V.join()+"]"),D.set(U.uniforms,"["+T.id(z)+"]",V)}),Object.keys(_.attributes).forEach(function(z){var V=_.attributes[z].append(P,D),k=P.scopeAttrib(z);Object.keys(new W).forEach(function(M){D.set(k,"."+M,V[M])})}),_.scopeVAO&&D.set(U.vao,".targetVAO",_.scopeVAO.append(P,D));function B(z){var V=_.shader[z];V&&D.set(U.shader,"."+z,V.append(P,D))}B(Oc),B(Mc),Object.keys(_.state).length>0&&(D(X,".dirty=true;"),D.exit(X,".dirty=true;")),D("a1(",P.shared.context,",a0,",P.batchId,");")}function Z(P){if(!(typeof P!="object"||zt(P))){for(var _=Object.keys(P),D=0;D<_.length;++D)if(br.isDynamic(P[_[D]]))return!0;return!1}}function Be(P,_,D){var U=_.static[D];if(!U||!Z(U))return;var X=P.global,B=Object.keys(U),z=!1,V=!1,k=!1,M=P.global.def("{}");B.forEach(function(Y){var q=U[Y];if(br.isDynamic(q)){typeof q=="function"&&(q=U[Y]=br.unbox(q));var ie=lr(q,null);z=z||ie.thisDep,k=k||ie.propDep,V=V||ie.contextDep}else{switch(X(M,".",Y,"="),typeof q){case"number":X(q);break;case"string":X('"',q,'"');break;case"object":Array.isArray(q)&&X("[",q.join(),"]");break;default:X(P.link(q));break}X(";")}});function R(Y,q){B.forEach(function(ie){var ue=U[ie];if(br.isDynamic(ue)){var Te=Y.invoke(q,ue);q(M,".",ie,"=",Te,";")}})}_.dynamic[D]=new br.DynamicVariable(Kf,{thisDep:z,contextDep:V,propDep:k,ref:M,append:R}),delete _.static[D]}function ft(P,_,D,U,X){var B=nt();B.stats=B.link(X),Object.keys(_.static).forEach(function(V){Be(B,_,V)}),N8.forEach(function(V){Be(B,P,V)});var z=rn(P,_,D,U,B);return Yt(B,z),J(B,z),N(B,z),r(B.compile(),{destroy:function(){z.shader.program.destroy()}})}return{next:Oe,current:De,procs:function(){var P=nt(),_=P.proc("poll"),D=P.proc("refresh"),U=P.block();_(U),D(U);var X=P.shared,B=X.gl,z=X.next,V=X.current;U(V,".dirty=false;"),fn(P,_),fn(P,D,null,!0);var k;be&&(k=P.link(be)),L.oes_vertex_array_object&&D(P.link(L.oes_vertex_array_object),".bindVertexArrayOES(null);");for(var M=0;M<K.maxAttributes;++M){var R=D.def(X.attributes,"[",M,"]"),Y=P.cond(R,".buffer");Y.then(B,".enableVertexAttribArray(",M,");",B,".bindBuffer(",Ga,",",R,".buffer.buffer);",B,".vertexAttribPointer(",M,",",R,".size,",R,".type,",R,".normalized,",R,".stride,",R,".offset);").else(B,".disableVertexAttribArray(",M,");",B,".vertexAttrib4f(",M,",",R,".x,",R,".y,",R,".z,",R,".w);",R,".buffer=null;"),D(Y),be&&D(k,".vertexAttribDivisorANGLE(",M,",",R,".divisor);")}return D(P.shared.vao,".currentVAO=null;",P.shared.vao,".setVAO(",P.shared.vao,".targetVAO);"),Object.keys(ce).forEach(function(q){var ie=ce[q],ue=U.def(z,".",q),Te=P.block();Te("if(",ue,"){",B,".enable(",ie,")}else{",B,".disable(",ie,")}",V,".",q,"=",ue,";"),D(Te),_("if(",ue,"!==",V,".",q,"){",Te,"}")}),Object.keys(ae).forEach(function(q){var ie=ae[q],ue=De[q],Te,Je,He=P.block();if(He(B,".",ie,"("),zt(ue)){var ze=ue.length;Te=P.global.def(z,".",q),Je=P.global.def(V,".",q),He(Er(ze,function(he){return Te+"["+he+"]"}),");",Er(ze,function(he){return Je+"["+he+"]="+Te+"["+he+"];"}).join("")),_("if(",Er(ze,function(he){return Te+"["+he+"]!=="+Je+"["+he+"]"}).join("||"),"){",He,"}")}else Te=U.def(z,".",q),Je=U.def(V,".",q),He(Te,");",V,".",q,"=",Te,";"),_("if(",Te,"!==",Je,"){",He,"}");D(He)}),P.compile()}(),compile:ft}}function Q8(){return{vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0}}var K8=34918,J8=34919,Ub=35007,e6=function(x,T){if(!T.ext_disjoint_timer_query)return null;var L=[];function K(){return L.pop()||T.ext_disjoint_timer_query.createQueryEXT()}function le(be){L.push(be)}var Q=[];function re(be){var Fe=K();T.ext_disjoint_timer_query.beginQueryEXT(Ub,Fe),Q.push(Fe),ye(Q.length-1,Q.length,be)}function ge(){T.ext_disjoint_timer_query.endQueryEXT(Ub)}function ve(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var Se=[];function Ae(){return Se.pop()||new ve}function _e(be){Se.push(be)}var Ce=[];function ye(be,Fe,me){var De=Ae();De.startQueryIndex=be,De.endQueryIndex=Fe,De.sum=0,De.stats=me,Ce.push(De)}var Ee=[],W=[];function ne(){var be,Fe,me=Q.length;if(me!==0){W.length=Math.max(W.length,me+1),Ee.length=Math.max(Ee.length,me+1),Ee[0]=0,W[0]=0;var De=0;for(be=0,Fe=0;Fe<Q.length;++Fe){var Oe=Q[Fe];T.ext_disjoint_timer_query.getQueryObjectEXT(Oe,J8)?(De+=T.ext_disjoint_timer_query.getQueryObjectEXT(Oe,K8),le(Oe)):Q[be++]=Oe,Ee[Fe+1]=De,W[Fe+1]=be}for(Q.length=be,be=0,Fe=0;Fe<Ce.length;++Fe){var We=Ce[Fe],ce=We.startQueryIndex,ae=We.endQueryIndex;We.sum+=Ee[ae]-Ee[ce];var Ge=W[ce],Pe=W[ae];Pe===Ge?(We.stats.gpuTime+=We.sum/1e6,_e(We)):(We.startQueryIndex=Ge,We.endQueryIndex=Pe,Ce[be++]=We)}Ce.length=be}}return{beginQuery:re,endQuery:ge,pushScopeStats:ye,update:ne,getNumPendingQueries:function(){return Q.length},clear:function(){L.push.apply(L,Q);for(var be=0;be<L.length;be++)T.ext_disjoint_timer_query.deleteQueryEXT(L[be]);Q.length=0,L.length=0},restore:function(){Q.length=0,L.length=0}}},t6=16384,n6=256,r6=1024,o6=34962,Hb="webglcontextlost",Wb="webglcontextrestored",Xb=1,s6=2,i6=3;function qb(x,T){for(var L=0;L<x.length;++L)if(x[L]===T)return L;return-1}function a6(x){var T=sR(x);if(!T)return null;var L=T.gl,K=L.getContextAttributes(),le=L.isContextLost(),Q=iR(L,T);if(!Q)return null;var re=eR(),ge=Q8(),ve=Q.extensions,Se=e6(L,ve),Ae=nx(),_e=L.drawingBufferWidth,Ce=L.drawingBufferHeight,ye={tick:0,time:0,viewportWidth:_e,viewportHeight:Ce,framebufferWidth:_e,framebufferHeight:Ce,drawingBufferWidth:_e,drawingBufferHeight:Ce,pixelRatio:T.pixelRatio},Ee={},W={elements:null,primitive:4,count:-1,offset:0,instances:-1},ne=XR(L,ve),be=cN(L,ge,T,De),Fe=bN(L,ve,be,ge),me=b8(L,ve,ne,ge,be,Fe,W);function De(qe){return me.destroyBuffer(qe)}var Oe=$8(L,re,ge,T),We=KN(L,ve,ne,function(){Ge.procs.poll()},ye,ge,T),ce=JN(L,ve,ne,ge,T),ae=w8(L,ve,ne,We,ce,ge),Ge=Z8(L,re,ve,ne,be,Fe,We,ae,Ee,me,Oe,W,ye,Se,T),Pe=C8(L,ae,Ge.procs.poll,ye,K,ve,ne),xe=Ge.next,ke=L.canvas,Re=[],st=[],nt=[],Me=[T.onDestroy],Ie=null;function Ze(){if(Re.length===0){Se&&Se.update(),Ie=null;return}Ie=L1.next(Ze),Tn();for(var qe=Re.length-1;qe>=0;--qe){var mt=Re[qe];mt&&mt(ye,null,0)}L.flush(),Se&&Se.update()}function it(){!Ie&&Re.length>0&&(Ie=L1.next(Ze))}function pt(){Ie&&(L1.cancel(Ze),Ie=null)}function Bt(qe){qe.preventDefault(),le=!0,pt(),st.forEach(function(mt){mt()})}function jt(qe){L.getError(),le=!1,Q.restore(),Oe.restore(),be.restore(),We.restore(),ce.restore(),ae.restore(),me.restore(),Se&&Se.restore(),Ge.procs.refresh(),it(),nt.forEach(function(mt){mt()})}ke&&(ke.addEventListener(Hb,Bt,!1),ke.addEventListener(Wb,jt,!1));function vt(){Re.length=0,pt(),ke&&(ke.removeEventListener(Hb,Bt),ke.removeEventListener(Wb,jt)),Oe.clear(),ae.clear(),ce.clear(),me.clear(),We.clear(),Fe.clear(),be.clear(),Se&&Se.clear(),Me.forEach(function(qe){qe()})}function cn(qe){C(!!qe,"invalid args to regl({...})"),C.type(qe,"object","invalid args to regl({...})");function mt(X){var B=r({},X);delete B.uniforms,delete B.attributes,delete B.context,delete B.vao,"stencil"in B&&B.stencil.op&&(B.stencil.opBack=B.stencil.opFront=B.stencil.op,delete B.stencil.op);function z(V){if(V in B){var k=B[V];delete B[V],Object.keys(k).forEach(function(M){B[V+"."+M]=k[M]})}}return z("blend"),z("depth"),z("cull"),z("stencil"),z("polygonOffset"),z("scissor"),z("sample"),"vao"in X&&(B.vao=X.vao),B}function wt(X,B){var z={},V={};return Object.keys(X).forEach(function(k){var M=X[k];if(br.isDynamic(M)){V[k]=br.unbox(M,k);return}else if(B&&Array.isArray(M)){for(var R=0;R<M.length;++R)if(br.isDynamic(M[R])){V[k]=br.unbox(M,k);return}}z[k]=M}),{dynamic:V,static:z}}var Yt=wt(qe.context||{},!0),No=wt(qe.uniforms||{},!0),Di=wt(qe.attributes||{},!1),N=wt(mt(qe),!1),J={gpuTime:0,cpuTime:0,count:0},Z=Ge.compile(N,Di,No,Yt,J),Be=Z.draw,ft=Z.batch,P=Z.scope,_=[];function D(X){for(;_.length<X;)_.push(null);return _}function U(X,B){var z;if(le&&C.raise("context lost"),typeof X=="function")return P.call(this,null,X,0);if(typeof B=="function")if(typeof X=="number")for(z=0;z<X;++z)P.call(this,null,B,z);else if(Array.isArray(X))for(z=0;z<X.length;++z)P.call(this,X[z],B,z);else return P.call(this,X,B,0);else if(typeof X=="number"){if(X>0)return ft.call(this,D(X|0),X|0)}else if(Array.isArray(X)){if(X.length)return ft.call(this,X,X.length)}else return Be.call(this,X)}return r(U,{stats:J,destroy:function(){Z.destroy()}})}var Mt=ae.setFBO=cn({framebuffer:br.define.call(null,Xb,"framebuffer")});function rn(qe,mt){var wt=0;Ge.procs.poll();var Yt=mt.color;Yt&&(L.clearColor(+Yt[0]||0,+Yt[1]||0,+Yt[2]||0,+Yt[3]||0),wt|=t6),"depth"in mt&&(L.clearDepth(+mt.depth),wt|=n6),"stencil"in mt&&(L.clearStencil(mt.stencil|0),wt|=r6),C(!!wt,"called regl.clear with no buffer specified"),L.clear(wt)}function un(qe){if(C(typeof qe=="object"&&qe,"regl.clear() takes an object as input"),"framebuffer"in qe)if(qe.framebuffer&&qe.framebuffer_reglType==="framebufferCube")for(var mt=0;mt<6;++mt)Mt(r({framebuffer:qe.framebuffer.faces[mt]},qe),rn);else Mt(qe,rn);else rn(null,qe)}function fn(qe){C.type(qe,"function","regl.frame() callback must be a function"),Re.push(qe);function mt(){var wt=qb(Re,qe);C(wt>=0,"cannot cancel a frame twice");function Yt(){var No=qb(Re,Yt);Re[No]=Re[Re.length-1],Re.length-=1,Re.length<=0&&pt()}Re[wt]=Yt}return it(),{cancel:mt}}function En(){var qe=xe.viewport,mt=xe.scissor_box;qe[0]=qe[1]=mt[0]=mt[1]=0,ye.viewportWidth=ye.framebufferWidth=ye.drawingBufferWidth=qe[2]=mt[2]=L.drawingBufferWidth,ye.viewportHeight=ye.framebufferHeight=ye.drawingBufferHeight=qe[3]=mt[3]=L.drawingBufferHeight}function Tn(){ye.tick+=1,ye.time=ct(),En(),Ge.procs.poll()}function qt(){We.refresh(),En(),Ge.procs.refresh(),Se&&Se.update()}function ct(){return(nx()-Ae)/1e3}qt();function Cn(qe,mt){C.type(mt,"function","listener callback must be a function");var wt;switch(qe){case"frame":return fn(mt);case"lost":wt=st;break;case"restore":wt=nt;break;case"destroy":wt=Me;break;default:C.raise("invalid event, must be one of frame,lost,restore,destroy")}return wt.push(mt),{cancel:function(){for(var Yt=0;Yt<wt.length;++Yt)if(wt[Yt]===mt){wt[Yt]=wt[wt.length-1],wt.pop();return}}}}var St=r(cn,{clear:un,prop:br.define.bind(null,Xb),context:br.define.bind(null,s6),this:br.define.bind(null,i6),draw:cn({}),buffer:function(qe){return be.create(qe,o6,!1,!1)},elements:function(qe){return Fe.create(qe,!1)},texture:We.create2D,cube:We.createCube,renderbuffer:ce.create,framebuffer:ae.create,framebufferCube:ae.createCube,vao:me.createVAO,attributes:K,frame:fn,on:Cn,limits:ne,hasExtension:function(qe){return ne.extensions.indexOf(qe.toLowerCase())>=0},read:Pe,destroy:vt,_gl:L,_refresh:qt,poll:function(){Tn(),Se&&Se.update()},now:ct,stats:ge});return T.onDone(null,St),St}return a6})}(mv)),mv.exports}const Bue=Fue,Gue=M1,jue=e=>{const n=Object.assign({},{},e.glOptions,{onDone:(i,a)=>{if(i)throw i}}),r=zue()(n),o=new Map,s=i=>{i.rendering=Object.assign({},Gue,i.rendering),Bue(r)(i,a=>{r.clear({color:i.rendering.background,depth:1}),i.entities&&i.entities.sort((l,c)=>{const f="transparent"in l.visuals?l.visuals.transparent:!1,u="transparent"in c.visuals?c.visuals.transparent:!1;return f===u?0:f?1:-1}).forEach(l=>{const{visuals:c}=l;if(("show"in c?c.show:!0)&&c.drawCmd&&i.drawCommands[c.drawCmd]){let u;c.cacheId?u=o.get(c.cacheId):(c.cacheId=o.size,u=i.drawCommands[c.drawCmd](r,l),o.set(c.cacheId,u));const d={...l,...c,camera:i.camera};u(d)}})})};return function(a){r.poll(),s(a)}};var Vue=jue,vv,B_;function G_(){if(B_)return vv;B_=1;const e=ao;return vv=(n,r={})=>{const o=[],s={visuals:{color:[0,0,1,1],fadeOut:!1},ticks:1,size:[16,16],centered:!1,lineWidth:2},i=Object.assign({},s.visuals,r.visuals||{}),{fadeOut:a,color:l}=i,{size:c,ticks:f,centered:u,lineWidth:d}=Object.assign({},s,r),h=c[0],m=c[1];if(u){const p=h*.5,g=m*.5,v=p%f,y=-p+v,w=-y,b=g%f,E=-g+b,S=-E,$=0;for(let A=y,G=0;A<=w;A+=f,G+=1)G%$!==0&&(o.push(E,A,0),o.push(S,A,0),o.push(E,A,0));for(let A=E,G=0;A<=S;A+=f,G+=1)G%$!==0&&(o.push(A,y,0),o.push(A,w,0),o.push(A,y,0))}else{for(let p=-h*.5;p<=h*.5;p+=f)o.push(-m*.5,p,0),o.push(m*.5,p,0),o.push(-m*.5,p,0);for(let p=-m*.5;p<=m*.5;p+=f)o.push(p,-h*.5,0),o.push(p,h*.5,0),o.push(p,-h*.5,0)}return n({vert:`precision mediump float;

    uniform float camNear, camFar;
    uniform mat4 model, view, projection;

    attribute vec3 position;
    varying vec3 fragNormal, fragPosition;
    varying vec4 worldPosition;

    void main() {
      fragPosition = position;
      worldPosition = model * vec4(position, 1);
      vec4 glPosition = projection * view * worldPosition;
      gl_Position = glPosition;
    }`,frag:`precision mediump float;
    uniform vec4 color;
    varying vec3 fragNormal, fragPosition;
    varying vec4 worldPosition;

    uniform vec4 fogColor;
    uniform bool fadeOut;
    void main() {
      float dist = .5;
      if(fadeOut){
        dist = distance( vec2(0.,0.), vec2(worldPosition.x, worldPosition.y));
        dist *= 0.0025;
        dist = sqrt(dist);
      }

      gl_FragColor = mix(color, fogColor, dist);
    }
    `,attributes:{position:n.buffer(o)},count:o.length/3,uniforms:{model:(p,g)=>g&&g.model?g.model:e.identity([]),color:(p,g)=>g&&g.color?g.color:l,fogColor:(p,g)=>g&&g.color?[g.color[0],g.color[1],g.color[2],0]:[l[0],l[1],l[2],0],fadeOut:(p,g)=>g&&g.fadeOut!==void 0?g.fadeOut:a},lineWidth:(p,g)=>Math.min(g&&g.lineWidth?g.lineWidth:d,n.limits.lineWidthDims[1]),primitive:"lines",cull:{enable:!0,face:"front"},polygonOffset:{enable:!0,offset:{factor:1,units:Math.random()*10}},blend:{enable:!0,func:{src:"src alpha",dst:"one minus src alpha"}}})},vv}const Uue=(e,t)=>{const n={size:[50,50],ticks:[10,1]},{size:r,ticks:o}=Object.assign({},n,t),s=G_()(e,{size:r,ticks:o[0]}),i=G_()(e,{size:r,ticks:o[1]});return l=>{s(l),i({color:l.subColor,fadeOut:l.fadeOut})}};var Hue=Uue;const Jn=ao,Wue=(e,t)=>{const n={xColor:[1,0,0,1],yColor:[0,1,0,1],zColor:[0,0,1,1],size:10,lineWidth:3,alwaysVisible:!0};let{size:r,xColor:o,yColor:s,zColor:i,lineWidth:a,alwaysVisible:l}=Object.assign({},n,t);a>e.limits.lineWidthDims[1]&&(a=e.limits.lineWidthDims[1]);const c=[0,0,0,r,0,0],f={frag:`precision mediump float;
    uniform vec4 color;
    void main() {
      gl_FragColor = color;
    }`,vert:`
    precision mediump float;
    attribute vec3 position;
    uniform mat4 model, view, projection;
    void main() {
      gl_Position = projection * view * model * vec4(position, 1);
    }`,uniforms:{model:(p,g)=>g&&g.model?g.model:Jn.identity([]),color:(p,g)=>g.color,angle:(p,g)=>g.angle},attributes:{position:c},count:c.length/3,primitive:"line loop",lineWidth:a,depth:{enable:!l}},u=Jn.identity([]),d=Jn.rotateZ(Jn.create(),Jn.identity([]),Math.PI/2),h=Jn.rotateY(Jn.create(),Jn.identity([]),-Math.PI/2),m=e(f);return p=>{const g={model:Jn.identity([])};return p=Object.assign({},g,p),m([{color:o,model:Jn.multiply(Jn.create(),p.model,u)},{color:s,model:Jn.multiply(Jn.create(),p.model,d)},{color:i,model:Jn.multiply(Jn.create(),p.model,h)}])}};var Xue=Wue,gv,j_;function V_(){return j_||(j_=1,gv={frag:`
precision mediump float;
varying vec3 surfaceNormal, surfacePosition;

uniform float ambientLightAmount;
uniform float diffuseLightAmount;
uniform float specularLightAmount;

uniform vec3 lightDirection;
uniform vec4 lightColor;
uniform vec3 opacity;
uniform float uMaterialShininess;

varying vec4 vColor;
uniform vec4 ucolor;
uniform float vColorToggler;

uniform vec2 printableArea;
vec4 errorColor = vec4(0.15, 0.15, 0.15, 0.3);//vec4(0.15, 0.15, 0.15, 0.3);
varying vec4 _worldSpacePosition;
varying float ambientAo;

void main () {
  vec4 depth = gl_FragCoord;
  vec4 endColor = vColor * vColorToggler + ucolor * (1.0 - vColorToggler);

  vec3 ambient = ambientLightAmount * endColor.rgb ; //ambientAo * 

  float diffuseWeight = dot(surfaceNormal, lightDirection);
  vec3 diffuse = diffuseLightAmount * endColor.rgb * clamp(diffuseWeight , 0.0, 1.0 );

  //specular
  
  vec4 specularColor = vec4(lightColor);
  vec3 eyeDirection = normalize(surfacePosition.xyz);
  vec3 reflectionDirection = reflect(-lightDirection, -surfaceNormal);
  float specularLightWeight = pow(max(dot(reflectionDirection, eyeDirection), 0.0), uMaterialShininess);
  vec3 specular = specularColor.rgb * specularLightWeight * specularLightAmount;

  gl_FragColor = vec4((ambient + diffuse + specular), endColor.a);
}
`,vert:`
precision mediump float;

uniform float camNear, camFar;
uniform mat4 model, view, projection, unormal;

attribute vec3 position, normal;
attribute vec4 color;

attribute float ao;
varying float ambientAo;

varying vec3 surfaceNormal, surfacePosition;
varying vec4 _worldSpacePosition;
varying vec4 vColor;

void main() {
  surfacePosition = (unormal * vec4(position, 1.0)).xyz;
  surfaceNormal = normalize((unormal * vec4(normal, 1.0)).xyz); //vec4 transformedNormal = uNormalMatrix * vec4(aVertexNormal, 1.0);
  vec4 worldSpacePosition = model * vec4(position, 1);
  _worldSpacePosition = worldSpacePosition;
  //gl_Position = projection * view * worldSpacePosition;

  vColor = color;

  //ambientAo = (1. - ao) * (0.5 * max(normal.x, 0.) + 0.5);

  vec4 glPosition = projection * view * model * vec4(position, 1);
  gl_Position = glPosition;
  //gl_Position = zBufferAdjust(glPosition, camNear, camFar);
}
`}),gv}var yv,U_;function H_(){return U_||(U_=1,yv={vert:`
precision mediump float;

uniform float camNear, camFar;
uniform mat4 model, view, projection;

attribute vec3 position, normal;

varying vec3 surfaceNormal, surfacePosition;
varying vec4 _worldSpacePosition;

void main() {
  surfacePosition = position;
  surfaceNormal = normal;
  vec4 worldSpacePosition = model * vec4(position, 1);
  _worldSpacePosition = worldSpacePosition;

  vec4 glPosition = projection * view * model * vec4(position, 1);
  gl_Position = glPosition;
}
`,frag:`
precision mediump float;
varying vec3 surfaceNormal;
uniform float ambientLightAmount;
uniform float diffuseLightAmount;
uniform vec4 ucolor;
uniform vec3 lightDirection;
uniform vec3 opacity;

varying vec4 _worldSpacePosition;

uniform vec2 printableArea;

vec4 errorColor = vec4(0.15, 0.15, 0.15, 0.3);

void main () {
  vec4 depth = gl_FragCoord;

  float v = 0.8; // shadow value
  vec4 endColor = ucolor;

  vec3 ambient = ambientLightAmount * endColor.rgb;
  float cosTheta = dot(surfaceNormal, lightDirection);
  vec3 diffuse = diffuseLightAmount * endColor.rgb * clamp(cosTheta , 0.0, 1.0 );

  float cosTheta2 = dot(surfaceNormal, vec3(-lightDirection.x, -lightDirection.y, lightDirection.z));
  vec3 diffuse2 = diffuseLightAmount * endColor.rgb * clamp(cosTheta2 , 0.0, 1.0 );

  gl_FragColor = vec4((ambient + diffuse + diffuse2 * v), endColor.a);
}`}),yv}const Ws=ao,{meshColor:que}=M1,Yue=(e,t={extras:{}})=>{const n={useVertexColors:!0,dynamicCulling:!0,geometry:void 0,color:que,visuals:{}},{geometry:r,dynamicCulling:o,useVertexColors:s,color:i,visuals:a}=Object.assign({},n,t),l=e.buffer([]),c=!!(r.indices&&r.indices.length>0),f=!!(r.normals&&r.normals.length>0),u="transparent"in a?a.transparent:!1,d=!!(s&&r.colors&&r.colors.length>0),h=r.transforms||Ws.create(),m=Ws.determinant(h)<0,p=o&&m?"front":"back",g=d?V_().vert:H_().vert,v=d?V_().frag:H_().frag,y=Ws.invert(Ws.create(),h);let w={primitive:"triangles",vert:g,frag:v,uniforms:{model:(b,E)=>h,ucolor:(b,E)=>E&&E.color?E.color:i,vColorToggler:(b,E)=>E&&E.useVertexColors&&E.useVertexColors===!0?1:0,unormal:(b,E)=>{const S=Ws.invert(Ws.create(),E.camera.view);return Ws.multiply(S,y,S),Ws.transpose(S,S),S}},attributes:{position:e.buffer({usage:"static",type:"float",data:r.positions}),ao:l},cull:{enable:!0,face:p}};return u&&(w.blend={enable:!0,func:{src:"src alpha",dst:"one minus src alpha"}}),r.cells?w.elements=r.cells:c?w.elements=e.elements({usage:"static",type:"uint16",data:r.indices}):r.triangles?w.elements=r.triangles:w.count=r.positions.length/3,f&&(w.attributes.normal=e.buffer({usage:"static",type:"float",data:r.normals})),d&&(w.attributes.color=e.buffer({usage:"static",type:"float",data:r.colors})),w=Object.assign({},w,t.extras),e(w)};var Zue=Yue,wv,W_;function X_(){return W_||(W_=1,wv={frag:`
precision mediump float;
varying vec4 vColor;

void main () {
  gl_FragColor = vColor;
}
`,vert:`
precision mediump float;

uniform float camNear, camFar;
uniform mat4 model, view, projection;

attribute vec3 position, normal;
attribute vec4 color;

varying vec3 surfaceNormal, surfacePosition;
varying vec4 _worldSpacePosition;
varying vec4 vColor;

void main() {
  vColor = color;

  surfacePosition = position;
  surfaceNormal = normal;
  vec4 worldSpacePosition = model * vec4(position, 1);
  _worldSpacePosition = worldSpacePosition;

  vec4 glPosition = projection * view * model * vec4(position, 1);
  gl_Position = glPosition;
}
`}),wv}var xv,q_;function Que(){return q_||(q_=1,xv={vert:`
precision mediump float;

uniform float camNear, camFar;
uniform mat4 model, view, projection;

attribute vec3 position, normal;


varying vec3 surfaceNormal, surfacePosition;
varying vec4 _worldSpacePosition;


void main() {


  surfacePosition = position;
  surfaceNormal = normal;
  vec4 worldSpacePosition = model * vec4(position, 1);
  _worldSpacePosition = worldSpacePosition;

  vec4 glPosition = projection * view * model * vec4(position, 1);
  gl_Position = glPosition;
}
`,frag:`
precision mediump float;
varying vec3 surfaceNormal;
uniform float ambientLightAmount;
uniform float diffuseLightAmount;
uniform vec4 ucolor;
uniform vec3 lightDirection;
uniform vec3 opacity;

varying vec4 _worldSpacePosition;

uniform vec2 printableArea;

vec4 errorColor = vec4(0.15, 0.15, 0.15, 0.3);

void main () {
  vec4 depth = gl_FragCoord;

  float v = 0.8; // shadow value
  vec4 endColor = ucolor;

  vec3 ambient = ambientLightAmount * endColor.rgb;
  float cosTheta = dot(surfaceNormal, lightDirection);
  vec3 diffuse = diffuseLightAmount * endColor.rgb * clamp(cosTheta , 0.0, 1.0 );

  float cosTheta2 = dot(surfaceNormal, vec3(-lightDirection.x, -lightDirection.y, lightDirection.z));
  vec3 diffuse2 = diffuseLightAmount * endColor.rgb * clamp(cosTheta2 , 0.0, 1.0 );

  gl_FragColor = vec4((ambient + diffuse + diffuse2 * v), endColor.a);
}`}),xv}var bv,Y_;function Kue(){return Y_||(Y_=1,bv={frag:`
precision mediump float;
uniform vec4 ucolor;

void main () {
  gl_FragColor = ucolor;
}
`}),bv}const Jue=ao,{meshColor:efe}=M1,tfe=(e,t={})=>{const n={color:efe,geometry:void 0};let{geometry:r,color:o,transparent:s}=Object.assign({},n,t);"color"in r&&(o=r.color);const i=!!(r.indices&&r.indices.length>0),a=!!(r.normals&&r.normals.length>0),l=!!(r.colors&&r.colors.length>0),c=l?X_().vert:Que().vert,f=l?X_().frag:Kue().frag,u={primitive:"lines",vert:c,frag:f,uniforms:{model:(d,h)=>h.model||r.transforms||Jue.create(),ucolor:(d,h)=>h&&h.color?h.color:o},attributes:{position:e.buffer({usage:"static",type:"float",data:r.positions})}};return s&&(u.blend={enable:!0,func:{src:"src alpha",dst:"one minus src alpha"}}),l&&(u.attributes.color=e.buffer({usage:"static",type:"float",data:r.colors})),i&&(u.elements=e.elements({usage:"static",type:"uint16",data:r.indices})),a&&(u.attributes.normal=e.buffer({usage:"static",type:"float",data:r.normals})),e(u)};var nfe=tfe,Ok=1e-6,Mk=rfe;function rfe(){var e=new Float32Array(3);return e[0]=0,e[1]=0,e[2]=0,e}var ofe=sfe;function sfe(e){var t=new Float32Array(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}var Lk=ife;function ife(e,t,n){var r=new Float32Array(3);return r[0]=e,r[1]=t,r[2]=n,r}var Dk=afe;function afe(e,t){var n=t[0],r=t[1],o=t[2],s=n*n+r*r+o*o;return s>0&&(s=1/Math.sqrt(s),e[0]=t[0]*s,e[1]=t[1]*s,e[2]=t[2]*s),e}var Ik=lfe;function lfe(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}var cfe=ffe,Z_=Lk,Q_=Dk,ufe=Ik;function ffe(e,t){var n=Z_(e[0],e[1],e[2]),r=Z_(t[0],t[1],t[2]);Q_(n,n),Q_(r,r);var o=ufe(n,r);return o>1?0:Math.acos(o)}var dfe=hfe;function hfe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}var pfe=mfe;function mfe(e,t,n,r){return e[0]=t,e[1]=n,e[2]=r,e}var vfe=gfe,Ev=Ok;function gfe(e,t){var n=e[0],r=e[1],o=e[2],s=t[0],i=t[1],a=t[2];return Math.abs(n-s)<=Ev*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(r-i)<=Ev*Math.max(1,Math.abs(r),Math.abs(i))&&Math.abs(o-a)<=Ev*Math.max(1,Math.abs(o),Math.abs(a))}var yfe=wfe;function wfe(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}var xfe=bfe;function bfe(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}var Fk=Efe;function Efe(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}var Sfe=Fk,zk=_fe;function _fe(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e}var $fe=zk,Bk=Afe;function Afe(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e}var Tfe=Bk,Cfe=Pfe;function Pfe(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e}var kfe=Rfe;function Rfe(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e}var Nfe=Ofe;function Ofe(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e}var Mfe=Lfe;function Lfe(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e}var Dfe=Ife;function Ife(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e}var Ffe=zfe;function zfe(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e}var Bfe=Gfe;function Gfe(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e}var Gk=jfe;function jfe(e,t){var n=t[0]-e[0],r=t[1]-e[1],o=t[2]-e[2];return Math.sqrt(n*n+r*r+o*o)}var Vfe=Gk,jk=Ufe;function Ufe(e,t){var n=t[0]-e[0],r=t[1]-e[1],o=t[2]-e[2];return n*n+r*r+o*o}var Hfe=jk,Vk=Wfe;function Wfe(e){var t=e[0],n=e[1],r=e[2];return Math.sqrt(t*t+n*n+r*r)}var Xfe=Vk,Uk=qfe;function qfe(e){var t=e[0],n=e[1],r=e[2];return t*t+n*n+r*r}var Yfe=Uk,Zfe=Qfe;function Qfe(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}var Kfe=Jfe;function Jfe(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e}var ede=tde;function tde(e,t,n){var r=t[0],o=t[1],s=t[2],i=n[0],a=n[1],l=n[2];return e[0]=o*l-s*a,e[1]=s*i-r*l,e[2]=r*a-o*i,e}var nde=rde;function rde(e,t,n,r){var o=t[0],s=t[1],i=t[2];return e[0]=o+r*(n[0]-o),e[1]=s+r*(n[1]-s),e[2]=i+r*(n[2]-i),e}var ode=sde;function sde(e,t){t=t||1;var n=Math.random()*2*Math.PI,r=Math.random()*2-1,o=Math.sqrt(1-r*r)*t;return e[0]=Math.cos(n)*o,e[1]=Math.sin(n)*o,e[2]=r*t,e}var ide=ade;function ade(e,t,n){var r=t[0],o=t[1],s=t[2],i=n[3]*r+n[7]*o+n[11]*s+n[15];return i=i||1,e[0]=(n[0]*r+n[4]*o+n[8]*s+n[12])/i,e[1]=(n[1]*r+n[5]*o+n[9]*s+n[13])/i,e[2]=(n[2]*r+n[6]*o+n[10]*s+n[14])/i,e}var lde=cde;function cde(e,t,n){var r=t[0],o=t[1],s=t[2];return e[0]=r*n[0]+o*n[3]+s*n[6],e[1]=r*n[1]+o*n[4]+s*n[7],e[2]=r*n[2]+o*n[5]+s*n[8],e}var ude=fde;function fde(e,t,n){var r=t[0],o=t[1],s=t[2],i=n[0],a=n[1],l=n[2],c=n[3],f=c*r+a*s-l*o,u=c*o+l*r-i*s,d=c*s+i*o-a*r,h=-i*r-a*o-l*s;return e[0]=f*c+h*-i+u*-l-d*-a,e[1]=u*c+h*-a+d*-i-f*-l,e[2]=d*c+h*-l+f*-a-u*-i,e}var dde=hde;function hde(e,t,n,r){var o=n[1],s=n[2],i=t[1]-o,a=t[2]-s,l=Math.sin(r),c=Math.cos(r);return e[0]=t[0],e[1]=o+i*c-a*l,e[2]=s+i*l+a*c,e}var pde=mde;function mde(e,t,n,r){var o=n[0],s=n[2],i=t[0]-o,a=t[2]-s,l=Math.sin(r),c=Math.cos(r);return e[0]=o+a*l+i*c,e[1]=t[1],e[2]=s+a*c-i*l,e}var vde=gde;function gde(e,t,n,r){var o=n[0],s=n[1],i=t[0]-o,a=t[1]-s,l=Math.sin(r),c=Math.cos(r);return e[0]=o+i*c-a*l,e[1]=s+i*l+a*c,e[2]=t[2],e}var yde=wde,Xs=Mk();function wde(e,t,n,r,o,s){var i,a;for(t||(t=3),n||(n=0),r?a=Math.min(r*t+n,e.length):a=e.length,i=n;i<a;i+=t)Xs[0]=e[i],Xs[1]=e[i+1],Xs[2]=e[i+2],o(Xs,Xs,s),e[i]=Xs[0],e[i+1]=Xs[1],e[i+2]=Xs[2];return e}var Nf={EPSILON:Ok,create:Mk,clone:ofe,angle:cfe,fromValues:Lk,copy:dfe,set:pfe,equals:vfe,exactEquals:yfe,add:xfe,subtract:Fk,sub:Sfe,multiply:zk,mul:$fe,divide:Bk,div:Tfe,min:Cfe,max:kfe,floor:Nfe,ceil:Mfe,round:Dfe,scale:Ffe,scaleAndAdd:Bfe,distance:Gk,dist:Vfe,squaredDistance:jk,sqrDist:Hfe,length:Vk,len:Xfe,squaredLength:Uk,sqrLen:Yfe,negate:Zfe,inverse:Kfe,normalize:Dk,dot:Ik,cross:ede,lerp:nde,random:ode,transformMat4:ide,transformMat3:lde,transformQuat:ude,rotateX:dde,rotateY:pde,rotateZ:vde,forEach:yde};const la=ao,Sv=Nf,Hk={view:la.identity(new Float32Array(16)),projection:la.identity(new Float32Array(16)),matrix:la.identity(new Float32Array(16)),near:1,far:18e3,up:[0,0,1],eye:new Float32Array(3),position:[450,550,700],target:[0,0,0],fov:Math.PI/4,aspect:1,viewport:[0,0,0,0],projectionType:"perspective"},Wk={},xde=Object.assign({},Hk,Wk),bde=(e,t,n)=>{const r=n.width/n.height,o=la.perspective(la.identity([]),t.fov,r,t.near,t.far),s=[0,0,n.width,n.height],i=e||{};return i.projection=o,i.aspect=r,i.viewport=s,i},Ede=(e,t)=>{t||(t=e);const{position:n,target:r,up:o}=t,s=Sv.subtract([],n,r),i=Sv.add(Sv.create(),r,s),a=la.lookAt(la.create(),i,r,o),l=e||{};return l.position=i,l.view=a,l};var ey={cameraState:Hk,cameraProps:Wk,defaults:xde,setProjection:bde,update:Ede};const Nh=ao,Sde={view:Nh.identity(new Float32Array(16)),projection:Nh.identity(new Float32Array(16)),matrix:Nh.identity(new Float32Array(16)),near:1,far:1300,up:[0,0,1],eye:new Float32Array(3),position:[150,250,200],target:[0,0,0],fov:Math.PI/4,aspect:1,viewport:[0,0,0,0],zoom:1,projectionType:"orthographic"},_de={},$de=(e,t)=>{const{width:n,height:r}=t,o=n/r,s=[0,0,n,r],i=e.zoom,a=-n*i,l=n*i,c=-r*i,f=r*i;return{projection:Nh.ortho([],a,l,c,f,e.near,e.far),aspect:o,viewport:s}};var Cp={cameraState:Sde,cameraProps:_de,setProjection:$de};const Ml=Nf,Pp=ao,Ade=e=>{const{near:t,far:n,fov:r,zoom:o}=e,{viewport:s}=e,i=ey.setProjection(e,{width:s[2],height:s[3]}),{projectionType:a}=ey.cameraState;return Object.assign({},e,i,{projectionType:a},{near:t,far:n,fov:r})},Tde=e=>{const{fov:t,aspect:n}=e,r=Ml.length(Ml.subtract([],e.position,e.target))*.3,o=Math.tan(t)*r*n,s=Math.tan(t)*r,{near:i,far:a,viewport:l}=e,c={zoom:1,near:i,far:a},f=Cp.cameraState,u=Cp.setProjection(c,{width:o,height:s});return Object.assign({},f,e,u,{projectionType:f.projectionType,viewport:l})},Cde=({camera:e})=>{const n=Ml.distance(e.position,e.target),r=[n,n,n];return{view:Pp.lookAt(Pp.create(),r,e.target,e.up),position:r}},Pde=(e,{camera:t})=>{const n={top:[0,-1e-6,1],bottom:[0,0,-1],front:[0,1,0],back:[0,-1,0],left:[-1,0,0],right:[1,0,0],undefined:[0,0,0]},r=Ml.distance(t.position,t.target),o=Ml.add(Ml.create(),n[e].map(i=>i*r),t.target);return{view:Pp.lookAt(Pp.create(),o,t.target,t.up),position:o}};var kde={toPerspectiveView:Cde,toPresetView:Pde,fromOrthographicToPerspective:Ade,fromPerspectiveToOrthographic:Tde};const Rde=e=>{if(e.length===0)return[[0,0,0],[0,0,0]];const t=Array.isArray(e)&&Array.isArray(e[0]),n=t?e[0].length:3,r=new Array(n),o=new Array(n);for(let s=0;s<n;s+=1)r[s]=1/0,o[s]=-1/0;if(t)e.forEach(s=>{for(let i=0;i<n;i+=1){const a=t?s[i]:s;o[i]=a>o[i]?a:o[i],r[i]=a<r[i]?a:r[i]}});else for(let s=0;s<e.length;s+=n)for(let i=0;i<n;i+=1){const a=e[i+s];o[i]=a>o[i]?a:o[i],r[i]=a<r[i]?a:r[i]}return[r,o]};var Nde=Rde;const Cr=Nf,{flatten:Ode}=Gw,Mde=Nde,Lde=(...e)=>{e=Ode(e);let t;e.forEach(l=>{let c=Mde(l.positions);c=c.map(f=>Cr.transformMat4(f,f,l.transforms)),t?(Cr.min(t[0],t[0],c[0]),Cr.max(t[1],t[1],c[1])):t=c});const n=Cr.min(Cr.create(),t[1],t[0]),r=Cr.max(Cr.create(),t[1],t[0]),o=Cr.subtract(Cr.create(),r,n);let s=Cr.scale(Cr.create(),o,.5);return s=Cr.add(s,n,s),{dia:Cr.distance(s,r),center:[...s],min:[...n],max:[...r],size:[...o]}};var Dde=Lde,_v,K_;function Ide(){if(K_)return _v;K_=1,_v=e;function e(t,n,r){var o=n[0],s=n[1],i=n[2],a=r[0],l=r[1],c=r[2],f=r[3],u=r[4],d=r[5],h=r[6],m=r[7],p=r[8],g=r[9],v=r[10],y=r[11],w=r[12],b=r[13],E=r[14],S=r[15],$=1/(o*f+s*m+i*y+S);return t[0]=(o*a+s*u+i*p+w)*$,t[1]=(o*l+s*d+i*g+b)*$,t[2]=(o*c+s*h+i*v+E)*$,t}return _v}var $v,J_;function Fde(){if(J_)return $v;J_=1;var e=Ide();$v=t;function t(n,r,o,s){var i=o[0],a=o[1],l=o[2],c=o[3],f=r[0],u=r[1],d=r[2];return f=f-i,u=c-u-1,u=u-a,n[0]=2*f/l-1,n[1]=2*u/c-1,n[2]=2*d-1,e(n,n,s)}return $v}const nr=Nf,of=ao,{max:Av,min:Tv,sqrt:e$,PI:zde,sin:sl,cos:lh,atan2:ch}=Math,Bde=Dde,Qw={limits:{minDistance:.01,maxDistance:1e4},drag:.27,EPS:1e-6,zoomToFit:{auto:!0,targets:"all",tightness:1.5},userControl:{zoom:!0,zoomSpeed:1,rotate:!0,rotateSpeed:1,pan:!0,panSpeed:1},autoRotate:{enabled:!1,speed:1},autoAdjustPlanes:!0},Xk={thetaDelta:0,phiDelta:0,scale:1},Gde=Object.assign({},Xk,Qw),jde=({controls:e,camera:t},n)=>{const{EPS:r,drag:o}=e,{position:s,target:i}=t,a=e.up?e.up:t.up;let l=e.thetaDelta;const c=e.phiDelta,f=e.scale,u=nr.subtract([],s,i);let d,h;a[2]===1?(d=ch(u[0],u[1]),h=ch(e$(u[0]*u[0]+u[1]*u[1]),u[2])):(d=ch(u[0],u[2]),h=ch(e$(u[0]*u[0]+u[2]*u[2]),u[1])),e.autoRotate.enabled&&e.userControl.rotate&&(l+=2*Math.PI/60/60*e.autoRotate.speed),d+=l,h+=c,h=Av(r,Tv(zde-r,h));const m=Av(e.limits.minDistance,Tv(e.limits.maxDistance,nr.length(u)*f));a[2]===1?(u[0]=m*sl(h)*sl(d),u[2]=m*lh(h),u[1]=m*sl(h)*lh(d)):(u[0]=m*sl(h)*sl(d),u[1]=m*lh(h),u[2]=m*sl(h)*lh(d));const p=nr.add(nr.create(),i,u),g=of.lookAt(of.create(),p,i,a),v=1-Av(Tv(o,1),.01),y=nr.distance(s,p)>.001;return{controls:{thetaDelta:l*v,phiDelta:c*v,scale:1,changed:y},camera:{position:p,view:g}}},Vde=({controls:e,camera:t,speed:n=1},r)=>{let{thetaDelta:o,phiDelta:s}=e;return e.userControl.rotate&&(o+=r[0]*n,s+=r[1]*n),{controls:{thetaDelta:o,phiDelta:s},camera:t}},Ude=({controls:e,camera:t,speed:n=1},r=0)=>{let{scale:o}=e;if(e.userControl.zoom&&t&&r!==void 0&&r!==0&&!isNaN(r)){const s=Math.sign(r)===0?1:Math.sign(r);r=r/r*s*n;const i=r+e.scale,a=nr.distance(t.position,t.target)*i;if(a>e.limits.minDistance&&a<e.limits.maxDistance&&(o+=r),t.projectionType==="orthographic"){const l=nr.length(nr.subtract([],t.position,t.target))*.3,c=Math.tan(t.fov)*l*t.aspect,f=Math.tan(t.fov)*l;t=Cp.setProjection(t,{width:c,height:f})}}return{controls:{scale:o},camera:t}},Hde=({controls:e,camera:t,speed:n=1},r)=>{const o=Fde(),{projection:s,view:i,viewport:a}=t,l=of.multiply([],s,i),c=of.invert([],l),f=[a[2],a[3],0],u=[a[2]-r[0],a[3]+r[1],0],d=o([],f,a,c),h=o([],u,a,c),m=nr.distance(t.position,t.eye),p=nr.subtract([],d,h).map(g=>g*n*m*e.scale);return{controls:e,camera:{position:nr.add(nr.create(),t.position,p),target:nr.add(nr.create(),t.target,p)}}},Wde=({controls:e,camera:t,entities:n})=>{const{zoomToFit:r}=e;if(r.targets!=="all")return{controls:e,camera:t};if(n.length===0)return{controls:e,camera:t};const o=n.map(h=>h.geometry),s=Bde(o),{fov:i,target:a,position:l}=t,{tightness:c}=Object.assign({},r,Qw.zoomToFit),f=s.dia*c/Math.tan(i/2),u=nr.distance(a,l),d=f/u;return{camera:{target:s.center},controls:{scale:d}}},Xde=({controls:e,camera:t},n)=>({camera:{position:n.camera.position,target:n.camera.target,projection:of.perspective([],t.fov,t.aspect,t.near,t.far),view:n.camera.view},controls:{thetaDelta:n.controls.thetaDelta,phiDelta:n.controls.phiDelta,scale:n.controls.scale}});var qde={controlsProps:Qw,controlsState:Xk,defaults:Gde,update:jde,rotate:Vde,zoom:Ude,pan:Hde,zoomToFit:Wde,reset:Xde};const t$=ao,Cv=Math.floor(65535/2),Yde=(e,t)=>{let{color:n}=e;const r=t.sides;if(r.length===0)return[];"color"in t&&(n=t.color);const o=n[3]<1,s=[],i=Math.floor(r.length/Cv)+1,a=(c,f)=>{s.push(c,f||c)},l=[];for(let c=0;c<i;c++){const f=c*Cv,u=Math.min(f+Cv,r.length),d=[];for(let g=f;g<u;g++){const v=r[g];if(v.color){if(s.length===0&&d.length>0){const y=d.length;for(let w=0;w<y;w++)s.push(n)}a(v.color,v.endColor)}else s.length&&a(n);d.push([v[0][0],v[0][1],0]),d.push([v[1][0],v[1][1],0])}const h=d.map(g=>[0,0,-1]),m=d.map((g,v)=>v),p=t.transforms?t$.clone(t.transforms):t$.create();l.push({type:"2d",positions:d,normals:h,indices:m,transforms:p,color:n,colors:s,isTransparent:o})}return l};var Zde=Yde;const qs=Nf,n$=ao,Qde=65535,Kde=(e,t)=>{let{color:n,smoothLighting:r}=e;"color"in t&&(n=t.color);const o=t.polygons,s=t.transforms?n$.clone(t.transforms):n$.create(),i=[];let a=0;for(;a<o.length;){let l=0,c=a;for(let g=a;g<o.length&&(l+=o[g].vertices.length,!(l>Qde));g++)c++;const f=[],u=[],d=[],h=[],m=n[3]<1;for(let g=a;g<c;g++){const v=o[g],y=v.vertices,w=ehe(v),b=Jde(v,n),E=[];for(let S=0;S<y.length;S++){const $=y[S];f.push($),u.push(w),h.push(b);const A=f.length-1;E.push(A)}for(let S=2;S<E.length;S++)d.push([E[0],E[S-1],E[S]])}const p={type:"3d",positions:f,normals:u,indices:d,colors:h,transforms:s,isTransparent:m};i.push(p),a=c}return i},Jde=(e,t)=>{let n=t;return e.color&&(n=e.color),n&&n.length<4&&n.push(1),n},ehe=e=>{if(e.plane)return qs.clone(e.plane);const t=e.vertices,n=qs.create();qs.subtract(n,t[1],t[0]);const r=qs.create();qs.subtract(r,t[2],t[0]);const o=qs.create();return qs.cross(o,n,r),qs.normalize(o,o),o};var the=Kde;const r$=ao,Pv=Math.floor(65535/2)-2,nhe=(e,t)=>{let{color:n}=e;const r=t.points;if(r.length===0)return[];"color"in t&&(n=t.color);const o=n[3]<1,s=Math.floor(r.length/Pv)+1,i=[];for(let a=0;a<s;a++){const l=a*Pv,c=Math.min(l+Pv,r.length),f=[];let u;for(let p=l;p<c;p++){const g=r[p];u&&(f.push([u[0],u[1],0]),f.push([g[0],g[1],0])),u=g}if(a+1===s&&t.isClosed&&u){const p=r[0];f.push([u[0],u[1],0]),f.push([p[0],p[1],0])}const d=f.map(p=>[0,0,-1]),h=f.map((p,g)=>g),m=t.transforms?r$.clone(t.transforms):r$.create();i.push({type:"2d",positions:f,normals:d,indices:h,transforms:m,color:n,isTransparent:o})}return i};var rhe=nhe;const{flatten:ohe,toArray:she}=Gw,{meshColor:ihe}=M1,ahe=Zde,lhe=the,che=rhe,uhe=e=>e.map(n=>{const r={drawCmd:n.type==="2d"?"drawLines":"drawMesh",show:!0,transparent:n.isTransparent,useVertexColors:!0};return{geometry:n,visuals:r}}),fhe=(e,...t)=>{const n={color:ihe,smoothNormals:!0},{color:r,smoothNormals:o}=Object.assign({},n,e);t=ohe(she(t)),t=t.filter(i=>i&&i instanceof Object);const s=[];return t.forEach(i=>{let a=[];"sides"in i?a=ahe({color:r},i):"points"in i?a=che({color:r},i):"polygons"in i&&(a=lhe({smoothLighting:o,normalThreshold:.3,color:r},i)),s.push(...uhe(a))}),s};var dhe=fhe,Ys={prepareRender:Vue,drawCommands:{drawGrid:Hue,drawAxis:Xue,drawMesh:Zue,drawLines:nfe},cameras:{camera:kde,orthographic:Cp,perspective:ey},controls:{orbit:qde},entitiesFromSolids:dhe};function hhe(e,t){const n=Ys.cameras.perspective,r=Ys.controls.orbit;for(t=document.getElementById("viewer");t.firstChild;)t.removeChild(t.firstChild);t.style.display="";const o=t.clientWidth,s=t.clientHeight,i={};let a=gm.get();a===null&&(a={...n.defaults,position:[5e3,0,1e3],fov:.1}),i.camera=Object.assign({},a),n.setProjection(i.camera,i.camera,{width:o,height:s}),n.update(i.camera,i.camera),i.controls=r.defaults;const l={glOptions:{container:t}},c=Ys.prepareRender(l),f={visuals:{drawCmd:"drawGrid",show:!1},size:[500,500],ticks:[25,5]},u={visuals:{drawCmd:"drawAxis",show:!0},size:300},d=Ys.entitiesFromSolids({},e),h={camera:i.camera,drawCommands:{drawAxis:Ys.drawCommands.drawAxis,drawGrid:Ys.drawCommands.drawGrid,drawLines:Ys.drawCommands.drawLines,drawMesh:Ys.drawCommands.drawMesh},entities:[f,u,...d]};let m=!0;const p=()=>{if(S[0]||S[1]){const j=r.rotate({controls:i.controls,camera:i.camera,speed:w},S);i.controls={...i.controls,...j.controls},m=!0,S=[0,0]}if($[0]||$[1]){const j=r.pan({controls:i.controls,camera:i.camera,speed:b},$);i.controls={...i.controls,...j.controls},$=[0,0],i.camera.position=j.camera.position,i.camera.target=j.camera.target,m=!0}if(A){const j=r.zoom({controls:i.controls,camera:i.camera,speed:E},A);i.controls={...i.controls,...j.controls},A=0,m=!0}gm.set(i.camera)},g=()=>{if(p(),m){const j=r.update({controls:i.controls,camera:i.camera});i.controls={...i.controls,...j.controls},m=i.controls.changed,i.camera.position=j.camera.position,n.update(i.camera),gm.set(i.camera),c(h)}window.requestAnimationFrame(g)};window.requestAnimationFrame(g);let v=0,y=0;const w=.002,b=1,E=.08;let S=[0,0],$=[0,0],A=0,G=!1;const I=j=>{if(!G)return;const de=v-j.pageX,ee=j.pageY-y;j.shiftKey===!0||j.touches&&j.touches.length>2?($[0]+=de,$[1]+=ee):(S[0]-=de,S[1]-=ee),v=j.pageX,y=j.pageY,j.preventDefault()},H=j=>{G=!0,v=j.pageX,y=j.pageY,t.setPointerCapture(j.pointerId)},te=j=>{G=!1,t.releasePointerCapture(j.pointerId)},pe=j=>{A+=j.deltaY,j.preventDefault()};t.onpointermove=I,t.onpointerdown=H,t.onpointerup=te,t.onwheel=pe}function phe(e){let t=e,n=!1;const r=new Set;return{getState(){return t},updateState(o){t=typeof o=="function"?o(t):o},setState(o){this.updateState(o),r.forEach(s=>s(t))},initialize(o){n||(t=o,n=!0)},subscribe(o){return r.add(o),()=>r.delete(o)}}}function mhe(e){return O.useSyncExternalStore(e.subscribe,()=>e.getState(),()=>e.getState())}const vhe=()=>phe({notifications:[],queue:[],limit:5}),Aa=vhe(),ghe=(e=Aa)=>mhe(e);function _c(e,t){const n=e.getState(),r=t([...n.notifications,...n.queue]);e.setState({notifications:r.slice(0,n.limit),queue:r.slice(n.limit),limit:n.limit})}function yhe(e,t=Aa){const n=e.id||r2();return _c(t,r=>e.id&&r.some(o=>o.id===e.id)?r:[...r,{...e,id:n}]),n}function qk(e,t=Aa){return _c(t,n=>n.filter(r=>{var o;return r.id===e?((o=r.onClose)==null||o.call(r,r),!1):!0})),e}function whe(e,t=Aa){return _c(t,n=>n.map(r=>r.id===e.id?{...r,...e}:r)),e.id}function xhe(e=Aa){_c(e,()=>[])}function bhe(e=Aa){_c(e,t=>t.slice(0,e.getState().limit))}const Ta={show:yhe,hide:qk,update:whe,clean:xhe,cleanQueue:bhe,updateState:_c};function ty(e,t){return ty=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},ty(e,t)}function Yk(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,ty(e,t)}const o$={disabled:!1},kp=wo.createContext(null);var Ehe=function(t){return t.scrollTop},bu="unmounted",qi="exited",Yi="entering",ul="entered",ny="exiting",Ts=function(e){Yk(t,e);function t(r,o){var s;s=e.call(this,r,o)||this;var i=o,a=i&&!i.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=qi,s.appearStatus=Yi):l=ul:r.unmountOnExit||r.mountOnEnter?l=bu:l=qi,s.state={status:l},s.nextCallback=null,s}t.getDerivedStateFromProps=function(o,s){var i=o.in;return i&&s.status===bu?{status:qi}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(o){var s=null;if(o!==this.props){var i=this.state.status;this.props.in?i!==Yi&&i!==ul&&(s=Yi):(i===Yi||i===ul)&&(s=ny)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var o=this.props.timeout,s,i,a;return s=i=a=o,o!=null&&typeof o!="number"&&(s=o.exit,i=o.enter,a=o.appear!==void 0?o.appear:i),{exit:s,enter:i,appear:a}},n.updateStatus=function(o,s){if(o===void 0&&(o=!1),s!==null)if(this.cancelNextCallback(),s===Yi){if(this.props.unmountOnExit||this.props.mountOnEnter){var i=this.props.nodeRef?this.props.nodeRef.current:mu.findDOMNode(this);i&&Ehe(i)}this.performEnter(o)}else this.performExit();else this.props.unmountOnExit&&this.state.status===qi&&this.setState({status:bu})},n.performEnter=function(o){var s=this,i=this.props.enter,a=this.context?this.context.isMounting:o,l=this.props.nodeRef?[a]:[mu.findDOMNode(this),a],c=l[0],f=l[1],u=this.getTimeouts(),d=a?u.appear:u.enter;if(!o&&!i||o$.disabled){this.safeSetState({status:ul},function(){s.props.onEntered(c)});return}this.props.onEnter(c,f),this.safeSetState({status:Yi},function(){s.props.onEntering(c,f),s.onTransitionEnd(d,function(){s.safeSetState({status:ul},function(){s.props.onEntered(c,f)})})})},n.performExit=function(){var o=this,s=this.props.exit,i=this.getTimeouts(),a=this.props.nodeRef?void 0:mu.findDOMNode(this);if(!s||o$.disabled){this.safeSetState({status:qi},function(){o.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:ny},function(){o.props.onExiting(a),o.onTransitionEnd(i.exit,function(){o.safeSetState({status:qi},function(){o.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(o,s){s=this.setNextCallback(s),this.setState(o,s)},n.setNextCallback=function(o){var s=this,i=!0;return this.nextCallback=function(a){i&&(i=!1,s.nextCallback=null,o(a))},this.nextCallback.cancel=function(){i=!1},this.nextCallback},n.onTransitionEnd=function(o,s){this.setNextCallback(s);var i=this.props.nodeRef?this.props.nodeRef.current:mu.findDOMNode(this),a=o==null&&!this.props.addEndListener;if(!i||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[i,this.nextCallback],c=l[0],f=l[1];this.props.addEndListener(c,f)}o!=null&&setTimeout(this.nextCallback,o)},n.render=function(){var o=this.state.status;if(o===bu)return null;var s=this.props,i=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=j4(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return wo.createElement(kp.Provider,{value:null},typeof i=="function"?i(o,a):wo.cloneElement(wo.Children.only(i),a))},t}(wo.Component);Ts.contextType=kp;Ts.propTypes={};function il(){}Ts.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:il,onEntering:il,onEntered:il,onExit:il,onExiting:il,onExited:il};Ts.UNMOUNTED=bu;Ts.EXITED=qi;Ts.ENTERING=Yi;Ts.ENTERED=ul;Ts.EXITING=ny;function She(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kw(e,t){var n=function(s){return t&&O.isValidElement(s)?t(s):s},r=Object.create(null);return e&&O.Children.map(e,function(o){return o}).forEach(function(o){r[o.key]=n(o)}),r}function _he(e,t){e=e||{},t=t||{};function n(f){return f in t?t[f]:e[f]}var r=Object.create(null),o=[];for(var s in e)s in t?o.length&&(r[s]=o,o=[]):o.push(s);var i,a={};for(var l in t){if(r[l])for(i=0;i<r[l].length;i++){var c=r[l][i];a[r[l][i]]=n(c)}a[l]=n(l)}for(i=0;i<o.length;i++)a[o[i]]=n(o[i]);return a}function ra(e,t,n){return n[t]!=null?n[t]:e.props[t]}function $he(e,t){return Kw(e.children,function(n){return O.cloneElement(n,{onExited:t.bind(null,n),in:!0,appear:ra(n,"appear",e),enter:ra(n,"enter",e),exit:ra(n,"exit",e)})})}function Ahe(e,t,n){var r=Kw(e.children),o=_he(t,r);return Object.keys(o).forEach(function(s){var i=o[s];if(O.isValidElement(i)){var a=s in t,l=s in r,c=t[s],f=O.isValidElement(c)&&!c.props.in;l&&(!a||f)?o[s]=O.cloneElement(i,{onExited:n.bind(null,i),in:!0,exit:ra(i,"exit",e),enter:ra(i,"enter",e)}):!l&&a&&!f?o[s]=O.cloneElement(i,{in:!1}):l&&a&&O.isValidElement(c)&&(o[s]=O.cloneElement(i,{onExited:n.bind(null,i),in:c.props.in,exit:ra(i,"exit",e),enter:ra(i,"enter",e)}))}}),o}var The=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},Che={component:"div",childFactory:function(t){return t}},Jw=function(e){Yk(t,e);function t(r,o){var s;s=e.call(this,r,o)||this;var i=s.handleExited.bind(She(s));return s.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},s}var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(o,s){var i=s.children,a=s.handleExited,l=s.firstRender;return{children:l?$he(o,a):Ahe(o,i,a),firstRender:!1}},n.handleExited=function(o,s){var i=Kw(this.props.children);o.key in i||(o.props.onExited&&o.props.onExited(s),this.mounted&&this.setState(function(a){var l=Ng({},a.children);return delete l[o.key],{children:l}}))},n.render=function(){var o=this.props,s=o.component,i=o.childFactory,a=j4(o,["component","childFactory"]),l=this.state.contextValue,c=The(this.state.children).map(i);return delete a.appear,delete a.enter,delete a.exit,s===null?wo.createElement(kp.Provider,{value:l},c):wo.createElement(kp.Provider,{value:l},wo.createElement(s,a,c))},t}(wo.Component);Jw.propTypes={};Jw.defaultProps=Che;const s$={left:"translateX(-100%)",right:"translateX(100%)","top-center":"translateY(-100%)","bottom-center":"translateY(100%)"},Phe={left:"translateX(0)",right:"translateX(0)","top-center":"translateY(0)","bottom-center":"translateY(0)"};function khe({state:e,maxHeight:t,position:n,transitionDuration:r}){const[o,s]=n.split("-"),i=s==="center"?`${o}-center`:s,a={opacity:0,maxHeight:t,transform:s$[i],transitionDuration:`${r}ms, ${r}ms, ${r}ms`,transitionTimingFunction:"cubic-bezier(.51,.3,0,1.21), cubic-bezier(.51,.3,0,1.21), linear",transitionProperty:"opacity, transform, max-height"},l={opacity:1,transform:Phe[i]},c={opacity:0,maxHeight:0,transform:s$[i]};return{...a,...{entering:l,entered:l,exiting:c,exited:c}[e]}}function Rhe(e,t){return typeof t=="number"?t:t===!1||e===!1?!1:e}const Zk=O.forwardRef(({data:e,onHide:t,autoClose:n,...r},o)=>{const{autoClose:s,message:i,...a}=e,l=Rhe(n,e.autoClose),c=O.useRef(),f=()=>window.clearTimeout(c.current),u=()=>{t(e.id),f()},d=()=>{typeof l=="number"&&(c.current=window.setTimeout(u,l))};return O.useEffect(()=>{var h;(h=e.onOpen)==null||h.call(e,e)},[]),O.useEffect(()=>(d(),f),[l]),F.jsx(Z2,{...r,...a,onClose:u,ref:o,onMouseEnter:f,onMouseLeave:d,children:i})});Zk.displayName="@mantine/notifications/NotificationContainer";var Qk={root:"m_b37d9ac7",notification:"m_5ed0edd0"};const Nhe=Ts,Ohe={position:"bottom-right",autoClose:4e3,transitionDuration:250,containerWidth:440,notificationMaxHeight:200,limit:5,zIndex:t2("overlay"),store:Aa,withinPortal:!0},Mhe=(e,{zIndex:t,position:n,containerWidth:r})=>{const[o,s]=n.split("-");return{root:{"--notifications-z-index":t==null?void 0:t.toString(),"--notifications-top":o==="top"?"var(--mantine-spacing-md)":void 0,"--notifications-bottom":o==="bottom"?"var(--mantine-spacing-md)":void 0,"--notifications-left":s==="left"?"var(--mantine-spacing-md)":s==="center"?"50%":void 0,"--notifications-right":s==="right"?"var(--mantine-spacing-md)":void 0,"--notifications-transform":s==="center"?"translateX(-50%)":void 0,"--notifications-container-width":fe(r)}}},Cs=gt((e,t)=>{const n=tt("Notifications",Ohe,e),{classNames:r,className:o,style:s,styles:i,unstyled:a,vars:l,position:c,autoClose:f,transitionDuration:u,containerWidth:d,notificationMaxHeight:h,limit:m,zIndex:p,store:g,portalProps:v,withinPortal:y,...w}=n,b=Yo(),E=ghe(g),S=IL(),$=NT(),A=O.useRef({}),G=O.useRef(0),H=(b.respectReducedMotion?$:!1)?1:u,te=Nt({name:"Notifications",classes:Qk,props:n,className:o,style:s,classNames:r,styles:i,unstyled:a,vars:l,varsResolver:Mhe});O.useEffect(()=>{g==null||g.updateState(j=>({...j,limit:m||5}))},[m]),ma(()=>{E.notifications.length>G.current&&setTimeout(()=>S(),0),G.current=E.notifications.length},[E.notifications]);const pe=E.notifications.map(({style:j,...de})=>F.jsx(Nhe,{timeout:H,onEnter:()=>A.current[de.id].offsetHeight,nodeRef:{current:A.current[de.id]},children:ee=>F.jsx(Zk,{ref:we=>{A.current[de.id]=we},data:de,onHide:we=>qk(we,g),autoClose:f,...te("notification",{style:{...khe({state:ee,position:c,transitionDuration:H,maxHeight:h}),...j}})})},de.id));return F.jsx(E2,{withinPortal:y,...v,children:F.jsx(at,{...te("root"),ref:t,...w,children:F.jsx(Jw,{children:pe})})})});Cs.classes=Qk;Cs.displayName="@mantine/notifications/Notifications";Cs.show=Ta.show;Cs.hide=Ta.hide;Cs.update=Ta.update;Cs.clean=Ta.clean;Cs.cleanQueue=Ta.cleanQueue;Cs.updateState=Ta.updateState;const Lhe={},i$=500;function Dhe(){const e=O.useRef(null),t=ls(Mg),n=O.useCallback(()=>{try{const s=P_($h.get()),i=P_(Ah.get()),a=D_(s,i$,-Math.PI/4),l=D_(i,i$,Math.PI/4);let c=[];fp.get()===aa.NONE?c=kce(a,l):c=Pce(a,l),console.log("res",c),hhe(c,e.current),Lg.set(c)}catch(s){throw Ta.show({title:"Something went wrong",message:"Try refreshing the page",color:"red"}),s}},[]),r=O.useMemo(()=>F.jsx("div",{id:"viewer",style:{width:800,height:500,backgroundColor:"green",display:"none"}}),[]),o=O.useMemo(()=>F.jsx("div",{id:"segmentation",style:{padding:3,backgroundColor:"darkgrey",display:"none"}}),[]);return O.useEffect(()=>{k9(()=>{Mg.set(!0)})},[]),F.jsxs(FT,{theme:Lhe,children:[F.jsx(Cs,{}),F.jsxs(So,{padding:"md",navbar:{width:200,breakpoint:"sm"},children:[F.jsx(So.Navbar,{p:"xs",children:F.jsx(rc,{h:"100%",children:F.jsx(Nce,{onGenerate:n})})}),F.jsxs(So.Main,{children:[!t&&F.jsxs($2,{children:[F.jsx(ac,{size:"sm"}),F.jsx(C2,{children:"Please wait, opencv is loading..."})]}),r,o]})]})]})}kv.createRoot(document.getElementById("root")).render(F.jsx(Dhe,{}));
